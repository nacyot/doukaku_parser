
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja"> 
  <head>

<script type="text/javascript" src="/static/js/analytics.js" ></script>
<link type="text/css" rel="stylesheet" href="/static/css/banner-styles.css"/>




    <meta http-equiv="Content-type" content="text/html; charset=UTF-8" />
    <title>
指定された日の存在する週
どう書く？org </title>

    <link rel="stylesheet" type="text/css"
	href="/web/20090620083848cs_/http://ja.doukaku.org/static/style/reset-fonts-grids.css" />
    <link rel="stylesheet" type="text/css"
	href="/web/20090620083848cs_/http://ja.doukaku.org/static/style/style.css?20071211?20071207" />
	
    <link rel="stylesheet" type="text/css"
	href="/web/20090620083848cs_/http://ja.doukaku.org/static/style/pygments.css" />


	
    <!--<script src="/web/20090620083848/http://ja.doukaku.org/static/js/ieerbug/ieerbug.js" type="text/javascript"></script>-->


<!--<script src="/web/20090620083848/http://ja.doukaku.org/static/js/ieerbug/ieerbug.js" type="text/javascript"></script>-->
<script src="/web/20090620083848js_/http://ja.doukaku.org/static/js/jquery-1.1.3.1.js" type="text/javascript"></script>
<script src="/web/20090620083848js_/http://ja.doukaku.org/static/js/rating.js" type="text/javascript"></script>
<script src="/web/20090620083848js_/http://ja.doukaku.org/static/js/addtag.js?20071129" type="text/javascript"></script>

<script type="text/javascript">
is_key_navigation_enable = true;
</script>
<script src="/web/20090620083848js_/http://ja.doukaku.org/static/js/utils.js?~~~" type="text/javascript"></script>

</head>


<body id="doukaku_org">
<!-- BEGIN WAYBACK TOOLBAR INSERT -->
<script> if (window.archive_analytics) { window.archive_analytics.values['server_name']="wwwb-app1.us.archive.org";}; </script>

<script type="text/javascript" src="/static/js/disclaim-element.js" ></script>
<script type="text/javascript" src="/static/js/graph-calc.js" ></script>
<script type="text/javascript" src="/static/jflot/jquery.min.js" ></script>
<script type="text/javascript">
//<![CDATA[
var firstDate = 820454400000;
var lastDate = 1388534399999;
var wbPrefix = "/web/";
var wbCurrentUrl = "http:\/\/ja.doukaku.org\/12\/nested\/";

var curYear = -1;
var curMonth = -1;
var yearCount = 18;
var firstYear = 1996;
var imgWidth = 450;
var yearImgWidth = 25;
var monthImgWidth = 2;
var trackerVal = "none";
var displayDay = "20";
var displayMonth = "Jun";
var displayYear = "2009";
var prettyMonths = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];

function showTrackers(val) {
	if(val == trackerVal) {
		return;
	}
	if(val == "inline") {
		document.getElementById("displayYearEl").style.color = "#ec008c";
		document.getElementById("displayMonthEl").style.color = "#ec008c";
		document.getElementById("displayDayEl").style.color = "#ec008c";		
	} else {
		document.getElementById("displayYearEl").innerHTML = displayYear;
		document.getElementById("displayYearEl").style.color = "#ff0";
		document.getElementById("displayMonthEl").innerHTML = displayMonth;
		document.getElementById("displayMonthEl").style.color = "#ff0";
		document.getElementById("displayDayEl").innerHTML = displayDay;
		document.getElementById("displayDayEl").style.color = "#ff0";
	}
   document.getElementById("wbMouseTrackYearImg").style.display = val;
   document.getElementById("wbMouseTrackMonthImg").style.display = val;
   trackerVal = val;
}
function getElementX2(obj) {
	var thing = jQuery(obj);
	if((thing == undefined) 
			|| (typeof thing == "undefined") 
			|| (typeof thing.offset == "undefined")) {
		return getElementX(obj);
	}
	return Math.round(thing.offset().left);
}
function trackMouseMove(event,element) {

   var eventX = getEventX(event);
   var elementX = getElementX2(element);
   var xOff = eventX - elementX;
	if(xOff < 0) {
		xOff = 0;
	} else if(xOff > imgWidth) {
		xOff = imgWidth;
	}
   var monthOff = xOff % yearImgWidth;

   var year = Math.floor(xOff / yearImgWidth);
	var yearStart = year * yearImgWidth;
   var monthOfYear = Math.floor(monthOff / monthImgWidth);
   if(monthOfYear > 11) {
       monthOfYear = 11;
   }
   // 1 extra border pixel at the left edge of the year:
   var month = (year * 12) + monthOfYear;
   var day = 1;
	if(monthOff % 2 == 1) {
		day = 15;
	}
	var dateString = 
		zeroPad(year + firstYear) + 
		zeroPad(monthOfYear+1,2) +
		zeroPad(day,2) + "000000";

	var monthString = prettyMonths[monthOfYear];
	document.getElementById("displayYearEl").innerHTML = year + 1996;
	document.getElementById("displayMonthEl").innerHTML = monthString;
	// looks too jarring when it changes..
	//document.getElementById("displayDayEl").innerHTML = zeroPad(day,2);

	var url = wbPrefix + dateString + '/' +  wbCurrentUrl;
	document.getElementById('wm-graph-anchor').href = url;

   //document.getElementById("wmtbURL").value="evX("+eventX+") elX("+elementX+") xO("+xOff+") y("+year+") m("+month+") monthOff("+monthOff+") DS("+dateString+") Moy("+monthOfYear+") ms("+monthString+")";
   if(curYear != year) {
       var yrOff = year * yearImgWidth;
       document.getElementById("wbMouseTrackYearImg").style.left = yrOff + "px";
       curYear = year;
   }
   if(curMonth != month) {
       var mtOff = year + (month * monthImgWidth) + 1;
       document.getElementById("wbMouseTrackMonthImg").style.left = mtOff + "px";
       curMonth = month;
   }
}
//]]>
</script>

<style type="text/css">body{margin-top:0!important;padding-top:0!important;min-width:800px!important;}#wm-ipp a:hover{text-decoration:underline!important;}</style>
<div id="wm-ipp" lang="en" class="__wb_banner_div" style="display:none; position:relative;padding:0 5px;min-height:70px;min-width:800px">


<div id="wm-ipp-inside" class="__wb_banner_div" style="position:fixed;padding:0!important;margin:0!important;width:97%;min-width:780px;border:5px solid #000;border-top:none;background-image:url(/static/images/toolbar/wm_tb_bk_trns.png);text-align:center;-moz-box-shadow:1px 1px 3px #333;-webkit-box-shadow:1px 1px 3px #333;box-shadow:1px 1px 3px #333;font-size:11px!important;font-family:'Lucida Grande','Arial',sans-serif!important;">
   <table style="border-collapse:collapse;margin:0;padding:0;width:100%;"><tbody><tr>
   <td style="padding:10px;vertical-align:top;min-width:110px;">
   <a href="/web/" title="Wayback Machine home page" style="background-color:transparent;border:none;"><img src="/static/images/toolbar/wayback-toolbar-logo.png" alt="Wayback Machine" width="110" height="39" border="0"/></a>
   </td>
   <td style="padding:0!important;text-align:center;vertical-align:top;width:100%;">

       <table style="border-collapse:collapse;margin:0 auto;padding:0;width:570px;"><tbody><tr>
       <td style="padding:3px 0;" colspan="2">
       <form target="_top" method="get" action="/web/form-submit.jsp" name="wmtb" id="wmtb" style="margin:0!important;padding:0!important;"><input type="text" name="url" id="wmtbURL" value="http://ja.doukaku.org/12/nested/" style="width:400px;font-size:11px;font-family:'Lucida Grande','Arial',sans-serif;" onfocus="javascript:this.focus();this.select();" /><input type="hidden" name="type" value="replay" /><input type="hidden" name="date" value="20090620083848" /><input type="submit" value="Go" style="font-size:11px;font-family:'Lucida Grande','Arial',sans-serif;margin-left:5px;width: inherit !important" /><span id="wm_tb_options" style="display:block;"></span></form>
       </td>
       <td style="vertical-align:bottom;padding:5px 0 0 0!important;" rowspan="2">
           <table style="border-collapse:collapse;width:110px;color:#99a;font-family:'Helvetica','Lucida Grande','Arial',sans-serif;"><tbody>
			
           <!-- NEXT/PREV MONTH NAV AND MONTH INDICATOR -->
           <tr style="width:110px;height:16px;font-size:10px!important;">
           	<td style="padding-right:9px;font-size:11px!important;font-weight:bold;text-transform:uppercase;text-align:right;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
		                <a href="/web/20070711195256/http://ja.doukaku.org/12/nested/" style="text-decoration:none;color:#33f;font-weight:bold;background-color:transparent;border:none;" title="11 Jul 2007"><strong>JUL</strong></a>
		                
               </td>
               <td id="displayMonthEl" style="background:#000;color:#ff0;font-size:11px!important;font-weight:bold;text-transform:uppercase;width:34px;height:15px;padding-top:1px;text-align:center;" title="You are here: 8:38:48 Jun 20, 2009">JUN</td>
				<td style="padding-left:9px;font-size:11px!important;font-weight:bold;text-transform:uppercase;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       Jul
                       
               </td>
           </tr>

           <!-- NEXT/PREV CAPTURE NAV AND DAY OF MONTH INDICATOR -->
           <tr>
               <td style="padding-right:9px;white-space:nowrap;overflow:visible;text-align:right!important;vertical-align:middle!important;" nowrap="nowrap">
               
		                <a href="/web/20070711195256/http://ja.doukaku.org/12/nested/" title="19:52:56 Jul 11, 2007" style="background-color:transparent;border:none;"><img src="/static/images/toolbar/wm_tb_prv_on.png" alt="Previous capture" width="14" height="16" border="0" /></a>
		                
               </td>
               <td id="displayDayEl" style="background:#000;color:#ff0;width:34px;height:24px;padding:2px 0 0 0;text-align:center;font-size:24px;font-weight: bold;" title="You are here: 8:38:48 Jun 20, 2009">20</td>
				<td style="padding-left:9px;white-space:nowrap;overflow:visible;text-align:left!important;vertical-align:middle!important;" nowrap="nowrap">
               
                       <img src="/static/images/toolbar/wm_tb_nxt_off.png" alt="Next capture" width="14" height="16" border="0"/>
                       
			    </td>
           </tr>

           <!-- NEXT/PREV YEAR NAV AND YEAR INDICATOR -->
           <tr style="width:110px;height:13px;font-size:9px!important;">
				<td style="padding-right:9px;font-size:11px!important;font-weight: bold;text-align:right;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
		                <a href="/web/20070711195256/http://ja.doukaku.org/12/nested/" style="text-decoration:none;color:#33f;font-weight:bold;background-color:transparent;border:none;" title="11 Jul 2007"><strong>2007</strong></a>
		                
               </td>
               <td id="displayYearEl" style="background:#000;color:#ff0;font-size:11px!important;font-weight: bold;padding-top:1px;width:34px;height:13px;text-align:center;" title="You are here: 8:38:48 Jun 20, 2009">2009</td>
				<td style="padding-left:9px;font-size:11px!important;font-weight: bold;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       2010
                       
				</td>
           </tr>
           </tbody></table>
       </td>

       </tr>
       <tr>
       <td style="vertical-align:middle;padding:0!important;">
           <a href="/web/20090620083848*/http://ja.doukaku.org/12/nested/" style="color:#33f;font-size:11px;font-weight:bold;background-color:transparent;border:none;" title="See a list of every capture for this URL"><strong>4 captures</strong></a>
           <div class="__wb_banner_div" style="margin:0!important;padding:0!important;color:#666;font-size:9px;padding-top:2px!important;white-space:nowrap;" title="Timespan for captures of this URL">13 May 07 - 20 Jun 09</div>
       </td>
       <td style="padding:0!important;">
       <a style="position:relative; white-space:nowrap; width:450px;height:27px;" href="" id="wm-graph-anchor">
       <div class="__wb_banner_div" id="wm-ipp-sparkline" style="position:relative; white-space:nowrap; width:450px;height:27px;background-color:#fff;cursor:pointer;border-right:1px solid #ccc;" title="Explore captures for this URL">
			<img id="sparklineImgId" style="position:absolute; z-index:9012; top:0px; left:0px;"
				onmouseover="showTrackers('inline');" 
				onmouseout="showTrackers('none');"
				onmousemove="trackMouseMove(event,this)"
				alt="sparklines"
				width="450"
				height="27"
				border="0"
				src="/web/jsp/graph.jsp?graphdata=450_27_1996:-1:000000000000_1997:-1:000000000000_1998:-1:000000000000_1999:-1:000000000000_2000:-1:000000000000_2001:-1:000000000000_2002:-1:000000000000_2003:-1:000000000000_2004:-1:000000000000_2005:-1:000000000000_2006:-1:000000000000_2007:-1:000010100000_2008:-1:000000000000_2009:5:000002000000_2010:-1:000000000000_2011:-1:000000000000_2012:-1:000000000000_2013:-1:000000000000"></img>
			<img id="wbMouseTrackYearImg" 
				style="display:none; position:absolute; z-index:9010;"
				width="25" 
				height="27"
				border="0"
				src="/static/images/toolbar/transp-yellow-pixel.png"></img>
			<img id="wbMouseTrackMonthImg"
				style="display:none; position:absolute; z-index:9011; " 
				width="2"
				height="27" 
				border="0"
				src="/static/images/toolbar/transp-red-pixel.png"></img>
       </div>
		</a>

       </td>
       </tr></tbody></table>
   </td>
   <td style="text-align:right;padding:5px;width:65px;font-size:11px!important;">
       <a href="javascript:;" onclick="document.getElementById('wm-ipp').style.display='none';" style="display:block;padding-right:18px;background:url(/static/images/toolbar/wm_tb_close.png) no-repeat 100% 0;color:#33f;font-family:'Lucida Grande','Arial',sans-serif;margin-bottom:23px;background-color:transparent;border:none;" title="Close the toolbar">Close</a>
       <a href="http://faq.web.archive.org/" style="display:block;padding-right:18px;background:url(/static/images/toolbar/wm_tb_help.png) no-repeat 100% 0;color:#33f;font-family:'Lucida Grande','Arial',sans-serif;background-color:transparent;border:none;" title="Get some help using the Wayback Machine">Help</a>
   </td>
   </tr></tbody></table>

</div>
</div>
<script type="text/javascript">
 var wmDisclaimBanner = document.getElementById("wm-ipp");
 if(wmDisclaimBanner != null) {
   disclaimElement(wmDisclaimBanner);
 }
</script>
<!-- END WAYBACK TOOLBAR INSERT -->


<div id="page_head" class="compact">
  <h1 class="compact">
    <a href="/web/20090620083848/http://ja.doukaku.org/">どう書く？org</a><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/beta.png" alt="beta">
  </h1>
</div>

<div id="page_body" class="compact">
<div id="content" class="compact">




<h2 class="compact">
<img src='/web/20090620083848im_/http://ja.doukaku.org/static/image/star_gold.png' alt=お題(出題済み)>
<a href="/web/20090620083848/http://ja.doukaku.org/12/">指定された日の存在する週</a>
</h2>

    





<div class="comment" id="comment3368">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/1/" target="_top">にしお</a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/3368/">#3368</a>(<script language="JavaScript">print_time(new Date("2007/07/06 08:46 GMT"));</script><noscript>2007/07/06 08:46 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  年、月、日を入力すると、指定された日の存在する週の月曜日から金曜日までを出力するコードを書いてください。
<p>
週が月や年をまたぐケースが正しく動いているかに気をつけて投稿してください。
<p>
このお題は匿名での投稿をもとに作成しました。ご投稿ありがとうございます。


	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/3368/addtag/" class="addtag" id="addtag_3368">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3368"
  >-</span><span
  class="button yellow"
  id="rating_z_3368"
  >0</span><span 
  class="button green"
  id="rating_p_3368"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/3368/">
  返信
  </a>]
  </div>
</div>
</div>




  



<div class="indent">
<a href="/web/20090620083848/http://ja.doukaku.org/12/post_comment/">
投稿する
</a>
</div>


<h2>投稿されたコメント - ネスト表示</h2>
<a href="/web/20090620083848/http://ja.doukaku.org/12/flatten/">フラット表示</a> 
<a href="/web/20090620083848/http://ja.doukaku.org/12/">非表示</a> 


  
    





<div class="comment" id="comment244">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/244/">#244</a>(<script language="JavaScript">print_time(new Date("2007/07/06 10:24 GMT"));</script><noscript>2007/07/06 10:24 GMT</noscript>)
	
	
	
	[<a href="/web/20090620083848/http://ja.doukaku.org/lang/scheme/">
	  Scheme
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>Scheme(Gauche)</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37</pre></td><td class="code"><div class="highlight"><pre><span class="p">(</span><span class="nf">use</span> <span class="nv">srfi-1</span><span class="p">)</span>
<span class="p">(</span><span class="nf">use</span> <span class="nv">srfi-19</span><span class="p">)</span>
<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">week-days</span> <span class="nv">year</span> <span class="nv">month</span> <span class="nv">day</span><span class="p">)</span>
  <span class="p">(</span><span class="k">let* </span><span class="p">((</span><span class="nf">now</span> <span class="p">(</span><span class="nf">make-date</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="nv">day</span> <span class="nv">month</span> <span class="nv">year</span>
                         <span class="p">(</span><span class="nf">date-zone-offset</span> <span class="p">(</span><span class="nf">current-date</span><span class="p">))))</span>
         <span class="p">(</span><span class="nf">start</span> <span class="p">(</span><span class="nb">- </span><span class="p">(</span><span class="nf">date-&gt;modified-julian-day</span> <span class="nv">now</span><span class="p">)</span> <span class="p">(</span><span class="nf">date-week-day</span> <span class="nv">now</span><span class="p">)</span> <span class="mi">-1</span><span class="p">)))</span>
    <span class="p">(</span><span class="nb">map </span><span class="p">(</span><span class="k">lambda </span><span class="p">(</span><span class="nf">x</span><span class="p">)</span>
           <span class="p">(</span><span class="k">let* </span><span class="p">((</span><span class="nf">date</span> <span class="p">(</span><span class="nf">modified-julian-day-&gt;date</span> <span class="p">(</span><span class="nb">+ </span><span class="nv">start</span> <span class="nv">x</span><span class="p">)))</span>
                  <span class="p">(</span><span class="nf">dow</span> <span class="p">(</span><span class="nb">list-ref </span><span class="o">&#39;</span><span class="p">(</span><span class="s">&quot;日&quot;&quot;月&quot;&quot;火&quot;&quot;水&quot;&quot;木&quot;&quot;金&quot;&quot;土&quot;</span><span class="p">)</span>
                                 <span class="p">(</span><span class="nf">date-week-day</span> <span class="nv">date</span><span class="p">)))</span>
                  <span class="p">(</span><span class="nf">fmt</span> <span class="p">(</span><span class="nf">date-&gt;string</span> <span class="p">(</span><span class="nf">modified-julian-day-&gt;date</span> <span class="p">(</span><span class="nb">+ </span><span class="nv">start</span> <span class="nv">x</span><span class="p">))</span>
                                     <span class="o">#`</span><span class="s">&quot;~1(,dow)&quot;</span><span class="p">)))</span>
             <span class="nv">fmt</span><span class="p">))</span>
         <span class="p">(</span><span class="nf">iota</span> <span class="mi">5</span><span class="p">))))</span>


<span class="c1">;; 出力例</span>
<span class="nv">gosh&gt;</span> <span class="p">(</span><span class="nb">for-each </span><span class="nv">print</span> <span class="p">(</span><span class="nf">week-days</span> <span class="mi">2007</span> <span class="mi">7</span> <span class="mi">6</span><span class="p">))</span>
<span class="mi">2007-07-02</span><span class="p">(</span><span class="err">月</span><span class="p">)</span>
<span class="mi">2007-07-03</span><span class="p">(</span><span class="err">火</span><span class="p">)</span>
<span class="mi">2007-07-04</span><span class="p">(</span><span class="err">水</span><span class="p">)</span>
<span class="mi">2007-07-05</span><span class="p">(</span><span class="err">木</span><span class="p">)</span>
<span class="mi">2007-07-06</span><span class="p">(</span><span class="err">金</span><span class="p">)</span>

<span class="nv">gosh&gt;</span> <span class="p">(</span><span class="nb">for-each </span><span class="nv">print</span> <span class="p">(</span><span class="nf">week-days</span> <span class="mi">2007</span> <span class="mi">7</span> <span class="mi">31</span><span class="p">))</span>
<span class="mi">2007-07-30</span><span class="p">(</span><span class="err">月</span><span class="p">)</span>
<span class="mi">2007-07-31</span><span class="p">(</span><span class="err">火</span><span class="p">)</span>
<span class="mi">2007-08-01</span><span class="p">(</span><span class="err">水</span><span class="p">)</span>
<span class="mi">2007-08-02</span><span class="p">(</span><span class="err">木</span><span class="p">)</span>
<span class="mi">2007-08-03</span><span class="p">(</span><span class="err">金</span><span class="p">)</span>

<span class="nv">gosh&gt;</span> <span class="p">(</span><span class="nb">for-each </span><span class="nv">print</span> <span class="p">(</span><span class="nf">week-days</span> <span class="mi">2007</span> <span class="mi">12</span> <span class="mi">31</span><span class="p">))</span>
<span class="mi">2007-12-31</span><span class="p">(</span><span class="err">月</span><span class="p">)</span>
<span class="mi">2008-01-01</span><span class="p">(</span><span class="err">火</span><span class="p">)</span>
<span class="mi">2008-01-02</span><span class="p">(</span><span class="err">水</span><span class="p">)</span>
<span class="mi">2008-01-03</span><span class="p">(</span><span class="err">木</span><span class="p">)</span>
<span class="mi">2008-01-04</span><span class="p">(</span><span class="err">金</span><span class="p">)</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/244/addtag/" class="addtag" id="addtag_244">タグ</a>:
	
    
    <a href="/web/20090620083848/http://ja.doukaku.org/tag/gauche/">gauche</a>
    
	&nbsp;

	
      [<a href="/web/20090620083848/http://ja.doukaku.org/lang/scheme/">
		Scheme
      </a>]
	  
      [<a href="/web/20090620083848/http://ja.doukaku.org/comment/244/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090620083848/http://ja.doukaku.org/comment/244/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_244"
  >-</span><span
  class="button yellow"
  id="rating_z_244"
  >0</span><span 
  class="button green"
  id="rating_p_244"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/244/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment249">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/88/" target="_top">sumim</a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/249/">#249</a>(<script language="JavaScript">print_time(new Date("2007/07/06 10:44 GMT"));</script><noscript>2007/07/06 10:44 GMT</noscript>)
	
	
	
	[<a href="/web/20090620083848/http://ja.doukaku.org/lang/smalltalk/">
	  Smalltalk
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'></pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2</pre></td><td class="code"><div class="highlight"><pre>Week startDay: #Monday.
&#39;7-6-2007&#39; asDate asWeek dates
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/249/addtag/" class="addtag" id="addtag_249">タグ</a>:
	
    
    <a href="/web/20090620083848/http://ja.doukaku.org/tag/Squeak_Smalltalk/">Squeak_Smalltalk</a>
    
	&nbsp;

	
      [<a href="/web/20090620083848/http://ja.doukaku.org/lang/smalltalk/">
		Smalltalk
      </a>]
	  
      [<a href="/web/20090620083848/http://ja.doukaku.org/comment/249/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090620083848/http://ja.doukaku.org/comment/249/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_249"
  >-</span><span
  class="button yellow"
  id="rating_z_249"
  >0</span><span 
  class="button green"
  id="rating_p_249"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/249/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment254">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/78/" target="_top">morchin</a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/254/">#254</a>(<script language="JavaScript">print_time(new Date("2007/07/06 11:37 GMT"));</script><noscript>2007/07/06 11:37 GMT</noscript>)
	
	
	
	[<a href="/web/20090620083848/http://ja.doukaku.org/lang/python/">
	  Python
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  Pythonのカレンダー関係のライブラリは他の言語より強力だと思われる。
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre></td><td class="code"><div class="highlight"><pre><span class="c"># cldr.py</span>
<span class="k">import</span> <span class="nn">calendar</span><span class="o">,</span> <span class="nn">sys</span>

<span class="n">y</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">d</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">])</span>

<span class="n">day</span> <span class="o">=</span> <span class="n">calendar</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
<span class="n">weeks</span> <span class="o">=</span> <span class="n">calendar</span><span class="o">.</span><span class="n">Calendar</span><span class="p">()</span><span class="o">.</span><span class="n">monthdatescalendar</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">m</span><span class="p">)</span>
<span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">weeks</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">day</span> <span class="ow">in</span> <span class="n">w</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">d</span><span class="p">,</span> <span class="n">wd</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">w</span><span class="p">[:</span><span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="s">&#39;Mon&#39;</span><span class="p">,</span> <span class="s">&#39;Tue&#39;</span><span class="p">,</span> <span class="s">&#39;Wed&#39;</span><span class="p">,</span> <span class="s">&#39;Thr&#39;</span><span class="p">,</span> <span class="s">&#39;Fri&#39;</span><span class="p">]):</span>
            <span class="k">print</span> <span class="s">&#39;</span><span class="si">%d</span><span class="s">-</span><span class="si">%02d</span><span class="s">-</span><span class="si">%02d</span><span class="s">(</span><span class="si">%s</span><span class="s">)&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="n">d</span><span class="o">.</span><span class="n">month</span><span class="p">,</span> <span class="n">d</span><span class="o">.</span><span class="n">day</span><span class="p">,</span> <span class="n">wd</span><span class="p">)</span>

<span class="c"># 出力例</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">python</span> <span class="n">cldr</span><span class="o">.</span><span class="n">py</span> <span class="mi">2007</span> <span class="mi">7</span> <span class="mi">31</span>
<span class="mi">2007</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mi">30</span><span class="p">(</span><span class="n">Mon</span><span class="p">)</span>
<span class="mi">2007</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mi">31</span><span class="p">(</span><span class="n">Tue</span><span class="p">)</span>
<span class="mi">2007</span><span class="o">-</span><span class="mo">08</span><span class="o">-</span><span class="mo">01</span><span class="p">(</span><span class="n">Wed</span><span class="p">)</span>
<span class="mi">2007</span><span class="o">-</span><span class="mo">08</span><span class="o">-</span><span class="mo">02</span><span class="p">(</span><span class="n">Thr</span><span class="p">)</span>
<span class="mi">2007</span><span class="o">-</span><span class="mo">08</span><span class="o">-</span><span class="mo">03</span><span class="p">(</span><span class="n">Fri</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">python</span> <span class="n">cldr</span><span class="o">.</span><span class="n">py</span> <span class="mi">12</span> <span class="mi">31</span>
<span class="mi">2007</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">31</span><span class="p">(</span><span class="n">Mon</span><span class="p">)</span>
<span class="mi">2008</span><span class="o">-</span><span class="mo">01</span><span class="o">-</span><span class="mo">01</span><span class="p">(</span><span class="n">Tue</span><span class="p">)</span>
<span class="mi">2008</span><span class="o">-</span><span class="mo">01</span><span class="o">-</span><span class="mo">02</span><span class="p">(</span><span class="n">Wed</span><span class="p">)</span>
<span class="mi">2008</span><span class="o">-</span><span class="mo">01</span><span class="o">-</span><span class="mo">03</span><span class="p">(</span><span class="n">Thr</span><span class="p">)</span>
<span class="mi">2008</span><span class="o">-</span><span class="mo">01</span><span class="o">-</span><span class="mo">04</span><span class="p">(</span><span class="n">Fri</span><span class="p">)</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/254/addtag/" class="addtag" id="addtag_254">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090620083848/http://ja.doukaku.org/lang/python/">
		Python
      </a>]
	  
      [<a href="/web/20090620083848/http://ja.doukaku.org/comment/254/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090620083848/http://ja.doukaku.org/comment/254/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_254"
  >-</span><span
  class="button yellow"
  id="rating_z_254"
  >0</span><span 
  class="button green"
  id="rating_p_254"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20090620083848/http://ja.doukaku.org/comment/254/">
    1
    reply
  </a>

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/254/">
  返信
  </a>]
  </div>
</div>
</div>




  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      





<div class="comment" id="comment256">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/78/" target="_top">morchin</a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/256/">#256</a>(<script language="JavaScript">print_time(new Date("2007/07/06 11:41 GMT"));</script><noscript>2007/07/06 11:41 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>21行目間違えた。
誤：&gt;&gt;&gt; python cldr.py 12 31
正：&gt;&gt;&gt; python cldr.py 2007 12 31
</pre>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/256/addtag/" class="addtag" id="addtag_256">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_256"
  >-</span><span
  class="button yellow"
  id="rating_z_256"
  >0</span><span 
  class="button green"
  id="rating_p_256"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20090620083848/http://ja.doukaku.org/comment/254/"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20090620083848/http://ja.doukaku.org/comment/256/root/"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/256/">
  返信
  </a>]
  </div>
</div>
</div>




  


    </div>
  


  

  

  
    





<div class="comment" id="comment275">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/124/" target="_top">tsekine</a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/275/">#275</a>(<script language="JavaScript">print_time(new Date("2007/07/06 16:02 GMT"));</script><noscript>2007/07/06 16:02 GMT</noscript>)
	
	
	
	[<a href="/web/20090620083848/http://ja.doukaku.org/lang/bash/">
	  Bash
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  GNU date じゃないと動かないです。

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></td><td class="code"><div class="highlight"><pre><span class="c"># $1: yyyy</span>
<span class="c"># $2: mm</span>
<span class="c"># $3: dd</span>
print_the_week <span class="o">()</span> <span class="o">{</span>
  <span class="nb">local</span> -r <span class="nv">src_date</span><span class="o">=</span><span class="s2">&quot;${1}-${2}-${3}&quot;</span>
  <span class="nb">local</span> -r <span class="nv">day_of_the_week</span><span class="o">=</span><span class="k">$(</span>date --date<span class="o">=</span><span class="s2">&quot;$src_date&quot;</span> +%w<span class="k">)</span>
  <span class="k">for</span> <span class="o">((</span><span class="nv">i</span> <span class="o">=</span> <span class="m">1</span> - <span class="nv">$day_of_the_week</span>; i &lt;<span class="o">=</span> <span class="m">5</span> - <span class="nv">$day_of_the_week</span>; i++<span class="o">))</span>; <span class="k">do</span>
<span class="k">    </span>date --date<span class="o">=</span><span class="s2">&quot;$src_date $i days&quot;</span> +<span class="s2">&quot;%Y-%m-%d&quot;</span>
  <span class="k">done</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/275/addtag/" class="addtag" id="addtag_275">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090620083848/http://ja.doukaku.org/lang/bash/">
		Bash
      </a>]
	  
      [<a href="/web/20090620083848/http://ja.doukaku.org/comment/275/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090620083848/http://ja.doukaku.org/comment/275/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_275"
  >-</span><span
  class="button yellow"
  id="rating_z_275"
  >0</span><span 
  class="button green"
  id="rating_p_275"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/275/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment278">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/147/" target="_top">es</a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/278/">#278</a>(<script language="JavaScript">print_time(new Date("2007/07/06 16:10 GMT"));</script><noscript>2007/07/06 16:10 GMT</noscript>)
	
	
	
	[<a href="/web/20090620083848/http://ja.doukaku.org/lang/ruby/">
	  Ruby
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  one linerで
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="highlight"><pre><span class="o">&gt;</span> <span class="n">ruby</span> <span class="o">-</span><span class="n">rdate</span> <span class="o">-</span><span class="n">e</span> <span class="s1">&#39;d=Date.new(2007, 7, 6); m=d-d.wday+1; (m..m+4).each{|wd| puts wd.strftime(&quot;%Y-%m-%d (%a)&quot;)}&#39;</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/278/addtag/" class="addtag" id="addtag_278">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090620083848/http://ja.doukaku.org/lang/ruby/">
		Ruby
      </a>]
	  
      [<a href="/web/20090620083848/http://ja.doukaku.org/comment/278/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090620083848/http://ja.doukaku.org/comment/278/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_278"
  >-</span><span
  class="button yellow"
  id="rating_z_278"
  >0</span><span 
  class="button green"
  id="rating_p_278"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/278/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment286">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/286/">#286</a>(<script language="JavaScript">print_time(new Date("2007/07/07 01:55 GMT"));</script><noscript>2007/07/07 01:55 GMT</noscript>)
	
	
	
	[<a href="/web/20090620083848/http://ja.doukaku.org/lang/java/">
	  Java
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  週の始まりが日曜日の場合と月曜日の場合を統一的に扱うところで少し工夫しました。
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></td><td class="code"><div class="highlight"><pre><span class="k">import</span> <span class="nn">java.util.Date</span><span class="o">;</span>
<span class="k">import</span> <span class="nn">java.text.SimpleDateFormat</span><span class="o">;</span>
<span class="k">import</span> <span class="nn">java.text.DateFormat</span><span class="o">;</span>
<span class="k">import</span> <span class="nn">java.util.Calendar</span><span class="o">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">Sample</span> <span class="o">{</span>
    <span class="k">public</span> <span class="k">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="k">throws</span> <span class="n">Exception</span> <span class="o">{</span>
        <span class="n">DateFormat</span> <span class="n">df</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SimpleDateFormat</span><span class="o">(</span><span class="s">&quot;yy/MM/dd&quot;</span><span class="o">);</span>
        <span class="n">Date</span> <span class="n">aDay</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="n">args</span><span class="o">[</span><span class="mi">0</span><span class="o">]+</span><span class="s">&quot;/&quot;</span><span class="o">+</span><span class="n">args</span><span class="o">[</span><span class="mi">1</span><span class="o">]+</span><span class="s">&quot;/&quot;</span><span class="o">+</span><span class="n">args</span><span class="o">[</span><span class="mi">2</span><span class="o">]);</span>
        <span class="n">Calendar</span> <span class="n">c</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="na">getCalendar</span><span class="o">();</span>
        <span class="n">c</span><span class="o">.</span><span class="na">setTime</span><span class="o">(</span><span class="n">aDay</span><span class="o">);</span>
<span class="c">//      c.setFirstDayOfWeek(c.MONDAY);</span>
        <span class="kt">int</span> <span class="n">offset</span> <span class="o">=</span> <span class="o">(</span><span class="n">c</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">c</span><span class="o">.</span><span class="na">DAY_OF_WEEK</span><span class="o">)</span> <span class="o">-</span> <span class="n">c</span><span class="o">.</span><span class="na">getFirstDayOfWeek</span><span class="o">()</span> <span class="o">+</span> <span class="mi">7</span><span class="o">)</span> <span class="o">%</span> <span class="mi">7</span><span class="o">;</span>
        <span class="n">c</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">c</span><span class="o">.</span><span class="na">DATE</span><span class="o">,</span> <span class="o">-</span><span class="n">offset</span> <span class="o">+</span> <span class="n">c</span><span class="o">.</span><span class="na">MONDAY</span> <span class="o">-</span> <span class="n">c</span><span class="o">.</span><span class="na">getFirstDayOfWeek</span><span class="o">());</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">df</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="n">c</span><span class="o">.</span><span class="na">getTime</span><span class="o">()));</span>
            <span class="n">c</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">c</span><span class="o">.</span><span class="na">DATE</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/286/addtag/" class="addtag" id="addtag_286">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090620083848/http://ja.doukaku.org/lang/java/">
		Java
      </a>]
	  
      [<a href="/web/20090620083848/http://ja.doukaku.org/comment/286/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090620083848/http://ja.doukaku.org/comment/286/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_286"
  >-</span><span
  class="button yellow"
  id="rating_z_286"
  >0</span><span 
  class="button green"
  id="rating_p_286"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/286/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment297">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/153/" target="_top">Mistfeal</a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/297/">#297</a>(<script language="JavaScript">print_time(new Date("2007/07/07 08:17 GMT"));</script><noscript>2007/07/07 08:17 GMT</noscript>)
	
	
	
	[<a href="/web/20090620083848/http://ja.doukaku.org/lang/php/">
	  PHP
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  日本語の曜日への変換は余計かも。
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></td><td class="code"><div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="k">function</span> <span class="nf">GetWeek</span><span class="p">(</span><span class="nv">$y</span><span class="p">,</span><span class="nv">$m</span><span class="p">,</span><span class="nv">$d</span><span class="p">)</span> <span class="p">{</span>
	<span class="nv">$w_ary</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s2">&quot;月&quot;</span><span class="p">,</span><span class="s2">&quot;火&quot;</span><span class="p">,</span><span class="s2">&quot;水&quot;</span><span class="p">,</span><span class="s2">&quot;木&quot;</span><span class="p">,</span><span class="s2">&quot;金&quot;</span><span class="p">);</span>
	<span class="nv">$ymd</span> <span class="o">=</span> <span class="nf">mktime</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="nv">$m</span><span class="p">,</span><span class="nv">$d</span><span class="p">,</span><span class="nv">$y</span><span class="p">);</span>
	<span class="nv">$w</span>   <span class="o">=</span> <span class="nf">date</span><span class="p">(</span><span class="s2">&quot;w&quot;</span><span class="p">,</span><span class="nv">$ymd</span><span class="p">);</span>
	<span class="nv">$s</span>   <span class="o">=</span> <span class="m">60</span> <span class="o">*</span> <span class="m">60</span> <span class="o">*</span> <span class="m">24</span><span class="p">;</span>
	<span class="nv">$sd</span>  <span class="o">=</span> <span class="nv">$ymd</span> <span class="o">+</span> <span class="p">((</span><span class="m">1</span> <span class="o">-</span> <span class="nv">$w</span><span class="p">)</span> <span class="o">*</span> <span class="nv">$s</span><span class="p">);</span>
	<span class="nv">$ed</span>  <span class="o">=</span> <span class="nv">$sd</span> <span class="o">+</span> <span class="p">(</span><span class="nv">$s</span> <span class="o">*</span> <span class="m">5</span><span class="p">);</span>
	<span class="nv">$j</span> <span class="o">=</span> <span class="m">0</span><span class="p">;</span>
	<span class="k">for</span> <span class="p">(</span> <span class="nv">$i</span> <span class="o">=</span> <span class="nv">$sd</span><span class="p">;</span> <span class="nv">$i</span> <span class="o">&lt;</span> <span class="nv">$ed</span><span class="p">;</span> <span class="nv">$i</span><span class="o">+=</span><span class="nv">$s</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">echo</span> <span class="nf">preg_replace</span><span class="p">(</span><span class="s2">&quot;/\([0-6]\)/&quot;</span><span class="p">,</span><span class="s2">&quot;(</span><span class="si">{</span><span class="nv">$w_ary</span><span class="p">[</span><span class="nv">$j</span><span class="p">]</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">,</span><span class="nf">date</span><span class="p">(</span><span class="s2">&quot;Y/m/d (w)&quot;</span><span class="p">,</span><span class="nv">$i</span><span class="p">))</span><span class="o">.</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
		<span class="nv">$j</span><span class="o">++</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">}</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/297/addtag/" class="addtag" id="addtag_297">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090620083848/http://ja.doukaku.org/lang/php/">
		PHP
      </a>]
	  
      [<a href="/web/20090620083848/http://ja.doukaku.org/comment/297/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090620083848/http://ja.doukaku.org/comment/297/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_297"
  >-</span><span
  class="button yellow"
  id="rating_z_297"
  >0</span><span 
  class="button green"
  id="rating_p_297"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/297/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment302">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/157/" target="_top">daisuke</a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/302/">#302</a>(<script language="JavaScript">print_time(new Date("2007/07/07 08:56 GMT"));</script><noscript>2007/07/07 08:56 GMT</noscript>)
	
	
	
	[<a href="/web/20090620083848/http://ja.doukaku.org/lang/ruby/">
	  Ruby
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  Ruby On Rails での拡張使って。
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">get_week</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="n">m</span><span class="p">,</span><span class="n">d</span><span class="p">)</span>
  <span class="n">target</span> <span class="o">=</span> <span class="no">Time</span><span class="o">.</span><span class="n">gm</span> <span class="n">y</span><span class="p">,</span><span class="n">m</span><span class="p">,</span><span class="n">d</span>
  <span class="mi">5</span><span class="o">.</span><span class="n">times</span> <span class="k">do</span> <span class="o">|</span><span class="n">i</span><span class="o">|</span>
    <span class="nb">p</span> <span class="n">i</span><span class="o">.</span><span class="n">days</span><span class="o">.</span><span class="n">from_now</span><span class="p">(</span><span class="n">target</span><span class="o">.</span><span class="n">beginning_of_week</span><span class="p">)</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y/%m/%d %A&#39;</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="c1">#example 2007,6,1</span>
<span class="o">&gt;&gt;</span> <span class="n">get_week</span> <span class="mi">2007</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">1</span>
<span class="s2">&quot;2007/05/28 Monday&quot;</span>
<span class="s2">&quot;2007/05/29 Tuesday&quot;</span>
<span class="s2">&quot;2007/05/30 Wednesday&quot;</span>
<span class="s2">&quot;2007/05/31 Thursday&quot;</span>
<span class="s2">&quot;2007/06/01 Friday&quot;</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/302/addtag/" class="addtag" id="addtag_302">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090620083848/http://ja.doukaku.org/lang/ruby/">
		Ruby
      </a>]
	  
      [<a href="/web/20090620083848/http://ja.doukaku.org/comment/302/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090620083848/http://ja.doukaku.org/comment/302/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_302"
  >-</span><span
  class="button yellow"
  id="rating_z_302"
  >0</span><span 
  class="button green"
  id="rating_p_302"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/302/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment342">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/342/">#342</a>(<script language="JavaScript">print_time(new Date("2007/07/08 08:04 GMT"));</script><noscript>2007/07/08 08:04 GMT</noscript>)
	
	
	
	[<a href="/web/20090620083848/http://ja.doukaku.org/lang/python/">
	  Python
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  「指定された日の存在する週」の定義が曖昧な気がする。とりあえず「週は月曜から始まり、日曜で終わる」という定義で組んでみた。
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></td><td class="code"><div class="highlight"><pre><span class="k">import</span> <span class="nn">sys</span><span class="o">,</span> <span class="nn">datetime</span>

<span class="k">def</span> <span class="nf">solve</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">month</span><span class="p">,</span> <span class="n">day</span><span class="p">):</span>
    <span class="n">date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">month</span><span class="p">,</span> <span class="n">day</span><span class="p">)</span>
    <span class="n">date</span> <span class="o">-=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="n">date</span><span class="o">.</span><span class="n">weekday</span><span class="p">())</span> <span class="c"># Monday</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
        <span class="k">print</span> <span class="n">date</span> <span class="o">+</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="n">i</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">:]]</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">3</span><span class="p">:</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;usage: year month day</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="n">solve</span><span class="p">(</span><span class="o">*</span><span class="n">a</span><span class="p">)</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/342/addtag/" class="addtag" id="addtag_342">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090620083848/http://ja.doukaku.org/lang/python/">
		Python
      </a>]
	  
      [<a href="/web/20090620083848/http://ja.doukaku.org/comment/342/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090620083848/http://ja.doukaku.org/comment/342/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_342"
  >-</span><span
  class="button yellow"
  id="rating_z_342"
  >0</span><span 
  class="button green"
  id="rating_p_342"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20090620083848/http://ja.doukaku.org/comment/342/">
    1
    reply
  </a>

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/342/">
  返信
  </a>]
  </div>
</div>
</div>




  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      





<div class="comment" id="comment439">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/1/" target="_top">にしお</a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/439/">#439</a>(<script language="JavaScript">print_time(new Date("2007/07/10 05:58 GMT"));</script><noscript>2007/07/10 05:58 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre>週が日曜始まりでも月曜始まりでも、
出力すべき結果は同じだと思ったのですが
ダメだったでしょうか？

# もちろん水曜日が週の始まりだったりするとダメですが…</pre>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/439/addtag/" class="addtag" id="addtag_439">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_439"
  >-</span><span
  class="button yellow"
  id="rating_z_439"
  >0</span><span 
  class="button green"
  id="rating_p_439"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20090620083848/http://ja.doukaku.org/comment/342/"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20090620083848/http://ja.doukaku.org/comment/439/root/"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  <a href="/web/20090620083848/http://ja.doukaku.org/comment/439/">
    1
    reply
  </a>

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/439/">
  返信
  </a>]
  </div>
</div>
</div>




  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      





<div class="comment" id="comment443">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/147/" target="_top">es</a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/443/">#443</a>(<script language="JavaScript">print_time(new Date("2007/07/10 06:48 GMT"));</script><noscript>2007/07/10 06:48 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>こんな感じでしょうか。

     July 2007
Su Mo Tu We Th Fr Sa
 1  2  3  4  5  6  7
 8  9 10 11 12 13 14

- 2007/7/8が指定された場合の出力

日曜が週のはじまり -&gt; 7/9-7/13
月曜が週のはじまり -&gt; 7/2-7/6</pre>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/443/addtag/" class="addtag" id="addtag_443">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_443"
  >-</span><span
  class="button yellow"
  id="rating_z_443"
  >0</span><span 
  class="button green"
  id="rating_p_443"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20090620083848/http://ja.doukaku.org/comment/439/"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20090620083848/http://ja.doukaku.org/comment/443/root/"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/443/">
  返信
  </a>]
  </div>
</div>
</div>




  


    </div>
  


    </div>
  


  

  
    





<div class="comment" id="comment356">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/53/" target="_top">kawauchik</a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/356/">#356</a>(<script language="JavaScript">print_time(new Date("2007/07/08 14:46 GMT"));</script><noscript>2007/07/08 14:46 GMT</noscript>)
	
	
	
	[<a href="/web/20090620083848/http://ja.doukaku.org/lang/cpp/">
	  C++
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  VC++/MFC。
標準出力に出力しても確認できないので、TRACE()で。
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5
6
7
8
9</pre></td><td class="code"><div class="highlight"><pre><span class="kt">void</span> <span class="n">WeekDays</span><span class="p">(</span><span class="kt">int</span> <span class="n">y</span><span class="p">,</span> <span class="kt">int</span> <span class="n">m</span><span class="p">,</span> <span class="kt">int</span> <span class="n">d</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">CTime</span> <span class="n">date</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
    <span class="n">date</span> <span class="o">+=</span> <span class="n">CTimeSpan</span><span class="p">(</span><span class="mi">2</span> <span class="o">-</span> <span class="n">date</span><span class="p">.</span><span class="n">GetDayOfWeek</span><span class="p">(),</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">TRACE</span><span class="p">(</span><span class="n">_T</span><span class="p">(</span><span class="s">&quot;%s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">),</span> <span class="n">date</span><span class="p">.</span><span class="n">Format</span><span class="p">(</span><span class="n">_T</span><span class="p">(</span><span class="s">&quot;%x(%a)&quot;</span><span class="p">)));</span>
        <span class="n">date</span> <span class="o">+=</span> <span class="n">CTimeSpan</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/356/addtag/" class="addtag" id="addtag_356">タグ</a>:
	
    
    <a href="/web/20090620083848/http://ja.doukaku.org/tag/MFC/">MFC</a>
    
	&nbsp;

	
      [<a href="/web/20090620083848/http://ja.doukaku.org/lang/cpp/">
		C++
      </a>]
	  
      [<a href="/web/20090620083848/http://ja.doukaku.org/comment/356/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090620083848/http://ja.doukaku.org/comment/356/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_356"
  >-</span><span
  class="button yellow"
  id="rating_z_356"
  >0</span><span 
  class="button green"
  id="rating_p_356"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/356/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment358">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/35/" target="_top">ytakenaka</a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/358/">#358</a>(<script language="JavaScript">print_time(new Date("2007/07/08 17:39 GMT"));</script><noscript>2007/07/08 17:39 GMT</noscript>)
	
	
	
	[<a href="/web/20090620083848/http://ja.doukaku.org/lang/commonlisp/">
	  Common Lisp
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></td><td class="code"><div class="highlight"><pre>(defconstant *delta-t* 86400)

(defun find-week-days (year month date)
  (let* ((e-day
	  (/ (encode-universal-time 0 0 0 date month year 0) *delta-t*))
	 (what-day (mod e-day 7))
	 (monday (- e-day what-day)))
    (loop for i from 0 to 4
          and name in &#39;(Mon Tue Wed Thr Fri) do
	 (multiple-value-bind (sec min hour d h y)
	     (decode-universal-time (* (+ i monday) *delta-t*))
	   (format t &quot;~a-~a-~a (~a)~%&quot; y h d name)))))

;CL-USER&gt; (find-week-days 2007 7 31)
;2007-7-30 (MON)
;2007-7-31 (TUE)
;2007-8-1 (WED)
;2007-8-2 (THR)
;2007-8-3 (FRI)
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/358/addtag/" class="addtag" id="addtag_358">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090620083848/http://ja.doukaku.org/lang/commonlisp/">
		Common Lisp
      </a>]
	  
      [<a href="/web/20090620083848/http://ja.doukaku.org/comment/358/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090620083848/http://ja.doukaku.org/comment/358/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_358"
  >-</span><span
  class="button yellow"
  id="rating_z_358"
  >0</span><span 
  class="button green"
  id="rating_p_358"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/358/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment368">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/134/" target="_top">こう。</a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/368/">#368</a>(<script language="JavaScript">print_time(new Date("2007/07/09 01:15 GMT"));</script><noscript>2007/07/09 01:15 GMT</noscript>)
	
	
	
	[<a href="/web/20090620083848/http://ja.doukaku.org/lang/c/">
	  C
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  日曜から土曜までが「週」として書きました。
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38</pre></td><td class="code"><div class="highlight"><pre><span class="cp">#include &lt;stdio.h&gt;</span>
<span class="cp">#include &lt;time.h&gt;</span>

<span class="kt">void</span> <span class="n">putweekday</span><span class="p">(</span><span class="kt">int</span> <span class="n">year</span><span class="p">,</span> <span class="kt">int</span> <span class="n">month</span><span class="p">,</span> <span class="kt">int</span> <span class="n">day</span><span class="p">){</span>
	<span class="k">struct</span> <span class="n">tm</span> <span class="n">date</span><span class="p">;</span>
	<span class="n">time_t</span> <span class="n">time_date</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
	<span class="kt">char</span> <span class="o">*</span><span class="n">weekday</span><span class="p">[]</span><span class="o">=</span><span class="p">{</span><span class="s">&quot;(Mon)&quot;</span><span class="p">,</span><span class="s">&quot;(Tue)&quot;</span><span class="p">,</span><span class="s">&quot;(Wed)&quot;</span><span class="p">,</span><span class="s">&quot;(Thu)&quot;</span><span class="p">,</span><span class="s">&quot;(Fri)&quot;</span><span class="p">};</span>

	<span class="c">//tm構造体初期化</span>
	<span class="n">date</span><span class="p">.</span><span class="n">tm_sec</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
	<span class="n">date</span><span class="p">.</span><span class="n">tm_min</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
	<span class="n">date</span><span class="p">.</span><span class="n">tm_hour</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
	<span class="n">date</span><span class="p">.</span><span class="n">tm_isdst</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
	
	<span class="n">date</span><span class="p">.</span><span class="n">tm_year</span><span class="o">=</span><span class="n">year</span><span class="o">-</span><span class="mi">1900</span><span class="p">;</span>
	<span class="n">date</span><span class="p">.</span><span class="n">tm_mon</span><span class="o">=</span><span class="n">month</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">date</span><span class="p">.</span><span class="n">tm_mday</span><span class="o">=</span><span class="n">day</span><span class="p">;</span>
	
	<span class="c">//指定日時の時間取得</span>
	<span class="n">time_date</span><span class="o">=</span><span class="n">mktime</span><span class="p">(</span><span class="o">&amp;</span><span class="n">date</span><span class="p">);</span>
	
	<span class="c">//日曜日まで戻す</span>
	<span class="n">time_date</span><span class="o">-=</span><span class="n">date</span><span class="p">.</span><span class="n">tm_wday</span><span class="o">*</span><span class="mi">24</span><span class="o">*</span><span class="mi">60</span><span class="o">*</span><span class="mi">60</span><span class="p">;</span>
	
	<span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="mi">5</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
		<span class="c">//一日分進めてその日の情報取得(年月をあわせる)</span>
		<span class="n">time_date</span><span class="o">+=</span><span class="mi">24</span><span class="o">*</span><span class="mi">60</span><span class="o">*</span><span class="mi">60</span><span class="p">;</span>
		<span class="n">date</span><span class="o">=*</span><span class="n">gmtime</span><span class="p">(</span><span class="o">&amp;</span><span class="n">time_date</span><span class="p">);</span>
		<span class="n">printf</span><span class="p">(</span><span class="s">&quot;%4d/%2d/%2d%s</span><span class="se">\r\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">date</span><span class="p">.</span><span class="n">tm_year</span><span class="o">+</span><span class="mi">1900</span><span class="p">,</span><span class="n">date</span><span class="p">.</span><span class="n">tm_mon</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">date</span><span class="p">.</span><span class="n">tm_mday</span><span class="p">,</span><span class="n">weekday</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="n">main</span><span class="p">(){</span>
	<span class="n">putweekday</span><span class="p">(</span><span class="mi">2007</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">9</span><span class="p">);</span>
	<span class="n">putweekday</span><span class="p">(</span><span class="mi">2007</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/368/addtag/" class="addtag" id="addtag_368">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090620083848/http://ja.doukaku.org/lang/c/">
		C
      </a>]
	  
      [<a href="/web/20090620083848/http://ja.doukaku.org/comment/368/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090620083848/http://ja.doukaku.org/comment/368/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_368"
  >-</span><span
  class="button yellow"
  id="rating_z_368"
  >0</span><span 
  class="button green"
  id="rating_p_368"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/368/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment388">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/62/" target="_top">id:amachang</a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/388/">#388</a>(<script language="JavaScript">print_time(new Date("2007/07/09 11:20 GMT"));</script><noscript>2007/07/09 11:20 GMT</noscript>)
	
	
	
	[<a href="/web/20090620083848/http://ja.doukaku.org/lang/javascript/">
	  JavaScript
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  Firefox で確認
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5
6
7
8</pre></td><td class="code"><div class="highlight"><pre><span class="k">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="o">;</span>
<span class="k">var</span> <span class="nx">t</span> <span class="o">=</span> <span class="mi">86400000</span><span class="o">;</span>
<span class="k">var</span> <span class="nx">ds</span> <span class="o">=</span> <span class="p">[</span><span class="nx">d</span><span class="p">];</span>
<span class="k">do</span> <span class="nx">ds</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span><span class="nx">d</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">getTime</span><span class="p">()</span> <span class="o">-</span> <span class="nx">t</span><span class="p">));</span> <span class="k">while</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">getDay</span><span class="p">());</span>
<span class="nx">d</span> <span class="o">=</span> <span class="nx">ds</span><span class="p">[</span><span class="nx">ds</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
<span class="k">while</span><span class="p">(</span><span class="nx">ds</span><span class="p">.</span><span class="nx">length</span><span class="o">&lt;</span><span class="mi">7</span><span class="p">)</span> <span class="nx">ds</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">d</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">getTime</span><span class="p">()</span> <span class="o">+</span> <span class="nx">t</span><span class="p">));</span>

<span class="nx">alert</span><span class="p">(</span><span class="nx">ds</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s1">&#39;\n&#39;</span><span class="p">));</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/388/addtag/" class="addtag" id="addtag_388">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090620083848/http://ja.doukaku.org/lang/javascript/">
		JavaScript
      </a>]
	  
      [<a href="/web/20090620083848/http://ja.doukaku.org/comment/388/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090620083848/http://ja.doukaku.org/comment/388/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_388"
  >-</span><span
  class="button yellow"
  id="rating_z_388"
  >0</span><span 
  class="button green"
  id="rating_p_388"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/388/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment411">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/172/" target="_top">cats</a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/411/">#411</a>(<script language="JavaScript">print_time(new Date("2007/07/09 23:55 GMT"));</script><noscript>2007/07/09 23:55 GMT</noscript>)
	
	
	
	[<a href="/web/20090620083848/http://ja.doukaku.org/lang/csharp/">
	  C#
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></td><td class="code"><div class="highlight"><pre><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">class</span> <span class="nc">Program</span>
<span class="k">{</span>
  <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">()</span>
  <span class="k">{</span>
    <span class="n">DateTime</span> <span class="n">dt</span> <span class="p">=</span> <span class="k">new</span> <span class="n">DateTime</span><span class="p">(</span><span class="m">2007</span><span class="p">,</span> <span class="m">7</span><span class="p">,</span> <span class="m">10</span><span class="p">);</span>
    <span class="n">dt</span> <span class="p">=</span> <span class="n">dt</span><span class="p">.</span><span class="n">AddDays</span><span class="p">(</span><span class="m">1</span><span class="p">-(</span><span class="kt">int</span><span class="p">)</span><span class="n">dt</span><span class="p">.</span><span class="n">DayOfWeek</span><span class="p">);</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="m">5</span><span class="p">;</span> <span class="p">++</span><span class="n">i</span><span class="p">,</span> <span class="n">dt</span> <span class="p">=</span> <span class="n">dt</span><span class="p">.</span><span class="n">AddDays</span><span class="p">(</span><span class="m">1</span><span class="p">))</span>
      <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;{0} {1}&quot;</span><span class="p">,</span> <span class="n">dt</span><span class="p">.</span><span class="n">ToShortDateString</span><span class="p">(),</span> <span class="n">dt</span><span class="p">.</span><span class="n">DayOfWeek</span><span class="p">);</span>
  <span class="k">}</span>
<span class="k">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/411/addtag/" class="addtag" id="addtag_411">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090620083848/http://ja.doukaku.org/lang/csharp/">
		C#
      </a>]
	  
      [<a href="/web/20090620083848/http://ja.doukaku.org/comment/411/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090620083848/http://ja.doukaku.org/comment/411/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_411"
  >-</span><span
  class="button yellow"
  id="rating_z_411"
  >0</span><span 
  class="button green"
  id="rating_p_411"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/411/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  

  

  
    





<div class="comment" id="comment451">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/77/" target="_top">iakio</a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/451/">#451</a>(<script language="JavaScript">print_time(new Date("2007/07/10 08:52 GMT"));</script><noscript>2007/07/10 08:52 GMT</noscript>)
	
	
	
	[<a href="/web/20090620083848/http://ja.doukaku.org/lang/sql/">
	  SQL
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #bfffbf;">4/4=1.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  わりとSQLの得意分野かも
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></td><td class="code"><div class="highlight"><pre><span class="o">=&gt;</span> <span class="k">select</span> <span class="n">to_char</span><span class="p">(</span><span class="n">date_trunc</span><span class="p">(</span><span class="s1">&#39;week&#39;</span><span class="p">,</span> <span class="s1">&#39;2007-7-6&#39;</span><span class="p">::</span><span class="nb">date</span><span class="p">)::</span><span class="nb">date</span> <span class="o">+</span> <span class="n">i</span><span class="p">,</span>
                  <span class="s1">&#39;YYYY-mm-dd(Day)&#39;</span><span class="p">)</span>
     <span class="k">from</span> <span class="n">generate_series</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="k">as</span> <span class="k">g</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
        <span class="n">to_char</span>
<span class="c1">-----------------------</span>
 <span class="mi">2007</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">02</span><span class="p">(</span><span class="n">Monday</span>   <span class="p">)</span>
 <span class="mi">2007</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">03</span><span class="p">(</span><span class="n">Tuesday</span>  <span class="p">)</span>
 <span class="mi">2007</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span><span class="p">(</span><span class="n">Wednesday</span><span class="p">)</span>
 <span class="mi">2007</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">05</span><span class="p">(</span><span class="n">Thursday</span> <span class="p">)</span>
 <span class="mi">2007</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="p">(</span><span class="n">Friday</span>   <span class="p">)</span>
<span class="p">(</span><span class="mi">5</span> <span class="k">rows</span><span class="p">)</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/451/addtag/" class="addtag" id="addtag_451">タグ</a>:
	
    
    <a href="/web/20090620083848/http://ja.doukaku.org/tag/PostgreSQL/">PostgreSQL</a>
    
	&nbsp;

	
      [<a href="/web/20090620083848/http://ja.doukaku.org/lang/sql/">
		SQL
      </a>]
	  
      [<a href="/web/20090620083848/http://ja.doukaku.org/comment/451/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090620083848/http://ja.doukaku.org/comment/451/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #bfffbf;"
  >4/4=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_451"
  >-</span><span
  class="button yellow"
  id="rating_z_451"
  >0</span><span 
  class="button green"
  id="rating_p_451"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/451/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment489">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/76/" target="_top">satyri</a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/489/">#489</a>(<script language="JavaScript">print_time(new Date("2007/07/10 13:51 GMT"));</script><noscript>2007/07/10 13:51 GMT</noscript>)
	
	
	
	[<a href="/web/20090620083848/http://ja.doukaku.org/lang/php/">
	  PHP
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>PHPはこういうの便利。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5
6
7
8
9</pre></td><td class="code"><div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="k">function</span> <span class="nf">week</span><span class="p">(</span><span class="nv">$day</span><span class="p">,</span> <span class="nv">$month</span><span class="p">,</span> <span class="nv">$year</span><span class="p">){</span>
	<span class="nv">$day_of_the_week</span> <span class="o">=</span> <span class="nf">date</span><span class="p">(</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="nf">mktime</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="nv">$month</span><span class="p">,</span> <span class="nv">$day</span><span class="p">,</span> <span class="nv">$year</span><span class="p">));</span>
	<span class="k">for</span><span class="p">(</span><span class="nv">$i</span> <span class="o">=</span> <span class="m">1</span><span class="p">;</span> <span class="nv">$i</span> <span class="o">&lt;=</span> <span class="m">5</span><span class="p">;</span> <span class="nv">$i</span><span class="o">++</span><span class="p">){</span>
		<span class="k">echo</span><span class="p">(</span><span class="nf">date</span><span class="p">(</span><span class="s2">&quot;Y-m-d&quot;</span><span class="p">,</span> <span class="nf">mktime</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="nv">$month</span><span class="p">,</span> <span class="nv">$day</span> <span class="o">-</span> <span class="nv">$day_of_the_week</span> <span class="o">+</span> <span class="nv">$i</span><span class="p">,</span> <span class="nv">$year</span><span class="p">))</span><span class="o">.</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span>
<span class="nx">week</span><span class="p">(</span><span class="m">8</span><span class="p">,</span><span class="m">7</span><span class="p">,</span><span class="m">2007</span><span class="p">);</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/489/addtag/" class="addtag" id="addtag_489">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090620083848/http://ja.doukaku.org/lang/php/">
		PHP
      </a>]
	  
      [<a href="/web/20090620083848/http://ja.doukaku.org/comment/489/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090620083848/http://ja.doukaku.org/comment/489/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_489"
  >-</span><span
  class="button yellow"
  id="rating_z_489"
  >0</span><span 
  class="button green"
  id="rating_p_489"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/489/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment525">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/101/" target="_top">沢渡 みかげ</a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/525/">#525</a>(<script language="JavaScript">print_time(new Date("2007/07/11 03:30 GMT"));</script><noscript>2007/07/11 03:30 GMT</noscript>)
	
	
	
	[<a href="/web/20090620083848/http://ja.doukaku.org/lang/mathematica/">
	  Mathematica
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>Mathematicaには曜日を数値で取得する方法がないようなので，テーブルを自前で持つようにしました．

PrintWeek[{2007, 12, 31}];

のように実行します．

かなり処理が遅いようです…．</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></td><td class="code"><div class="highlight"><pre>&lt;&lt; Miscellaneous`Calendar`;
PrintWeek[day_] := Module[{dayhash, calcday, i},
      dayhash[Sunday] = 0;
      dayhash[Monday] = 1;
      dayhash[Tuesday] = 2;
      dayhash[Wednesday] = 3;
      dayhash[Thursday] = 4;
      dayhash[Friday] = 5;
      dayhash[Saturday] = 6;
      startday = DaysPlus[day, -dayhash[DayOfWeek[day]]];
      For[i = 0, i &lt; 7, i++,
        calcday = DaysPlus[startday, i];
        Print[calcday, &quot; (&quot;, DayOfWeek[calcday], &quot;)&quot;];
        ];
      ];
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/525/addtag/" class="addtag" id="addtag_525">タグ</a>:
	
    
    <a href="/web/20090620083848/http://ja.doukaku.org/tag/Mathematica/">Mathematica</a>
    
	&nbsp;

	
      [<a href="/web/20090620083848/http://ja.doukaku.org/lang/mathematica/">
		Mathematica
      </a>]
	  
      [<a href="/web/20090620083848/http://ja.doukaku.org/comment/525/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090620083848/http://ja.doukaku.org/comment/525/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_525"
  >-</span><span
  class="button yellow"
  id="rating_z_525"
  >0</span><span 
  class="button green"
  id="rating_p_525"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/525/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment534">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/105/" target="_top">rubikitch</a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/534/">#534</a>(<script language="JavaScript">print_time(new Date("2007/07/11 06:59 GMT"));</script><noscript>2007/07/11 06:59 GMT</noscript>)
	
	
	
	[<a href="/web/20090620083848/http://ja.doukaku.org/lang/commonlisp/">
	  Common Lisp
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre></td><td class="code"><div class="highlight"><pre>(require :local-time)
(in-package :local-time)

(defun format-date (time)
  (multiple-value-bind (ms ss mm hh d m y w) (decode-local-time time)
    (format nil &quot;~a/~a/~a(~a)&quot; y m d (elt +short-day-names+ w))))

(defun wday (time)
  (multiple-value-bind (ms ss mm hh d m y w) (decode-local-time time) 
    w))

(defun make-date (y m d)
  (encode-local-time 0 0 0 0 d m y))

(defun week-days (y m d)
  (let* ((date (make-date y m d))
         (wday (wday date))
         (daysec (* 3600 24))
         (monday (- (universal-time date) (* (1- wday) daysec)))
         (friday (+ monday (* 4 daysec))))
    (loop for time from monday to friday by daysec
       collect (format-date (local-time :universal time)))))

(week-days 2007 7 6) ; =&gt; (&quot;2007/7/2(Mon)&quot; &quot;2007/7/3(Tue)&quot; &quot;2007/7/4(Wed)&quot; &quot;2007/7/5(Thu)&quot; &quot;2007/7/6(Fri)&quot;)
(week-days 2007 7 31) ; =&gt; (&quot;2007/7/30(Mon)&quot; &quot;2007/7/31(Tue)&quot; &quot;2007/8/1(Wed)&quot; &quot;2007/8/2(Thu)&quot; &quot;2007/8/3(Fri)&quot;)
(week-days 2007 12 31) ; =&gt; (&quot;2007/12/31(Mon)&quot; &quot;2008/1/1(Tue)&quot; &quot;2008/1/2(Wed)&quot; &quot;2008/1/3(Thu)&quot; &quot;2008/1/4(Fri)&quot;)
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/534/addtag/" class="addtag" id="addtag_534">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090620083848/http://ja.doukaku.org/lang/commonlisp/">
		Common Lisp
      </a>]
	  
      [<a href="/web/20090620083848/http://ja.doukaku.org/comment/534/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090620083848/http://ja.doukaku.org/comment/534/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_534"
  >-</span><span
  class="button yellow"
  id="rating_z_534"
  >0</span><span 
  class="button green"
  id="rating_p_534"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/534/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment555">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/145/" target="_top">kacchi</a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/star_bronze.png" border=0/></a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/555/">#555</a>(<script language="JavaScript">print_time(new Date("2007/07/11 08:41 GMT"));</script><noscript>2007/07/11 08:41 GMT</noscript>)
	
	
	
	[<a href="/web/20090620083848/http://ja.doukaku.org/lang/emacslisp/">
	  Emacs Lisp
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>日曜が週の始まりと考えました。
(week-days 2007 7 6)
=&gt;("2007/07/02(月)" "2007/07/03(火)" "2007/07/04(水)" "2007/07/05(木)" "2007/07/06(金)")
(week-days 2007 7 31)
=&gt;("2007/07/30(月)" "2007/07/31(火)" "2007/08/01(水)" "2007/08/02(木)" "2007/08/03(金)")
(week-days 2007 12 30)
=&gt;("2007/12/31(月)" "2008/01/01(火)" "2008/01/02(水)" "2008/01/03(木)" "2008/01/04(金)")
</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5
6</pre></td><td class="code"><div class="highlight"><pre>(defun week-days (y m d)
  (let ((dow (nth 6 (decode-time (encode-time 0 0 0 d m y)))))
    (mapcar (lambda (x)
              (format-time-string &quot;%Y/%m/%d(%a)&quot;
                                  (encode-time 0 0 0 (- d dow (- x)) m y)))
            &#39;(1 2 3 4 5))))
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/555/addtag/" class="addtag" id="addtag_555">タグ</a>:
	
    
    <a href="/web/20090620083848/http://ja.doukaku.org/tag/EmacsLisp/">EmacsLisp</a>
    
	&nbsp;

	
      [<a href="/web/20090620083848/http://ja.doukaku.org/lang/emacslisp/">
		Emacs Lisp
      </a>]
	  
      [<a href="/web/20090620083848/http://ja.doukaku.org/comment/555/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090620083848/http://ja.doukaku.org/comment/555/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_555"
  >-</span><span
  class="button yellow"
  id="rating_z_555"
  >0</span><span 
  class="button green"
  id="rating_p_555"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/555/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment588">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/204/" target="_top">sukesam</a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/588/">#588</a>(<script language="JavaScript">print_time(new Date("2007/07/11 16:01 GMT"));</script><noscript>2007/07/11 16:01 GMT</noscript>)
	
	
	
	[<a href="/web/20090620083848/http://ja.doukaku.org/lang/javascript/">
	  JavaScript
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  for文を駆使してみた。
firefoxで確認
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5
6
7</pre></td><td class="code"><div class="highlight"><pre><span class="k">function</span> <span class="nx">weekDays</span><span class="p">(</span><span class="nx">y</span><span class="o">,</span> <span class="nx">m</span><span class="o">,</span> <span class="nx">d</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">var</span> <span class="nx">dt</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">y</span><span class="o">,</span> <span class="nx">m</span> <span class="o">-</span> <span class="mi">1</span><span class="o">,</span> <span class="nx">d</span><span class="p">);</span>
        <span class="k">var</span> <span class="nx">ws</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;日&quot;</span><span class="o">,</span> <span class="s2">&quot;月&quot;</span><span class="o">,</span> <span class="s2">&quot;火&quot;</span><span class="o">,</span> <span class="s2">&quot;水&quot;</span><span class="o">,</span> <span class="s2">&quot;木&quot;</span><span class="o">,</span> <span class="s2">&quot;金&quot;</span><span class="o">,</span> <span class="s2">&quot;土&quot;</span><span class="p">]</span><span class="o">,</span> <span class="nx">r</span> <span class="o">=</span> <span class="p">[];</span>
        <span class="k">var</span> <span class="nx">f</span> <span class="o">=</span> <span class="k">function</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">d</span><span class="p">.</span><span class="nx">getFullYear</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;-&quot;</span> <span class="o">+</span> <span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">getMonth</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;-&quot;</span> <span class="o">+</span> <span class="nx">d</span><span class="p">.</span><span class="nx">getDate</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;(&quot;</span> <span class="o">+</span> <span class="nx">ws</span><span class="p">[</span><span class="nx">d</span><span class="p">.</span><span class="nx">getDay</span><span class="p">()]</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span><span class="o">;</span> <span class="p">};</span>
        <span class="k">for</span> <span class="p">(</span><span class="nx">dt</span><span class="p">.</span><span class="nx">setDate</span><span class="p">(</span><span class="nx">dt</span><span class="p">.</span><span class="nx">getDate</span><span class="p">()</span> <span class="o">-</span> <span class="nx">dt</span><span class="p">.</span><span class="nx">getDay</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span> <span class="nx">dt</span><span class="p">.</span><span class="nx">getDay</span><span class="p">();</span> <span class="nx">dt</span><span class="p">.</span><span class="nx">setDate</span><span class="p">(</span><span class="nx">dt</span><span class="p">.</span><span class="nx">getDate</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="nx">r</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">f</span><span class="p">(</span><span class="nx">dt</span><span class="p">));</span>
        <span class="nx">alert</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;\n&quot;</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/588/addtag/" class="addtag" id="addtag_588">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090620083848/http://ja.doukaku.org/lang/javascript/">
		JavaScript
      </a>]
	  
      [<a href="/web/20090620083848/http://ja.doukaku.org/comment/588/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090620083848/http://ja.doukaku.org/comment/588/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_588"
  >-</span><span
  class="button yellow"
  id="rating_z_588"
  >0</span><span 
  class="button green"
  id="rating_p_588"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/588/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment752">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/76/" target="_top">satyri</a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/752/">#752</a>(<script language="JavaScript">print_time(new Date("2007/07/13 12:08 GMT"));</script><noscript>2007/07/13 12:08 GMT</noscript>)
	
	
	
	[<a href="/web/20090620083848/http://ja.doukaku.org/lang/perl/">
	  Perl
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>Date::Simpleを使ってみた。何か不思議な感じ。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></td><td class="code"><div class="highlight"><pre><span class="c1">#!/usr/local/bin/perl</span>

<span class="k">use</span> <span class="n">strict</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">Date::</span><span class="n">Simple</span><span class="p">;</span>

<span class="k">sub </span><span class="nf">getWeekDay</span><span class="p">{</span>
  <span class="k">my</span> <span class="nv">$year</span> <span class="o">=</span> <span class="nb">shift</span><span class="p">;</span>
  <span class="k">my</span> <span class="nv">$month</span> <span class="o">=</span> <span class="nb">shift</span><span class="p">;</span>
  <span class="k">my</span> <span class="nv">$day</span> <span class="o">=</span> <span class="nb">shift</span><span class="p">;</span>
  
  <span class="k">my</span> <span class="nv">$date</span> <span class="o">=</span> <span class="nn">Date::</span><span class="n">Simple</span><span class="o">-&gt;</span><span class="k">new</span><span class="p">(</span><span class="nv">$year</span><span class="p">,</span> <span class="nv">$month</span><span class="p">,</span> <span class="nv">$day</span><span class="p">);</span>
  <span class="k">my</span> <span class="nv">$day_of_week</span> <span class="o">=</span> <span class="nv">$date</span><span class="o">-&gt;</span><span class="n">day_of_week</span><span class="p">;</span>

  <span class="k">for</span><span class="p">(</span><span class="k">my</span> <span class="nv">$i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="nv">$i</span><span class="o">&lt;=</span><span class="mi">5</span><span class="p">;</span> <span class="nv">$i</span><span class="o">++</span><span class="p">){</span>
    <span class="k">my</span> <span class="nv">$week_day</span> <span class="o">=</span> <span class="nv">$date</span> <span class="o">-</span> <span class="nv">$day_of_week</span> <span class="o">+</span> <span class="nv">$i</span><span class="p">;</span>
    <span class="k">print</span> <span class="nv">$week_day</span><span class="o">-&gt;</span><span class="nb">format</span><span class="p">(</span><span class="s">&quot;%Y/%m/%d(%a)\n&quot;</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">getWeekDay</span><span class="p">(</span><span class="mi">2009</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">31</span><span class="p">);</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/752/addtag/" class="addtag" id="addtag_752">タグ</a>:
	
    
    <a href="/web/20090620083848/http://ja.doukaku.org/tag/CPAN/">CPAN</a>
    
	&nbsp;

	
      [<a href="/web/20090620083848/http://ja.doukaku.org/lang/perl/">
		Perl
      </a>]
	  
      [<a href="/web/20090620083848/http://ja.doukaku.org/comment/752/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090620083848/http://ja.doukaku.org/comment/752/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_752"
  >-</span><span
  class="button yellow"
  id="rating_z_752"
  >0</span><span 
  class="button green"
  id="rating_p_752"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/752/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment797">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/232/" target="_top">kkobayashi</a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/797/">#797</a>(<script language="JavaScript">print_time(new Date("2007/07/14 03:20 GMT"));</script><noscript>2007/07/14 03:20 GMT</noscript>)
	
	
	
	[<a href="/web/20090620083848/http://ja.doukaku.org/lang/r/">
	  R
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>冗長さを無視すれば１行でも書けます。
週の始まりは日曜から、としています。

&gt; printweekdays(2007,12,28)
[1] "2007-12-24 月曜日" "2007-12-25 火曜日" "2007-12-26 水曜日" "2007-12-27 木曜日" "2007-12-28 金曜日"
&gt; printweekdays(2007,12,29)
[1] "2007-12-24 月曜日" "2007-12-25 火曜日" "2007-12-26 水曜日" "2007-12-27 木曜日" "2007-12-28 金曜日"
&gt; printweekdays(2007,12,30)
[1] "2007-12-31 月曜日" "2008-01-01 火曜日" "2008-01-02 水曜日" "2008-01-03 木曜日" "2008-01-04 金曜日"
&gt; printweekdays(2007,12,31)
[1] "2007-12-31 月曜日" "2008-01-01 火曜日" "2008-01-02 水曜日" "2008-01-03 木曜日" "2008-01-04 金曜日"
&gt; printweekdays(2008,1,1)
[1] "2007-12-31 月曜日" "2008-01-01 火曜日" "2008-01-02 水曜日" "2008-01-03 木曜日" "2008-01-04 金曜日"
</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5
6</pre></td><td class="code"><div class="highlight"><pre>printweekdays &lt;- function(y, m, d){
    date  &lt;- as.Date(paste(y,m,d,sep=&quot;/&quot;))
    start &lt;- date - (as.POSIXlt(date)$wday-1)
    days  &lt;- seq(start, length=5, by=&quot;1 days&quot;)
    paste(days, weekdays(days))
}
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/797/addtag/" class="addtag" id="addtag_797">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090620083848/http://ja.doukaku.org/lang/r/">
		R
      </a>]
	  
      [<a href="/web/20090620083848/http://ja.doukaku.org/comment/797/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090620083848/http://ja.doukaku.org/comment/797/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_797"
  >-</span><span
  class="button yellow"
  id="rating_z_797"
  >0</span><span 
  class="button green"
  id="rating_p_797"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/797/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment851">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/82/" target="_top">yuin</a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/star_bronze.png" border=0/></a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/851/">#851</a>(<script language="JavaScript">print_time(new Date("2007/07/14 15:54 GMT"));</script><noscript>2007/07/14 15:54 GMT</noscript>)
	
	
	
	[<a href="/web/20090620083848/http://ja.doukaku.org/lang/scala/">
	  Scala
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'></pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></td><td class="code"><div class="highlight"><pre>import java.util.Calendar
import java.text.SimpleDateFormat
def printWeekByDate(y:Int,m:Int,d:Int):Unit = {
  val cal = Calendar.getInstance
  cal.set(y,m-1,d)
  val format = new SimpleDateFormat(&quot;yyyy/MM/dd (E)&quot;)
  cal.add(Calendar.DATE, -cal.get(Calendar.DAY_OF_WEEK))
  List.range(0,6).foreach(x =&gt; {
    cal.add(Calendar.DATE, 1)
    println(format.format(cal.getTime))
  })
}
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/851/addtag/" class="addtag" id="addtag_851">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090620083848/http://ja.doukaku.org/lang/scala/">
		Scala
      </a>]
	  
      [<a href="/web/20090620083848/http://ja.doukaku.org/comment/851/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090620083848/http://ja.doukaku.org/comment/851/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_851"
  >-</span><span
  class="button yellow"
  id="rating_z_851"
  >0</span><span 
  class="button green"
  id="rating_p_851"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/851/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment867">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/105/" target="_top">rubikitch</a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/867/">#867</a>(<script language="JavaScript">print_time(new Date("2007/07/14 19:30 GMT"));</script><noscript>2007/07/14 19:30 GMT</noscript>)
	
	
	
	[<a href="/web/20090620083848/http://ja.doukaku.org/lang/d/">
	  D
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>Dのstd.dateライブラリは月が0～11なのが激しくムカツク(怒)

rdmd /m/home/rubikitch/src/doukaku/12.d 
[2007/7/2(Mon),2007/7/3(Tue),2007/7/4(Wed),2007/7/5(Thu),2007/7/6(Fri)]
[2007/7/30(Mon),2007/7/31(Tue),2007/8/1(Wed),2007/8/2(Thu),2007/8/3(Fri)]
[2007/12/31(Mon),2008/1/1(Tue),2008/1/2(Wed),2008/1/3(Thu),2008/1/4(Fri)]
</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36</pre></td><td class="code"><div class="highlight"><pre><span class="k">module</span> <span class="k">do</span><span class="n">ukaku</span>;
<span class="k">private</span> <span class="k">import</span> <span class="n">std</span>.<span class="n">stdio</span>;
<span class="k">private</span> <span class="k">import</span> <span class="n">std</span>.<span class="n">date</span>;
<span class="k">private</span> <span class="k">import</span> <span class="n">std</span>.<span class="n">string</span>;
<span class="kt">char</span>[] <span class="k">for</span><span class="n">mat_date</span>(<span class="n">d_time</span> <span class="n">time</span>) {
    <span class="k">return</span> <span class="k">for</span><span class="n">mat</span>(<span class="s">&quot;%s/%s/%s(%s)&quot;</span>, <span class="n">YearFromTime</span>(<span class="n">time</span>),
                  <span class="n">MonthFromTime</span>(<span class="n">time</span>)+<span class="mi">1</span>, <span class="n">DateFromTime</span>(<span class="n">time</span>), <span class="n">wday</span>(<span class="n">time</span>));
}

<span class="kt">char</span>[] <span class="n">wday</span>(<span class="n">d_time</span> <span class="n">time</span>) {
    <span class="kt">char</span>[][] <span class="n">wname</span> = [ <span class="s">&quot;Sun&quot;</span>, <span class="s">&quot;Mon&quot;</span>, <span class="s">&quot;Tue&quot;</span>, <span class="s">&quot;Wed&quot;</span>, <span class="s">&quot;Thu&quot;</span>, <span class="s">&quot;Fri&quot;</span>, <span class="s">&quot;Sat&quot;</span> ];
    <span class="k">return</span> <span class="n">wname</span>[ <span class="n">WeekDay</span>(<span class="n">time</span>) ];
}

<span class="n">d_time</span> <span class="n">make_date</span>(<span class="k">in</span><span class="n">t</span> <span class="n">y</span>, <span class="k">in</span><span class="n">t</span> <span class="n">m</span>, <span class="k">in</span><span class="n">t</span> <span class="n">d</span>) {
    <span class="k">return</span> <span class="n">parse</span>(<span class="k">for</span><span class="n">mat</span>(<span class="s">&quot;%s/%s,%s&quot;</span>, <span class="n">m</span>, <span class="n">d</span>, <span class="n">y</span>));
}

<span class="kt">char</span>[][] <span class="n">week_days</span>(<span class="k">in</span><span class="n">t</span> <span class="n">y</span>, <span class="k">in</span><span class="n">t</span> <span class="n">m</span>, <span class="k">in</span><span class="n">t</span> <span class="n">d</span>) {
    <span class="n">d_time</span> <span class="n">date</span> = <span class="n">make_date</span>(<span class="n">y</span>, <span class="n">m</span>, <span class="n">d</span>);
    <span class="k">in</span><span class="n">t</span> <span class="n">wday</span> = <span class="n">WeekDay</span>(<span class="n">date</span>);
    <span class="k">in</span><span class="n">t</span> <span class="n">daytick</span> = <span class="mi">3600</span> * <span class="mi">24</span> * <span class="n">TicksPerSecond</span>;
    <span class="n">d_time</span> <span class="n">monday</span> = <span class="n">date</span> - (<span class="n">wday</span> - <span class="mi">1</span>)*<span class="n">daytick</span>;
    <span class="n">d_time</span> <span class="n">friday</span> = <span class="n">monday</span> + <span class="mi">4</span>*<span class="n">daytick</span>;
    <span class="kt">char</span>[][] <span class="n">ret</span>;
    
    <span class="k">for</span> (<span class="n">d_time</span> <span class="n">t</span> = <span class="n">monday</span>; <span class="n">t</span> &lt;= <span class="n">friday</span>; <span class="n">t</span> += <span class="n">daytick</span>) 
        <span class="n">ret</span> ~= <span class="k">for</span><span class="n">mat_date</span>(<span class="n">t</span>);
    <span class="k">return</span> <span class="n">ret</span>;
}

<span class="kt">void</span> <span class="n">main</span>() {
    <span class="n">writefln</span>(<span class="n">week_days</span>(<span class="mi">2007</span>, <span class="mi">7</span>, <span class="mi">6</span>));
    <span class="n">writefln</span>(<span class="n">week_days</span>(<span class="mi">2007</span>, <span class="mi">7</span>, <span class="mi">31</span>));
    <span class="n">writefln</span>(<span class="n">week_days</span>(<span class="mi">2007</span>, <span class="mi">12</span>, <span class="mi">31</span>));
}
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/867/addtag/" class="addtag" id="addtag_867">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090620083848/http://ja.doukaku.org/lang/d/">
		D
      </a>]
	  
      [<a href="/web/20090620083848/http://ja.doukaku.org/comment/867/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090620083848/http://ja.doukaku.org/comment/867/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_867"
  >-</span><span
  class="button yellow"
  id="rating_z_867"
  >0</span><span 
  class="button green"
  id="rating_p_867"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/867/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment917">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/96/" target="_top">ether</a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/star_silver.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/917/">#917</a>(<script language="JavaScript">print_time(new Date("2007/07/15 11:18 GMT"));</script><noscript>2007/07/15 11:18 GMT</noscript>)
	
	
	
	[<a href="/web/20090620083848/http://ja.doukaku.org/lang/xslt/">
	  XSLT
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  EXSLT の date モジュールを使用。xs:duration 形式を正負で場合わけして作る部分はもっと簡潔に書けないだろうか…
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54</pre></td><td class="code"><div class="highlight"><pre><span class="nt">&lt;xsl:stylesheet</span> <span class="na">version=</span><span class="s">&quot;1.0&quot;</span>
  <span class="na">xmlns:xsl=</span><span class="s">&quot;http://www.w3.org/1999/XSL/Transform&quot;</span>
  <span class="na">xmlns:date=</span><span class="s">&quot;http://exslt.org/dates-and-times&quot;</span>
  <span class="na">extension-element-prefixes=</span><span class="s">&quot;date&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;xsl:import</span> <span class="na">href=</span><span class="s">&quot;date.day-in-week.template.xsl&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;xsl:import</span> <span class="na">href=</span><span class="s">&quot;date.add.template.xsl&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;xsl:output</span> <span class="na">method=</span><span class="s">&quot;text&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;xsl:param</span> <span class="na">name=</span><span class="s">&quot;day&quot;</span> <span class="nt">/&gt;</span>

<span class="nt">&lt;xsl:template</span> <span class="na">match=</span><span class="s">&quot;/&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;xsl:call-template</span> <span class="na">name=</span><span class="s">&quot;n-days-from&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;xsl:with-param</span> <span class="na">name=</span><span class="s">&quot;n&quot;</span> <span class="na">select=</span><span class="s">&quot;5&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;xsl:with-param</span> <span class="na">name=</span><span class="s">&quot;day&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;xsl:call-template</span> <span class="na">name=</span><span class="s">&quot;date:add&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;xsl:with-param</span> <span class="na">name=</span><span class="s">&quot;date-time&quot;</span> <span class="na">select=</span><span class="s">&quot;$day&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;xsl:with-param</span> <span class="na">name=</span><span class="s">&quot;duration&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;xsl:variable</span> <span class="na">name=</span><span class="s">&quot;dow&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;xsl:call-template</span> <span class="na">name=</span><span class="s">&quot;date:day-in-week&quot;</span><span class="nt">&gt;</span>
              <span class="nt">&lt;xsl:with-param</span> <span class="na">name=</span><span class="s">&quot;date-time&quot;</span> <span class="na">select=</span><span class="s">&quot;$day&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;/xsl:call-template&gt;</span>
          <span class="nt">&lt;/xsl:variable&gt;</span>
          <span class="nt">&lt;xsl:choose&gt;</span>
            <span class="nt">&lt;xsl:when</span> <span class="na">test=</span><span class="s">&quot;$dow &amp;gt; 2&quot;</span><span class="nt">&gt;</span>
              <span class="nt">&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">&quot;concat(&#39;-P&#39;, $dow - 2, &#39;D&#39;)&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;/xsl:when&gt;</span>
            <span class="nt">&lt;xsl:otherwise&gt;</span>
              <span class="nt">&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">&quot;concat(&#39;P&#39;, 2 - $dow, &#39;D&#39;)&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;/xsl:otherwise&gt;</span>
          <span class="nt">&lt;/xsl:choose&gt;</span>
        <span class="nt">&lt;/xsl:with-param&gt;</span>
      <span class="nt">&lt;/xsl:call-template&gt;</span>
    <span class="nt">&lt;/xsl:with-param&gt;</span>
  <span class="nt">&lt;/xsl:call-template&gt;</span>
<span class="nt">&lt;/xsl:template&gt;</span>

<span class="nt">&lt;xsl:template</span> <span class="na">name=</span><span class="s">&quot;n-days-from&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;xsl:param</span> <span class="na">name=</span><span class="s">&quot;n&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;xsl:param</span> <span class="na">name=</span><span class="s">&quot;day&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;xsl:value-of</span> <span class="na">select=</span><span class="s">&quot;$day&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;xsl:text&gt;</span><span class="ni">&amp;#xa;</span><span class="nt">&lt;/xsl:text&gt;</span>
  <span class="nt">&lt;xsl:if</span> <span class="na">test=</span><span class="s">&quot;$n &amp;gt; 1&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;xsl:call-template</span> <span class="na">name=</span><span class="s">&quot;n-days-from&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;xsl:with-param</span> <span class="na">name=</span><span class="s">&quot;n&quot;</span> <span class="na">select=</span><span class="s">&quot;$n - 1&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;xsl:with-param</span> <span class="na">name=</span><span class="s">&quot;day&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;xsl:call-template</span> <span class="na">name=</span><span class="s">&quot;date:add&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;xsl:with-param</span> <span class="na">name=</span><span class="s">&quot;date-time&quot;</span> <span class="na">select=</span><span class="s">&quot;$day&quot;</span> <span class="nt">/&gt;</span>
          <span class="nt">&lt;xsl:with-param</span> <span class="na">name=</span><span class="s">&quot;duration&quot;</span> <span class="na">select=</span><span class="s">&quot;&#39;P1D&#39;&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;/xsl:call-template&gt;</span>
      <span class="nt">&lt;/xsl:with-param&gt;</span>
    <span class="nt">&lt;/xsl:call-template&gt;</span>
  <span class="nt">&lt;/xsl:if&gt;</span>
<span class="nt">&lt;/xsl:template&gt;</span>

<span class="nt">&lt;/xsl:stylesheet&gt;</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/917/addtag/" class="addtag" id="addtag_917">タグ</a>:
	
    
    <a href="/web/20090620083848/http://ja.doukaku.org/tag/EXSLT/">EXSLT</a>
    
	&nbsp;

	
      [<a href="/web/20090620083848/http://ja.doukaku.org/lang/xslt/">
		XSLT
      </a>]
	  
      [<a href="/web/20090620083848/http://ja.doukaku.org/comment/917/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090620083848/http://ja.doukaku.org/comment/917/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_917"
  >-</span><span
  class="button yellow"
  id="rating_z_917"
  >0</span><span 
  class="button green"
  id="rating_p_917"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/917/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment919">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/250/" target="_top">時間蠅</a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/919/">#919</a>(<script language="JavaScript">print_time(new Date("2007/07/15 11:55 GMT"));</script><noscript>2007/07/15 11:55 GMT</noscript>)
	
	
	
	[<a href="/web/20090620083848/http://ja.doukaku.org/lang/matlab/">
	  Matlab
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  一週間は月曜始まりとしています。冗長な感じですが、Matlabで書いてみました。
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></td><td class="code"><div class="highlight"><pre>targetDate = datevec(&#39;2007-07-15&#39;, &#39;yyyy-mm-dd&#39;);
A = [&#39;Mon&#39;; &#39;Tue&#39;; &#39;Wed&#39;; &#39;Thu&#39;; &#39;Fri&#39;; &#39;Sat&#39;; &#39;Sun&#39;];
for n=1:size(A, 1)
  if (A(n,:) == datestr(targetDate, &#39;ddd&#39;))
    break;
  end
end
startDate = datenum(targetDate) - n + 1;
for n=startDate:startDate+4
  disp(datestr(n, &#39;yyyy-mm-dd&#39;));
end

% output example
% 2007-07-09
% 2007-07-10
% 2007-07-11
% 2007-07-12
% 2007-07-13
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/919/addtag/" class="addtag" id="addtag_919">タグ</a>:
	
    
    <a href="/web/20090620083848/http://ja.doukaku.org/tag/Matlab/">Matlab</a>
    
	&nbsp;

	
      [<a href="/web/20090620083848/http://ja.doukaku.org/lang/matlab/">
		Matlab
      </a>]
	  
      [<a href="/web/20090620083848/http://ja.doukaku.org/comment/919/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090620083848/http://ja.doukaku.org/comment/919/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_919"
  >-</span><span
  class="button yellow"
  id="rating_z_919"
  >0</span><span 
  class="button green"
  id="rating_p_919"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/919/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment1015">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/49/" target="_top">iwk</a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/star_silver.png" border=0/></a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/1015/">#1015</a>(<script language="JavaScript">print_time(new Date("2007/07/16 16:03 GMT"));</script><noscript>2007/07/16 16:03 GMT</noscript>)
	
	
	
	[<a href="/web/20090620083848/http://ja.doukaku.org/lang/ocaml/">
	  OCaml
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5
6
7
8</pre></td><td class="code"><div class="highlight"><pre><span class="kr">open</span> <span class="n">System</span><span class="k">;;</span>

<span class="kr">let</span> <span class="n">getWeekIncluding</span> <span class="k">(</span><span class="n">year</span><span class="k">,</span><span class="n">month</span><span class="k">,</span><span class="n">day</span><span class="k">)</span> <span class="k">=</span>
    <span class="kr">let</span> <span class="n">date</span> <span class="k">=</span> <span class="kr">new</span> <span class="n">DateTime</span><span class="k">(</span> <span class="n">year</span><span class="k">,</span> <span class="n">month</span><span class="k">,</span> <span class="n">day</span> <span class="k">)</span> <span class="kr">in</span>
    <span class="kr">let</span> <span class="kr">rec</span> <span class="n">getting</span> <span class="k">(</span><span class="n">dt</span><span class="k">:</span><span class="n">DateTime</span><span class="k">)</span> <span class="k">=</span>
        <span class="kr">if</span> <span class="n">Enum</span><span class="k">.</span><span class="n">to_int</span> <span class="n">dt</span><span class="k">.</span><span class="n">DayOfWeek</span> <span class="k">=</span> <span class="mi">6</span> <span class="kr">then</span> <span class="k">[]</span>
        <span class="kr">else</span> <span class="k">(</span><span class="n">dt</span><span class="k">.</span><span class="n">ToString</span><span class="k">()</span> <span class="o">^</span> <span class="s2">&quot; : &quot;</span> <span class="o">^</span> <span class="n">dt</span><span class="k">.</span><span class="n">DayOfWeek</span><span class="k">.</span><span class="n">ToString</span><span class="k">())::(</span><span class="n">getting</span> <span class="k">(</span><span class="n">dt</span><span class="k">.</span><span class="n">AddDays</span><span class="k">(</span><span class="n">float</span> <span class="mi">1</span><span class="k">)))</span> <span class="kr">in</span>
    <span class="n">String</span><span class="k">.</span><span class="n">concat</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="k">(</span><span class="n">getting</span> <span class="k">(</span><span class="n">date</span><span class="k">.</span><span class="n">AddDays</span><span class="k">(</span> <span class="n">float</span> <span class="k">(</span><span class="mi">1</span> <span class="k">-</span> <span class="n">Enum</span><span class="k">.</span><span class="n">to_int</span> <span class="n">date</span><span class="k">.</span><span class="n">DayOfWeek</span><span class="k">))));;</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/1015/addtag/" class="addtag" id="addtag_1015">タグ</a>:
	
    
    <a href="/web/20090620083848/http://ja.doukaku.org/tag/F%23/">F#</a>
    
	&nbsp;

	
      [<a href="/web/20090620083848/http://ja.doukaku.org/lang/ocaml/">
		OCaml
      </a>]
	  
      [<a href="/web/20090620083848/http://ja.doukaku.org/comment/1015/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090620083848/http://ja.doukaku.org/comment/1015/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_1015"
  >-</span><span
  class="button yellow"
  id="rating_z_1015"
  >0</span><span 
  class="button green"
  id="rating_p_1015"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/1015/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment1357">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/117/" target="_top">katsu</a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/star_silver.png" border=0/></a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/1357/">#1357</a>(<script language="JavaScript">print_time(new Date("2007/07/23 02:25 GMT"));</script><noscript>2007/07/23 02:25 GMT</noscript>)
	
	
	
	[<a href="/web/20090620083848/http://ja.doukaku.org/lang/prolog/">
	  Prolog
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>酷く面倒です。データの型変換とか自動のLLはいいなぁ。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></td><td class="code"><div class="highlight"><pre>week(Y,M,D,R):-
        format_time(atom(WeekP), &quot;%a&quot;, date(Y,M,D,0,0,0,0,-,-),posix),
        weekdays(WD),
        find_index(WeekP,WD,WeekN),
        between(0,4,I),
        D1 is D - WeekN + I,
        date_time_stamp(date(Y,M,D1,0,0,0,0,-,-), Stamp),
        stamp_date_time(Stamp,D2,0),
        date_time_value(date,D2,R).

weekdays([&#39;Mon&#39;,&#39;Tue&#39;,&#39;Wed&#39;,&#39;Thu&#39;,&#39;Fri&#39;,&#39;Sat&#39;,&#39;Sun&#39;]).

find_index(A,L,R):-find_index(A,L,0,R).
find_index(_,[],_,_):-fail.
find_index(A,[L|_],I,I):- A==L,!.
find_index(A,[_|Ls],I,R):-writeln([A,Ls]),succ(I,I1),find_index(A,Ls,I1,R).

:-findall(X,week(2007,07,31,X),Xs),writeln(Xs).
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/1357/addtag/" class="addtag" id="addtag_1357">タグ</a>:
	
    
    <a href="/web/20090620083848/http://ja.doukaku.org/tag/SWI-prolog/">SWI-prolog</a>
    
	&nbsp;

	
      [<a href="/web/20090620083848/http://ja.doukaku.org/lang/prolog/">
		Prolog
      </a>]
	  
      [<a href="/web/20090620083848/http://ja.doukaku.org/comment/1357/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090620083848/http://ja.doukaku.org/comment/1357/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_1357"
  >-</span><span
  class="button yellow"
  id="rating_z_1357"
  >0</span><span 
  class="button green"
  id="rating_p_1357"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/1357/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment1366">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/41/" target="_top">shiro</a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/1366/">#1366</a>(<script language="JavaScript">print_time(new Date("2007/07/23 08:54 GMT"));</script><noscript>2007/07/23 08:54 GMT</noscript>)
	
	
	
	[<a href="/web/20090620083848/http://ja.doukaku.org/lang/haskell/">
	  Haskell
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>Haskell練習中。
コンストラクタに渡す値ってのは省略できないのだろうか。
CalendarTimeのフィールドには重複する情報があるわけだけど
(year, month, dateが与えれれれば曜日と日付の通し番号は決まる)
全部与えてやらないとコンパイルが通らない。
一回ClockTimeに変換してCalendarTimeに戻すルーチンを
わざわざ噛ませてみたけど、もっとスマートなやりかたが
あるんじゃなかろうか。

実行例 (週は月曜はじまりと解釈してる):
*Main&gt; weekDaysOf 2007 July 22
2007/07/16 (Mon)
2007/07/17 (Tue)
2007/07/18 (Wed)
2007/07/19 (Thu)
2007/07/20 (Fri)
*Main&gt; weekDaysOf 2007 July 23
2007/07/23 (Mon)
2007/07/24 (Tue)
2007/07/25 (Wed)
2007/07/26 (Thu)
2007/07/27 (Fri)
*Main&gt; weekDaysOf 2007 July 27
2007/07/23 (Mon)
2007/07/24 (Tue)
2007/07/25 (Wed)
2007/07/26 (Thu)
2007/07/27 (Fri)



</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></td><td class="code"><div class="highlight"><pre><span class="kr">import</span> <span class="n">Time</span>
<span class="kr">import</span> <span class="n">Locale</span>

<span class="nv">weekDaysOf</span> <span class="nv">year</span> <span class="nv">month</span> <span class="nv">day</span> <span class="o">=</span>
  <span class="kr">do</span> <span class="nv">ct</span> <span class="o">&lt;-</span> <span class="nv">ymdToCalendarTime</span> <span class="nv">year</span> <span class="nv">month</span> <span class="nv">day</span>
     <span class="nv">showDays</span> <span class="o">$</span> <span class="nv">map</span> <span class="p">(</span><span class="o">\</span><span class="nv">d</span> <span class="o">-&gt;</span> <span class="nv">addToClockTime</span> <span class="nv">d</span> <span class="p">(</span><span class="nv">toClockTime</span> <span class="nv">ct</span><span class="p">))</span> <span class="o">$</span> <span class="nv">offsets</span> <span class="o">$</span> <span class="nv">weekDayNum</span> <span class="nv">ct</span>
  <span class="kr">where</span> <span class="nv">offsets</span> <span class="nv">wd</span> <span class="o">=</span> <span class="nv">map</span> <span class="p">(</span><span class="o">\</span><span class="nv">i</span> <span class="o">-&gt;</span> <span class="n">TimeDiff</span> <span class="mi">0</span> <span class="mi">0</span> <span class="p">(</span><span class="nv">i</span><span class="o">-</span><span class="p">(</span><span class="nv">wd</span><span class="o">-</span><span class="mi">1</span> <span class="p">`</span><span class="nv">mod</span><span class="p">`</span> <span class="mi">7</span><span class="p">))</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">)</span> <span class="p">[</span><span class="mi">0</span><span class="o">..</span><span class="mi">4</span><span class="p">]</span>
        <span class="nv">showDays</span> <span class="p">[]</span> <span class="o">=</span> <span class="nv">return</span> <span class="p">()</span>
        <span class="nv">showDays</span> <span class="p">(</span><span class="nv">d</span><span class="o">:</span><span class="nv">ds</span><span class="p">)</span> <span class="o">=</span> <span class="kr">do</span> <span class="nv">ct</span> <span class="o">&lt;-</span> <span class="nv">toCalendarTime</span> <span class="nv">d</span>
                             <span class="nv">putStrLn</span> <span class="o">$</span> <span class="nv">formatCalendarTime</span> <span class="nv">defaultTimeLocale</span> <span class="s">&quot;%Y/%m/%d (%a)&quot;</span> <span class="nv">ct</span>
                             <span class="nv">showDays</span> <span class="nv">ds</span>

<span class="nv">ymdToCalendarTime</span> <span class="nv">y</span> <span class="nv">m</span> <span class="nv">d</span> <span class="o">=</span> <span class="nv">toCalendarTime</span> <span class="o">$</span> <span class="nv">toClockTime</span> <span class="o">$</span> <span class="n">CalendarTime</span> <span class="nv">y</span> <span class="nv">m</span> <span class="nv">d</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="n">Sunday</span> <span class="mi">0</span> <span class="s">&quot;&quot;</span> <span class="mi">0</span> <span class="n">False</span>

<span class="nv">weekDayNum</span> <span class="p">(</span><span class="n">CalendarTime</span> <span class="kr">_</span> <span class="kr">_</span> <span class="kr">_</span> <span class="kr">_</span> <span class="kr">_</span> <span class="kr">_</span> <span class="kr">_</span> <span class="nv">wd</span> <span class="kr">_</span> <span class="kr">_</span> <span class="kr">_</span> <span class="kr">_</span><span class="p">)</span> <span class="o">=</span> <span class="nv">fromEnum</span> <span class="nv">wd</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/1366/addtag/" class="addtag" id="addtag_1366">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090620083848/http://ja.doukaku.org/lang/haskell/">
		Haskell
      </a>]
	  
      [<a href="/web/20090620083848/http://ja.doukaku.org/comment/1366/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090620083848/http://ja.doukaku.org/comment/1366/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_1366"
  >-</span><span
  class="button yellow"
  id="rating_z_1366"
  >0</span><span 
  class="button green"
  id="rating_p_1366"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20090620083848/http://ja.doukaku.org/comment/1366/">
    2
    replies
  </a>

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/1366/">
  返信
  </a>]
  </div>
</div>
</div>




  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      





<div class="comment" id="comment1367">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/41/" target="_top">shiro</a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/1367/">#1367</a>(<script language="JavaScript">print_time(new Date("2007/07/23 09:05 GMT"));</script><noscript>2007/07/23 09:05 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  weekDayNumはいらないか。fromEnum $ ctWDay ct でいいのね。

	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/1367/addtag/" class="addtag" id="addtag_1367">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_1367"
  >-</span><span
  class="button yellow"
  id="rating_z_1367"
  >0</span><span 
  class="button green"
  id="rating_p_1367"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20090620083848/http://ja.doukaku.org/comment/1366/"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20090620083848/http://ja.doukaku.org/comment/1367/root/"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/1367/">
  返信
  </a>]
  </div>
</div>
</div>




  


    </div>
  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      





<div class="comment" id="comment2175">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/388/" target="_top">drop</a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/star_bronze.png" border=0/></a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/2175/">#2175</a>(<script language="JavaScript">print_time(new Date("2007/08/14 15:35 GMT"));</script><noscript>2007/08/14 15:35 GMT</noscript>)
	
	
	
	[<a href="/web/20090620083848/http://ja.doukaku.org/lang/haskell/">
	  Haskell
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>System.Time とは別に Data.Time というものがあったり。

Main&gt; weekDaysOf 2007 12 30
2007-12-24
2007-12-25
2007-12-26
2007-12-27
2007-12-28
Main&gt; weekDaysOf 2007 12 31
2007-12-31
2008-01-01
2008-01-02
2008-01-03
2008-01-04
Main&gt; weekDaysOf 2008 1 5
2007-12-31
2008-01-01
2008-01-02
2008-01-03
2008-01-04</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5
6</pre></td><td class="code"><div class="highlight"><pre><span class="kr">import</span> <span class="n">Data</span><span class="o">.</span><span class="n">Time</span><span class="o">.</span><span class="n">Calendar</span>
<span class="kr">import</span> <span class="n">Data</span><span class="o">.</span><span class="n">Time</span><span class="o">.</span><span class="n">Calendar</span><span class="o">.</span><span class="n">WeekDate</span>

<span class="nv">weekDaysOf</span> <span class="o">=</span> <span class="p">(((</span><span class="nv">flip</span> <span class="nv">mapM_</span> <span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">5</span><span class="p">]</span> <span class="o">.</span> <span class="p">(</span><span class="nv">print</span> <span class="o">.</span><span class="p">)</span>
             <span class="o">.</span> <span class="p">(</span><span class="o">\</span><span class="p">(</span><span class="nv">y</span><span class="p">,</span><span class="nv">w</span><span class="p">,</span><span class="kr">_</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nv">fromWeekDate</span> <span class="nv">y</span> <span class="nv">w</span><span class="p">)</span>
             <span class="o">.</span> <span class="nv">toWeekDate</span><span class="p">)</span><span class="o">.</span><span class="p">)</span><span class="o">.</span><span class="p">)</span> <span class="o">.</span> <span class="nv">fromGregorian</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/2175/addtag/" class="addtag" id="addtag_2175">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090620083848/http://ja.doukaku.org/lang/haskell/">
		Haskell
      </a>]
	  
      [<a href="/web/20090620083848/http://ja.doukaku.org/comment/2175/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090620083848/http://ja.doukaku.org/comment/2175/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2175"
  >-</span><span
  class="button yellow"
  id="rating_z_2175"
  >0</span><span 
  class="button green"
  id="rating_p_2175"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20090620083848/http://ja.doukaku.org/comment/1366/"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20090620083848/http://ja.doukaku.org/comment/2175/root/"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/2175/">
  返信
  </a>]
  </div>
</div>
</div>




  


    </div>
  


  

  

  
    





<div class="comment" id="comment1452">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/1452/">#1452</a>(<script language="JavaScript">print_time(new Date("2007/07/25 14:19 GMT"));</script><noscript>2007/07/25 14:19 GMT</noscript>)
	
	
	
	[<a href="/web/20090620083848/http://ja.doukaku.org/lang/javascript/">
	  JavaScript
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>alert(thisweek(new Date(2007, 6, 25), ',月,火,水,木,金,').join('\n'));
で月曜日から金曜日までを出力．Dateオブジェクトがそれぞれ格納された配列が戻ってくる．

thisweek(new Date(2007, 6, 25), ',1,1,1,1,1,,,1,1,1,1,1')
で翌週分の表示が可能．</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5
6
7
8
9</pre></td><td class="code"><div class="highlight"><pre><span class="k">function</span> <span class="nx">thisweek</span><span class="p">(</span><span class="nx">d</span><span class="o">,</span> <span class="nx">m</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">m</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">);</span>
	<span class="k">var</span> <span class="nx">o</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Array</span><span class="p">();</span>
	<span class="k">for</span> <span class="p">(</span><span class="k">var</span> <span class="nx">l</span><span class="o">=</span><span class="nx">x</span><span class="p">.</span><span class="nx">length</span><span class="o">,</span> <span class="nx">e</span><span class="o">=</span><span class="mi">86400000</span><span class="o">,</span> <span class="nx">k</span><span class="o">=</span><span class="nx">d</span><span class="o">-</span><span class="nx">e</span><span class="o">*</span><span class="nx">d</span><span class="p">.</span><span class="nx">getDay</span><span class="p">();</span> <span class="nx">l</span><span class="o">--;</span> <span class="nx">x</span><span class="p">[</span><span class="nx">l</span><span class="p">]</span><span class="o">?</span><span class="nx">o</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">k</span><span class="o">+</span><span class="nx">e</span><span class="o">*</span><span class="nx">l</span><span class="p">))</span><span class="o">:</span><span class="mi">1</span><span class="p">);</span>
	<span class="k">return</span> <span class="nx">o</span><span class="p">.</span><span class="nx">reverse</span><span class="p">();</span>
<span class="p">}</span>

<span class="nx">alert</span><span class="p">(</span><span class="nx">thisweek</span><span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="mi">2007</span><span class="o">,</span> <span class="mi">6</span><span class="o">,</span> <span class="mi">25</span><span class="p">)</span><span class="o">,</span> <span class="s1">&#39;,1,1,1,1,1,&#39;</span><span class="p">).</span><span class="nx">join</span><span class="p">(</span><span class="s1">&#39;\n&#39;</span><span class="p">));</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/1452/addtag/" class="addtag" id="addtag_1452">タグ</a>:
	
    
    <a href="/web/20090620083848/http://ja.doukaku.org/tag/JavaScript/">JavaScript</a>
    
	&nbsp;

	
      [<a href="/web/20090620083848/http://ja.doukaku.org/lang/javascript/">
		JavaScript
      </a>]
	  
      [<a href="/web/20090620083848/http://ja.doukaku.org/comment/1452/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090620083848/http://ja.doukaku.org/comment/1452/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_1452"
  >-</span><span
  class="button yellow"
  id="rating_z_1452"
  >0</span><span 
  class="button green"
  id="rating_p_1452"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/1452/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment1602">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/1602/">#1602</a>(<script language="JavaScript">print_time(new Date("2007/07/30 20:13 GMT"));</script><noscript>2007/07/30 20:13 GMT</noscript>)
	
	
	
	[<a href="/web/20090620083848/http://ja.doukaku.org/lang/c/">
	  C
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>標準ライブラリだけで実現させてみました☆
西暦214748年まで対応、日曜始まり仕様です☆</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47</pre></td><td class="code"><div class="highlight"><pre><span class="cp">#include&lt;stdio.h&gt;</span>

<span class="c">//日付をシリアル値に変換。</span>
<span class="kt">int</span> <span class="n">date_to_serial</span><span class="p">(</span><span class="kt">int</span> <span class="n">date</span><span class="p">){</span>
  <span class="kt">int</span> <span class="n">y</span><span class="o">=</span><span class="n">date</span><span class="o">/</span><span class="mi">10000</span><span class="p">,</span>
      <span class="n">m</span><span class="o">=</span><span class="n">date</span><span class="o">/</span><span class="mi">100</span><span class="o">%</span><span class="mi">100</span><span class="p">,</span>
      <span class="n">d</span><span class="o">=</span><span class="n">date</span><span class="o">%</span><span class="mi">100</span><span class="p">;</span>
  <span class="k">if</span><span class="p">(</span><span class="n">m</span><span class="o">&lt;</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">y</span><span class="o">--</span><span class="p">,</span><span class="n">m</span><span class="o">+=</span><span class="mi">12</span><span class="p">;</span>
  <span class="k">return</span> <span class="n">y</span><span class="o">*</span><span class="mi">365</span><span class="o">+</span><span class="n">y</span><span class="o">/</span><span class="mi">4</span><span class="o">-</span><span class="n">y</span><span class="o">/</span><span class="mi">100</span><span class="o">+</span><span class="n">y</span><span class="o">/</span><span class="mi">400</span><span class="o">+</span><span class="p">(</span><span class="n">m</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="mi">306</span><span class="o">/</span><span class="mi">10</span><span class="o">+</span><span class="n">d</span><span class="o">-</span><span class="mi">428</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">//シリアル値を日付に変換。</span>
<span class="kt">int</span> <span class="n">serial_to_date</span><span class="p">(</span><span class="kt">int</span> <span class="n">serial</span><span class="p">){</span>
  <span class="kt">int</span> <span class="n">y</span><span class="p">,</span><span class="n">m</span><span class="p">,</span><span class="n">d</span><span class="p">;</span>
  <span class="n">y</span><span class="o">=</span><span class="p">(</span><span class="n">serial</span><span class="o">+</span><span class="mi">305</span><span class="p">)</span><span class="o">/</span><span class="mi">146097</span><span class="o">*</span><span class="mi">400</span><span class="o">+</span>
    <span class="p">(</span><span class="n">serial</span><span class="o">+</span><span class="mi">305</span><span class="p">)</span><span class="o">%</span><span class="mi">146097</span><span class="o">/</span><span class="mi">36524</span><span class="o">*</span><span class="mi">100</span><span class="o">+</span>
    <span class="p">(</span><span class="n">serial</span><span class="o">+</span><span class="mi">305</span><span class="p">)</span><span class="o">%</span><span class="mi">146097</span><span class="o">%</span><span class="mi">36524</span><span class="o">/</span><span class="mi">1461</span><span class="o">*</span><span class="mi">4</span><span class="o">+</span>
    <span class="p">(</span><span class="n">serial</span><span class="o">+</span><span class="mi">305</span><span class="p">)</span><span class="o">%</span><span class="mi">146097</span><span class="o">%</span><span class="mi">36524</span><span class="o">%</span><span class="mi">1461</span><span class="o">/</span><span class="mi">365</span><span class="p">;</span>
  <span class="n">m</span><span class="o">=</span><span class="p">((</span><span class="n">serial</span><span class="o">+</span><span class="mi">305</span><span class="o">-</span><span class="n">y</span><span class="o">*</span><span class="mi">365</span><span class="o">-</span><span class="n">y</span><span class="o">/</span><span class="mi">4</span><span class="o">+</span><span class="n">y</span><span class="o">/</span><span class="mi">100</span><span class="o">-</span><span class="n">y</span><span class="o">/</span><span class="mi">400</span><span class="p">)</span><span class="o">*</span><span class="mi">10</span><span class="o">+</span><span class="mi">922</span><span class="p">)</span><span class="o">/</span><span class="mi">306</span><span class="p">;</span>
  <span class="c">//m=((serial+305-y*365-y/4+y/100-y/400)*10+923)/306;</span>
  <span class="n">d</span><span class="o">=</span><span class="n">serial</span><span class="o">-</span><span class="n">y</span><span class="o">*</span><span class="mi">365</span><span class="o">-</span><span class="n">y</span><span class="o">/</span><span class="mi">4</span><span class="o">+</span><span class="n">y</span><span class="o">/</span><span class="mi">100</span><span class="o">-</span><span class="n">y</span><span class="o">/</span><span class="mi">400</span><span class="o">-</span><span class="p">(</span><span class="n">m</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="mi">306</span><span class="o">/</span><span class="mi">10</span><span class="o">+</span><span class="mi">428</span><span class="p">;</span>
  <span class="k">if</span><span class="p">(</span><span class="n">m</span><span class="o">&gt;</span><span class="mi">12</span><span class="p">)</span>
    <span class="n">y</span><span class="o">++</span><span class="p">,</span><span class="n">m</span><span class="o">-=</span><span class="mi">12</span><span class="p">;</span>
  <span class="k">if</span><span class="p">(</span><span class="n">d</span><span class="o">==</span><span class="mi">31</span><span class="o">&amp;&amp;</span><span class="n">m</span><span class="o">==</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">d</span><span class="o">=</span><span class="mi">29</span><span class="p">;</span>
  <span class="k">return</span> <span class="n">y</span><span class="o">*</span><span class="mi">10000</span><span class="o">+</span><span class="n">m</span><span class="o">*</span><span class="mi">100</span><span class="o">+</span><span class="n">d</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="n">main</span><span class="p">(</span><span class="kt">void</span><span class="p">){</span>
  <span class="kt">int</span> <span class="n">date</span><span class="p">,</span><span class="n">serial</span><span class="p">,</span><span class="n">i</span><span class="p">;</span>
  <span class="kt">char</span> <span class="o">*</span><span class="n">weekday</span><span class="p">[]</span><span class="o">=</span><span class="p">{</span><span class="s">&quot;Sunday&quot;</span><span class="p">,</span><span class="s">&quot;Monday&quot;</span><span class="p">,</span><span class="s">&quot;Tuesday&quot;</span><span class="p">,</span><span class="s">&quot;Wednesday&quot;</span><span class="p">,</span><span class="s">&quot;Thursday&quot;</span><span class="p">,</span><span class="s">&quot;Friday&quot;</span><span class="p">,</span><span class="s">&quot;Saturday&quot;</span><span class="p">};</span>
  <span class="k">while</span><span class="p">(</span><span class="mi">1</span><span class="p">){</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;yyyymmdd=&quot;</span><span class="p">);</span>
    <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span><span class="o">&amp;</span><span class="n">date</span><span class="p">);</span>
    <span class="k">if</span><span class="p">(</span><span class="n">date</span><span class="o">&lt;</span><span class="mi">10101</span><span class="o">||</span><span class="n">date</span><span class="o">&gt;</span><span class="mi">2147481231</span><span class="p">)</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="n">serial</span><span class="o">=</span><span class="n">date_to_serial</span><span class="p">(</span><span class="n">date</span><span class="p">);</span>
    <span class="c">//週の始まりを月曜とする場合、以下を有効にする。</span>
    <span class="c">//serial--;</span>
    <span class="n">serial</span><span class="o">-=</span><span class="n">serial</span><span class="o">%</span><span class="mi">7</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="n">serial</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">serial</span><span class="o">+</span><span class="mi">6</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
      <span class="n">date</span><span class="o">=</span><span class="n">serial_to_date</span><span class="p">(</span><span class="n">i</span><span class="p">),</span>
      <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d/%02d/%02d [%-9s]</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">date</span><span class="o">/</span><span class="mi">10000</span><span class="p">,</span><span class="n">date</span><span class="o">/</span><span class="mi">100</span><span class="o">%</span><span class="mi">100</span><span class="p">,</span><span class="n">date</span><span class="o">%</span><span class="mi">100</span><span class="p">,</span><span class="n">weekday</span><span class="p">[</span><span class="n">i</span><span class="o">%</span><span class="mi">7</span><span class="p">]);</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/1602/addtag/" class="addtag" id="addtag_1602">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090620083848/http://ja.doukaku.org/lang/c/">
		C
      </a>]
	  
      [<a href="/web/20090620083848/http://ja.doukaku.org/comment/1602/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090620083848/http://ja.doukaku.org/comment/1602/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_1602"
  >-</span><span
  class="button yellow"
  id="rating_z_1602"
  >0</span><span 
  class="button green"
  id="rating_p_1602"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/1602/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment1663">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/96/" target="_top">ether</a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/star_silver.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/1663/">#1663</a>(<script language="JavaScript">print_time(new Date("2007/08/01 15:36 GMT"));</script><noscript>2007/08/01 15:36 GMT</noscript>)
	
	
	
	[<a href="/web/20090620083848/http://ja.doukaku.org/lang/powershell/">
	  PowerShell
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4</pre></td><td class="code"><div class="highlight"><pre>$day = [datetime] $args[0]
$dow = $day.DayOfWeek
$sunday = $day.AddDays(-$dow)
1..5 | % { $sunday.AddDays($_).ToShortDateString() }
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/1663/addtag/" class="addtag" id="addtag_1663">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090620083848/http://ja.doukaku.org/lang/powershell/">
		PowerShell
      </a>]
	  
      [<a href="/web/20090620083848/http://ja.doukaku.org/comment/1663/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090620083848/http://ja.doukaku.org/comment/1663/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_1663"
  >-</span><span
  class="button yellow"
  id="rating_z_1663"
  >0</span><span 
  class="button green"
  id="rating_p_1663"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/1663/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment1707">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/323/" target="_top">tomatsu</a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/1707/">#1707</a>(<script language="JavaScript">print_time(new Date("2007/08/02 12:25 GMT"));</script><noscript>2007/08/02 12:25 GMT</noscript>)
	
	
	
	[<a href="/web/20090620083848/http://ja.doukaku.org/lang/pnuts/">
	  Pnuts
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'></pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5</pre></td><td class="code"><div class="highlight"><pre>function get_week(year,month,day){
   d = date(year,month,day)
   w = getDayOfWeek(d)
   for (i:2..6) println(formatDateTime(addDay(d, i-w), &quot;yyyy/MM/dd (E)&quot;))
}
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/1707/addtag/" class="addtag" id="addtag_1707">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090620083848/http://ja.doukaku.org/lang/pnuts/">
		Pnuts
      </a>]
	  
      [<a href="/web/20090620083848/http://ja.doukaku.org/comment/1707/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090620083848/http://ja.doukaku.org/comment/1707/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_1707"
  >-</span><span
  class="button yellow"
  id="rating_z_1707"
  >0</span><span 
  class="button green"
  id="rating_p_1707"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/1707/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment1757">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/78/" target="_top">morchin</a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/1757/">#1757</a>(<script language="JavaScript">print_time(new Date("2007/08/03 03:07 GMT"));</script><noscript>2007/08/03 03:07 GMT</noscript>)
	
	
	
	[<a href="/web/20090620083848/http://ja.doukaku.org/lang/python/">
	  Python
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  #342とほぼ同じ。
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></td><td class="code"><div class="highlight"><pre><span class="k">import</span> <span class="nn">datetime</span>

<span class="k">def</span> <span class="nf">print_week</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">d</span><span class="p">):</span>
	<span class="n">day</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
	<span class="n">one</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
	<span class="n">day</span> <span class="o">-=</span> <span class="n">one</span> <span class="o">*</span> <span class="n">day</span><span class="o">.</span><span class="n">weekday</span><span class="p">()</span>
	<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
		<span class="k">print</span> <span class="n">day</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">&#39;%Y-%m-</span><span class="si">%d</span><span class="s"> (%a)&#39;</span><span class="p">)</span>
		<span class="n">day</span> <span class="o">+=</span> <span class="n">one</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
	<span class="n">print_week</span><span class="p">(</span><span class="mi">2007</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
	
	<span class="c"># 2007-07-30 (Mon)</span>
	<span class="c"># 2007-07-31 (Tue)</span>
	<span class="c"># 2007-08-01 (Wed)</span>
	<span class="c"># 2007-08-02 (Thu)</span>
	<span class="c"># 2007-08-03 (Fri)</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/1757/addtag/" class="addtag" id="addtag_1757">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090620083848/http://ja.doukaku.org/lang/python/">
		Python
      </a>]
	  
      [<a href="/web/20090620083848/http://ja.doukaku.org/comment/1757/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090620083848/http://ja.doukaku.org/comment/1757/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_1757"
  >-</span><span
  class="button yellow"
  id="rating_z_1757"
  >0</span><span 
  class="button green"
  id="rating_p_1757"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/1757/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment1923">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/237/" target="_top">talo</a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/1923/">#1923</a>(<script language="JavaScript">print_time(new Date("2007/08/06 08:56 GMT"));</script><noscript>2007/08/06 08:56 GMT</noscript>)
	
	
	
	[<a href="/web/20090620083848/http://ja.doukaku.org/lang/java/">
	  Java
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>Java の日付 API のことだからめんどくせーんだろうなって思ってやってみたけど、
想像以上にエレガントにできた。

実質の処理は16行目～20行目のたった5行。
他は初期化とか入力エラー処理とか。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></td><td class="code"><div class="highlight"><pre><span class="k">import</span> <span class="nn">java.util.Calendar</span><span class="o">;</span>
<span class="k">import</span> <span class="nn">java.util.GregorianCalendar</span><span class="o">;</span>
<span class="k">import</span> <span class="nn">java.text.SimpleDateFormat</span><span class="o">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">MainMyCalendar</span> <span class="o">{</span>
    <span class="k">public</span> <span class="k">static</span> <span class="kt">void</span> <span class="n">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">args</span><span class="o">.</span><span class="na">length</span> <span class="o">!=</span> <span class="mi">3</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">System</span><span class="o">.</span><span class="na">err</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Usage: please input -&gt; YEAR MONTH DAY\n&quot;</span>
                    <span class="o">+</span> <span class="s">&quot;ex) java MainMyCalendar 2007 8 6&quot;</span><span class="o">);</span>
            <span class="n">System</span><span class="o">.</span><span class="na">exit</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="n">SimpleDateFormat</span> <span class="n">sdf</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SimpleDateFormat</span><span class="o">(</span><span class="s">&quot;yyyy/MM/dd&quot;</span><span class="o">);</span>
        <span class="n">Calendar</span> <span class="n">cal</span> <span class="o">=</span> <span class="k">new</span> <span class="n">GregorianCalendar</span><span class="o">(</span><span class="n">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">args</span><span class="o">[</span><span class="mi">0</span><span class="o">]),</span>
                <span class="n">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">args</span><span class="o">[</span><span class="mi">1</span><span class="o">])</span> <span class="o">-</span> <span class="mi">1</span><span class="o">,</span> <span class="n">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">args</span><span class="o">[</span><span class="mi">2</span><span class="o">]));</span>

        <span class="n">cal</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">Calendar</span><span class="o">.</span><span class="na">DATE</span><span class="o">,</span> <span class="n">Calendar</span><span class="o">.</span><span class="na">MONDAY</span> <span class="o">-</span> <span class="n">cal</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">Calendar</span><span class="o">.</span><span class="na">DAY_OF_WEEK</span><span class="o">));</span>
        <span class="k">while</span> <span class="o">(</span><span class="n">cal</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">Calendar</span><span class="o">.</span><span class="na">DAY_OF_WEEK</span><span class="o">)</span> <span class="o">&lt;=</span> <span class="n">Calendar</span><span class="o">.</span><span class="na">FRIDAY</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">sdf</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="n">cal</span><span class="o">.</span><span class="na">getTime</span><span class="o">()));</span>
            <span class="n">cal</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">Calendar</span><span class="o">.</span><span class="na">DATE</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/1923/addtag/" class="addtag" id="addtag_1923">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090620083848/http://ja.doukaku.org/lang/java/">
		Java
      </a>]
	  
      [<a href="/web/20090620083848/http://ja.doukaku.org/comment/1923/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090620083848/http://ja.doukaku.org/comment/1923/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_1923"
  >-</span><span
  class="button yellow"
  id="rating_z_1923"
  >0</span><span 
  class="button green"
  id="rating_p_1923"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/1923/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment2077">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/348/" target="_top">naoya_t</a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/2077/">#2077</a>(<script language="JavaScript">print_time(new Date("2007/08/12 08:35 GMT"));</script><noscript>2007/08/12 08:35 GMT</noscript>)
	
	
	
	[<a href="/web/20090620083848/http://ja.doukaku.org/lang/awk/">
	  awk
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>日付を処理する関数は自前です。

日曜にあたる日付が入力された場合、
日曜を週の初めとするか終わりとするかで
解が異なります。

プログラム冒頭の定数 sunday_first で
どちらを表示するか設定します。

年、月、日は数字以外の文字（スペース可）で
区切って入力します。

% awk -f weekday.awk
2007/8/15
2007年8月13日(月)
2007年8月14日(火)
2007年8月15日(水)
2007年8月16日(木)
2007年8月17日(金)
2007.10.30
2007年10月29日(月)
2007年10月30日(火)
2007年10月31日(水)
2007年11月1日(木)
2007年11月2日(金)
2008 1 1
2007年12月31日(月)
2008年1月1日(火)
2008年1月2日(水)
2008年1月3日(木)
2008年1月4日(金)</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104</pre></td><td class="code"><div class="highlight"><pre>BEGIN {
#	sunday_first = 1 # 日月火水木金土
	sunday_first = 0 # 月火水木金土日

	split(&quot;0 31 59 90 120 151 181 212 243 273 304 334 365&quot;, month_start_normal)
	split(&quot;0 31 60 91 121 152 182 213 244 274 305 335 366&quot;, month_start_leap)

	split(&quot;月 火 水 木 金 土 日&quot;, wday_ja)
	wday_ja[0] = wday_ja[6]

	SUNDAY    = 0
	MONDAY    = 1
	TUESDAY   = 2
	WEDNESDAY = 3
	THURSDAY  = 4
	FRIDAY    = 5
	SATURDAY  = 6

	FS = &quot;[^0-9]&quot;
}

(NF == 3) {
	year  = $1
	month = $2
	day   = $3

	j = ymd_to_j(year,month,day)
	w = wday(j)

	if (w == SUNDAY) {
		j_sun = sunday_first ? j : (j - 7)
	} else {
		j_sun = j - w
	}
	for (i=MONDAY; i&lt;=FRIDAY; i++) {
		j = j_sun + i
		j_to_ymd(j, date)
		printf(&quot;%d年%d月%d日(%s)¥n&quot;, date[&quot;y&quot;],date[&quot;m&quot;],date[&quot;d&quot;], wday_ja[wday(j)])
	}
}

function leap_year(year) # 閏年判定
{
	return (year % 4 == 0) ? ((year % 100 == 0) ? ((year % 400 == 0) ? 1 : 0) : 1) : 0
}

function ymd_to_j(year,month,day, y,d) # 通し日数 (AD1/1/1 = 1)
{
	y = year - 1
	d = 365*y + int(y/4) - int(y/100) + int(y/400)

	if (leap_year(year))
		d += month_start_leap[month]
	else
		d += month_start_normal[month]

	d += day
	return d
}

function wday(j) # 通し日数から曜日を得る
{
	return j % 7
}

function j_to_ymd(j,date, j400,y400,j100,y100,j4,y4,j1,y1, y) # 通し日数から日付を得る
{
	j400 = j % 146097
	y400 = 400 * ((j - j400) / 146097)

	j100 = j400 % 36524
	y100 = 100 * ((j400 - j100) / 36524)

	j4 = j100 % 1461
	y4 = 4 * ((j100 - j4) / 1461)

	j1 = j4 % 365
	y1 = (j4 - j1) / 365

	y = 1 + y400 + y100 + y4 + y1

	if (j1 == 0) {
		date[&quot;y&quot;] = y - 1
		date[&quot;m&quot;] = 12
		date[&quot;d&quot;] = 31
	} else {
		date[&quot;y&quot;] = y
		if (leap_year(y)) {
			for (m=1; m&lt;=12; m++)
				if (j1 &lt;= month_start_leap[m+1]) {
					date[&quot;m&quot;] = m
					date[&quot;d&quot;] = j1 - month_start_leap[m]
					return
				}
		} else {
			for (m=1; m&lt;=12; m++)
				if (j1 &lt;= month_start_normal[m+1]) {
					date[&quot;m&quot;] = m
					date[&quot;d&quot;] = j1 - month_start_normal[m]
					return
				}
		}
	}
}
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/2077/addtag/" class="addtag" id="addtag_2077">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090620083848/http://ja.doukaku.org/lang/awk/">
		awk
      </a>]
	  
      [<a href="/web/20090620083848/http://ja.doukaku.org/comment/2077/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090620083848/http://ja.doukaku.org/comment/2077/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2077"
  >-</span><span
  class="button yellow"
  id="rating_z_2077"
  >0</span><span 
  class="button green"
  id="rating_p_2077"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/2077/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  

  
    





<div class="comment" id="comment3211">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/451/" target="_top">cooldaemon</a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/3211/">#3211</a>(<script language="JavaScript">print_time(new Date("2007/10/01 09:45 GMT"));</script><noscript>2007/10/01 09:45 GMT</noscript>)
	
	
	
	[<a href="/web/20090620083848/http://ja.doukaku.org/lang/erlang/">
	  Erlang
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>日曜日を週の始まりとします。
使い方は、こんな感じです。
lists:foreach(fun ({{Year, Month, Day}, Week}) -&gt; io:fwrite("~p/~p/~p(~p)~n", [Year, Month, Day, Week]) end, foo:get_week(2007, 10, 1)).
</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></td><td class="code"><div class="highlight"><pre>-module(foo).
-export([get_week/3, get_week/1]).

get_week(Year, Month, Day) -&gt;
  get_week({Year, Month, Day}).

get_week(Date) -&gt;
  Week = calendar:day_of_the_week(Date),
  Days = calendar:date_to_gregorian_days(Date),
  StartDays = case Week of
    7 -&gt; Days + 1;
    _ -&gt; Days - Week + 1
  end,

  WeekAtoms = [mon, tue, wed, thu, fri],
  lists:map(
    fun (X) -&gt;
      ReturnDate = calendar:gregorian_days_to_date(X),
      WeekAtom = lists:nth(calendar:day_of_the_week(ReturnDate), WeekAtoms),
      {ReturnDate, WeekAtom}
    end,
    lists:seq(StartDays, StartDays+4)
  ).
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/3211/addtag/" class="addtag" id="addtag_3211">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090620083848/http://ja.doukaku.org/lang/erlang/">
		Erlang
      </a>]
	  
      [<a href="/web/20090620083848/http://ja.doukaku.org/comment/3211/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090620083848/http://ja.doukaku.org/comment/3211/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3211"
  >-</span><span
  class="button yellow"
  id="rating_z_3211"
  >0</span><span 
  class="button green"
  id="rating_p_3211"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/3211/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment3245">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/446/" target="_top">tilde</a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/3245/">#3245</a>(<script language="JavaScript">print_time(new Date("2007/10/04 08:33 GMT"));</script><noscript>2007/10/04 08:33 GMT</noscript>)
	
	
	
	[<a href="/web/20090620083848/http://ja.doukaku.org/lang/objectivec/">
	  Objective-C
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>OSXのCocoaとWindowsのGNUstepで動作確認しています。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></td><td class="code"><div class="highlight"><pre><span class="cp">#import &lt;Foundation/Foundation.h&gt;</span>

<span class="kt">void</span> <span class="nf">printWeekdays</span><span class="p">(</span> <span class="kt">unsigned</span> <span class="n">year</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">month</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">day</span> <span class="p">)</span> <span class="p">{</span>
	<span class="n">NSCalendarDate</span><span class="o">*</span> <span class="n">theDay</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSCalendarDate</span>
			<span class="nl">dateWithYear:</span><span class="n">year</span> <span class="nl">month:</span><span class="n">month</span> <span class="nl">day:</span><span class="n">day</span> <span class="nl">hour:</span><span class="mi">0</span> <span class="nl">minute:</span><span class="mi">0</span> <span class="nl">second:</span><span class="mi">0</span> <span class="nl">timeZone:</span><span class="nb">nil</span><span class="p">];</span>
	<span class="kt">int</span> <span class="n">offset</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="p">[</span><span class="n">theDay</span> <span class="n">dayOfWeek</span><span class="p">];</span>
	
	<span class="k">for</span> <span class="p">(</span> <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
		<span class="n">NSCalendarDate</span><span class="o">*</span> <span class="n">weekday</span> <span class="o">=</span>
				<span class="p">[</span><span class="n">theDay</span> <span class="nl">dateByAddingYears:</span><span class="mi">0</span> <span class="nl">months:</span><span class="mi">0</span> <span class="nl">days:</span><span class="n">offset</span> <span class="o">+</span> <span class="n">i</span> <span class="nl">hours:</span><span class="mi">0</span> <span class="nl">minutes:</span><span class="mi">0</span> <span class="nl">seconds:</span><span class="mi">0</span><span class="p">];</span>
		<span class="n">NSLog</span><span class="p">(</span> <span class="p">[</span><span class="n">weekday</span> <span class="nl">descriptionWithCalendarFormat:</span><span class="s">@&quot;%Y/%m/%d %A&quot;</span><span class="p">]</span> <span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span> <span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span><span class="o">**</span> <span class="n">argv</span> <span class="p">)</span> <span class="p">{</span>
    <span class="n">NSAutoreleasePool</span> <span class="o">*</span> <span class="n">pool</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSAutoreleasePool</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
	
	<span class="n">printWeekdays</span><span class="p">(</span> <span class="mi">2000</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span> <span class="p">);</span>
	<span class="n">printWeekdays</span><span class="p">(</span> <span class="mi">2008</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span> <span class="p">);</span>
	
    <span class="p">[</span><span class="n">pool</span> <span class="n">release</span><span class="p">];</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/3245/addtag/" class="addtag" id="addtag_3245">タグ</a>:
	
    
    <a href="/web/20090620083848/http://ja.doukaku.org/tag/Cocoa/">Cocoa</a>
    
    <a href="/web/20090620083848/http://ja.doukaku.org/tag/GNUstep/">GNUstep</a>
    
    <a href="/web/20090620083848/http://ja.doukaku.org/tag/Mac/">Mac</a>
    
    <a href="/web/20090620083848/http://ja.doukaku.org/tag/OSX/">OSX</a>
    
	&nbsp;

	
      [<a href="/web/20090620083848/http://ja.doukaku.org/lang/objectivec/">
		Objective-C
      </a>]
	  
      [<a href="/web/20090620083848/http://ja.doukaku.org/comment/3245/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090620083848/http://ja.doukaku.org/comment/3245/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3245"
  >-</span><span
  class="button yellow"
  id="rating_z_3245"
  >0</span><span 
  class="button green"
  id="rating_p_3245"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/3245/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  

  
    





<div class="comment" id="comment4778">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/591/" target="_top">99yen</a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/4778/">#4778</a>(<script language="JavaScript">print_time(new Date("2007/12/12 09:14 GMT"));</script><noscript>2007/12/12 09:14 GMT</noscript>)
	
	
	
	[<a href="/web/20090620083848/http://ja.doukaku.org/lang/nadesico/">
	  なでしこ
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></td><td class="code"><div class="highlight"><pre>●WeekDays(Dateの)
    Youbiとは文字列=Dateの曜日
    &quot;月{~}火{~}水{~}木{~}金{~}土&quot;を反復
        もし(対象=Youbi)ならば
            Date = Dateに&quot;-//{回数}&quot;を日付加算
            抜ける
    5回
        Date = Dateに&quot;//1&quot;を日付加算
        &quot;{Date} ({Dateの曜日})&quot;を表示

今日のWeekDays
改行を表示
&quot;2007/12/31&quot;のWeekDays
改行を表示
&quot;2008/1/1&quot;のWeekDays
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/4778/addtag/" class="addtag" id="addtag_4778">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090620083848/http://ja.doukaku.org/lang/nadesico/">
		なでしこ
      </a>]
	  
      [<a href="/web/20090620083848/http://ja.doukaku.org/comment/4778/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090620083848/http://ja.doukaku.org/comment/4778/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_4778"
  >-</span><span
  class="button yellow"
  id="rating_z_4778"
  >0</span><span 
  class="button green"
  id="rating_p_4778"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/4778/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment5667">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/606/" target="_top">pooq</a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/star_bronze.png" border=0/></a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/5667/">#5667</a>(<script language="JavaScript">print_time(new Date("2008/02/03 12:18 GMT"));</script><noscript>2008/02/03 12:18 GMT</noscript>)
	
	
	
	[<a href="/web/20090620083848/http://ja.doukaku.org/lang/j/">
	  J
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>週の初めは日曜日。

   f 2008 1 30
2008 1 28
2008 1 29
2008 1 30
2008 1 31
2008 2  1
</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2</pre></td><td class="code"><div class="highlight"><pre>load &#39;dates&#39;
f=:3 :&#39;todate (&gt;: i.5) + (todayno - weekday) y&#39;
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/5667/addtag/" class="addtag" id="addtag_5667">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090620083848/http://ja.doukaku.org/lang/j/">
		J
      </a>]
	  
      [<a href="/web/20090620083848/http://ja.doukaku.org/comment/5667/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090620083848/http://ja.doukaku.org/comment/5667/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5667"
  >-</span><span
  class="button yellow"
  id="rating_z_5667"
  >0</span><span 
  class="button green"
  id="rating_p_5667"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/5667/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment5717">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/646/" target="_top">silverwire</a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/star_silver.png" border=0/></a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/5717/">#5717</a>(<script language="JavaScript">print_time(new Date("2008/02/09 18:17 GMT"));</script><noscript>2008/02/09 18:17 GMT</noscript>)
	
	
	
	[<a href="/web/20090620083848/http://ja.doukaku.org/lang/bat/">
	  Batchfile
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>週の最初の日は日曜日としました。

変数_ には、一ヶ月を31日とした場合の差分値を格納しています。 2月は一ヶ月を28日と
し、うるう年であれば値を補正しています。あと、日曜日の日付が負の値かどうかで、月
をまたぐかを判断しています。

  e.g.
    C:\&gt;week 2007 12 31
    Su Mo Tu We Th Fr Sa
    30 31  1  2  3  4  5

    C:\&gt;week 2008  1  1
    Su Mo Tu We Th Fr Sa
    30 31  1  2  3  4  5

    C:\&gt;week 2008  1 31
    Su Mo Tu We Th Fr Sa
    27 28 29 30 31  1  2

    C:\&gt;week 2008  2  1
    Su Mo Tu We Th Fr Sa
    27 28 29 30 31  1  2

    C:\&gt;week 2008  2 29
    Su Mo Tu We Th Fr Sa
    24 25 26 27 28 29  1

    C:\&gt;week 2009  2 28
    Su Mo Tu We Th Fr Sa
    22 23 24 25 26 27 28

遅延環境変数展開を利用しているので、Windows NTでは動作しません。Windows XPで動作
を確認。

# ところで、これまで投稿したものを合わせると、「年間カレンダー」をもっと綺麗に書
# けることに気がついた。巧妙に仕組まれた布石というか... こういうのを「孔明の罠」
# というのだろうか? </pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94</pre></td><td class="code"><div class="highlight"><pre>:: week.bat
@echo off
  setlocal enabledelayedexpansion
    set _= 030101001010
    set d=0
    set f=0
    set m=0
    set l=0
    set s=0
    set t=
    set z=0

    if &quot;%3&quot; == &quot;&quot; goto :EOF

    echo %1%2%3|findstr /r &quot;[^0-9]&quot; &gt;NUL 2&gt;&amp;1
    if %ERRORLEVEL% equ 0 (echo %~n0 [YEAR] [MONTH] [DAY] &amp; goto :EOF)

    :: 指定された日の曜日を取得
    call :Z %1 %2 %3 z

    :: 指定された日が存在する週の日曜日の日付を取得
    set /a f=%3-%z%

    :: 指定された月の日数を取得
    set /a m=%2
    :: 前月から指定された月にまたがる場合は月を補正
    if %f% leq 0 (
      if %2 equ 1 (set /a m=12) else (set /a m=%2-1)
    )
    set /a d=31-!_:~%m%,1!
    if %m% equ 2 call :L %1 l
    if %l% equ 1 set /a d+=1

    :: 指定された日が存在する週の日付のリストを生成
    for /l %%i in (0,1,6) do (
      set /a s=%f%+%%i
      if !s! leq   0 set /a s+=!d!
      if !s! gtr !d! set /a s-=!d!
      call :lpad !s! 2 s
      set t=!t!!s!
      if %%i lss 6 set t=!t! 
    )
  endlocal &amp; (echo Su Mo Tu We Th Fr Sa) &amp; echo %t%
goto :EOF

:: うるう年の判定
:L
  setlocal enabledelayedexpansion
    set n=0

    set /a n=%1%%400
    if %n% equ 0 endlocal &amp; set %2=1 &amp; goto :EOF

    set /a n=%1%%100
    if !n! equ 0 endlocal &amp; set %2=0 &amp; goto :EOF

    set /a n=%1%%4
    if !n! equ 0 endlocal &amp; set %2=1 &amp; goto :EOF
goto :EOF

:: ツェラーの公式
:Z
  setlocal
    set y=%1
    set m=%2

    if %m% leq 2 (set /a y-=1 &amp; set /a m+=12)

  endlocal &amp; set /a %4=(5*%y%/4-%y%/100+%y%/400+(26*%m%+16)/10+%3)%%7
goto :EOF

:lpad
  setlocal enabledelayedexpansion
    set l=0
    set t=

    call :length %1 l
    set /a l=%2-%l%
    for /l %%i in (1,1,%l%) do set t=!t! 
  endlocal &amp; set %3=%t%%1
goto :EOF

:length
  setlocal
    set i=0
    set t=%1
    set t=%t:&quot;=%

    :loop
      set t=%t:~1%
      set /a i+=1
    if not &quot;%t%&quot; == &quot;&quot; goto loop
  endlocal &amp; set %2=%i%
goto :EOF
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/5717/addtag/" class="addtag" id="addtag_5717">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090620083848/http://ja.doukaku.org/lang/bat/">
		Batchfile
      </a>]
	  
      [<a href="/web/20090620083848/http://ja.doukaku.org/comment/5717/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090620083848/http://ja.doukaku.org/comment/5717/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5717"
  >-</span><span
  class="button yellow"
  id="rating_z_5717"
  >0</span><span 
  class="button green"
  id="rating_p_5717"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20090620083848/http://ja.doukaku.org/comment/5717/">
    1
    reply
  </a>

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/5717/">
  返信
  </a>]
  </div>
</div>
</div>




  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      





<div class="comment" id="comment5721">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/646/" target="_top">silverwire</a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/star_silver.png" border=0/></a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/5721/">#5721</a>(<script language="JavaScript">print_time(new Date("2008/02/10 06:14 GMT"));</script><noscript>2008/02/10 06:14 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>一部不要な処理があったので、訂正します。

  e.g.
    48c48
    &lt;   setlocal enabledelayedexpansion
    ---
    &gt;   setlocal
    55c55
    &lt;     if !n! equ 0 endlocal &amp; set %2=0 &amp; goto :EOF
    ---
    &gt;     if %n% equ 0 endlocal &amp; set %2=0 &amp; goto :EOF
    58c58
    &lt;     if !n! equ 0 endlocal &amp; set %2=1 &amp; goto :EOF
    ---
    &gt;     if %n% equ 0 endlocal &amp; set %2=1 &amp; goto :EOF</pre>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/5721/addtag/" class="addtag" id="addtag_5721">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5721"
  >-</span><span
  class="button yellow"
  id="rating_z_5721"
  >0</span><span 
  class="button green"
  id="rating_p_5721"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20090620083848/http://ja.doukaku.org/comment/5717/"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20090620083848/http://ja.doukaku.org/comment/5721/root/"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/5721/">
  返信
  </a>]
  </div>
</div>
</div>




  


    </div>
  


  

  

  
    





<div class="comment" id="comment5749">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/681/" target="_top">queck</a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/star_silver.png" border=0/></a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/5749/">#5749</a>(<script language="JavaScript">print_time(new Date("2008/02/13 05:51 GMT"));</script><noscript>2008/02/13 05:51 GMT</noscript>)
	
	
	
	[<a href="/web/20090620083848/http://ja.doukaku.org/lang/other/">
	  Other
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <p>Factor です。日付の出力部分がもっとなんとかなる気がするのですが。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></td><td class="code"><div class="highlight"><pre>USING: kernel calendar sequences math.parser io ;

: write-date ( timestamp -- )
    dup timestamp-year number&gt;string write &quot;/&quot; write
    dup timestamp-month number&gt;string write &quot;/&quot; write
    dup timestamp-day number&gt;string write &quot;(&quot; write
    day-of-week day-abbreviations3 nth write &quot;)\n&quot; write ;

: week-days ( year month day -- )
    make-date monday [ swap +day write-date ] curry 5 swap each ;

! example
2008 2 13 week-days
! 2008/2/11(Mon)
! 2008/2/12(Tue)
! 2008/2/13(Wed)
! 2008/2/14(Thu)
! 2008/2/15(Fri)
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/5749/addtag/" class="addtag" id="addtag_5749">タグ</a>:
	
    
    <a href="/web/20090620083848/http://ja.doukaku.org/tag/Factor/">Factor</a>
    
	&nbsp;

	
      [<a href="/web/20090620083848/http://ja.doukaku.org/lang/other/">
		Other
      </a>]
	  
      [<a href="/web/20090620083848/http://ja.doukaku.org/comment/5749/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090620083848/http://ja.doukaku.org/comment/5749/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5749"
  >-</span><span
  class="button yellow"
  id="rating_z_5749"
  >0</span><span 
  class="button green"
  id="rating_p_5749"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/5749/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment5816">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/711/" target="_top">まさぽん</a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/5816/">#5816</a>(<script language="JavaScript">print_time(new Date("2008/02/20 23:29 GMT"));</script><noscript>2008/02/20 23:29 GMT</noscript>)
	
	
	
	[<a href="/web/20090620083848/http://ja.doukaku.org/lang/scheme/">
	  Scheme
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>指定した日付を、一度 Unix epoch からの秒数に直してから処理してます。

実行例:
gosh&gt; (print-weekday '(2007 12 31))
2007/12/31 (Mon)
2008/01/01 (Tue)
2008/01/02 (Wed)
2008/01/03 (Thu)
2008/01/04 (Fri)
#&lt;undef&gt;

gosh&gt; (print-weekday '(2008 2 28))
2008/02/25 (Mon)
2008/02/26 (Tue)
2008/02/27 (Wed)
2008/02/28 (Thu)
2008/02/29 (Fri)
#&lt;undef&gt;</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></td><td class="code"><div class="highlight"><pre><span class="p">(</span><span class="nf">use</span> <span class="nv">srfi-19</span><span class="p">)</span>

<span class="p">(</span><span class="k">define </span><span class="nv">offsets-vec</span> <span class="o">&#39;#</span><span class="p">((</span> <span class="mi">1</span>  <span class="mi">2</span>  <span class="mi">3</span>  <span class="mi">4</span>  <span class="mi">5</span><span class="p">)</span>
                       <span class="p">(</span> <span class="mi">0</span>  <span class="mi">1</span>  <span class="mi">2</span>  <span class="mi">3</span>  <span class="mi">4</span><span class="p">)</span>
                       <span class="p">(</span><span class="mi">-1</span>  <span class="mi">0</span>  <span class="mi">1</span>  <span class="mi">2</span>  <span class="mi">3</span><span class="p">)</span>
                       <span class="p">(</span><span class="mi">-2</span> <span class="mi">-1</span>  <span class="mi">0</span>  <span class="mi">1</span>  <span class="mi">2</span><span class="p">)</span>
                       <span class="p">(</span><span class="mi">-3</span> <span class="mi">-2</span> <span class="mi">-1</span>  <span class="mi">0</span>  <span class="mi">1</span><span class="p">)</span>
                       <span class="p">(</span><span class="mi">-4</span> <span class="mi">-3</span> <span class="mi">-2</span> <span class="mi">-1</span>  <span class="mi">0</span><span class="p">)</span>
                       <span class="p">(</span><span class="mi">-5</span> <span class="mi">-4</span> <span class="mi">-3</span> <span class="mi">-2</span> <span class="mi">-1</span><span class="p">)))</span>

<span class="p">(</span><span class="k">define </span><span class="nv">print-weekday</span>
  <span class="p">(</span><span class="k">lambda </span><span class="p">(</span><span class="nf">ls</span><span class="p">)</span>
    <span class="p">(</span><span class="k">let* </span><span class="p">((</span><span class="nf">d</span> <span class="p">(</span><span class="nb">apply </span><span class="nv">make-date</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="p">(</span><span class="nb">reverse </span><span class="p">(</span><span class="nb">cons </span><span class="mi">0</span> <span class="nv">ls</span><span class="p">))))</span>
           <span class="p">(</span><span class="nf">utc</span> <span class="p">(</span><span class="nf">date-&gt;time-utc</span> <span class="nv">d</span><span class="p">))</span>
           <span class="p">(</span><span class="nf">offsets</span> <span class="p">(</span><span class="nb">vector-ref </span><span class="nv">offsets-vec</span> <span class="p">(</span><span class="nf">date-week-day</span> <span class="nv">d</span><span class="p">))))</span>
      <span class="p">(</span><span class="nb">for-each </span><span class="p">(</span><span class="k">lambda </span><span class="p">(</span><span class="nf">offset</span><span class="p">)</span> 
                 <span class="p">(</span><span class="nf">print</span>
                  <span class="p">(</span><span class="nf">date-&gt;string</span> 
                   <span class="p">(</span><span class="nf">time-utc-&gt;date</span> 
                    <span class="p">(</span><span class="nf">make-time</span> <span class="nv">time-utc</span> <span class="mi">0</span> <span class="p">(</span><span class="nb">+ </span><span class="p">(</span><span class="nb">* </span><span class="nv">offset</span> <span class="mi">86400</span><span class="p">)</span> <span class="p">(</span><span class="nf">time-second</span> <span class="nv">utc</span><span class="p">))))</span>
                   <span class="s">&quot;~Y/~m/~d (~a)&quot;</span><span class="p">)))</span>
                <span class="nv">offsets</span><span class="p">))))</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/5816/addtag/" class="addtag" id="addtag_5816">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090620083848/http://ja.doukaku.org/lang/scheme/">
		Scheme
      </a>]
	  
      [<a href="/web/20090620083848/http://ja.doukaku.org/comment/5816/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090620083848/http://ja.doukaku.org/comment/5816/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5816"
  >-</span><span
  class="button yellow"
  id="rating_z_5816"
  >0</span><span 
  class="button green"
  id="rating_p_5816"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20090620083848/http://ja.doukaku.org/comment/5816/">
    1
    reply
  </a>

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/5816/">
  返信
  </a>]
  </div>
</div>
</div>




  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      





<div class="comment" id="comment5817">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/711/" target="_top">まさぽん</a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/5817/">#5817</a>(<script language="JavaScript">print_time(new Date("2008/02/21 00:44 GMT"));</script><noscript>2008/02/21 00:44 GMT</noscript>)
	
	
	
	[<a href="/web/20090620083848/http://ja.doukaku.org/lang/scheme/">
	  Scheme
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>modified-julian-day 使えばもっとラクだったのかorz
</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></td><td class="code"><div class="highlight"><pre><span class="p">(</span><span class="nf">use</span> <span class="nv">srfi-19</span><span class="p">)</span>

<span class="p">(</span><span class="k">define </span><span class="nv">offsets-vec</span> <span class="o">&#39;#</span><span class="p">((</span> <span class="mi">1</span>  <span class="mi">2</span>  <span class="mi">3</span>  <span class="mi">4</span>  <span class="mi">5</span><span class="p">)</span> 
                       <span class="p">(</span> <span class="mi">0</span>  <span class="mi">1</span>  <span class="mi">2</span>  <span class="mi">3</span>  <span class="mi">4</span><span class="p">)</span>
                       <span class="p">(</span><span class="mi">-1</span>  <span class="mi">0</span>  <span class="mi">1</span>  <span class="mi">2</span>  <span class="mi">3</span><span class="p">)</span>
                       <span class="p">(</span><span class="mi">-2</span> <span class="mi">-1</span>  <span class="mi">0</span>  <span class="mi">1</span>  <span class="mi">2</span><span class="p">)</span> 
                       <span class="p">(</span><span class="mi">-3</span> <span class="mi">-2</span> <span class="mi">-1</span>  <span class="mi">0</span>  <span class="mi">1</span><span class="p">)</span>
                       <span class="p">(</span><span class="mi">-4</span> <span class="mi">-3</span> <span class="mi">-2</span> <span class="mi">-1</span>  <span class="mi">0</span><span class="p">)</span>
                       <span class="p">(</span><span class="mi">-5</span> <span class="mi">-4</span> <span class="mi">-3</span> <span class="mi">-2</span> <span class="mi">-1</span><span class="p">)))</span>

<span class="p">(</span><span class="k">define </span><span class="nv">print-weekday</span>
  <span class="p">(</span><span class="k">lambda </span><span class="p">(</span><span class="nf">ls</span><span class="p">)</span>
    <span class="p">(</span><span class="k">let* </span><span class="p">((</span><span class="nf">d</span> <span class="p">(</span><span class="nb">apply </span><span class="nv">make-date</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="p">(</span><span class="nb">reverse </span><span class="p">(</span><span class="nb">cons </span><span class="mi">0</span> <span class="nv">ls</span><span class="p">))))</span>
           <span class="p">(</span><span class="nf">mjday</span> <span class="p">(</span><span class="nf">date-&gt;modified-julian-day</span> <span class="nv">d</span><span class="p">))</span>
           <span class="p">(</span><span class="nf">offsets</span> <span class="p">(</span><span class="nb">vector-ref </span><span class="nv">offsets-vec</span> <span class="p">(</span><span class="nf">date-week-day</span> <span class="nv">d</span><span class="p">))))</span>
      <span class="p">(</span><span class="nb">for-each </span><span class="p">(</span><span class="k">lambda </span><span class="p">(</span><span class="nf">offset</span><span class="p">)</span> 
                 <span class="p">(</span><span class="nf">print</span>
                  <span class="p">(</span><span class="nf">date-&gt;string</span> 
                   <span class="p">(</span><span class="nf">modified-julian-day-&gt;date</span> <span class="p">(</span><span class="nb">+ </span><span class="nv">mjday</span> <span class="nv">offset</span><span class="p">))</span>
                   <span class="s">&quot;~Y/~m/~d (~a)&quot;</span><span class="p">)))</span>
                <span class="nv">offsets</span><span class="p">))))</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/5817/addtag/" class="addtag" id="addtag_5817">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090620083848/http://ja.doukaku.org/lang/scheme/">
		Scheme
      </a>]
	  
      [<a href="/web/20090620083848/http://ja.doukaku.org/comment/5817/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090620083848/http://ja.doukaku.org/comment/5817/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5817"
  >-</span><span
  class="button yellow"
  id="rating_z_5817"
  >0</span><span 
  class="button green"
  id="rating_p_5817"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20090620083848/http://ja.doukaku.org/comment/5816/"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20090620083848/http://ja.doukaku.org/comment/5817/root/"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/5817/">
  返信
  </a>]
  </div>
</div>
</div>




  


    </div>
  


  

  

  
    





<div class="comment" id="comment6728">
  <p class="banner"><a href="/web/20090620083848/http://ja.doukaku.org/user/793/" target="_top">genzou</a><a href="/web/20090620083848/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/6728/">#6728</a>(<script language="JavaScript">print_time(new Date("2008/07/13 17:05 GMT"));</script><noscript>2008/07/13 17:05 GMT</noscript>)
	
	
	
	[<a href="/web/20090620083848/http://ja.doukaku.org/lang/groovy/">
	  Groovy
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></td><td class="code"><div class="highlight"><pre>import java.util.*
import java.text.*
import static java.util.Calendar.*

def getWeek( y, m, d ){
    def date = getInstance()
    date.set(y, m-1, d)
    
    def lastSaturday = date.time - (date.get(DAY_OF_WEEK) - SUNDAY + 1)

    def formatter = new SimpleDateFormat(&quot;yyyy/MM/dd&quot;)
    MONDAY.upto(FRIDAY){ i -&gt;
        println formatter.format(lastSaturday + i)
    }
}

getWeek(2008, 7, 13)
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090620083848/http://ja.doukaku.org/comment/6728/addtag/" class="addtag" id="addtag_6728">タグ</a>:
	
    
    <a href="/web/20090620083848/http://ja.doukaku.org/tag/groovy/">groovy</a>
    
	&nbsp;

	
      [<a href="/web/20090620083848/http://ja.doukaku.org/lang/groovy/">
		Groovy
      </a>]
	  
      [<a href="/web/20090620083848/http://ja.doukaku.org/comment/6728/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090620083848/http://ja.doukaku.org/comment/6728/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_6728"
  >-</span><span
  class="button yellow"
  id="rating_z_6728"
  >0</span><span 
  class="button green"
  id="rating_p_6728"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090620083848/http://ja.doukaku.org/12/reply_to/6728/">
  返信
  </a>]
  </div>
</div>
</div>




  


  







</div>

<div id="side_menu" class="compact">

<iframe src="/web/20090620083848if_/http://ja.doukaku.org/login_info/" frameborder=0 width=100% id="login_info">
iframe required
</iframe>

<h4 class="semi_compact">一覧</h4>

<ul>
<!--<li><a href="/web/20090620083848/http://ja.doukaku.org/user/">ユーザ</a>-->
<li><a href="/web/20090620083848/http://ja.doukaku.org/lang/">言語</a>
<li><a href="/web/20090620083848/http://ja.doukaku.org/challenge/">お題</a>
<li><a href="/web/20090620083848/http://ja.doukaku.org/topic/">トピック</a>
<li><a href="/web/20090620083848/http://ja.doukaku.org/comment/">投稿</a>
<li><a href="/web/20090620083848/http://ja.doukaku.org/good_comments/">評価の高い投稿</a>
<li><a href="/web/20090620083848/http://ja.doukaku.org/tag/">タグ</a>
</ul>

<h4 class="compact">フィード</h4>
<ul>
<li><a href="/web/20090620083848/http://ja.doukaku.org/feeds/challenges/">最新のお題</a><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/feed_icon.png">
<li><a href="/web/20090620083848/http://ja.doukaku.org/feeds/topics/">最新のトピック</a><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/feed_icon.png">
<li><a href="/web/20090620083848/http://ja.doukaku.org/feeds/comments/">新着投稿</a><img src="/web/20090620083848im_/http://ja.doukaku.org/static/image/feed_icon.png">
</ul>







<h4 class="compact">その他</h4>
<ul>
<li><a href="/web/20090620083848/http://ja.doukaku.org/qa/">Q&A</a>
<li><a href="/web/20090620083848/http://ja.doukaku.org/feedback/">フィードバック</a>
<!--<li><a href="/web/20090620083848/http://ja.doukaku.org/terms">用語集</a>-->
</ul>


<h4 class="compact">リンク</h4>
<ul>
<li><a href="/web/20090620083848/http://www.lingr.com/room/doukaku_ja">チャットルーム(Lingr)</a>
<li><a href="/web/20090620083848/http://labs.cybozu.co.jp/">サイボウズ・ラボ</a>
<li><a href="/web/20090620083848/http://www.djangoproject.com/">Django</a>
</ul>

<h4 id="pathtraq" class="compact"><a href="/web/20090620083848/http://pathtraq.com/analytics?url=http%3A%2F%2Fja.doukaku.org%2Fcomment%2F*%2F%20desc%3A%E3%81%A9%E3%81%86%E6%9B%B8%E3%81%8Forg&m=popular">Pathtraq</a></h4>
<div class="indent">
<span id="pathtraq_sentinel">loading...</span>
</div>


</div>
</div>


<div id="page_foot" class="bordered">

<a rel="license" href="/web/20090620083848/http://creativecommons.org/licenses/by/2.1/jp/">
<img alt="Creative Commons License" style="border-width:0" src="/web/20090620083848im_/http://i.creativecommons.org/l/by/2.1/jp/88x31.png" /></a>
このサイトの内容は、
<a rel="license" href="/web/20090620083848/http://creativecommons.org/licenses/by/2.1/jp/">クリエイティブ・コモンズ・ライセンス</a>の下でライセンスされています。
<a href="/web/20090620083848/http://ja.doukaku.org/qa/#licence">[詳細]</a>

</div>

</body>




<script type="text/javascript">
$(document).ready(function(){$("#doukaku_org").after("<script src='/web/20090620083848/http://api.pathtraq.com/pages?url=http%3A%2F%2Fja.doukaku.org%2Fcomment%2F*%2F%20desc%3A%E3%81%A9%E3%81%86%E6%9B%B8%E3%81%8Forg&api=json&callback=addPathtraq'><" + "/script>")});
</script>

<script src="/web/20090620083848js_/http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-2136157-1";
urchinTracker();
</script>




</html>





<!--
     FILE ARCHIVED ON 8:38:48 Jun 20, 2009 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 15:28:12 Nov 16, 2013.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
