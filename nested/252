
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja"> 
  <head>

<script type="text/javascript" src="/static/js/analytics.js" ></script>
<link type="text/css" rel="stylesheet" href="/static/css/banner-styles.css"/>




    <meta http-equiv="Content-type" content="text/html; charset=UTF-8" />
    <title>
手作業Grep
どう書く？org </title>

    <link rel="stylesheet" type="text/css"
	href="/web/20090615045520cs_/http://ja.doukaku.org/static/style/reset-fonts-grids.css" />
    <link rel="stylesheet" type="text/css"
	href="/web/20090615045520cs_/http://ja.doukaku.org/static/style/style.css?20071211?20071207" />
	
    <link rel="stylesheet" type="text/css"
	href="/web/20090615045520cs_/http://ja.doukaku.org/static/style/pygments.css" />


	
    <!--<script src="/web/20090615045520/http://ja.doukaku.org/static/js/ieerbug/ieerbug.js" type="text/javascript"></script>-->


<!--<script src="/web/20090615045520/http://ja.doukaku.org/static/js/ieerbug/ieerbug.js" type="text/javascript"></script>-->
<script src="/web/20090615045520js_/http://ja.doukaku.org/static/js/jquery-1.1.3.1.js" type="text/javascript"></script>
<script src="/web/20090615045520js_/http://ja.doukaku.org/static/js/rating.js" type="text/javascript"></script>
<script src="/web/20090615045520js_/http://ja.doukaku.org/static/js/addtag.js?20071129" type="text/javascript"></script>

<script type="text/javascript">
is_key_navigation_enable = true;
</script>
<script src="/web/20090615045520js_/http://ja.doukaku.org/static/js/utils.js?~~~" type="text/javascript"></script>

</head>


<body id="doukaku_org">
<!-- BEGIN WAYBACK TOOLBAR INSERT -->
<script> if (window.archive_analytics) { window.archive_analytics.values['server_name']="wwwb-app10.us.archive.org";}; </script>

<script type="text/javascript" src="/static/js/disclaim-element.js" ></script>
<script type="text/javascript" src="/static/js/graph-calc.js" ></script>
<script type="text/javascript" src="/static/jflot/jquery.min.js" ></script>
<script type="text/javascript">
//<![CDATA[
var firstDate = 820454400000;
var lastDate = 1388534399999;
var wbPrefix = "/web/";
var wbCurrentUrl = "http:\/\/ja.doukaku.org\/252\/nested\/";

var curYear = -1;
var curMonth = -1;
var yearCount = 18;
var firstYear = 1996;
var imgWidth = 450;
var yearImgWidth = 25;
var monthImgWidth = 2;
var trackerVal = "none";
var displayDay = "15";
var displayMonth = "Jun";
var displayYear = "2009";
var prettyMonths = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];

function showTrackers(val) {
	if(val == trackerVal) {
		return;
	}
	if(val == "inline") {
		document.getElementById("displayYearEl").style.color = "#ec008c";
		document.getElementById("displayMonthEl").style.color = "#ec008c";
		document.getElementById("displayDayEl").style.color = "#ec008c";		
	} else {
		document.getElementById("displayYearEl").innerHTML = displayYear;
		document.getElementById("displayYearEl").style.color = "#ff0";
		document.getElementById("displayMonthEl").innerHTML = displayMonth;
		document.getElementById("displayMonthEl").style.color = "#ff0";
		document.getElementById("displayDayEl").innerHTML = displayDay;
		document.getElementById("displayDayEl").style.color = "#ff0";
	}
   document.getElementById("wbMouseTrackYearImg").style.display = val;
   document.getElementById("wbMouseTrackMonthImg").style.display = val;
   trackerVal = val;
}
function getElementX2(obj) {
	var thing = jQuery(obj);
	if((thing == undefined) 
			|| (typeof thing == "undefined") 
			|| (typeof thing.offset == "undefined")) {
		return getElementX(obj);
	}
	return Math.round(thing.offset().left);
}
function trackMouseMove(event,element) {

   var eventX = getEventX(event);
   var elementX = getElementX2(element);
   var xOff = eventX - elementX;
	if(xOff < 0) {
		xOff = 0;
	} else if(xOff > imgWidth) {
		xOff = imgWidth;
	}
   var monthOff = xOff % yearImgWidth;

   var year = Math.floor(xOff / yearImgWidth);
	var yearStart = year * yearImgWidth;
   var monthOfYear = Math.floor(monthOff / monthImgWidth);
   if(monthOfYear > 11) {
       monthOfYear = 11;
   }
   // 1 extra border pixel at the left edge of the year:
   var month = (year * 12) + monthOfYear;
   var day = 1;
	if(monthOff % 2 == 1) {
		day = 15;
	}
	var dateString = 
		zeroPad(year + firstYear) + 
		zeroPad(monthOfYear+1,2) +
		zeroPad(day,2) + "000000";

	var monthString = prettyMonths[monthOfYear];
	document.getElementById("displayYearEl").innerHTML = year + 1996;
	document.getElementById("displayMonthEl").innerHTML = monthString;
	// looks too jarring when it changes..
	//document.getElementById("displayDayEl").innerHTML = zeroPad(day,2);

	var url = wbPrefix + dateString + '/' +  wbCurrentUrl;
	document.getElementById('wm-graph-anchor').href = url;

   //document.getElementById("wmtbURL").value="evX("+eventX+") elX("+elementX+") xO("+xOff+") y("+year+") m("+month+") monthOff("+monthOff+") DS("+dateString+") Moy("+monthOfYear+") ms("+monthString+")";
   if(curYear != year) {
       var yrOff = year * yearImgWidth;
       document.getElementById("wbMouseTrackYearImg").style.left = yrOff + "px";
       curYear = year;
   }
   if(curMonth != month) {
       var mtOff = year + (month * monthImgWidth) + 1;
       document.getElementById("wbMouseTrackMonthImg").style.left = mtOff + "px";
       curMonth = month;
   }
}
//]]>
</script>

<style type="text/css">body{margin-top:0!important;padding-top:0!important;min-width:800px!important;}#wm-ipp a:hover{text-decoration:underline!important;}</style>
<div id="wm-ipp" lang="en" class="__wb_banner_div" style="display:none; position:relative;padding:0 5px;min-height:70px;min-width:800px">


<div id="wm-ipp-inside" class="__wb_banner_div" style="position:fixed;padding:0!important;margin:0!important;width:97%;min-width:780px;border:5px solid #000;border-top:none;background-image:url(/static/images/toolbar/wm_tb_bk_trns.png);text-align:center;-moz-box-shadow:1px 1px 3px #333;-webkit-box-shadow:1px 1px 3px #333;box-shadow:1px 1px 3px #333;font-size:11px!important;font-family:'Lucida Grande','Arial',sans-serif!important;">
   <table style="border-collapse:collapse;margin:0;padding:0;width:100%;"><tbody><tr>
   <td style="padding:10px;vertical-align:top;min-width:110px;">
   <a href="/web/" title="Wayback Machine home page" style="background-color:transparent;border:none;"><img src="/static/images/toolbar/wayback-toolbar-logo.png" alt="Wayback Machine" width="110" height="39" border="0"/></a>
   </td>
   <td style="padding:0!important;text-align:center;vertical-align:top;width:100%;">

       <table style="border-collapse:collapse;margin:0 auto;padding:0;width:570px;"><tbody><tr>
       <td style="padding:3px 0;" colspan="2">
       <form target="_top" method="get" action="/web/form-submit.jsp" name="wmtb" id="wmtb" style="margin:0!important;padding:0!important;"><input type="text" name="url" id="wmtbURL" value="http://ja.doukaku.org/252/nested/" style="width:400px;font-size:11px;font-family:'Lucida Grande','Arial',sans-serif;" onfocus="javascript:this.focus();this.select();" /><input type="hidden" name="type" value="replay" /><input type="hidden" name="date" value="20090615045520" /><input type="submit" value="Go" style="font-size:11px;font-family:'Lucida Grande','Arial',sans-serif;margin-left:5px;width: inherit !important" /><span id="wm_tb_options" style="display:block;"></span></form>
       </td>
       <td style="vertical-align:bottom;padding:5px 0 0 0!important;" rowspan="2">
           <table style="border-collapse:collapse;width:110px;color:#99a;font-family:'Helvetica','Lucida Grande','Arial',sans-serif;"><tbody>
			
           <!-- NEXT/PREV MONTH NAV AND MONTH INDICATOR -->
           <tr style="width:110px;height:16px;font-size:10px!important;">
           	<td style="padding-right:9px;font-size:11px!important;font-weight:bold;text-transform:uppercase;text-align:right;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       May
                       
               </td>
               <td id="displayMonthEl" style="background:#000;color:#ff0;font-size:11px!important;font-weight:bold;text-transform:uppercase;width:34px;height:15px;padding-top:1px;text-align:center;" title="You are here: 4:55:20 Jun 15, 2009">JUN</td>
				<td style="padding-left:9px;font-size:11px!important;font-weight:bold;text-transform:uppercase;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       Jul
                       
               </td>
           </tr>

           <!-- NEXT/PREV CAPTURE NAV AND DAY OF MONTH INDICATOR -->
           <tr>
               <td style="padding-right:9px;white-space:nowrap;overflow:visible;text-align:right!important;vertical-align:middle!important;" nowrap="nowrap">
               
                       <img src="/static/images/toolbar/wm_tb_prv_off.png" alt="Previous capture" width="14" height="16" border="0" />
                       
               </td>
               <td id="displayDayEl" style="background:#000;color:#ff0;width:34px;height:24px;padding:2px 0 0 0;text-align:center;font-size:24px;font-weight: bold;" title="You are here: 4:55:20 Jun 15, 2009">15</td>
				<td style="padding-left:9px;white-space:nowrap;overflow:visible;text-align:left!important;vertical-align:middle!important;" nowrap="nowrap">
               
                       <img src="/static/images/toolbar/wm_tb_nxt_off.png" alt="Next capture" width="14" height="16" border="0"/>
                       
			    </td>
           </tr>

           <!-- NEXT/PREV YEAR NAV AND YEAR INDICATOR -->
           <tr style="width:110px;height:13px;font-size:9px!important;">
				<td style="padding-right:9px;font-size:11px!important;font-weight: bold;text-align:right;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       2008
                       
               </td>
               <td id="displayYearEl" style="background:#000;color:#ff0;font-size:11px!important;font-weight: bold;padding-top:1px;width:34px;height:13px;text-align:center;" title="You are here: 4:55:20 Jun 15, 2009">2009</td>
				<td style="padding-left:9px;font-size:11px!important;font-weight: bold;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       2010
                       
				</td>
           </tr>
           </tbody></table>
       </td>

       </tr>
       <tr>
       <td style="vertical-align:middle;padding:0!important;">
           <a href="/web/20090615045520*/http://ja.doukaku.org/252/nested/" style="color:#33f;font-size:11px;font-weight:bold;background-color:transparent;border:none;" title="See a list of every capture for this URL"><strong>1 captures</strong></a>
           <div class="__wb_banner_div" style="margin:0!important;padding:0!important;color:#666;font-size:9px;padding-top:2px!important;white-space:nowrap;" title="Timespan for captures of this URL">15 Jun 09 - 15 Jun 09</div>
       </td>
       <td style="padding:0!important;">
       <a style="position:relative; white-space:nowrap; width:450px;height:27px;" href="" id="wm-graph-anchor">
       <div class="__wb_banner_div" id="wm-ipp-sparkline" style="position:relative; white-space:nowrap; width:450px;height:27px;background-color:#fff;cursor:pointer;border-right:1px solid #ccc;" title="Explore captures for this URL">
			<img id="sparklineImgId" style="position:absolute; z-index:9012; top:0px; left:0px;"
				onmouseover="showTrackers('inline');" 
				onmouseout="showTrackers('none');"
				onmousemove="trackMouseMove(event,this)"
				alt="sparklines"
				width="450"
				height="27"
				border="0"
				src="/web/jsp/graph.jsp?graphdata=450_27_1996:-1:000000000000_1997:-1:000000000000_1998:-1:000000000000_1999:-1:000000000000_2000:-1:000000000000_2001:-1:000000000000_2002:-1:000000000000_2003:-1:000000000000_2004:-1:000000000000_2005:-1:000000000000_2006:-1:000000000000_2007:-1:000000000000_2008:-1:000000000000_2009:5:000001000000_2010:-1:000000000000_2011:-1:000000000000_2012:-1:000000000000_2013:-1:000000000000"></img>
			<img id="wbMouseTrackYearImg" 
				style="display:none; position:absolute; z-index:9010;"
				width="25" 
				height="27"
				border="0"
				src="/static/images/toolbar/transp-yellow-pixel.png"></img>
			<img id="wbMouseTrackMonthImg"
				style="display:none; position:absolute; z-index:9011; " 
				width="2"
				height="27" 
				border="0"
				src="/static/images/toolbar/transp-red-pixel.png"></img>
       </div>
		</a>

       </td>
       </tr></tbody></table>
   </td>
   <td style="text-align:right;padding:5px;width:65px;font-size:11px!important;">
       <a href="javascript:;" onclick="document.getElementById('wm-ipp').style.display='none';" style="display:block;padding-right:18px;background:url(/static/images/toolbar/wm_tb_close.png) no-repeat 100% 0;color:#33f;font-family:'Lucida Grande','Arial',sans-serif;margin-bottom:23px;background-color:transparent;border:none;" title="Close the toolbar">Close</a>
       <a href="http://faq.web.archive.org/" style="display:block;padding-right:18px;background:url(/static/images/toolbar/wm_tb_help.png) no-repeat 100% 0;color:#33f;font-family:'Lucida Grande','Arial',sans-serif;background-color:transparent;border:none;" title="Get some help using the Wayback Machine">Help</a>
   </td>
   </tr></tbody></table>

</div>
</div>
<script type="text/javascript">
 var wmDisclaimBanner = document.getElementById("wm-ipp");
 if(wmDisclaimBanner != null) {
   disclaimElement(wmDisclaimBanner);
 }
</script>
<!-- END WAYBACK TOOLBAR INSERT -->


<div id="page_head" class="compact">
  <h1 class="compact">
    <a href="/web/20090615045520/http://ja.doukaku.org/">どう書く？org</a><img src="/web/20090615045520im_/http://ja.doukaku.org/static/image/beta.png" alt="beta">
  </h1>
</div>

<div id="page_body" class="compact">
<div id="content" class="compact">




<h2 class="compact">
<img src='/web/20090615045520im_/http://ja.doukaku.org/static/image/star_gold.png' alt=お題(出題済み)>
<a href="/web/20090615045520/http://ja.doukaku.org/252/">手作業Grep</a>
</h2>

    





<div class="comment" id="comment9015">
  <p class="banner"><a href="/web/20090615045520/http://ja.doukaku.org/user/1057/" target="_top">nobeer</a>

	
	&nbsp;
	<a href="/web/20090615045520/http://ja.doukaku.org/comment/9015/">#9015</a>(<script language="JavaScript">print_time(new Date("2009/05/28 00:31 GMT"));</script><noscript>2009/05/28 00:31 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #dfffdf;">2/2=1.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <p>標準入力を読み込んで、行選択のUIをだし、選択されたものだけを標準出力にだしてください。
標準出力に出力するタイミングは選択終了をユーザーが報告したときです。(完了ボタンを想定してください)</p>
<p>UIライブラリは何をつかってもかまいません。
例えばncursesのようなコンソール上でのUIでもかまいませんし、GtkのようなGUIライブラリでもかまいません。</p>
<p>想定される使い方としては、以下のような感じです。</p>
<p>ps aux | handgrep | xargs kill -9</p>
<p>プロセスの一覧を表示、UI上で選択したものをkill</p>

	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090615045520/http://ja.doukaku.org/comment/9015/addtag/" class="addtag" id="addtag_9015">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #dfffdf;"
  >2/2=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_9015"
  >-</span><span
  class="button yellow"
  id="rating_z_9015"
  >0</span><span 
  class="button green"
  id="rating_p_9015"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090615045520/http://ja.doukaku.org/252/reply_to/9015/">
  返信
  </a>]
  </div>
</div>
</div>




  



<div class="indent">
<a href="/web/20090615045520/http://ja.doukaku.org/252/post_comment/">
投稿する
</a>
</div>


<h2>投稿されたコメント - ネスト表示</h2>
<a href="/web/20090615045520/http://ja.doukaku.org/252/flatten/">フラット表示</a> 
<a href="/web/20090615045520/http://ja.doukaku.org/252/">非表示</a> 


  

  
    





<div class="comment" id="comment9040">
  <p class="banner"><a href="/web/20090615045520/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20090615045520/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090615045520im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20090615045520/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090615045520im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090615045520/http://ja.doukaku.org/comment/9040/">#9040</a>(<script language="JavaScript">print_time(new Date("2009/06/03 13:50 GMT"));</script><noscript>2009/06/03 13:50 GMT</noscript>)
	
	
	
	[<a href="/web/20090615045520/http://ja.doukaku.org/lang/ocaml/">
	  OCaml
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>F# で、作ってみました。
（FSharpSamplesのEditor.fsで、RichTextBoxをListBox に変更したもの）
コンパイルは、
fsc HandGrep.fs -g
--target:winexe にしてしまうと、stdin は、取れてもstdout が、出力されなくなるので、注意。
空行は無視される
使用例：
&gt;dir /B | HandGrep
handgrep.exe
handgrep.fs
File メニューからQuit した場合stdoutに書き出す。
×（閉じる）ボタンで終了すると、出力はされない。
File メニューからファイルの読み込みもできる
パイプなど標準入力を指定しないで起動した場合は、コンソールから入力するかしないですぐにＣＴＲＬ＋Ｚ
選択は、
ＣＴＲＬ＋マウスクリック
または、
ＳＨＩＦＴ＋マウスクリック</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76</pre></td><td class="code"><div class="highlight"><pre><span class="k">#</span><span class="n">light</span>

<span class="kr">open</span> <span class="n">System</span>
<span class="kr">open</span> <span class="n">System</span><span class="k">.</span><span class="n">IO</span>  
<span class="kr">open</span> <span class="n">System</span><span class="k">.</span><span class="n">Windows</span><span class="k">.</span><span class="n">Forms</span>

<span class="kr">let</span> <span class="n">form</span> <span class="k">=</span> <span class="kr">new</span> <span class="n">Form</span><span class="k">(</span><span class="n">Width</span><span class="k">=</span> <span class="mi">400</span><span class="k">,</span> <span class="n">Height</span> <span class="k">=</span> <span class="mi">300</span><span class="k">,</span> <span class="n">Visible</span> <span class="k">=</span> <span class="kr">true</span><span class="k">,</span> <span class="n">Text</span> <span class="k">=</span> <span class="s2">&quot;HandGrep&quot;</span><span class="k">,</span> <span class="n">Menu</span> <span class="k">=</span> <span class="kr">new</span> <span class="n">MainMenu</span><span class="k">())</span>

<span class="o">//</span> <span class="n">menu</span> <span class="n">bar</span> <span class="kr">and</span> <span class="n">menus</span> 
<span class="kr">let</span> <span class="n">mFile</span> <span class="k">=</span> <span class="n">form</span><span class="k">.</span><span class="n">Menu</span><span class="k">.</span><span class="n">MenuItems</span><span class="k">.</span><span class="n">Add</span><span class="k">(</span><span class="s2">&quot;&amp;File&quot;</span><span class="k">)</span>
<span class="kr">let</span> <span class="n">mHelp</span> <span class="k">=</span> <span class="n">form</span><span class="k">.</span><span class="n">Menu</span><span class="k">.</span><span class="n">MenuItems</span><span class="k">.</span><span class="n">Add</span><span class="k">(</span><span class="s2">&quot;&amp;Help&quot;</span><span class="k">)</span>

<span class="o">//</span> <span class="n">menu</span> <span class="n">items</span> 
<span class="kr">let</span> <span class="n">miOpen</span>  <span class="k">=</span> <span class="kr">new</span> <span class="n">MenuItem</span><span class="k">(</span><span class="s2">&quot;&amp;Open...&quot;</span><span class="k">)</span>
<span class="kr">let</span> <span class="n">miQuit</span>  <span class="k">=</span> <span class="kr">new</span> <span class="n">MenuItem</span><span class="k">(</span><span class="s2">&quot;&amp;Quit&quot;</span><span class="k">)</span>
<span class="kr">let</span> <span class="n">miAbout</span> <span class="k">=</span> <span class="kr">new</span> <span class="n">MenuItem</span><span class="k">(</span><span class="s2">&quot;&amp;About...&quot;</span><span class="k">)</span>

<span class="n">mFile</span><span class="k">.</span><span class="n">MenuItems</span><span class="k">.</span><span class="n">Add</span><span class="k">(</span><span class="n">miOpen</span><span class="k">)</span>  <span class="k">|&gt;</span> <span class="n">ignore</span>
<span class="n">mFile</span><span class="k">.</span><span class="n">MenuItems</span><span class="k">.</span><span class="n">Add</span><span class="k">(</span><span class="n">miQuit</span><span class="k">)</span>  <span class="k">|&gt;</span> <span class="n">ignore</span>
<span class="n">mHelp</span><span class="k">.</span><span class="n">MenuItems</span><span class="k">.</span><span class="n">Add</span><span class="k">(</span><span class="n">miAbout</span><span class="k">)</span> <span class="k">|&gt;</span> <span class="n">ignore</span>

<span class="o">//</span> <span class="n">ListBox</span>
<span class="kr">let</span> <span class="n">listB</span> <span class="k">=</span> <span class="kr">new</span> <span class="n">ListBox</span><span class="k">(</span><span class="n">Dock</span><span class="k">=</span><span class="n">DockStyle</span><span class="k">.</span><span class="n">Fill</span><span class="k">)</span>
<span class="n">listB</span><span class="k">.</span><span class="n">SelectionMode</span> <span class="k">&lt;-</span> <span class="n">SelectionMode</span><span class="k">.</span><span class="n">MultiExtended</span>

<span class="kr">let</span> <span class="n">in_ar</span> <span class="k">=</span> <span class="n">stdin</span><span class="k">.</span><span class="n">ReadToEnd</span><span class="k">().</span><span class="n">Split</span><span class="k">([|</span><span class="s2">&quot;</span><span class="se">\r\n</span><span class="s2">&quot;</span><span class="k">|],</span><span class="n">StringSplitOptions</span><span class="k">.</span><span class="n">RemoveEmptyEntries</span><span class="k">)</span>
<span class="kr">for</span> <span class="n">s</span> <span class="kr">in</span> <span class="n">in_ar</span> <span class="kr">do</span>
    <span class="n">listB</span><span class="k">.</span><span class="n">Items</span><span class="k">.</span><span class="n">Add</span><span class="k">(</span><span class="n">s</span><span class="k">)</span> <span class="k">|&gt;</span> <span class="n">ignore</span> <span class="o">//</span><span class="n">drop</span> <span class="n">index</span>

<span class="n">form</span><span class="k">.</span><span class="n">Controls</span><span class="k">.</span><span class="n">Add</span><span class="k">(</span><span class="n">listB</span><span class="k">)</span>

<span class="o">//</span> <span class="n">filename</span> <span class="n">state</span> 
<span class="kr">let</span> <span class="kr">mutable</span> <span class="n">filename</span> <span class="k">=</span> <span class="s2">&quot;&quot;</span>
<span class="kr">let</span> <span class="n">SetFilename</span> <span class="n">f</span>  <span class="k">=</span> <span class="n">filename</span> <span class="k">&lt;-</span> <span class="n">f</span><span class="k">;</span> <span class="n">form</span><span class="k">.</span><span class="n">Text</span> <span class="k">&lt;-</span> <span class="s2">&quot;HandGrep - &quot;</span> <span class="o">^</span> <span class="n">f</span>

<span class="n">SetFilename</span> <span class="s2">&quot;stdin&quot;</span>

<span class="o">//</span> <span class="n">ReadFile</span> <span class="n">dialog</span> 
<span class="kr">let</span> <span class="n">ReadFile</span> <span class="k">()</span> <span class="k">=</span>
    <span class="kr">let</span> <span class="n">d</span> <span class="k">=</span> <span class="kr">new</span> <span class="n">OpenFileDialog</span><span class="k">()</span> 
    <span class="n">d</span><span class="k">.</span><span class="n">Filter</span> <span class="k">&lt;-</span> <span class="s2">&quot;text files *.txt|*.txt|All files *.*|*.*&quot;</span><span class="k">;</span>
    <span class="n">d</span><span class="k">.</span><span class="n">FilterIndex</span> <span class="k">&lt;-</span> <span class="mi">2</span><span class="k">;</span>
    <span class="kr">if</span> <span class="n">d</span><span class="k">.</span><span class="n">ShowDialog</span><span class="k">()</span> <span class="k">=</span> <span class="n">DialogResult</span><span class="k">.</span><span class="n">OK</span> <span class="kr">then</span>
        <span class="kr">let</span> <span class="n">str</span>  <span class="k">=</span> <span class="kr">new</span> <span class="n">StreamReader</span><span class="k">(</span><span class="n">d</span><span class="k">.</span><span class="n">FileName</span><span class="k">)</span>
        <span class="kr">let</span> <span class="n">text</span> <span class="k">=</span> <span class="n">str</span><span class="k">.</span><span class="n">ReadToEnd</span> <span class="k">()</span>
        <span class="n">Some</span> <span class="k">(</span><span class="n">d</span><span class="k">.</span><span class="n">FileName</span><span class="k">,</span><span class="n">text</span><span class="k">)</span>
    <span class="kr">else</span>
        <span class="n">None</span>


<span class="o">//</span> <span class="n">Read</span> <span class="kr">in</span> <span class="n">File</span> 
<span class="kr">let</span> <span class="n">opLoadText</span> <span class="k">_</span> <span class="k">=</span> 
    <span class="kr">match</span> <span class="n">ReadFile</span> <span class="k">()</span> <span class="kr">with</span>
    <span class="k">|</span> <span class="n">Some</span> <span class="k">(</span><span class="n">file</span><span class="k">,</span><span class="n">text</span><span class="k">)</span> <span class="k">-&gt;</span> 
        <span class="n">SetFilename</span> <span class="n">file</span>
        <span class="n">listB</span><span class="k">.</span><span class="n">Items</span><span class="k">.</span><span class="n">Clear</span><span class="k">()</span>
        <span class="kr">for</span> <span class="n">s</span> <span class="kr">in</span> <span class="n">text</span><span class="k">.</span><span class="n">Split</span><span class="k">([|</span><span class="s2">&quot;</span><span class="se">\r\n</span><span class="s2">&quot;</span><span class="k">|],</span><span class="n">StringSplitOptions</span><span class="k">.</span><span class="n">RemoveEmptyEntries</span><span class="k">)</span> <span class="kr">do</span>
           <span class="n">listB</span><span class="k">.</span><span class="n">Items</span><span class="k">.</span><span class="n">Add</span><span class="k">(</span><span class="n">s</span><span class="k">)</span> <span class="k">|&gt;</span> <span class="n">ignore</span> <span class="o">//</span><span class="n">drop</span> <span class="n">index</span>
    <span class="k">|</span> <span class="n">None</span> <span class="k">-&gt;</span> <span class="k">()</span>


<span class="kr">let</span> <span class="n">opAbout</span> <span class="k">_</span> <span class="k">=</span> 
    <span class="n">MessageBox</span><span class="k">.</span><span class="n">Show</span><span class="k">(</span><span class="s2">&quot;Selection StdIn&quot;</span><span class="k">,</span><span class="s2">&quot;About HandGrep&quot;</span><span class="k">)</span> <span class="k">|&gt;</span> <span class="n">ignore</span>

<span class="kr">let</span> <span class="n">opExitForm</span> <span class="k">_</span> <span class="k">=</span>
    <span class="kr">for</span> <span class="n">item</span> <span class="kr">in</span> <span class="n">listB</span><span class="k">.</span><span class="n">SelectedItems</span> <span class="kr">do</span>
        <span class="n">stdout</span><span class="k">.</span><span class="n">WriteLine</span><span class="k">(</span><span class="n">string</span> <span class="n">item</span><span class="k">)</span>
    <span class="n">form</span><span class="k">.</span><span class="n">Close</span> <span class="k">()</span>

<span class="o">//</span> <span class="n">callbacks</span> 
<span class="kr">let</span> <span class="k">_</span> <span class="k">=</span> <span class="n">miOpen</span><span class="k">.</span><span class="n">Click</span><span class="k">.</span><span class="n">Add</span><span class="k">(</span><span class="n">opLoadText</span><span class="k">)</span>
<span class="kr">let</span> <span class="k">_</span> <span class="k">=</span> <span class="n">miQuit</span><span class="k">.</span><span class="n">Click</span><span class="k">.</span><span class="n">Add</span><span class="k">(</span><span class="n">opExitForm</span><span class="k">)</span>
<span class="kr">let</span> <span class="k">_</span> <span class="k">=</span> <span class="n">miAbout</span><span class="k">.</span><span class="n">Click</span><span class="k">.</span><span class="n">Add</span><span class="k">(</span><span class="n">opAbout</span><span class="k">)</span>

<span class="k">[&lt;</span><span class="n">STAThread</span><span class="k">()&gt;]</span>    
<span class="kr">do</span> <span class="n">Application</span><span class="k">.</span><span class="n">Run</span><span class="k">(</span><span class="n">form</span><span class="k">)</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090615045520/http://ja.doukaku.org/comment/9040/addtag/" class="addtag" id="addtag_9040">タグ</a>:
	
    
    <a href="/web/20090615045520/http://ja.doukaku.org/tag/F%23/">F#</a>
    
	&nbsp;

	
      [<a href="/web/20090615045520/http://ja.doukaku.org/lang/ocaml/">
		OCaml
      </a>]
	  
      [<a href="/web/20090615045520/http://ja.doukaku.org/comment/9040/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090615045520/http://ja.doukaku.org/comment/9040/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_9040"
  >-</span><span
  class="button yellow"
  id="rating_z_9040"
  >0</span><span 
  class="button green"
  id="rating_p_9040"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20090615045520/http://ja.doukaku.org/comment/9040/">
    1
    reply
  </a>

  [<a href="/web/20090615045520/http://ja.doukaku.org/252/reply_to/9040/">
  返信
  </a>]
  </div>
</div>
</div>




  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20090615045520im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      





<div class="comment" id="comment9041">
  <p class="banner"><a href="/web/20090615045520/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20090615045520/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090615045520im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20090615045520/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090615045520im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090615045520/http://ja.doukaku.org/comment/9041/">#9041</a>(<script language="JavaScript">print_time(new Date("2009/06/03 14:12 GMT"));</script><noscript>2009/06/03 14:12 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <p>コンパイルオプション -g は、別に必要ないです。</p>

	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090615045520/http://ja.doukaku.org/comment/9041/addtag/" class="addtag" id="addtag_9041">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_9041"
  >-</span><span
  class="button yellow"
  id="rating_z_9041"
  >0</span><span 
  class="button green"
  id="rating_p_9041"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20090615045520/http://ja.doukaku.org/comment/9040/"><img src="/web/20090615045520im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20090615045520/http://ja.doukaku.org/comment/9041/root/"><img src="/web/20090615045520im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20090615045520/http://ja.doukaku.org/252/reply_to/9041/">
  返信
  </a>]
  </div>
</div>
</div>




  


    </div>
  


  

  

  
    





<div class="comment" id="comment9042">
  <p class="banner"><a href="/web/20090615045520/http://ja.doukaku.org/user/759/" target="_top">egtra</a><a href="/web/20090615045520/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090615045520im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090615045520/http://ja.doukaku.org/comment/9042/">#9042</a>(<script language="JavaScript">print_time(new Date("2009/06/03 14:15 GMT"));</script><noscript>2009/06/03 14:15 GMT</noscript>)
	
	
	
	[<a href="/web/20090615045520/http://ja.doukaku.org/lang/cpp/">
	  C++
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  
<p>WTLです。微妙にdecltypeを使っているので、Visual C++ 2010以上です、ごめんなさい。
</p>
<p>複数行選択可能なリストボックスに表示。手抜きUIなのでメニューとかありません。ウィンドウの×を押して閉じたときに選択されていた項目を出力するという作りです。
</p>
<p>Boost.Threadで読み取り用のスレッドを立てています。これにより、パイプの入力が時間の掛かる処理であっても、すぐにウィンドウが表示され、少しずつ項目が追加されるようになっています。
</p>
<p>なお、パイプの入力がまだあるのにウィンドウを閉じた場合、自プロセスは入力が終わるまで待つ羽目になりますが、コード中のコメントにあるとおり、Vista以降だと同期IOのキャンセルができるため、すぐに自プロセスの終了が可能です。初めて使いました。
</p>



	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172</pre></td><td class="code"><div class="highlight"><pre><span class="c">// どうせVC10でビルドしたプログラムはWindows 2000以上でしか実行できない。</span>
<span class="cp">#define WINVER 0x0500</span>
<span class="cp">#define _WIN32_WINNT 0x0500</span>
<span class="cp">#define _WIN32_IE 0x0500</span>

<span class="cp">#define _CRT_SECURE_NO_WARNINGS</span>
<span class="cp">#define _SCL_SECURE_NO_WARNINGS</span>
<span class="cp">#define _CRT_SECURE_CPP_OVERLOAD_STANDARD_NAMES 1</span>

<span class="cp">#define WIN32_LEAN_AND_MEAN</span>

<span class="cp">#define _ATL_NO_AUTOMATIC_NAMESPACE</span>
<span class="cp">#define _WTL_NO_AUTOMATIC_NAMESPACE</span>

<span class="cp">#define BOOST_ALL_DYN_LINK</span>

<span class="cp">#include &lt;tchar.h&gt;</span>

<span class="cp">#include &lt;iostream&gt;</span>
<span class="cp">#include &lt;string&gt;</span>
<span class="cp">#include &lt;functional&gt;</span>
<span class="cp">#include &lt;iterator&gt;</span>
<span class="cp">#include &lt;algorithm&gt;</span>
<span class="cp">#include &lt;memory&gt;</span>

<span class="cp">#include &lt;tchar.h&gt;</span>

<span class="cp">#include &lt;windows.h&gt;</span>

<span class="cp">#include &lt;atlbase.h&gt;</span>
<span class="cp">#include &lt;atlwin.h&gt;</span>
<span class="cp">#include &lt;atlapp.h&gt;</span>
<span class="cp">#include &lt;atlcrack.h&gt;</span>
<span class="cp">#include &lt;atlctrls.h&gt;</span>
<span class="cp">#include &lt;atlmisc.h&gt;</span>

<span class="cp">#include &lt;boost/thread.hpp&gt;</span>

<span class="cp">#ifdef UNICODE</span>
<span class="cp">#    define tcout std::wcout</span>
<span class="cp">#    define tcin std::wcin</span>
<span class="cp">#else</span>
<span class="cp">#    define tcout std::cout</span>
<span class="cp">#    define tcin std::cin</span>
<span class="cp">#endif</span>
<span class="k">typedef</span> <span class="n">std</span><span class="o">::</span><span class="n">basic_string</span><span class="o">&lt;</span><span class="n">TCHAR</span><span class="o">&gt;</span> <span class="n">tstring</span><span class="p">;</span>

<span class="n">WTL</span><span class="o">::</span><span class="n">CAppModule</span> <span class="n">_Module</span><span class="p">;</span>

<span class="k">const</span> <span class="kt">int</span> <span class="n">POINT_SIZE</span> <span class="o">=</span> <span class="mi">9</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">MainWindow</span> <span class="o">:</span> <span class="k">public</span> <span class="n">ATL</span><span class="o">::</span><span class="n">CWindowImpl</span><span class="o">&lt;</span><span class="n">MainWindow</span><span class="o">&gt;</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
    <span class="c">// ウィンドウクラスの登録</span>
    <span class="n">DECLARE_WND_CLASS_EX</span><span class="p">(</span><span class="n">TEXT</span><span class="p">(</span><span class="s">&quot;HandGrep MainWindow&quot;</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">COLOR_3DFACE</span><span class="p">);</span>
    <span class="c">// メッセージマップ</span>
    <span class="n">BEGIN_MSG_MAP</span><span class="p">(</span><span class="n">MainWindow</span><span class="p">)</span>
        <span class="n">MSG_WM_SIZE</span><span class="p">(</span><span class="n">OnSize</span><span class="p">)</span>
        <span class="n">MSG_WM_CREATE</span><span class="p">(</span><span class="n">OnCreate</span><span class="p">)</span>
        <span class="n">MSG_WM_DESTROY</span><span class="p">(</span><span class="n">OnDestroy</span><span class="p">)</span>
    <span class="n">END_MSG_MAP</span><span class="p">()</span>    
    <span class="c">// 読み取った文字列をリストボックスへ追加する。</span>
    <span class="kt">void</span> <span class="n">AddLine</span><span class="p">(</span><span class="k">const</span> <span class="n">tstring</span><span class="o">&amp;</span> <span class="n">s</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c">// 別スレッドへメッセージを送っているが、SendMessageなら同期されるので、問題ないはず。</span>
        <span class="c">// エラー値が返ってくるかもしれないが、今回は無視する。</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">listBox</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">listBox</span><span class="p">.</span><span class="n">AddString</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">c_str</span><span class="p">());</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="k">private</span><span class="o">:</span>
    <span class="kt">void</span> <span class="n">OnSize</span><span class="p">(</span><span class="n">UINT</span> <span class="c">/*type*/</span><span class="p">,</span> <span class="n">SIZE</span> <span class="n">size</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">listBox</span><span class="p">.</span><span class="n">MoveWindow</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">size</span><span class="p">.</span><span class="n">cx</span><span class="p">,</span> <span class="n">size</span><span class="p">.</span><span class="n">cy</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="c">// ウィンドウ作成時の処理。</span>
    <span class="n">BOOL</span> <span class="n">OnCreate</span><span class="p">(</span><span class="n">CREATESTRUCT</span><span class="o">*</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c">// リストボックスの作成。</span>
        <span class="n">HWND</span> <span class="n">hwndListBox</span> <span class="o">=</span> <span class="n">listBox</span><span class="p">.</span><span class="n">Create</span><span class="p">(</span><span class="n">m_hWnd</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
            <span class="n">LBS_MULTIPLESEL</span> <span class="o">|</span> <span class="n">WS_VSCROLL</span> <span class="o">|</span> <span class="n">WS_CHILD</span> <span class="o">|</span> <span class="n">WS_VISIBLE</span><span class="p">,</span>
            <span class="n">WS_EX_CLIENTEDGE</span><span class="p">,</span> <span class="n">IDC_LISTBOX</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">hwndListBox</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="c">// 等角フォントでの表示を試みる。</span>
        <span class="n">WTL</span><span class="o">::</span><span class="n">CClientDC</span> <span class="n">dc</span><span class="p">(</span><span class="n">m_hWnd</span><span class="p">);</span>
        <span class="n">font</span><span class="p">.</span><span class="n">CreateFont</span><span class="p">(</span><span class="o">-</span><span class="n">MulDiv</span><span class="p">(</span><span class="n">POINT_SIZE</span><span class="p">,</span> <span class="n">GetDeviceCaps</span><span class="p">(</span><span class="n">dc</span><span class="p">,</span> <span class="n">LOGPIXELSY</span><span class="p">),</span> <span class="mi">72</span><span class="p">),</span>
            <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">FW_NORMAL</span><span class="p">,</span> <span class="n">FALSE</span><span class="p">,</span> <span class="n">FALSE</span><span class="p">,</span> <span class="n">FALSE</span><span class="p">,</span> <span class="n">DEFAULT_CHARSET</span><span class="p">,</span>
            <span class="n">OUT_DEFAULT_PRECIS</span><span class="p">,</span> <span class="n">CLIP_DEFAULT_PRECIS</span><span class="p">,</span> <span class="n">DEFAULT_QUALITY</span><span class="p">,</span>
            <span class="n">FIXED_PITCH</span> <span class="o">|</span> <span class="n">FF_MODERN</span><span class="p">,</span> <span class="n">TEXT</span><span class="p">(</span><span class="s">&quot;ＭＳ ゴシック&quot;</span><span class="p">));</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">font</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">listBox</span><span class="p">.</span><span class="n">SetFont</span><span class="p">(</span><span class="n">font</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="c">// ウィンドウが閉じるときの処理。</span>
    <span class="kt">void</span> <span class="n">OnDestroy</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="c">// 選択されている要素だけを出力。</span>
        <span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="n">listBox</span><span class="p">.</span><span class="n">GetCount</span><span class="p">();</span>
        <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">TCHAR</span><span class="o">&gt;</span> <span class="n">buf</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">count</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">listBox</span><span class="p">.</span><span class="n">GetSel</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
            <span class="p">{</span>
                <span class="n">buf</span><span class="p">.</span><span class="n">resize</span><span class="p">(</span><span class="n">listBox</span><span class="p">.</span><span class="n">GetTextLen</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
                <span class="n">listBox</span><span class="p">.</span><span class="n">GetText</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">buf</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
                <span class="n">tcout</span> <span class="o">&lt;&lt;</span> <span class="o">&amp;</span><span class="n">buf</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="n">TEXT</span><span class="p">(</span><span class="sc">&#39;\n&#39;</span><span class="p">);</span>
                <span class="n">buf</span><span class="p">.</span><span class="n">clear</span><span class="p">();</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="n">tcout</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">flush</span><span class="p">;</span>
        <span class="n">listBox</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="n">PostQuitMessage</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="n">WTL</span><span class="o">::</span><span class="n">CListBox</span> <span class="n">listBox</span><span class="p">;</span>
    <span class="n">WTL</span><span class="o">::</span><span class="n">CFont</span> <span class="n">font</span><span class="p">;</span>
    <span class="k">static</span> <span class="k">const</span> <span class="kt">int</span> <span class="n">IDC_LISTBOX</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">};</span>
<span class="c">// 別スレッドで入力を読み取る。</span>
<span class="kt">void</span> <span class="n">ReadThread</span><span class="p">(</span><span class="n">MainWindow</span><span class="o">&amp;</span> <span class="n">wnd</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">tstring</span> <span class="n">s</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="n">boost</span><span class="o">::</span><span class="n">this_thread</span><span class="o">::</span><span class="n">interruption_requested</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="n">std</span><span class="o">::</span><span class="n">getline</span><span class="p">(</span><span class="n">tcin</span><span class="p">,</span> <span class="n">s</span><span class="p">))</span>
    <span class="p">{</span>
        <span class="n">wnd</span><span class="p">.</span><span class="n">AddLine</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="n">_tmain</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">std</span><span class="o">::</span><span class="n">locale</span> <span class="n">l</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">);</span>
    <span class="n">std</span><span class="o">::</span><span class="n">wcin</span><span class="p">.</span><span class="n">imbue</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">locale</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">));</span>
    <span class="n">std</span><span class="o">::</span><span class="n">wcout</span><span class="p">.</span><span class="n">imbue</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">locale</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">));</span>

    <span class="n">_Module</span><span class="p">.</span><span class="n">Init</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">GetModuleHandle</span><span class="p">(</span><span class="mi">0</span><span class="p">));</span>

    <span class="c">// ウィンドウの作成。</span>
    <span class="n">MainWindow</span> <span class="n">wnd</span><span class="p">;</span>
    <span class="n">wnd</span><span class="p">.</span><span class="n">Create</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="n">ATL</span><span class="o">::</span><span class="n">CWindow</span><span class="o">::</span><span class="n">rcDefault</span><span class="p">,</span>
        <span class="n">TEXT</span><span class="p">(</span><span class="s">&quot;HandGrep WTL&quot;</span><span class="p">),</span> <span class="n">WS_OVERLAPPEDWINDOW</span><span class="p">,</span> <span class="n">WS_EX_APPWINDOW</span><span class="p">);</span>
    <span class="n">boost</span><span class="o">::</span><span class="kr">thread</span> <span class="n">readThread</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">bind</span><span class="p">(</span><span class="n">ReadThread</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">ref</span><span class="p">(</span><span class="n">wnd</span><span class="p">)));</span>

    <span class="n">wnd</span><span class="p">.</span><span class="n">ShowWindow</span><span class="p">(</span><span class="n">SW_SHOWDEFAULT</span><span class="p">);</span>
    <span class="n">wnd</span><span class="p">.</span><span class="n">UpdateWindow</span><span class="p">();</span>

    <span class="n">WTL</span><span class="o">::</span><span class="n">CMessageLoop</span> <span class="n">msgLoop</span><span class="p">;</span>
    <span class="n">_Module</span><span class="p">.</span><span class="n">AddMessageLoop</span><span class="p">(</span><span class="o">&amp;</span><span class="n">msgLoop</span><span class="p">);</span>
    <span class="kt">int</span> <span class="n">ret</span> <span class="o">=</span> <span class="n">msgLoop</span><span class="p">.</span><span class="n">Run</span><span class="p">();</span>
    <span class="n">_Module</span><span class="p">.</span><span class="n">RemoveMessageLoop</span><span class="p">();</span>

    <span class="c">// アプリケーションが終了しようとしていることを伝える。</span>
    <span class="n">readThread</span><span class="p">.</span><span class="n">interrupt</span><span class="p">();</span>

    <span class="c">// OSが対応していれば(Vista以降)、入力待ちを解除させる。</span>
    <span class="k">typedef</span> <span class="n">decltype</span><span class="p">(</span><span class="n">CancelSynchronousIo</span><span class="p">)</span><span class="o">*</span> <span class="n">PCancelSynchronousIo</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">PCancelSynchronousIo</span> <span class="n">pCancelSynchronousIo</span> <span class="o">=</span>
        <span class="k">reinterpret_cast</span><span class="o">&lt;</span><span class="n">PCancelSynchronousIo</span><span class="o">&gt;</span><span class="p">(</span>
            <span class="n">GetProcAddress</span><span class="p">(</span><span class="n">GetModuleHandle</span><span class="p">(</span><span class="n">TEXT</span><span class="p">(</span><span class="s">&quot;kernel32&quot;</span><span class="p">)),</span> <span class="s">&quot;CancelSynchronousIo&quot;</span><span class="p">)))</span>
    <span class="p">{</span>
        <span class="n">pCancelSynchronousIo</span><span class="p">(</span><span class="n">readThread</span><span class="p">.</span><span class="n">native_handle</span><span class="p">());</span>
    <span class="p">}</span>
    <span class="n">_Module</span><span class="p">.</span><span class="n">Term</span><span class="p">();</span>
    <span class="n">readThread</span><span class="p">.</span><span class="n">join</span><span class="p">();</span>

    <span class="k">return</span> <span class="n">ret</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090615045520/http://ja.doukaku.org/comment/9042/addtag/" class="addtag" id="addtag_9042">タグ</a>:
	
    
    <a href="/web/20090615045520/http://ja.doukaku.org/tag/Boost/">Boost</a>
    
    <a href="/web/20090615045520/http://ja.doukaku.org/tag/Boost.Thread/">Boost.Thread</a>
    
    <a href="/web/20090615045520/http://ja.doukaku.org/tag/Boost1.39/">Boost1.39</a>
    
    <a href="/web/20090615045520/http://ja.doukaku.org/tag/WTL/">WTL</a>
    
    <a href="/web/20090615045520/http://ja.doukaku.org/tag/WTL8.0/">WTL8.0</a>
    
    <a href="/web/20090615045520/http://ja.doukaku.org/tag/Windows/">Windows</a>
    
	&nbsp;

	
      [<a href="/web/20090615045520/http://ja.doukaku.org/lang/cpp/">
		C++
      </a>]
	  
      [<a href="/web/20090615045520/http://ja.doukaku.org/comment/9042/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090615045520/http://ja.doukaku.org/comment/9042/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_9042"
  >-</span><span
  class="button yellow"
  id="rating_z_9042"
  >0</span><span 
  class="button green"
  id="rating_p_9042"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20090615045520/http://ja.doukaku.org/comment/9042/">
    1
    reply
  </a>

  [<a href="/web/20090615045520/http://ja.doukaku.org/252/reply_to/9042/">
  返信
  </a>]
  </div>
</div>
</div>




  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20090615045520im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      





<div class="comment" id="comment9059">
  <p class="banner"><a href="/web/20090615045520/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20090615045520/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090615045520im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20090615045520/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090615045520im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090615045520/http://ja.doukaku.org/comment/9059/">#9059</a>(<script language="JavaScript">print_time(new Date("2009/06/06 15:50 GMT"));</script><noscript>2009/06/06 15:50 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  
<p>&gt; なお、パイプの入力がまだあるのにウィンドウを閉じた場合、自プロセスは入力が終わるまで待つ羽目になります
</p>
<p>そこまで考えていませんでした。見事な対応も書いてあってすばらしいです。
</p>



	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090615045520/http://ja.doukaku.org/comment/9059/addtag/" class="addtag" id="addtag_9059">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_9059"
  >-</span><span
  class="button yellow"
  id="rating_z_9059"
  >0</span><span 
  class="button green"
  id="rating_p_9059"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20090615045520/http://ja.doukaku.org/comment/9042/"><img src="/web/20090615045520im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20090615045520/http://ja.doukaku.org/comment/9059/root/"><img src="/web/20090615045520im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20090615045520/http://ja.doukaku.org/252/reply_to/9059/">
  返信
  </a>]
  </div>
</div>
</div>




  


    </div>
  


  

  
    





<div class="comment" id="comment9043">
  <p class="banner"><a href="/web/20090615045520/http://ja.doukaku.org/user/793/" target="_top">genzou</a><a href="/web/20090615045520/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090615045520im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090615045520/http://ja.doukaku.org/comment/9043/">#9043</a>(<script language="JavaScript">print_time(new Date("2009/06/03 17:48 GMT"));</script><noscript>2009/06/03 17:48 GMT</noscript>)
	
	
	
	[<a href="/web/20090615045520/http://ja.doukaku.org/lang/groovy/">
	  Groovy
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <p>swingで。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></td><td class="code"><div class="highlight"><pre>#!/usr/bin/env groovy
import groovy.swing.*
import javax.swing.*

def swing = new SwingBuilder()
def frame = swing.frame(title:&#39;Frame&#39;, defaultCloseOperation:JFrame.EXIT_ON_CLOSE, show:true, pack:true, id:&quot;frame&quot;){
    panel{
        vbox{
            list(listData:System.in.readLines() as Vector, id:&quot;list&quot;, selectionMode:ListSelectionModel.MULTIPLE_INTERVAL_SELECTION){
            }
            button(&quot;出力！&quot;, actionPerformed:{ evt -&gt;
                println swing.list.selectedValues.join(&quot;\n&quot;)
                System.exit(0)
            })
        }
    }
}
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090615045520/http://ja.doukaku.org/comment/9043/addtag/" class="addtag" id="addtag_9043">タグ</a>:
	
    
    <a href="/web/20090615045520/http://ja.doukaku.org/tag/groovy/">groovy</a>
    
	&nbsp;

	
      [<a href="/web/20090615045520/http://ja.doukaku.org/lang/groovy/">
		Groovy
      </a>]
	  
      [<a href="/web/20090615045520/http://ja.doukaku.org/comment/9043/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090615045520/http://ja.doukaku.org/comment/9043/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_9043"
  >-</span><span
  class="button yellow"
  id="rating_z_9043"
  >0</span><span 
  class="button green"
  id="rating_p_9043"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090615045520/http://ja.doukaku.org/252/reply_to/9043/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment9044">
  <p class="banner"><a href="/web/20090615045520/http://ja.doukaku.org/user/852/" target="_top">emasaka</a>

	
	&nbsp;
	<a href="/web/20090615045520/http://ja.doukaku.org/comment/9044/">#9044</a>(<script language="JavaScript">print_time(new Date("2009/06/04 06:54 GMT"));</script><noscript>2009/06/04 06:54 GMT</noscript>)
	
	
	
	[<a href="/web/20090615045520/http://ja.doukaku.org/lang/bash/">
	  Bash
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5
6</pre></td><td class="code"><div class="highlight"><pre><span class="c">#!/bin/sh</span>
<span class="nv">file</span><span class="o">=</span><span class="k">$(</span>mktemp /tmp/handgrep.XXXXXXXXXX<span class="k">)</span>
<span class="nb">trap</span> <span class="s2">&quot;rm -f $file&quot;</span> EXIT
cat &gt; <span class="nv">$file</span>
<span class="o">(</span><span class="k">${</span><span class="nv">EDITOR</span><span class="k">:-</span><span class="nv">vi</span><span class="k">}</span> <span class="nv">$file</span> &lt; /dev/tty &gt; /dev/tty<span class="o">)</span>
cat <span class="nv">$file</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090615045520/http://ja.doukaku.org/comment/9044/addtag/" class="addtag" id="addtag_9044">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090615045520/http://ja.doukaku.org/lang/bash/">
		Bash
      </a>]
	  
      [<a href="/web/20090615045520/http://ja.doukaku.org/comment/9044/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090615045520/http://ja.doukaku.org/comment/9044/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_9044"
  >-</span><span
  class="button yellow"
  id="rating_z_9044"
  >0</span><span 
  class="button green"
  id="rating_p_9044"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090615045520/http://ja.doukaku.org/252/reply_to/9044/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment9045">
  <p class="banner"><a href="/web/20090615045520/http://ja.doukaku.org/user/913/" target="_top">nattou_curry</a>

	
	&nbsp;
	<a href="/web/20090615045520/http://ja.doukaku.org/comment/9045/">#9045</a>(<script language="JavaScript">print_time(new Date("2009/06/04 09:32 GMT"));</script><noscript>2009/06/04 09:32 GMT</noscript>)
	
	
	
	[<a href="/web/20090615045520/http://ja.doukaku.org/lang/java/">
	  Java
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <p>swingにて。</p>
<p>HandGrepを初めて使ったのですが、便利そうなツールだと思いました。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51</pre></td><td class="code"><div class="highlight"><pre><span class="k">import</span> <span class="nn">java.awt.*</span><span class="o">;</span>
<span class="k">import</span> <span class="nn">java.awt.event.*</span><span class="o">;</span>
<span class="k">import</span> <span class="nn">java.io.*</span><span class="o">;</span>
<span class="k">import</span> <span class="nn">javax.swing.*</span><span class="o">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">HandGrep</span> <span class="o">{</span>
    <span class="k">public</span> <span class="k">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span> <span class="n">String</span><span class="o">[]</span> <span class="n">args</span> <span class="o">)</span> <span class="k">throws</span> <span class="n">IOException</span> <span class="o">{</span>
        
        <span class="c">// フレームを生成</span>
        
        <span class="k">final</span> <span class="n">JFrame</span> <span class="n">frame</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JFrame</span><span class="o">(</span> <span class="s">&quot;HandGrep&quot;</span> <span class="o">);</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">setDefaultCloseOperation</span><span class="o">(</span> <span class="n">JFrame</span><span class="o">.</span><span class="na">DO_NOTHING_ON_CLOSE</span> <span class="o">);</span>
        
        <span class="c">// コンポーネントをフレームに配置</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">setLayout</span><span class="o">(</span> <span class="k">new</span> <span class="n">BorderLayout</span><span class="o">()</span> <span class="o">);</span>
        <span class="k">final</span> <span class="n">JList</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JList</span><span class="o">();</span>
        <span class="n">JScrollPane</span> <span class="n">scrollPane</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JScrollPane</span><span class="o">(</span> <span class="n">list</span> <span class="o">);</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">add</span><span class="o">(</span> <span class="n">scrollPane</span><span class="o">,</span> <span class="n">BorderLayout</span><span class="o">.</span><span class="na">CENTER</span> <span class="o">);</span>
        <span class="n">JButton</span> <span class="n">button</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JButton</span><span class="o">(</span> <span class="s">&quot;完了&quot;</span> <span class="o">);</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">add</span><span class="o">(</span> <span class="n">button</span><span class="o">,</span> <span class="n">BorderLayout</span><span class="o">.</span><span class="na">SOUTH</span> <span class="o">);</span>
        
        <span class="c">// 初期処理(入力)</span>
        
        <span class="n">DefaultListModel</span> <span class="n">listModel</span> <span class="o">=</span> <span class="k">new</span> <span class="n">DefaultListModel</span><span class="o">();</span>

        <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span> <span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span> <span class="n">System</span><span class="o">.</span><span class="na">in</span> <span class="o">)</span> <span class="o">);</span>
        <span class="n">String</span> <span class="n">line</span><span class="o">;</span>
        <span class="k">while</span> <span class="o">(</span> <span class="o">(</span> <span class="n">line</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">()</span> <span class="o">)</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">)</span> <span class="o">{</span>
            <span class="n">listModel</span><span class="o">.</span><span class="na">addElement</span><span class="o">(</span> <span class="n">line</span> <span class="o">);</span>
        <span class="o">}</span>

        <span class="n">list</span><span class="o">.</span><span class="na">setModel</span><span class="o">(</span> <span class="n">listModel</span><span class="o">);</span>
        
        <span class="c">// 完了ボタン押下時の処理(出力＆終了)</span>
        
        <span class="n">button</span><span class="o">.</span><span class="na">addActionListener</span><span class="o">(</span> <span class="k">new</span> <span class="n">ActionListener</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">public</span> <span class="kt">void</span> <span class="n">actionPerformed</span><span class="o">(</span> <span class="n">ActionEvent</span> <span class="n">evt</span> <span class="o">)</span> <span class="o">{</span>
                <span class="k">for</span> <span class="o">(</span> <span class="n">Object</span> <span class="n">value</span> <span class="o">:</span> <span class="n">list</span><span class="o">.</span><span class="na">getSelectedValues</span><span class="o">()</span> <span class="o">)</span> <span class="o">{</span>
                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span> <span class="n">value</span> <span class="o">);</span>
                <span class="o">}</span>
                
                <span class="n">frame</span><span class="o">.</span><span class="na">dispose</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">}</span> <span class="o">);</span>
        
        <span class="c">// フレームを表示</span>
        
        <span class="n">frame</span><span class="o">.</span><span class="na">pack</span><span class="o">();</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">show</span><span class="o">(</span> <span class="kc">true</span> <span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090615045520/http://ja.doukaku.org/comment/9045/addtag/" class="addtag" id="addtag_9045">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090615045520/http://ja.doukaku.org/lang/java/">
		Java
      </a>]
	  
      [<a href="/web/20090615045520/http://ja.doukaku.org/comment/9045/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090615045520/http://ja.doukaku.org/comment/9045/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_9045"
  >-</span><span
  class="button yellow"
  id="rating_z_9045"
  >0</span><span 
  class="button green"
  id="rating_p_9045"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090615045520/http://ja.doukaku.org/252/reply_to/9045/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment9046">
  <p class="banner"><a href="/web/20090615045520/http://ja.doukaku.org/user/766/" target="_top">syat</a><a href="/web/20090615045520/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090615045520im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090615045520/http://ja.doukaku.org/comment/9046/">#9046</a>(<script language="JavaScript">print_time(new Date("2009/06/04 10:05 GMT"));</script><noscript>2009/06/04 10:05 GMT</noscript>)
	
	
	
	[<a href="/web/20090615045520/http://ja.doukaku.org/lang/csharp/">
	  C#
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  C#で。標準入力とUIを別スレッドにしているので、追加入力可能です。<br/>コマンドラインとUIの組み合わせって意外と新鮮だと思いました。
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78</pre></td><td class="code"><div class="highlight"><pre><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Windows.Forms</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Threading</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">HandGrep</span> <span class="k">{</span>
    <span class="c">// 行選択ダイアログクラス</span>
    <span class="k">class</span> <span class="nc">Dialog</span> <span class="p">:</span> <span class="n">Form</span> <span class="k">{</span>
        <span class="n">ListBox</span> <span class="n">list</span><span class="p">;</span>
        <span class="k">public</span> <span class="n">ListBox</span> <span class="n">List</span> <span class="k">{</span>
            <span class="k">get</span> <span class="k">{</span> <span class="k">return</span> <span class="n">list</span><span class="p">;</span> <span class="k">}</span>
            <span class="k">private</span> <span class="k">set</span> <span class="k">{</span> <span class="n">list</span> <span class="p">=</span> <span class="n">value</span><span class="p">;</span> <span class="k">}</span>
        <span class="k">}</span>
        <span class="k">public</span> <span class="nf">Dialog</span><span class="p">()</span> <span class="k">{</span>
            <span class="k">this</span><span class="p">.</span><span class="n">Width</span> <span class="p">=</span> <span class="m">300</span><span class="p">;</span> <span class="k">this</span><span class="p">.</span><span class="n">Height</span> <span class="p">=</span> <span class="m">200</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="n">Text</span> <span class="p">=</span> <span class="s">&quot;選択して×ボタンを押してください。&quot;</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="n">List</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ListBox</span><span class="p">();</span>
            <span class="k">this</span><span class="p">.</span><span class="n">List</span><span class="p">.</span><span class="n">Dock</span> <span class="p">=</span> <span class="n">DockStyle</span><span class="p">.</span><span class="n">Fill</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="n">List</span><span class="p">.</span><span class="n">SelectionMode</span> <span class="p">=</span> <span class="n">SelectionMode</span><span class="p">.</span><span class="n">MultiExtended</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="n">Controls</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">List</span><span class="p">);</span>
        <span class="k">}</span>
        <span class="k">public</span> <span class="k">void</span> <span class="nf">AddLine</span><span class="p">(</span><span class="kt">string</span> <span class="n">line</span><span class="p">)</span> <span class="k">{</span>
            <span class="k">this</span><span class="p">.</span><span class="n">List</span><span class="p">.</span><span class="n">Items</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">line</span><span class="p">);</span>
        <span class="k">}</span>
    <span class="k">}</span>
    <span class="c">// メインクラス</span>
    <span class="k">class</span> <span class="nc">Program</span> <span class="k">{</span>
        <span class="k">static</span> <span class="kt">object</span> <span class="n">objLock</span><span class="p">;</span>                  <span class="c">// 排他オブジェクト</span>
        <span class="k">static</span> <span class="n">AutoResetEvent</span> <span class="n">evDialogLoad</span><span class="p">;</span>     <span class="c">// ダイアログ初期化イベント</span>
        <span class="k">static</span> <span class="n">AutoResetEvent</span> <span class="n">evDialogClose</span><span class="p">;</span>    <span class="c">// ダイアログ終了イベント</span>
        <span class="k">static</span> <span class="n">Dialog</span> <span class="n">dlg</span><span class="p">;</span>                      <span class="c">// ダイアログ</span>
        <span class="k">delegate</span> <span class="k">void</span> <span class="n">MyDelegate</span><span class="p">();</span>
 
        <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span> <span class="k">{</span>
            <span class="n">objLock</span> <span class="p">=</span> <span class="k">new</span> <span class="kt">object</span><span class="p">();</span>
            <span class="n">evDialogLoad</span> <span class="p">=</span> <span class="k">new</span> <span class="n">AutoResetEvent</span><span class="p">(</span><span class="k">false</span><span class="p">);</span>
            <span class="n">evDialogClose</span> <span class="p">=</span> <span class="k">new</span> <span class="n">AutoResetEvent</span><span class="p">(</span><span class="k">false</span><span class="p">);</span>

            <span class="c">// ダイアログ作成</span>
            <span class="n">dlg</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dialog</span><span class="p">();</span>
            <span class="n">dlg</span><span class="p">.</span><span class="n">Load</span> <span class="p">+=</span> <span class="k">new</span> <span class="n">EventHandler</span><span class="p">(</span>       <span class="c">// ダイアログ初期化イベントハンドラ登録</span>
                <span class="k">delegate</span><span class="p">(</span><span class="kt">object</span> <span class="n">o</span><span class="p">,</span> <span class="n">EventArgs</span> <span class="n">e</span><span class="p">)</span> <span class="k">{</span>
                    <span class="n">evDialogLoad</span><span class="p">.</span><span class="n">Set</span><span class="p">();</span>
                <span class="k">}</span><span class="p">);</span>
            <span class="c">// ダイアログを別スレッドで表示</span>
            <span class="k">new</span> <span class="nf">MyDelegate</span><span class="p">(</span>
                <span class="k">delegate</span><span class="p">()</span> <span class="k">{</span>
                    <span class="n">dlg</span><span class="p">.</span><span class="n">ShowDialog</span><span class="p">();</span>
                <span class="k">}</span>
            <span class="p">).</span><span class="n">BeginInvoke</span><span class="p">(</span><span class="k">new</span> <span class="n">AsyncCallback</span><span class="p">(</span><span class="n">OnDialogClose</span><span class="p">),</span> <span class="k">null</span><span class="p">);</span>
            <span class="n">evDialogLoad</span><span class="p">.</span><span class="n">WaitOne</span><span class="p">();</span>             <span class="c">// ダイアログの初期化待ち</span>
            <span class="c">// 標準入力ループ</span>
            <span class="kt">string</span> <span class="n">line</span><span class="p">;</span>
            <span class="k">while</span> <span class="p">((</span><span class="n">line</span> <span class="p">=</span> <span class="n">Console</span><span class="p">.</span><span class="n">ReadLine</span><span class="p">())</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span> <span class="k">{</span>
                <span class="c">// 標準入力から１行読み込み、ダイアログに追加</span>
                <span class="n">dlg</span><span class="p">.</span><span class="n">Invoke</span><span class="p">(</span><span class="k">new</span> <span class="n">MyDelegate</span><span class="p">(</span>
                    <span class="k">delegate</span><span class="p">()</span> <span class="k">{</span>
                        <span class="k">lock</span> <span class="p">(</span><span class="n">objLock</span><span class="p">)</span> <span class="k">{</span>
                            <span class="k">if</span> <span class="p">(</span><span class="n">dlg</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
                            <span class="n">dlg</span><span class="p">.</span><span class="n">AddLine</span><span class="p">(</span><span class="n">line</span><span class="p">);</span>
                        <span class="k">}</span>
                    <span class="k">}</span>
                <span class="p">));</span>
            <span class="k">}</span>
            <span class="n">evDialogClose</span><span class="p">.</span><span class="n">WaitOne</span><span class="p">();</span>            <span class="c">// ダイアログの終了待ち</span>
        <span class="k">}</span>
        <span class="c">// ダイアログクローズ後のコールバック</span>
        <span class="k">static</span> <span class="k">void</span> <span class="nf">OnDialogClose</span><span class="p">(</span><span class="n">IAsyncResult</span> <span class="n">result</span><span class="p">)</span> <span class="k">{</span>
            <span class="k">lock</span> <span class="p">(</span><span class="n">objLock</span><span class="p">)</span> <span class="k">{</span>
                <span class="c">// 選択行を標準出力に書き込む</span>
                <span class="k">foreach</span> <span class="p">(</span><span class="kt">string</span> <span class="n">line</span> <span class="k">in</span> <span class="n">dlg</span><span class="p">.</span><span class="n">List</span><span class="p">.</span><span class="n">SelectedItems</span><span class="p">)</span> <span class="k">{</span>
                    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">line</span><span class="p">);</span>
                <span class="k">}</span>
                <span class="n">dlg</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>
            <span class="k">}</span>
            <span class="n">evDialogClose</span><span class="p">.</span><span class="n">Set</span><span class="p">();</span>
        <span class="k">}</span>
    <span class="k">}</span>
<span class="k">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090615045520/http://ja.doukaku.org/comment/9046/addtag/" class="addtag" id="addtag_9046">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090615045520/http://ja.doukaku.org/lang/csharp/">
		C#
      </a>]
	  
      [<a href="/web/20090615045520/http://ja.doukaku.org/comment/9046/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090615045520/http://ja.doukaku.org/comment/9046/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_9046"
  >-</span><span
  class="button yellow"
  id="rating_z_9046"
  >0</span><span 
  class="button green"
  id="rating_p_9046"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090615045520/http://ja.doukaku.org/252/reply_to/9046/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment9047">
  <p class="banner"><a href="/web/20090615045520/http://ja.doukaku.org/user/232/" target="_top">kkobayashi</a><a href="/web/20090615045520/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090615045520im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090615045520/http://ja.doukaku.org/comment/9047/">#9047</a>(<script language="JavaScript">print_time(new Date("2009/06/04 10:31 GMT"));</script><noscript>2009/06/04 10:31 GMT</noscript>)
	
	
	
	[<a href="/web/20090615045520/http://ja.doukaku.org/lang/r/">
	  R
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <p>Rの標準機能だけで書いてみました。</p>
<p>標準入力を読ませたあと、excelのようなインターフェイスのデータエディタが起動するので、選択したい値の左にある&quot;select&quot;のカラムに0以外の値を記入してください。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4</pre></td><td class="code"><div class="highlight"><pre>hand.grep &lt;- function(){
  df &lt;- edit(data.frame(select=0, value=readLines()))
  as.character(df[(df[,1]!=0),2])
}
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090615045520/http://ja.doukaku.org/comment/9047/addtag/" class="addtag" id="addtag_9047">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090615045520/http://ja.doukaku.org/lang/r/">
		R
      </a>]
	  
      [<a href="/web/20090615045520/http://ja.doukaku.org/comment/9047/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090615045520/http://ja.doukaku.org/comment/9047/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_9047"
  >-</span><span
  class="button yellow"
  id="rating_z_9047"
  >0</span><span 
  class="button green"
  id="rating_p_9047"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090615045520/http://ja.doukaku.org/252/reply_to/9047/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment9052">
  <p class="banner"><a href="/web/20090615045520/http://ja.doukaku.org/user/88/" target="_top">sumim</a><a href="/web/20090615045520/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090615045520im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20090615045520/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090615045520im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090615045520/http://ja.doukaku.org/comment/9052/">#9052</a>(<script language="JavaScript">print_time(new Date("2009/06/05 11:55 GMT"));</script><noscript>2009/06/05 11:55 GMT</noscript>)
	
	
	
	[<a href="/web/20090615045520/http://ja.doukaku.org/lang/smalltalk/">
	  Smalltalk
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <p>Squeak Smalltalk で。例によって標準入出力との連携は苦手なので、ファイル名を指定して内容を読み込み、一覧からクリックして選択した行群を完了ボタン後に文字列の配列として返す処理を書きました。</p>
<p>ちょっと風変わりな実装方法を試したところとしては、プラガブル MVC で使用するためのモデルとして、通常するように Model のサブクラスを新たに定義することはせず、その代わりに行内容と選択状態のキー・バリュー組を要素に持つ配列を用いたこと。そのために、ビュー・コントローラーとの連携のためのメソッドを、インスタンス特異的クラスを介し、モデルとして用いた配列オブジェクトにアドホックに追加している点です。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28</pre></td><td class="code"><div class="highlight"><pre>| in lines file keyValues window linesList button results |
in := &#39;test.txt&#39;.
lines := OrderedCollection new.
[   file := FileStream fileNamed: in.
    [file atEnd] whileFalse: [lines add: file nextLine].
] ensure: [file ifNotNil: [file close]].
keyValues := lines collect: [:each | each -&gt; false].
keyValues assureUniClass.
keyValues class
    compile: &#39;keyList ^self collect: [:each | each key]&#39;;
    compile: &#39;stateAt: idx ^(self at: idx) value&#39;;
    compile: &#39;stateAt: idx put: boolean (self at: idx) value: boolean. self changed: nil&#39;.
window := (SystemWindow labelled: &#39;行をクリックして選択...&#39;) model: keyValues.
linesList := PluggableListMorphOfMany
    on: keyValues 
    list: #keyList
    primarySelection: nil
    changePrimarySelection: nil
    listSelection: #stateAt: 
    changeListSelection: #stateAt:put: 
    menu: nil.
button := (PluggableButtonMorph on: window getState: nil action: #closeBoxHit) label: &#39;完了&#39;.
window addMorph: linesList frame: (0.0 @ 0.0 corner: 1.0 @ 0.9).
window addMorph: button frame: (0.0 @ 0.9 corner: 1.0 @ 1.0).
ToolBuilder default runModal: (window openInWorld; yourself).
results := keyValues select: [:each | each value] thenCollect: [:each | each key].
keyValues class removeFromSystem.
^results asArray
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090615045520/http://ja.doukaku.org/comment/9052/addtag/" class="addtag" id="addtag_9052">タグ</a>:
	
    
    <a href="/web/20090615045520/http://ja.doukaku.org/tag/Squeak_Smalltalk/">Squeak_Smalltalk</a>
    
	&nbsp;

	
      [<a href="/web/20090615045520/http://ja.doukaku.org/lang/smalltalk/">
		Smalltalk
      </a>]
	  
      [<a href="/web/20090615045520/http://ja.doukaku.org/comment/9052/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090615045520/http://ja.doukaku.org/comment/9052/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_9052"
  >-</span><span
  class="button yellow"
  id="rating_z_9052"
  >0</span><span 
  class="button green"
  id="rating_p_9052"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090615045520/http://ja.doukaku.org/252/reply_to/9052/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment9056">
  <p class="banner"><a href="/web/20090615045520/http://ja.doukaku.org/user/573/" target="_top">greentea</a>

	
	&nbsp;
	<a href="/web/20090615045520/http://ja.doukaku.org/comment/9056/">#9056</a>(<script language="JavaScript">print_time(new Date("2009/06/06 02:33 GMT"));</script><noscript>2009/06/06 02:33 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <div class="section">
<p>Python+PyQt4(non-commacial版)で書いてみたのですが、ライセンスがGPLになってしまって、ここには載せられないことに気づいた(^^;</p>
</div>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090615045520/http://ja.doukaku.org/comment/9056/addtag/" class="addtag" id="addtag_9056">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_9056"
  >-</span><span
  class="button yellow"
  id="rating_z_9056"
  >0</span><span 
  class="button green"
  id="rating_p_9056"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090615045520/http://ja.doukaku.org/252/reply_to/9056/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  

  
    





<div class="comment" id="comment9063">
  <p class="banner"><a href="/web/20090615045520/http://ja.doukaku.org/user/827/" target="_top">baal</a><a href="/web/20090615045520/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090615045520im_/http://ja.doukaku.org/static/image/star_silver.png" border=0/></a><a href="/web/20090615045520/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090615045520im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090615045520/http://ja.doukaku.org/comment/9063/">#9063</a>(<script language="JavaScript">print_time(new Date("2009/06/07 09:15 GMT"));</script><noscript>2009/06/07 09:15 GMT</noscript>)
	
	
	
	[<a href="/web/20090615045520/http://ja.doukaku.org/lang/scheme/">
	  Scheme
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  Ypsilon + GTK で書きました。リストウィジェットを使いたかったんですが、うまくいかなかったので、チェックボタン並べてます。
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59</pre></td><td class="code"><div class="highlight"><pre><span class="p">(</span><span class="nf">import</span> <span class="p">(</span><span class="nf">rnrs</span><span class="p">)</span>
        <span class="p">(</span><span class="nf">ypsilon</span> <span class="nv">gtk</span> <span class="nv">constants</span><span class="p">)</span>
        <span class="p">(</span><span class="nf">ypsilon</span> <span class="nv">gtk</span> <span class="nv">init</span><span class="p">)</span>
        <span class="p">(</span><span class="nf">ypsilon</span> <span class="nv">gtk</span> <span class="nv">main</span><span class="p">)</span>
        <span class="p">(</span><span class="nf">ypsilon</span> <span class="nv">gtk</span> <span class="nv">widget</span><span class="p">)</span>
        <span class="p">(</span><span class="nf">ypsilon</span> <span class="nv">gtk</span> <span class="nv">window</span><span class="p">)</span>
        <span class="p">(</span><span class="nf">ypsilon</span> <span class="nv">gtk</span> <span class="nv">scrolled</span><span class="p">)</span>
        <span class="p">(</span><span class="nf">ypsilon</span> <span class="nv">gtk</span> <span class="nv">container</span><span class="p">)</span>
        <span class="p">(</span><span class="nf">ypsilon</span> <span class="nv">gtk</span> <span class="nv">vpaned</span><span class="p">)</span>
        <span class="p">(</span><span class="nf">ypsilon</span> <span class="nv">gtk</span> <span class="nv">vbox</span><span class="p">)</span>
        <span class="p">(</span><span class="nf">ypsilon</span> <span class="nv">gtk</span> <span class="nv">box</span><span class="p">)</span>
        <span class="p">(</span><span class="nf">ypsilon</span> <span class="nv">gtk</span> <span class="nv">button</span><span class="p">)</span>
        <span class="p">(</span><span class="nf">ypsilon</span> <span class="nv">gtk</span> <span class="nv">check</span><span class="p">)</span>
        <span class="p">(</span><span class="nf">ypsilon</span> <span class="nv">gtk</span> <span class="nv">toggle</span><span class="p">)</span>
        <span class="p">(</span><span class="nf">ypsilon</span> <span class="nv">gobject</span> <span class="nv">signal</span><span class="p">)</span>
        <span class="p">(</span><span class="nf">ypsilon</span> <span class="nv">ffi</span><span class="p">))</span>

<span class="p">(</span><span class="nf">gtk_init</span> <span class="p">(</span><span class="nb">vector </span><span class="p">(</span><span class="nb">length </span><span class="p">(</span><span class="nf">command-line</span><span class="p">)))</span> <span class="p">(</span><span class="nb">apply </span><span class="nv">vector</span> <span class="p">(</span><span class="nf">command-line</span><span class="p">)))</span>

<span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="nf">window</span> <span class="p">(</span><span class="nf">gtk_window_new</span> <span class="nv">GTK_WINDOW_TOPLEVEL</span><span class="p">))</span>
        <span class="p">(</span><span class="nf">scrolled-window</span> <span class="p">(</span><span class="nf">gtk_scrolled_window_new</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">))</span>
        <span class="p">(</span><span class="nf">vpaned</span> <span class="p">(</span><span class="nf">gtk_vpaned_new</span><span class="p">))</span>
        <span class="p">(</span><span class="nf">button</span> <span class="p">(</span><span class="nf">gtk_button_new_with_label</span> <span class="s">&quot;OUTPUT&quot;</span><span class="p">))</span>
        <span class="p">(</span><span class="nf">vbox</span> <span class="p">(</span><span class="nf">gtk_vbox_new</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">))</span>
        <span class="p">(</span><span class="nf">destroy</span>
            <span class="p">(</span><span class="nf">signal-callback</span> <span class="nv">gboolean</span> <span class="p">(</span><span class="nf">GtkObject*</span> <span class="nv">gpointer</span><span class="p">)</span>
                <span class="p">(</span><span class="k">lambda </span><span class="p">(</span><span class="nf">obj</span> <span class="nv">data</span><span class="p">)</span>
                    <span class="p">(</span><span class="nf">gtk_main_quit</span><span class="p">))))</span>
        <span class="p">(</span><span class="nf">clicked</span>
            <span class="p">(</span><span class="nf">signal-callback</span> <span class="nv">gboolean</span> <span class="p">(</span><span class="nf">GtkButton*</span> <span class="nv">gpointer</span><span class="p">)</span>
                <span class="p">(</span><span class="k">lambda </span><span class="p">(</span><span class="nf">button</span> <span class="nv">vbox</span><span class="p">)</span>
                    <span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="nf">out</span> <span class="p">(</span><span class="nf">current-output-port</span><span class="p">)))</span>
                        <span class="p">(</span><span class="nf">gtk_container_foreach</span> <span class="nv">vbox</span>
                            <span class="p">(</span><span class="k">lambda </span><span class="p">(</span><span class="nf">button</span> <span class="nv">data</span><span class="p">)</span>
                                <span class="p">(</span><span class="nf">when</span> <span class="p">(</span><span class="nb">positive? </span><span class="p">(</span><span class="nf">gtk_toggle_button_get_active</span> <span class="nv">button</span><span class="p">))</span>
                                    <span class="p">(</span><span class="nf">put-string</span> <span class="nv">out</span> <span class="p">(</span><span class="nf">gtk_button_get_label</span> <span class="nv">button</span><span class="p">))</span>
                                    <span class="p">(</span><span class="nb">newline </span><span class="nv">out</span><span class="p">)))</span>
                            <span class="mi">0</span><span class="p">))))))</span>

    <span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="nf">in</span> <span class="p">(</span><span class="nf">current-input-port</span><span class="p">)))</span>
        <span class="p">(</span><span class="k">let </span><span class="nv">loop</span> <span class="p">((</span><span class="nf">line</span> <span class="p">(</span><span class="nf">get-line</span> <span class="nv">in</span><span class="p">)))</span>
            <span class="p">(</span><span class="nf">unless</span> <span class="p">(</span><span class="nb">eof-object? </span><span class="nv">line</span><span class="p">)</span>
                <span class="p">(</span><span class="nf">gtk_box_pack_start</span> <span class="nv">vbox</span> <span class="p">(</span><span class="nf">gtk_check_button_new_with_label</span> <span class="nv">line</span><span class="p">)</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">)</span>
                <span class="p">(</span><span class="nf">loop</span> <span class="p">(</span><span class="nf">get-line</span> <span class="nv">in</span><span class="p">)))))</span>

    <span class="p">(</span><span class="nf">gtk_window_set_title</span> <span class="nv">window</span> <span class="s">&quot;HandGrep&quot;</span><span class="p">)</span>
    <span class="p">(</span><span class="nf">gtk_container_set_border_width</span> <span class="nv">window</span> <span class="mi">10</span><span class="p">)</span>
    <span class="p">(</span><span class="nf">gtk_window_resize</span> <span class="nv">window</span> <span class="mi">320</span> <span class="mi">240</span><span class="p">)</span>

    <span class="p">(</span><span class="nf">g_signal_connect</span> <span class="nv">window</span> <span class="s">&quot;destroy&quot;</span> <span class="nv">destroy</span> <span class="mi">0</span><span class="p">)</span>
    <span class="p">(</span><span class="nf">g_signal_connect</span> <span class="nv">button</span> <span class="s">&quot;clicked&quot;</span> <span class="nv">clicked</span> <span class="nv">vbox</span><span class="p">)</span>
    <span class="p">(</span><span class="nf">g_signal_connect_swapped</span> <span class="nv">button</span> <span class="s">&quot;clicked&quot;</span> <span class="nv">gtk_widget_destroy</span> <span class="nv">window</span><span class="p">)</span>

    <span class="p">(</span><span class="nf">gtk_container_add</span> <span class="nv">vpaned</span> <span class="nv">button</span><span class="p">)</span>
    <span class="p">(</span><span class="nf">gtk_container_add</span> <span class="nv">vpaned</span> <span class="nv">vbox</span><span class="p">)</span>
    <span class="p">(</span><span class="nf">gtk_scrolled_window_add_with_viewport</span> <span class="nv">scrolled-window</span> <span class="nv">vpaned</span><span class="p">)</span>
    <span class="p">(</span><span class="nf">gtk_container_add</span> <span class="nv">window</span> <span class="nv">scrolled-window</span><span class="p">)</span>
    <span class="p">(</span><span class="nf">gtk_widget_show_all</span> <span class="nv">window</span><span class="p">)</span>
    <span class="p">(</span><span class="nf">gtk_main</span><span class="p">))</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090615045520/http://ja.doukaku.org/comment/9063/addtag/" class="addtag" id="addtag_9063">タグ</a>:
	
    
    <a href="/web/20090615045520/http://ja.doukaku.org/tag/gtk/">gtk</a>
    
    <a href="/web/20090615045520/http://ja.doukaku.org/tag/ypsilon/">ypsilon</a>
    
	&nbsp;

	
      [<a href="/web/20090615045520/http://ja.doukaku.org/lang/scheme/">
		Scheme
      </a>]
	  
      [<a href="/web/20090615045520/http://ja.doukaku.org/comment/9063/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090615045520/http://ja.doukaku.org/comment/9063/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_9063"
  >-</span><span
  class="button yellow"
  id="rating_z_9063"
  >0</span><span 
  class="button green"
  id="rating_p_9063"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090615045520/http://ja.doukaku.org/252/reply_to/9063/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment9108">
  <p class="banner"><a href="/web/20090615045520/http://ja.doukaku.org/user/1064/" target="_top">yamamoto</a><a href="/web/20090615045520/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090615045520im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20090615045520/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090615045520im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090615045520/http://ja.doukaku.org/comment/9108/">#9108</a>(<script language="JavaScript">print_time(new Date("2009/06/11 02:07 GMT"));</script><noscript>2009/06/11 02:07 GMT</noscript>)
	
	
	
	[<a href="/web/20090615045520/http://ja.doukaku.org/lang/other/">
	  Other
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffefef;">-1/1=-1.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>nattou_curry さんの #9045をscalaに移植してみました。
終了処理に自信なし・・・
たたき台なのでたたいて下さい。
環境はVistaでテスト。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44</pre></td><td class="code"><div class="highlight"><pre>import swing._
import swing.event._
import scala.collection.mutable.ArrayBuffer
import scala.io.Source

object HandGrep extends SimpleGUIApplication {
  var args = Array[String]()
  override def main(args:Array[String]):Unit = {
    this.args = args
    super.main(args)
  }
  
  // data for list-view
  // read from stdin
  var lines = new ArrayBuffer[String]()
  lines ++= Source.fromInputStream(System.in).getLines
  //lines.foreach(print _) // for debug
  
  //create frame window
  def top=new MainFrame{
    title = &quot;HandGrep&quot;
    
    val list = new ListView[String](lines)
    val scrollPane = new ScrollPane(list)
    val button = new Button(&quot;Done&quot;)
    // add components 
    contents = new BorderPanel{
        add(scrollPane,BorderPanel.Position.Center)
        add(button    ,BorderPanel.Position.South)
      }
    listenTo(button)
    reactions +={
      // &quot;Done&quot; button clicked
      case ButtonClicked(b) =&gt;{
        for{i&lt;-list.selection.indices
            v=lines(i)} print(v)
        this.dispose
        System.exit(0)
      }
      
    }// end of reactions
  } // end of ctor of MainFrame
  //
}
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090615045520/http://ja.doukaku.org/comment/9108/addtag/" class="addtag" id="addtag_9108">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090615045520/http://ja.doukaku.org/lang/other/">
		Other
      </a>]
	  
      [<a href="/web/20090615045520/http://ja.doukaku.org/comment/9108/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090615045520/http://ja.doukaku.org/comment/9108/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffefef;"
  >-1/1=-1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_9108"
  >-</span><span
  class="button yellow"
  id="rating_z_9108"
  >0</span><span 
  class="button green"
  id="rating_p_9108"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20090615045520/http://ja.doukaku.org/comment/9108/">
    1
    reply
  </a>

  [<a href="/web/20090615045520/http://ja.doukaku.org/252/reply_to/9108/">
  返信
  </a>]
  </div>
</div>
</div>




  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20090615045520im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      





<div class="comment" id="comment9109">
  <p class="banner"><a href="/web/20090615045520/http://ja.doukaku.org/user/1064/" target="_top">yamamoto</a><a href="/web/20090615045520/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090615045520im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20090615045520/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090615045520im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090615045520/http://ja.doukaku.org/comment/9109/">#9109</a>(<script language="JavaScript">print_time(new Date("2009/06/11 02:09 GMT"));</script><noscript>2009/06/11 02:09 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <p>言語がOtherになってしまった。すみません。
Sacalaです。</p>

	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090615045520/http://ja.doukaku.org/comment/9109/addtag/" class="addtag" id="addtag_9109">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_9109"
  >-</span><span
  class="button yellow"
  id="rating_z_9109"
  >0</span><span 
  class="button green"
  id="rating_p_9109"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20090615045520/http://ja.doukaku.org/comment/9108/"><img src="/web/20090615045520im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20090615045520/http://ja.doukaku.org/comment/9109/root/"><img src="/web/20090615045520im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20090615045520/http://ja.doukaku.org/252/reply_to/9109/">
  返信
  </a>]
  </div>
</div>
</div>




  


    </div>
  


  

  

  
    





<div class="comment" id="comment9123">
  <p class="banner"><a href="/web/20090615045520/http://ja.doukaku.org/user/1025/" target="_top">tanakahisateru</a><a href="/web/20090615045520/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090615045520im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090615045520/http://ja.doukaku.org/comment/9123/">#9123</a>(<script language="JavaScript">print_time(new Date("2009/06/11 13:08 GMT"));</script><noscript>2009/06/11 13:08 GMT</noscript>)
	
	
	
	[<a href="/web/20090615045520/http://ja.doukaku.org/lang/python/">
	  Python
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <p>素直にwxPythonです。作り方は素直じゃないですが。この程度のものならOOP避けたいと思って。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35</pre></td><td class="code"><div class="highlight"><pre><span class="k">import</span> <span class="nn">wx</span>

<span class="k">def</span> <span class="nf">gui_hand_grep</span><span class="p">(</span><span class="n">lines</span><span class="p">):</span>
    <span class="n">app</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">PySimpleApp</span><span class="p">()</span>
    <span class="n">frame</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s">&quot;Hand Grep&quot;</span><span class="p">)</span>
    <span class="n">lineslist</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">ListBox</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">LB_EXTENDED</span><span class="p">)</span>
    <span class="n">uipanel</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Panel</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">okbutton</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">uipanel</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s">&quot;OK&quot;</span><span class="p">)</span>
    <span class="n">uipanel</span><span class="o">.</span><span class="n">Layout</span><span class="p">()</span>
    <span class="n">sizer</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">VERTICAL</span><span class="p">)</span>
    <span class="n">frame</span><span class="o">.</span><span class="n">SetSizer</span><span class="p">(</span><span class="n">sizer</span><span class="p">)</span>
    <span class="n">sizer</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">lineslist</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALL</span><span class="p">)</span>
    <span class="n">sizer</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">uipanel</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALL</span><span class="p">)</span>
    <span class="n">lineslist</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
    <span class="n">sels</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">def</span> <span class="nf">onOK</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
        <span class="n">sels</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">pos</span><span class="p">:</span> <span class="n">lines</span><span class="p">[</span><span class="n">pos</span><span class="p">],</span> 
              <span class="n">lineslist</span><span class="o">.</span><span class="n">GetSelections</span><span class="p">()))</span>
        <span class="n">app</span><span class="o">.</span><span class="n">ExitMainLoop</span><span class="p">()</span>
    <span class="n">frame</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_BUTTON</span><span class="p">,</span> <span class="n">onOK</span><span class="p">,</span> <span class="n">okbutton</span><span class="p">)</span>
    <span class="n">frame</span><span class="o">.</span><span class="n">Show</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">SetTopWindow</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">MainLoop</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">sels</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">lines</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">eof</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="k">while</span> <span class="ow">not</span> <span class="n">eof</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">raw_input</span><span class="p">())</span>
        <span class="k">except</span> <span class="ne">EOFError</span><span class="p">:</span>
            <span class="n">eof</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="k">for</span> <span class="n">sel</span> <span class="ow">in</span> <span class="n">gui_hand_grep</span><span class="p">(</span><span class="n">lines</span><span class="p">):</span>
        <span class="k">print</span> <span class="n">sel</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090615045520/http://ja.doukaku.org/comment/9123/addtag/" class="addtag" id="addtag_9123">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090615045520/http://ja.doukaku.org/lang/python/">
		Python
      </a>]
	  
      [<a href="/web/20090615045520/http://ja.doukaku.org/comment/9123/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090615045520/http://ja.doukaku.org/comment/9123/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_9123"
  >-</span><span
  class="button yellow"
  id="rating_z_9123"
  >0</span><span 
  class="button green"
  id="rating_p_9123"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090615045520/http://ja.doukaku.org/252/reply_to/9123/">
  返信
  </a>]
  </div>
</div>
</div>




  


  







</div>

<div id="side_menu" class="compact">

<iframe src="/web/20090615045520if_/http://ja.doukaku.org/login_info/" frameborder=0 width=100% id="login_info">
iframe required
</iframe>

<h4 class="semi_compact">一覧</h4>

<ul>
<!--<li><a href="/web/20090615045520/http://ja.doukaku.org/user/">ユーザ</a>-->
<li><a href="/web/20090615045520/http://ja.doukaku.org/lang/">言語</a>
<li><a href="/web/20090615045520/http://ja.doukaku.org/challenge/">お題</a>
<li><a href="/web/20090615045520/http://ja.doukaku.org/topic/">トピック</a>
<li><a href="/web/20090615045520/http://ja.doukaku.org/comment/">投稿</a>
<li><a href="/web/20090615045520/http://ja.doukaku.org/good_comments/">評価の高い投稿</a>
<li><a href="/web/20090615045520/http://ja.doukaku.org/tag/">タグ</a>
</ul>

<h4 class="compact">フィード</h4>
<ul>
<li><a href="/web/20090615045520/http://ja.doukaku.org/feeds/challenges/">最新のお題</a><img src="/web/20090615045520im_/http://ja.doukaku.org/static/image/feed_icon.png">
<li><a href="/web/20090615045520/http://ja.doukaku.org/feeds/topics/">最新のトピック</a><img src="/web/20090615045520im_/http://ja.doukaku.org/static/image/feed_icon.png">
<li><a href="/web/20090615045520/http://ja.doukaku.org/feeds/comments/">新着投稿</a><img src="/web/20090615045520im_/http://ja.doukaku.org/static/image/feed_icon.png">
</ul>







<h4 class="compact">その他</h4>
<ul>
<li><a href="/web/20090615045520/http://ja.doukaku.org/qa/">Q&A</a>
<li><a href="/web/20090615045520/http://ja.doukaku.org/feedback/">フィードバック</a>
<!--<li><a href="/web/20090615045520/http://ja.doukaku.org/terms">用語集</a>-->
</ul>


<h4 class="compact">リンク</h4>
<ul>
<li><a href="/web/20090615045520/http://www.lingr.com/room/doukaku_ja">チャットルーム(Lingr)</a>
<li><a href="/web/20090615045520/http://labs.cybozu.co.jp/">サイボウズ・ラボ</a>
<li><a href="/web/20090615045520/http://www.djangoproject.com/">Django</a>
</ul>

<h4 id="pathtraq" class="compact"><a href="/web/20090615045520/http://pathtraq.com/analytics?url=http%3A%2F%2Fja.doukaku.org%2Fcomment%2F*%2F%20desc%3A%E3%81%A9%E3%81%86%E6%9B%B8%E3%81%8Forg&m=popular">Pathtraq</a></h4>
<div class="indent">
<span id="pathtraq_sentinel">loading...</span>
</div>


</div>
</div>


<div id="page_foot" class="bordered">

<a rel="license" href="/web/20090615045520/http://creativecommons.org/licenses/by/2.1/jp/">
<img alt="Creative Commons License" style="border-width:0" src="/web/20090615045520im_/http://i.creativecommons.org/l/by/2.1/jp/88x31.png" /></a>
このサイトの内容は、
<a rel="license" href="/web/20090615045520/http://creativecommons.org/licenses/by/2.1/jp/">クリエイティブ・コモンズ・ライセンス</a>の下でライセンスされています。
<a href="/web/20090615045520/http://ja.doukaku.org/qa/#licence">[詳細]</a>

</div>

</body>




<script type="text/javascript">
$(document).ready(function(){$("#doukaku_org").after("<script src='/web/20090615045520/http://api.pathtraq.com/pages?url=http%3A%2F%2Fja.doukaku.org%2Fcomment%2F*%2F%20desc%3A%E3%81%A9%E3%81%86%E6%9B%B8%E3%81%8Forg&api=json&callback=addPathtraq'><" + "/script>")});
</script>

<script src="/web/20090615045520js_/http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-2136157-1";
urchinTracker();
</script>




</html>





<!--
     FILE ARCHIVED ON 4:55:20 Jun 15, 2009 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 14:20:31 Nov 16, 2013.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
