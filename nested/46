
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja"> 
  <head>

<script type="text/javascript" src="/static/js/analytics.js" ></script>
<link type="text/css" rel="stylesheet" href="/static/css/banner-styles.css"/>




    <meta http-equiv="Content-type" content="text/html; charset=UTF-8" />
    <title>
重複無し乱数
どう書く？org </title>

    <link rel="stylesheet" type="text/css"
	href="/web/20100309103155cs_/http://ja.doukaku.org/static/style/reset-fonts-grids.css" />
    <link rel="stylesheet" type="text/css"
	href="/web/20100309103155cs_/http://ja.doukaku.org/static/style/style.css?20071211?20071207" />
	
    <link rel="stylesheet" type="text/css"
	href="/web/20100309103155cs_/http://ja.doukaku.org/static/style/pygments.css" />


	
    <!--<script src="/web/20100309103155/http://ja.doukaku.org/static/js/ieerbug/ieerbug.js" type="text/javascript"></script>-->


<!--<script src="/web/20100309103155/http://ja.doukaku.org/static/js/ieerbug/ieerbug.js" type="text/javascript"></script>-->
<script src="/web/20100309103155js_/http://ja.doukaku.org/static/js/jquery-1.1.3.1.js" type="text/javascript"></script>
<script src="/web/20100309103155js_/http://ja.doukaku.org/static/js/rating.js" type="text/javascript"></script>
<script src="/web/20100309103155js_/http://ja.doukaku.org/static/js/addtag.js?20071129" type="text/javascript"></script>

<script type="text/javascript">
is_key_navigation_enable = true;
</script>
<script src="/web/20100309103155js_/http://ja.doukaku.org/static/js/utils.js?~~~" type="text/javascript"></script>

</head>


<body id="doukaku_org">
<!-- BEGIN WAYBACK TOOLBAR INSERT -->
<script> if (window.archive_analytics) { window.archive_analytics.values['server_name']="wwwb-app12.us.archive.org";}; </script>

<script type="text/javascript" src="/static/js/disclaim-element.js" ></script>
<script type="text/javascript" src="/static/js/graph-calc.js" ></script>
<script type="text/javascript" src="/static/jflot/jquery.min.js" ></script>
<script type="text/javascript">
//<![CDATA[
var firstDate = 820454400000;
var lastDate = 1388534399999;
var wbPrefix = "/web/";
var wbCurrentUrl = "http:\/\/ja.doukaku.org\/46\/nested\/";

var curYear = -1;
var curMonth = -1;
var yearCount = 18;
var firstYear = 1996;
var imgWidth = 450;
var yearImgWidth = 25;
var monthImgWidth = 2;
var trackerVal = "none";
var displayDay = "9";
var displayMonth = "Mar";
var displayYear = "2010";
var prettyMonths = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];

function showTrackers(val) {
	if(val == trackerVal) {
		return;
	}
	if(val == "inline") {
		document.getElementById("displayYearEl").style.color = "#ec008c";
		document.getElementById("displayMonthEl").style.color = "#ec008c";
		document.getElementById("displayDayEl").style.color = "#ec008c";		
	} else {
		document.getElementById("displayYearEl").innerHTML = displayYear;
		document.getElementById("displayYearEl").style.color = "#ff0";
		document.getElementById("displayMonthEl").innerHTML = displayMonth;
		document.getElementById("displayMonthEl").style.color = "#ff0";
		document.getElementById("displayDayEl").innerHTML = displayDay;
		document.getElementById("displayDayEl").style.color = "#ff0";
	}
   document.getElementById("wbMouseTrackYearImg").style.display = val;
   document.getElementById("wbMouseTrackMonthImg").style.display = val;
   trackerVal = val;
}
function getElementX2(obj) {
	var thing = jQuery(obj);
	if((thing == undefined) 
			|| (typeof thing == "undefined") 
			|| (typeof thing.offset == "undefined")) {
		return getElementX(obj);
	}
	return Math.round(thing.offset().left);
}
function trackMouseMove(event,element) {

   var eventX = getEventX(event);
   var elementX = getElementX2(element);
   var xOff = eventX - elementX;
	if(xOff < 0) {
		xOff = 0;
	} else if(xOff > imgWidth) {
		xOff = imgWidth;
	}
   var monthOff = xOff % yearImgWidth;

   var year = Math.floor(xOff / yearImgWidth);
	var yearStart = year * yearImgWidth;
   var monthOfYear = Math.floor(monthOff / monthImgWidth);
   if(monthOfYear > 11) {
       monthOfYear = 11;
   }
   // 1 extra border pixel at the left edge of the year:
   var month = (year * 12) + monthOfYear;
   var day = 1;
	if(monthOff % 2 == 1) {
		day = 15;
	}
	var dateString = 
		zeroPad(year + firstYear) + 
		zeroPad(monthOfYear+1,2) +
		zeroPad(day,2) + "000000";

	var monthString = prettyMonths[monthOfYear];
	document.getElementById("displayYearEl").innerHTML = year + 1996;
	document.getElementById("displayMonthEl").innerHTML = monthString;
	// looks too jarring when it changes..
	//document.getElementById("displayDayEl").innerHTML = zeroPad(day,2);

	var url = wbPrefix + dateString + '/' +  wbCurrentUrl;
	document.getElementById('wm-graph-anchor').href = url;

   //document.getElementById("wmtbURL").value="evX("+eventX+") elX("+elementX+") xO("+xOff+") y("+year+") m("+month+") monthOff("+monthOff+") DS("+dateString+") Moy("+monthOfYear+") ms("+monthString+")";
   if(curYear != year) {
       var yrOff = year * yearImgWidth;
       document.getElementById("wbMouseTrackYearImg").style.left = yrOff + "px";
       curYear = year;
   }
   if(curMonth != month) {
       var mtOff = year + (month * monthImgWidth) + 1;
       document.getElementById("wbMouseTrackMonthImg").style.left = mtOff + "px";
       curMonth = month;
   }
}
//]]>
</script>

<style type="text/css">body{margin-top:0!important;padding-top:0!important;min-width:800px!important;}#wm-ipp a:hover{text-decoration:underline!important;}</style>
<div id="wm-ipp" lang="en" class="__wb_banner_div" style="display:none; position:relative;padding:0 5px;min-height:70px;min-width:800px">


<div id="wm-ipp-inside" class="__wb_banner_div" style="position:fixed;padding:0!important;margin:0!important;width:97%;min-width:780px;border:5px solid #000;border-top:none;background-image:url(/static/images/toolbar/wm_tb_bk_trns.png);text-align:center;-moz-box-shadow:1px 1px 3px #333;-webkit-box-shadow:1px 1px 3px #333;box-shadow:1px 1px 3px #333;font-size:11px!important;font-family:'Lucida Grande','Arial',sans-serif!important;">
   <table style="border-collapse:collapse;margin:0;padding:0;width:100%;"><tbody><tr>
   <td style="padding:10px;vertical-align:top;min-width:110px;">
   <a href="/web/" title="Wayback Machine home page" style="background-color:transparent;border:none;"><img src="/static/images/toolbar/wayback-toolbar-logo.png" alt="Wayback Machine" width="110" height="39" border="0"/></a>
   </td>
   <td style="padding:0!important;text-align:center;vertical-align:top;width:100%;">

       <table style="border-collapse:collapse;margin:0 auto;padding:0;width:570px;"><tbody><tr>
       <td style="padding:3px 0;" colspan="2">
       <form target="_top" method="get" action="/web/form-submit.jsp" name="wmtb" id="wmtb" style="margin:0!important;padding:0!important;"><input type="text" name="url" id="wmtbURL" value="http://ja.doukaku.org/46/nested/" style="width:400px;font-size:11px;font-family:'Lucida Grande','Arial',sans-serif;" onfocus="javascript:this.focus();this.select();" /><input type="hidden" name="type" value="replay" /><input type="hidden" name="date" value="20100309103155" /><input type="submit" value="Go" style="font-size:11px;font-family:'Lucida Grande','Arial',sans-serif;margin-left:5px;width: inherit !important" /><span id="wm_tb_options" style="display:block;"></span></form>
       </td>
       <td style="vertical-align:bottom;padding:5px 0 0 0!important;" rowspan="2">
           <table style="border-collapse:collapse;width:110px;color:#99a;font-family:'Helvetica','Lucida Grande','Arial',sans-serif;"><tbody>
			
           <!-- NEXT/PREV MONTH NAV AND MONTH INDICATOR -->
           <tr style="width:110px;height:16px;font-size:10px!important;">
           	<td style="padding-right:9px;font-size:11px!important;font-weight:bold;text-transform:uppercase;text-align:right;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
		                <a href="/web/20100205163354/http://ja.doukaku.org/46/nested/" style="text-decoration:none;color:#33f;font-weight:bold;background-color:transparent;border:none;" title="5 Feb 2010"><strong>FEB</strong></a>
		                
               </td>
               <td id="displayMonthEl" style="background:#000;color:#ff0;font-size:11px!important;font-weight:bold;text-transform:uppercase;width:34px;height:15px;padding-top:1px;text-align:center;" title="You are here: 10:31:55 Mar 9, 2010">MAR</td>
				<td style="padding-left:9px;font-size:11px!important;font-weight:bold;text-transform:uppercase;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       Apr
                       
               </td>
           </tr>

           <!-- NEXT/PREV CAPTURE NAV AND DAY OF MONTH INDICATOR -->
           <tr>
               <td style="padding-right:9px;white-space:nowrap;overflow:visible;text-align:right!important;vertical-align:middle!important;" nowrap="nowrap">
               
		                <a href="/web/20100205163354/http://ja.doukaku.org/46/nested/" title="16:33:54 Feb 5, 2010" style="background-color:transparent;border:none;"><img src="/static/images/toolbar/wm_tb_prv_on.png" alt="Previous capture" width="14" height="16" border="0" /></a>
		                
               </td>
               <td id="displayDayEl" style="background:#000;color:#ff0;width:34px;height:24px;padding:2px 0 0 0;text-align:center;font-size:24px;font-weight: bold;" title="You are here: 10:31:55 Mar 9, 2010">9</td>
				<td style="padding-left:9px;white-space:nowrap;overflow:visible;text-align:left!important;vertical-align:middle!important;" nowrap="nowrap">
               
                       <img src="/static/images/toolbar/wm_tb_nxt_off.png" alt="Next capture" width="14" height="16" border="0"/>
                       
			    </td>
           </tr>

           <!-- NEXT/PREV YEAR NAV AND YEAR INDICATOR -->
           <tr style="width:110px;height:13px;font-size:9px!important;">
				<td style="padding-right:9px;font-size:11px!important;font-weight: bold;text-align:right;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
		                <a href="/web/20081215110837/http://ja.doukaku.org/46/nested/" style="text-decoration:none;color:#33f;font-weight:bold;background-color:transparent;border:none;" title="15 Dec 2008"><strong>2008</strong></a>
		                
               </td>
               <td id="displayYearEl" style="background:#000;color:#ff0;font-size:11px!important;font-weight: bold;padding-top:1px;width:34px;height:13px;text-align:center;" title="You are here: 10:31:55 Mar 9, 2010">2010</td>
				<td style="padding-left:9px;font-size:11px!important;font-weight: bold;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       2011
                       
				</td>
           </tr>
           </tbody></table>
       </td>

       </tr>
       <tr>
       <td style="vertical-align:middle;padding:0!important;">
           <a href="/web/20100309103155*/http://ja.doukaku.org/46/nested/" style="color:#33f;font-size:11px;font-weight:bold;background-color:transparent;border:none;" title="See a list of every capture for this URL"><strong>20 captures</strong></a>
           <div class="__wb_banner_div" style="margin:0!important;padding:0!important;color:#666;font-size:9px;padding-top:2px!important;white-space:nowrap;" title="Timespan for captures of this URL">13 May 07 - 9 Mar 10</div>
       </td>
       <td style="padding:0!important;">
       <a style="position:relative; white-space:nowrap; width:450px;height:27px;" href="" id="wm-graph-anchor">
       <div class="__wb_banner_div" id="wm-ipp-sparkline" style="position:relative; white-space:nowrap; width:450px;height:27px;background-color:#fff;cursor:pointer;border-right:1px solid #ccc;" title="Explore captures for this URL">
			<img id="sparklineImgId" style="position:absolute; z-index:9012; top:0px; left:0px;"
				onmouseover="showTrackers('inline');" 
				onmouseout="showTrackers('none');"
				onmousemove="trackMouseMove(event,this)"
				alt="sparklines"
				width="450"
				height="27"
				border="0"
				src="/web/jsp/graph.jsp?graphdata=450_27_1996:-1:000000000000_1997:-1:000000000000_1998:-1:000000000000_1999:-1:000000000000_2000:-1:000000000000_2001:-1:000000000000_2002:-1:000000000000_2003:-1:000000000000_2004:-1:000000000000_2005:-1:000000000000_2006:-1:000000000000_2007:-1:000010000001_2008:-1:001100001012_2009:-1:000000002202_2010:2:222000000000_2011:-1:000000000000_2012:-1:000000000000_2013:-1:000000000000"></img>
			<img id="wbMouseTrackYearImg" 
				style="display:none; position:absolute; z-index:9010;"
				width="25" 
				height="27"
				border="0"
				src="/static/images/toolbar/transp-yellow-pixel.png"></img>
			<img id="wbMouseTrackMonthImg"
				style="display:none; position:absolute; z-index:9011; " 
				width="2"
				height="27" 
				border="0"
				src="/static/images/toolbar/transp-red-pixel.png"></img>
       </div>
		</a>

       </td>
       </tr></tbody></table>
   </td>
   <td style="text-align:right;padding:5px;width:65px;font-size:11px!important;">
       <a href="javascript:;" onclick="document.getElementById('wm-ipp').style.display='none';" style="display:block;padding-right:18px;background:url(/static/images/toolbar/wm_tb_close.png) no-repeat 100% 0;color:#33f;font-family:'Lucida Grande','Arial',sans-serif;margin-bottom:23px;background-color:transparent;border:none;" title="Close the toolbar">Close</a>
       <a href="http://faq.web.archive.org/" style="display:block;padding-right:18px;background:url(/static/images/toolbar/wm_tb_help.png) no-repeat 100% 0;color:#33f;font-family:'Lucida Grande','Arial',sans-serif;background-color:transparent;border:none;" title="Get some help using the Wayback Machine">Help</a>
   </td>
   </tr></tbody></table>

</div>
</div>
<script type="text/javascript">
 var wmDisclaimBanner = document.getElementById("wm-ipp");
 if(wmDisclaimBanner != null) {
   disclaimElement(wmDisclaimBanner);
 }
</script>
<!-- END WAYBACK TOOLBAR INSERT -->


<div id="page_head" class="compact">
  <h1 class="compact">
    <a href="/web/20100309103155/http://ja.doukaku.org/">どう書く？org</a><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/beta.png" alt="beta">
  </h1>
</div>

<div id="page_body" class="compact">
<div id="content" class="compact">




<h2 class="compact">
<img src='/web/20100309103155im_/http://ja.doukaku.org/static/image/star_gold.png' alt=お題(出題済み)>
<a href="/web/20100309103155/http://ja.doukaku.org/46/">重複無し乱数</a>
</h2>

    





<div class="comment" id="comment3402">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/127/" target="_top">raynstard</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/3402/">#3402</a>(<script language="JavaScript">print_time(new Date("2007/08/17 06:17 GMT"));</script><noscript>2007/08/17 06:17 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  整数nを渡すと1 ～ n までの整数を重複しないようランダムに出力する関数「bingo」を作ってください。
<p>
このお題はraynstardさんの投稿を元にしています。ご投稿ありがとうございました。
投稿の内容には表示のしかたも含まれていたのですが、
このお題では「重複しない1～nまでの乱数をどうやって作るか」という点に集中することにして、
結果の整形は続編としてこの後のお題で出すことにします。
サンプル入出力は下のようになります。
<pre>
>>> bingo(10)
[10, 7, 8, 4, 5, 2, 3, 1, 6, 9]
>>> bingo(3)
[2, 3, 1]
>>> bingo(3)
[2, 3, 1]
>>> bingo(3)
[3, 1, 2]
>>> bingo(10)
[7, 3, 8, 6, 4, 10, 9, 2, 1, 5]
</pre>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/3402/addtag/" class="addtag" id="addtag_3402">タグ</a>:
	
    
    <a href="/web/20100309103155/http://ja.doukaku.org/tag/C/">C</a>
    
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3402"
  >-</span><span
  class="button yellow"
  id="rating_z_3402"
  >0</span><span 
  class="button green"
  id="rating_p_3402"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/3402/">
  返信
  </a>]
  </div>
</div>
</div>




  



<div class="indent">
<a href="/web/20100309103155/http://ja.doukaku.org/46/post_comment/">
投稿する
</a>
</div>


<h2>投稿されたコメント - ネスト表示</h2>
<a href="/web/20100309103155/http://ja.doukaku.org/46/flatten/">フラット表示</a> 
<a href="/web/20100309103155/http://ja.doukaku.org/46/">非表示</a> 


  
    





<div class="comment" id="comment2253">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/88/" target="_top">sumim</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2253/">#2253</a>(<script language="JavaScript">print_time(new Date("2007/08/17 06:26 GMT"));</script><noscript>2007/08/17 06:26 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/smalltalk/">
	  Smalltalk
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #dfffdf;">2/2=1.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>Squeak Smalltalk で。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3</pre></td><td class="code"><div class="highlight"><pre>| bingo |
bingo := [:n | (1 to: n) asArray shuffled].
bingo value: 10   &quot;=&gt; #(6 9 3 4 2 1 10 5 8 7) &quot;
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2253/addtag/" class="addtag" id="addtag_2253">タグ</a>:
	
    
    <a href="/web/20100309103155/http://ja.doukaku.org/tag/Squeak_Smalltalk/">Squeak_Smalltalk</a>
    
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/smalltalk/">
		Smalltalk
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2253/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2253/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #dfffdf;"
  >2/2=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2253"
  >-</span><span
  class="button yellow"
  id="rating_z_2253"
  >0</span><span 
  class="button green"
  id="rating_p_2253"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20100309103155/http://ja.doukaku.org/comment/2253/">
    1
    reply
  </a>

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2253/">
  返信
  </a>]
  </div>
</div>
</div>




  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      





<div class="comment" id="comment2255">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/1/" target="_top">にしお</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2255/">#2255</a>(<script language="JavaScript">print_time(new Date("2007/08/17 06:39 GMT"));</script><noscript>2007/08/17 06:39 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/python/">
	  Python
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>Pythonでも1～nのリストを作ってシャッフルする方法が一番てっとりばやいですね。

&gt;&gt;&gt; bingo(10)
[10, 8, 2, 7, 4, 5, 3, 6, 1, 9]
</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5</pre></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">bingo</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
	<span class="k">from</span> <span class="nn">random</span> <span class="k">import</span> <span class="n">shuffle</span>
	<span class="n">result</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
	<span class="n">shuffle</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
	<span class="k">return</span> <span class="n">result</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2255/addtag/" class="addtag" id="addtag_2255">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/python/">
		Python
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2255/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2255/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2255"
  >-</span><span
  class="button yellow"
  id="rating_z_2255"
  >0</span><span 
  class="button green"
  id="rating_p_2255"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2253/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2255/root/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2255/">
  返信
  </a>]
  </div>
</div>
</div>




  


    </div>
  


  

  
    





<div class="comment" id="comment2254">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/172/" target="_top">cats</a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2254/">#2254</a>(<script language="JavaScript">print_time(new Date("2007/08/17 06:29 GMT"));</script><noscript>2007/08/17 06:29 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/csharp/">
	  C#
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'></pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30</pre></td><td class="code"><div class="highlight"><pre><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Text</span><span class="p">;</span>
<span class="k">class</span> <span class="nc">Program</span>
<span class="k">{</span>
  <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">()</span>
  <span class="k">{</span>
    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">bingo</span><span class="p">(</span><span class="m">3</span><span class="p">));</span>
  <span class="k">}</span>
  <span class="k">static</span> <span class="kt">string</span> <span class="nf">bingo</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">)</span>
  <span class="k">{</span>
    <span class="n">Random</span> <span class="n">r</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Random</span><span class="p">();</span>
    <span class="kt">int</span><span class="p">[]</span> <span class="n">a</span> <span class="p">=</span> <span class="k">new</span> <span class="kt">int</span><span class="p">[</span><span class="n">n</span><span class="p">];</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="p">++</span><span class="n">i</span><span class="p">)</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="n">i</span> <span class="p">+</span> <span class="m">1</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span> <span class="p">&gt;</span> <span class="m">1</span><span class="p">;</span> <span class="p">--</span><span class="n">i</span><span class="p">)</span>
    <span class="k">{</span>
      <span class="kt">int</span> <span class="n">k</span> <span class="p">=</span> <span class="n">r</span><span class="p">.</span><span class="n">Next</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
      <span class="kt">int</span> <span class="n">tmp</span> <span class="p">=</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span> <span class="p">-</span> <span class="m">1</span><span class="p">];</span>
      <span class="n">a</span><span class="p">[</span><span class="n">i</span> <span class="p">-</span> <span class="m">1</span><span class="p">]</span> <span class="p">=</span> <span class="n">a</span><span class="p">[</span><span class="n">k</span><span class="p">];</span>
      <span class="n">a</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="p">=</span> <span class="n">tmp</span><span class="p">;</span>
    <span class="k">}</span>
    <span class="n">StringBuilder</span> <span class="n">sb</span> <span class="p">=</span> <span class="k">new</span> <span class="n">StringBuilder</span><span class="p">(</span><span class="s">&quot;(&quot;</span><span class="p">);</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="p">++</span><span class="n">i</span><span class="p">)</span>
    <span class="k">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="p">&gt;</span> <span class="m">0</span><span class="p">)</span> <span class="n">sb</span><span class="p">.</span><span class="n">Append</span><span class="p">(</span><span class="s">&quot;, &quot;</span><span class="p">);</span>
      <span class="n">sb</span><span class="p">.</span><span class="n">Append</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
    <span class="k">}</span>
    <span class="n">sb</span><span class="p">.</span><span class="n">Append</span><span class="p">(</span><span class="s">&quot;)&quot;</span><span class="p">);</span>
    <span class="k">return</span> <span class="n">sb</span><span class="p">.</span><span class="n">ToString</span><span class="p">();</span>
  <span class="k">}</span>
<span class="k">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2254/addtag/" class="addtag" id="addtag_2254">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/csharp/">
		C#
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2254/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2254/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2254"
  >-</span><span
  class="button yellow"
  id="rating_z_2254"
  >0</span><span 
  class="button green"
  id="rating_p_2254"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2254/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  

  
    





<div class="comment" id="comment2256">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/105/" target="_top">rubikitch</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2256/">#2256</a>(<script language="JavaScript">print_time(new Date("2007/08/17 06:41 GMT"));</script><noscript>2007/08/17 06:41 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/ruby/">
	  Ruby
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffbf;">0/4=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>久々の1行問題</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5
6
7
8</pre></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">bingo</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
  <span class="p">(</span><span class="mi">1</span><span class="o">.</span><span class="n">.n</span><span class="p">)</span><span class="o">.</span><span class="n">to_a</span><span class="o">.</span><span class="n">sort_by</span><span class="p">{</span><span class="nb">rand</span><span class="p">}</span>
<span class="k">end</span>
<span class="n">bingo</span> <span class="mi">10</span>                        <span class="c1"># =&gt; [4, 2, 1, 10, 8, 5, 3, 7, 6, 9]</span>
<span class="n">bingo</span> <span class="mi">3</span>                         <span class="c1"># =&gt; [3, 1, 2]</span>
<span class="n">bingo</span> <span class="mi">3</span>                         <span class="c1"># =&gt; [1, 3, 2]</span>
<span class="n">bingo</span> <span class="mi">3</span>                         <span class="c1"># =&gt; [2, 3, 1]</span>
<span class="n">bingo</span> <span class="mi">10</span>                        <span class="c1"># =&gt; [3, 2, 6, 5, 7, 4, 1, 8, 10, 9]</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2256/addtag/" class="addtag" id="addtag_2256">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/ruby/">
		Ruby
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2256/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2256/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffbf;"
  >0/4=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2256"
  >-</span><span
  class="button yellow"
  id="rating_z_2256"
  >0</span><span 
  class="button green"
  id="rating_p_2256"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20100309103155/http://ja.doukaku.org/comment/2256/">
    1
    reply
  </a>

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2256/">
  返信
  </a>]
  </div>
</div>
</div>




  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      





<div class="comment" id="comment2264">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/41/" target="_top">shiro</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2264/">#2264</a>(<script language="JavaScript">print_time(new Date("2007/08/17 07:47 GMT"));</script><noscript>2007/08/17 07:47 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #7fff7f;">8/8=1.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  
<p>巧みだなあと思ったんですが、ごくわずかの確率でrandが同じ値を返すケースがあるはずで、その場合の要素の並び順はsortの実装によって固定されてしまうから、微妙に偏りが出てくるんじゃないかな、という気もします。
</p>
<p>(例えば簡略化のために要素数を2つ、randは0か1しか返さないとして、sortがstableだとすると、可能な4通りの組み合わせのうち(0 1)が3回、(1 0)が1回となる)
</p>
<p>現実にはdoubleが重なる確率なんて極めて低いでしょうけど。
</p>



	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2264/addtag/" class="addtag" id="addtag_2264">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #7fff7f;"
  >8/8=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2264"
  >-</span><span
  class="button yellow"
  id="rating_z_2264"
  >0</span><span 
  class="button green"
  id="rating_p_2264"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2256/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2264/root/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  <a href="/web/20100309103155/http://ja.doukaku.org/comment/2264/">
    2
    replies
  </a>

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2264/">
  返信
  </a>]
  </div>
</div>
</div>




  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      





<div class="comment" id="comment2266">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/1/" target="_top">にしお</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2266/">#2266</a>(<script language="JavaScript">print_time(new Date("2007/08/17 07:59 GMT"));</script><noscript>2007/08/17 07:59 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #dfffdf;">2/2=1.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  
<p>ライブラリを使ってシャッフルしているケースでも
   もしかするとそういう偏りがある可能性はありますね。
</p>
<p>気になったのでPythonのrandomライブラリを見てみたところ<a href="/web/20100309103155/http://ja.doukaku.org/comment/2254/">#2254</a>と同じアルゴリズムでした。
</p>
<pre><code>for i in reversed(xrange(1, len(x))):
    # pick an element in x[:i+1] with which to exchange x[i]
    j = int(random() * (i+1))
    x[i], x[j] = x[j], x[i]
</code></pre>


	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2266/addtag/" class="addtag" id="addtag_2266">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #dfffdf;"
  >2/2=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2266"
  >-</span><span
  class="button yellow"
  id="rating_z_2266"
  >0</span><span 
  class="button green"
  id="rating_p_2266"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2264/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2266/root/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2266/">
  返信
  </a>]
  </div>
</div>
</div>




  


    </div>
  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      





<div class="comment" id="comment2616">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/383/" target="_top">shg</a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2616/">#2616</a>(<script language="JavaScript">print_time(new Date("2007/08/29 04:59 GMT"));</script><noscript>2007/08/29 04:59 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  
<p>ご指摘ごもっともと思ったのでMATLABでこのアルゴリズムで生成する数列の偏りをチェックしてみました(<a href="/web/20100309103155/http://ja.doukaku.org/comment/2615/">#2615</a>)。このチェック方法がいいのかどうかは実はよく分からないのですが、これでおおざっぱに見る限り普通の精度の乱数を使えば偏りはものすごく小さそうです。ちなみにMATLABの標準のrandpermという同じ目的の関数も<a href="/web/20100309103155/http://ja.doukaku.org/comment/2256/">#2256</a>と同様のアルゴリズムになっています。
</p>



	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2616/addtag/" class="addtag" id="addtag_2616">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2616"
  >-</span><span
  class="button yellow"
  id="rating_z_2616"
  >0</span><span 
  class="button green"
  id="rating_p_2616"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2264/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2616/root/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  <a href="/web/20100309103155/http://ja.doukaku.org/comment/2616/">
    1
    reply
  </a>

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2616/">
  返信
  </a>]
  </div>
</div>
</div>




  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      





<div class="comment" id="comment2617">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/41/" target="_top">shiro</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2617/">#2617</a>(<script language="JavaScript">print_time(new Date("2007/08/29 06:33 GMT"));</script><noscript>2007/08/29 06:33 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #dfffdf;">2/2=1.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  もちろん、IEEE&nbsp;doubleを使った場合2^53通りの値がrandで出現するので&nbsp;(Rubyはメルセンヌツイスタでしたよね?&nbsp;)、「値が衝突する可能性」自体がものすごく少ないです&nbsp;(サンプル数10^5くらいじゃその計算をdoubleでやったら計算誤差よりはるかに小さいくらいの影響)。<br/><br/>ただ、暗号とかストカスティックシミュレーションみたいな、膨大なデータから統計的に意味を見つけ出すような分野で、素材となる元のランダム列に偏りが入っていると結果に影響が出てくるわけで、「そういう用途には使えない」ということだけわかっていれば良いのでは。標準Cの&nbsp;rand()&nbsp;が「用途によっては使えない」のと同じような意味で。<br/><br/>今回のお題はbingoですから、その範囲では十分に題意に沿った回答であると思います。
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2617/addtag/" class="addtag" id="addtag_2617">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #dfffdf;"
  >2/2=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2617"
  >-</span><span
  class="button yellow"
  id="rating_z_2617"
  >0</span><span 
  class="button green"
  id="rating_p_2617"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2616/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2617/root/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  <a href="/web/20100309103155/http://ja.doukaku.org/comment/2617/">
    1
    reply
  </a>

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2617/">
  返信
  </a>]
  </div>
</div>
</div>




  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      





<div class="comment" id="comment2767">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/383/" target="_top">shg</a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2767/">#2767</a>(<script language="JavaScript">print_time(new Date("2007/09/01 07:03 GMT"));</script><noscript>2007/09/01 07:03 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  
<p>先の投稿の意図は(rand自体の品質の話ではなく)このアルゴリズム自体に起因する偏りがrandの精度に対してどれくらい小さいかを直感的に見たというだけのもので、最初の投稿について題意云々を批判したつもりはまったくないのですが、そのように読めたのでしたらもうしわけなかったです。失礼しました。
</p>



	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2767/addtag/" class="addtag" id="addtag_2767">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2767"
  >-</span><span
  class="button yellow"
  id="rating_z_2767"
  >0</span><span 
  class="button green"
  id="rating_p_2767"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2617/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2767/root/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  <a href="/web/20100309103155/http://ja.doukaku.org/comment/2767/">
    1
    reply
  </a>

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2767/">
  返信
  </a>]
  </div>
</div>
</div>




  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      





<div class="comment" id="comment2768">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/41/" target="_top">shiro</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2768/">#2768</a>(<script language="JavaScript">print_time(new Date("2007/09/01 07:39 GMT"));</script><noscript>2007/09/01 07:39 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  ああ、私もshgさんの投稿を批判と取ったわけではありません。2番目と3番目のパラグラフはshgさんの投稿に対してではなく、このやりとりを読んだ第3者の人が必要以上に問題を大げさにとらえたらまずいなという予防線みたいなつもりでした。まぎらわしくってすみません。<br/><br/>で、実際の偏りの評価なんですが、「randの精度に対して急速に小さくなる」というのはまあ予想できることで、「ものすごーく小さいはずなんだけれど実際のところ53bit精度では具体的にどのくらいの偏りなのかな」という点に触れられていなかったのでああいう書き方になってしまった、ようです。今読み返すとちゃんとしたコメントになっていませんね。失礼しました。<br/><br/>実は#2264時点で衝突する確率の計算も試みてみたのですが、doubleで計算したらすぐに誤差に埋もれてしまうし、無限多倍長数で計算したら計算時間が爆発したので諦めていたのでした。ちゃんと近似式を導いて評価するのが良いのでしょうが…<br/><br/><br/>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2768/addtag/" class="addtag" id="addtag_2768">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2768"
  >-</span><span
  class="button yellow"
  id="rating_z_2768"
  >0</span><span 
  class="button green"
  id="rating_p_2768"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2767/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2768/root/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  <a href="/web/20100309103155/http://ja.doukaku.org/comment/2768/">
    1
    reply
  </a>

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2768/">
  返信
  </a>]
  </div>
</div>
</div>




  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      





<div class="comment" id="comment2774">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/383/" target="_top">shg</a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2774/">#2774</a>(<script language="JavaScript">print_time(new Date("2007/09/01 17:36 GMT"));</script><noscript>2007/09/01 17:36 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #dfffdf;">2/2=1.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  
<p>乱数が衝突する確率を直接計算すると、pを乱数の精度(最小単位の意味で)として、
</p>
<p>1-(1-p)(1-2p)(1-3p)...(1-(n-1)p)
</p>
<p>みたいな感じでしょうか。p=2^(-53)でn=25だとおよそ2.1e-14。p=2^(-31)でn=100だとおよそ2.3e-6。n個の中で衝突する確率なのでこの値は当然nに大きく依存しますが、実際は衝突は全体にまんべんなく確率的に起きるわけでnが大きいと偏りの問題が大きくなるというわけではないですよね。
</p>
<p>bingoの評価としては、1〜nのそれぞれが1番目、2番目、.. n番目に来る確率みたいなのをチェックする方がより直接的かな? (してません)
</p>



	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2774/addtag/" class="addtag" id="addtag_2774">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #dfffdf;"
  >2/2=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2774"
  >-</span><span
  class="button yellow"
  id="rating_z_2774"
  >0</span><span 
  class="button green"
  id="rating_p_2774"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2768/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2774/root/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  <a href="/web/20100309103155/http://ja.doukaku.org/comment/2774/">
    1
    reply
  </a>

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2774/">
  返信
  </a>]
  </div>
</div>
</div>




  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      





<div class="comment" id="comment4686">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/41/" target="_top">shiro</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/4686/">#4686</a>(<script language="JavaScript">print_time(new Date("2007/12/08 22:30 GMT"));</script><noscript>2007/12/08 22:30 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  古い話へのフォローですが、ちゃんと衝突確率を計算してるページを見つけました。(タイトルだけ見るとsort_by{rand}のせいでBigDecimalに問題が生じたのかと勘違いしそうですが、単に衝突確率計算で多倍長整数演算を使いまくったというだけの話のようです。)<br/>
	</div>
	
	<p class="link">
	  参考: <a href="/web/20100309103155/http://eigenclass.org/hiki.rb?sort_by+rand+is+biased">sort_by{rand}'s bias makes BigDecimal cry</a>
	</p>  
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/4686/addtag/" class="addtag" id="addtag_4686">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_4686"
  >-</span><span
  class="button yellow"
  id="rating_z_4686"
  >0</span><span 
  class="button green"
  id="rating_p_4686"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2774/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/4686/root/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/4686/">
  返信
  </a>]
  </div>
</div>
</div>




  


    </div>
  


    </div>
  


    </div>
  


    </div>
  


    </div>
  


    </div>
  


    </div>
  


  

  
    





<div class="comment" id="comment2258">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/106/" target="_top">kzfm</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_silver.png" border=0/></a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2258/">#2258</a>(<script language="JavaScript">print_time(new Date("2007/08/17 07:07 GMT"));</script><noscript>2007/08/17 07:07 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/perl/">
	  Perl
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'></pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2</pre></td><td class="code"><div class="highlight"><pre><span class="k">use</span> <span class="nn">List::</span><span class="n">Util</span> <span class="n">qw</span><span class="sr">/shuffle/</span><span class="p">;</span>
<span class="k">sub </span><span class="nf">bingo</span> <span class="p">{</span><span class="n">shuffle</span><span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="nv">$_</span><span class="p">[</span><span class="mi">0</span><span class="p">]);}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2258/addtag/" class="addtag" id="addtag_2258">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/perl/">
		Perl
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2258/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2258/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2258"
  >-</span><span
  class="button yellow"
  id="rating_z_2258"
  >0</span><span 
  class="button green"
  id="rating_p_2258"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2258/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment2260">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/194/" target="_top">higeorange</a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2260/">#2260</a>(<script language="JavaScript">print_time(new Date("2007/08/17 07:23 GMT"));</script><noscript>2007/08/17 07:23 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/io/">
	  Io
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'></pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5
6</pre></td><td class="code"><div class="highlight"><pre>Number bingo := method(
    Range
    1 to(self) asList shuffle
}

10 bingo println
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2260/addtag/" class="addtag" id="addtag_2260">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/io/">
		Io
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2260/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2260/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2260"
  >-</span><span
  class="button yellow"
  id="rating_z_2260"
  >0</span><span 
  class="button green"
  id="rating_p_2260"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2260/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment2261">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/393/" target="_top">lkr</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2261/">#2261</a>(<script language="JavaScript">print_time(new Date("2007/08/17 07:24 GMT"));</script><noscript>2007/08/17 07:24 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/ruby/">
	  Ruby
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>普通にやってみた</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">bingo</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
        <span class="k">raise</span> <span class="no">ArgumentError</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">&quot;fixnum only&quot;</span><span class="p">)</span> <span class="k">unless</span> <span class="n">num</span><span class="o">.</span><span class="n">kind_of?</span> <span class="no">Fixnum</span>
        <span class="k">raise</span> <span class="no">ArgumentError</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">&quot;1 ijyou de onegai simasu&quot;</span><span class="p">)</span> <span class="k">unless</span> <span class="n">num</span> <span class="o">&gt;=</span> <span class="mi">1</span>

        <span class="n">results</span> <span class="o">=</span> <span class="o">[]</span>

        <span class="n">ary</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="o">.</span><span class="n">.num</span><span class="p">)</span><span class="o">.</span><span class="n">to_a</span>
        <span class="n">ary</span><span class="o">.</span><span class="n">size</span><span class="o">.</span><span class="n">times</span><span class="p">{</span>
                <span class="n">index</span> <span class="o">=</span> <span class="p">(</span><span class="nb">rand</span> <span class="o">*</span> <span class="n">ary</span><span class="o">.</span><span class="n">size</span><span class="p">)</span><span class="o">.</span><span class="n">to_i</span>
                <span class="n">results</span> <span class="o">&lt;&lt;</span> <span class="n">ary</span><span class="o">.</span><span class="n">delete_at</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="p">}</span>

        <span class="n">results</span>
<span class="k">end</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2261/addtag/" class="addtag" id="addtag_2261">タグ</a>:
	
    
    <a href="/web/20100309103155/http://ja.doukaku.org/tag/ruby/">ruby</a>
    
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/ruby/">
		Ruby
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2261/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2261/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2261"
  >-</span><span
  class="button yellow"
  id="rating_z_2261"
  >0</span><span 
  class="button green"
  id="rating_p_2261"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2261/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  

  
    





<div class="comment" id="comment2265">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/25/" target="_top">hamano</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_silver.png" border=0/></a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2265/">#2265</a>(<script language="JavaScript">print_time(new Date("2007/08/17 07:51 GMT"));</script><noscript>2007/08/17 07:51 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/c/">
	  C
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffefef;">-1/1=-1.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>ランダムソートでいいのかな</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34</pre></td><td class="code"><div class="highlight"><pre><span class="cp">#include &lt;stdio.h&gt;</span>
<span class="cp">#include &lt;stdlib.h&gt;</span>

<span class="k">static</span> <span class="kt">int</span> <span class="nf">cmp</span><span class="p">(</span><span class="k">const</span> <span class="kt">void</span> <span class="o">*</span><span class="n">p1</span><span class="p">,</span> <span class="k">const</span> <span class="kt">void</span> <span class="o">*</span><span class="n">p2</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">rand</span><span class="p">()</span> <span class="o">%</span> <span class="mi">2</span><span class="p">)</span><span class="o">?</span><span class="mi">1</span><span class="o">:-</span><span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">bingo</span><span class="p">(</span><span class="kt">int</span> <span class="n">num</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
    <span class="kt">int</span> <span class="o">*</span><span class="n">nums</span><span class="p">;</span>

    <span class="k">if</span><span class="p">(</span><span class="n">num</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
    <span class="n">nums</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="o">*</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span> <span class="o">*</span> <span class="n">num</span><span class="p">);</span>
    <span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">num</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">){</span>
        <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">qsort</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span> <span class="n">num</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">),</span> <span class="p">(</span><span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="k">const</span> <span class="kt">void</span><span class="o">*</span><span class="p">,</span> <span class="k">const</span> <span class="kt">void</span><span class="o">*</span><span class="p">))</span><span class="n">cmp</span><span class="p">);</span>
    <span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">num</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">){</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
    <span class="p">}</span>
    <span class="n">free</span><span class="p">(</span><span class="n">nums</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="n">argc</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">){</span>
        <span class="k">return</span> <span class="n">EXIT_FAILURE</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">srand</span><span class="p">(</span><span class="n">time</span><span class="p">(</span><span class="nb">NULL</span><span class="p">));</span>
    <span class="n">bingo</span><span class="p">(</span><span class="n">atoi</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]));</span>
    <span class="k">return</span> <span class="n">EXIT_SUCCESS</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2265/addtag/" class="addtag" id="addtag_2265">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/c/">
		C
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2265/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2265/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffefef;"
  >-1/1=-1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2265"
  >-</span><span
  class="button yellow"
  id="rating_z_2265"
  >0</span><span 
  class="button green"
  id="rating_p_2265"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20100309103155/http://ja.doukaku.org/comment/2265/">
    1
    reply
  </a>

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2265/">
  返信
  </a>]
  </div>
</div>
</div>




  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      





<div class="comment" id="comment2269">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/70/" target="_top">shyouhei</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2269/">#2269</a>(<script language="JavaScript">print_time(new Date("2007/08/17 08:32 GMT"));</script><noscript>2007/08/17 08:32 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #8fff8f;">7/7=1.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>rand() % 2 ではだめでしょう。</pre>
	</div>
	
	<p class="link">
	  参考: <a href="/web/20100309103155/http://www001.upp.so-net.ne.jp/isaku/rand.html">http://www001.upp.so-net.ne.jp/isaku/rand.html</a>
	</p>  
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2269/addtag/" class="addtag" id="addtag_2269">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #8fff8f;"
  >7/7=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2269"
  >-</span><span
  class="button yellow"
  id="rating_z_2269"
  >0</span><span 
  class="button green"
  id="rating_p_2269"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2265/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2269/root/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  <a href="/web/20100309103155/http://ja.doukaku.org/comment/2269/">
    1
    reply
  </a>

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2269/">
  返信
  </a>]
  </div>
</div>
</div>




  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      





<div class="comment" id="comment2286">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/25/" target="_top">hamano</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_silver.png" border=0/></a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2286/">#2286</a>(<script language="JavaScript">print_time(new Date("2007/08/17 15:08 GMT"));</script><noscript>2007/08/17 15:08 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>参考になりました、あと stdlib.h の qsort() を使い回したのも良くないですね。
皆さんのより良いシャッフル方法を参考にさせて頂こうと思います。</pre>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2286/addtag/" class="addtag" id="addtag_2286">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2286"
  >-</span><span
  class="button yellow"
  id="rating_z_2286"
  >0</span><span 
  class="button green"
  id="rating_p_2286"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2269/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2286/root/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2286/">
  返信
  </a>]
  </div>
</div>
</div>




  


    </div>
  


    </div>
  


  

  

  
    





<div class="comment" id="comment2267">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/348/" target="_top">naoya_t</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2267/">#2267</a>(<script language="JavaScript">print_time(new Date("2007/08/17 08:13 GMT"));</script><noscript>2007/08/17 08:13 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/awk/">
	  awk
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>% awk -f bingo.awk
5
[3, 5, 1, 4, 2]
24
[22, 11, 5, 2, 4, 3, 9, 24, 6, 7, 17, 16, 21, 15, 19, 18, 12, 14, 13, 23, 10, 20, 8, 1]
10
[7, 4, 9, 3, 5, 10, 2, 1, 8, 6]
10
[10, 8, 3, 2, 6, 7, 1, 9, 5, 4]
10
[5, 7, 1, 8, 10, 3, 6, 2, 4, 9]
10
[6, 2, 3, 5, 1, 9, 8, 10, 7, 4]
10
[6, 9, 8, 5, 4, 2, 1, 3, 10, 7]
</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37</pre></td><td class="code"><div class="highlight"><pre>BEGIN {
	srand
}

{
	n = $1

	bingo(n,ar)
	show(n,ar)
}

function show(n,ar, i)
{
	printf &quot;[&quot;
	for (i=1; i&lt;n; i++) printf(&quot;%d, &quot;, ar[i])
	printf(&quot;%d]\n&quot;, ar[n])
}

function rand_between_1_and_n(n, x)
{
	x = 1 + int(rand * n)
	return (x &lt;= n)? x : rand_between_1_and_n(n)
}

function bingo(n,ar,  i,x,y,t)
{
	delete ar
	for (i=1; i&lt;=n; i++) ar[i] = i

	for (i=n*2; i&gt;0; i--) {
		x = rand_between_1_and_n(n)
		y = rand_between_1_and_n(n)
		if (x == y) continue

		t = ar[x] ; ar[x] = ar[y] ; ar[y] = t
	}
}
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2267/addtag/" class="addtag" id="addtag_2267">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/awk/">
		awk
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2267/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2267/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2267"
  >-</span><span
  class="button yellow"
  id="rating_z_2267"
  >0</span><span 
  class="button green"
  id="rating_p_2267"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2267/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  

  
    





<div class="comment" id="comment2270">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/351/" target="_top">oskimura</a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2270/">#2270</a>(<script language="JavaScript">print_time(new Date("2007/08/17 08:50 GMT"));</script><noscript>2007/08/17 08:50 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/clean/">
	  Clean
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>Cleanでやってみた。
擬似乱数を生成するライブラリをつかってます。
本当の乱数じゃないので、同じ数を与えると同じ乱数表になってしまう…</pre>
	</div>
	
	<p class="link">
	  参考: <a href="/web/20100309103155/http://d.hatena.ne.jp/oskimura"></a>
	</p>  
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5</pre></td><td class="code"><div class="highlight"><pre>module RandList
import StdEnv, MersenneTwister

Start = bingo 10
bingo n  = map snd  (sort  (zip ((genRandInt n),[1..n])))
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2270/addtag/" class="addtag" id="addtag_2270">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/clean/">
		Clean
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2270/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2270/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2270"
  >-</span><span
  class="button yellow"
  id="rating_z_2270"
  >0</span><span 
  class="button green"
  id="rating_p_2270"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2270/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment2271">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/98/" target="_top">nobsun</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2271/">#2271</a>(<script language="JavaScript">print_time(new Date("2007/08/17 09:25 GMT"));</script><noscript>2007/08/17 09:25 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/haskell/">
	  Haskell
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>System.Random を使う。シャッフルをナイーブに実装したもの</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28</pre></td><td class="code"><div class="highlight"><pre><span class="kr">module</span> <span class="n">Main</span> <span class="p">(</span><span class="nv">main</span><span class="p">)</span> <span class="kr">where</span>

<span class="kr">import</span> <span class="n">System</span><span class="o">.</span><span class="n">Environment</span>
<span class="kr">import</span> <span class="n">System</span><span class="o">.</span><span class="n">Random</span>

<span class="nv">shuffle</span> <span class="o">::</span> <span class="p">[</span><span class="nv">a</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="n">StdGen</span> <span class="o">-&gt;</span> <span class="n">Int</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="nv">a</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="nv">a</span><span class="p">]</span>
<span class="nv">shuffle</span> <span class="nv">acc</span> <span class="kr">_</span> <span class="mi">0</span> <span class="kr">_</span>  <span class="o">=</span> <span class="nv">acc</span>
<span class="nv">shuffle</span> <span class="nv">acc</span> <span class="nv">g</span> <span class="nv">n</span> <span class="nv">xs</span> <span class="o">=</span> <span class="kr">case</span> <span class="nv">randomR</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nv">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="nv">g</span> <span class="kr">of</span>
 <span class="p">(</span><span class="nv">i</span><span class="p">,</span><span class="nv">g&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kr">case</span> <span class="nv">splitAt</span> <span class="nv">i</span> <span class="nv">xs</span> <span class="kr">of</span>
             <span class="p">(</span><span class="nv">ys</span><span class="p">,</span><span class="nv">z</span><span class="o">:</span><span class="nv">zs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nv">shuffle</span> <span class="p">(</span><span class="nv">z</span><span class="o">:</span><span class="nv">acc</span><span class="p">)</span> <span class="nv">g&#39;</span> <span class="p">(</span><span class="nv">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">(</span><span class="nv">ys</span><span class="o">++</span><span class="nv">zs</span><span class="p">)</span>

<span class="nv">main</span> <span class="o">::</span> <span class="n">IO</span> <span class="p">()</span>
<span class="nv">main</span> <span class="o">=</span> <span class="kr">do</span> <span class="p">{</span> <span class="nv">x</span><span class="o">:</span><span class="kr">_</span> <span class="o">&lt;-</span> <span class="nv">getArgs</span>
          <span class="p">;</span> <span class="nv">g0</span>  <span class="o">&lt;-</span> <span class="nv">getStdGen</span>
          <span class="p">;</span> <span class="kr">let</span> <span class="nv">n</span> <span class="o">=</span> <span class="nv">read</span> <span class="nv">x</span>
          <span class="p">;</span> <span class="nv">putStrLn</span> <span class="o">$</span> <span class="nv">show</span> <span class="o">$</span> <span class="nv">shuffle</span> <span class="p">[]</span> <span class="nv">g0</span> <span class="nv">n</span> <span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="nv">n</span><span class="p">]</span>
          <span class="p">}</span>

<span class="cm">{-</span>
<span class="cm">% ./bingo 10</span>
<span class="cm">[4,10,3,2,9,5,7,8,6,1]</span>
<span class="cm">% ./bingo 10</span>
<span class="cm">[2,7,6,8,4,1,9,5,3,10]</span>
<span class="cm">% ./bingo 10</span>
<span class="cm">[1,7,3,10,6,4,8,2,5,9]</span>
<span class="cm">% ./bingo 10</span>
<span class="cm">[6,8,9,3,10,4,1,5,2,7]</span>
<span class="cm">-}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2271/addtag/" class="addtag" id="addtag_2271">タグ</a>:
	
    
    <a href="/web/20100309103155/http://ja.doukaku.org/tag/System.Random/">System.Random</a>
    
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/haskell/">
		Haskell
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2271/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2271/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2271"
  >-</span><span
  class="button yellow"
  id="rating_z_2271"
  >0</span><span 
  class="button green"
  id="rating_p_2271"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2271/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment2272">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/82/" target="_top">yuin</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_bronze.png" border=0/></a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2272/">#2272</a>(<script language="JavaScript">print_time(new Date("2007/08/17 09:41 GMT"));</script><noscript>2007/08/17 09:41 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/scala/">
	  Scala
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  



	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2</pre></td><td class="code"><div class="highlight"><pre>import scala.util.Sorting.stableSort
def bingo(n:int) = stableSort[int,double](1 to n,{x=&gt;Math.random})
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2272/addtag/" class="addtag" id="addtag_2272">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/scala/">
		Scala
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2272/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2272/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2272"
  >-</span><span
  class="button yellow"
  id="rating_z_2272"
  >0</span><span 
  class="button green"
  id="rating_p_2272"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2272/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment2274">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/343/" target="_top">matyr</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2274/">#2274</a>(<script language="JavaScript">print_time(new Date("2007/08/17 11:26 GMT"));</script><noscript>2007/08/17 11:26 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/javascript/">
	  JavaScript
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  &nbsp;破壊的シャッフル。
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5
6
7
8
9</pre></td><td class="code"><div class="highlight"><pre><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">$huffle</span> <span class="o">=</span> <span class="k">function</span><span class="p">(){</span>
  <span class="k">for</span><span class="p">(</span><span class="k">var</span> <span class="nx">$</span><span class="o">,</span> <span class="nx">r</span><span class="o">,</span> <span class="nx">i</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="o">;</span> <span class="nx">i</span><span class="o">;</span><span class="p">)</span>
    <span class="nx">$</span> <span class="o">=</span> <span class="k">this</span><span class="p">[</span><span class="nx">r</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="nx">i</span><span class="o">--</span> <span class="o">|</span> <span class="mi">0</span><span class="p">]</span><span class="o">,</span> <span class="k">this</span><span class="p">[</span><span class="nx">r</span><span class="p">]</span> <span class="o">=</span> <span class="k">this</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">,</span> <span class="k">this</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">$</span><span class="o">;</span>
  <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
<span class="p">}</span>
<span class="k">function</span> <span class="nx">bingo</span><span class="p">(</span><span class="nx">n</span><span class="p">){</span>
  <span class="k">for</span><span class="p">(</span><span class="k">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">[];</span> <span class="nx">n</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">;</span><span class="p">)</span> <span class="nx">a</span><span class="p">[</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="p">]</span> <span class="o">=</span> <span class="nx">n</span><span class="o">--;</span>
  <span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">$huffle</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2274/addtag/" class="addtag" id="addtag_2274">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/javascript/">
		JavaScript
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2274/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2274/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2274"
  >-</span><span
  class="button yellow"
  id="rating_z_2274"
  >0</span><span 
  class="button green"
  id="rating_p_2274"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2274/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment2275">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/166/" target="_top">ところてん</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2275/">#2275</a>(<script language="JavaScript">print_time(new Date("2007/08/17 11:43 GMT"));</script><noscript>2007/08/17 11:43 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/c/">
	  C
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>C言語と再帰で解いて見た。
ソート関数は利用していません。多分線形時間。

**intを与えているのがちょっとかっこ悪いですが。
あと↓の部分をまともになるように書き換えればOKだけど、アルゴリズムの本質ではないので放置。
swap_point = rand() % (num+1);

アルゴリズムは以下のような感じ
[1～n-1までがシャッフルされた配列] [n]
↑のような配列があったときに、
末尾要素と、ランダムで選ばれた末尾より前の要素とスワップすることで、
全体が1～nまでがシャッフルされた配列になります。
あとはそいつを再帰している感じ。
ループで書いてもよかったかな。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40</pre></td><td class="code"><div class="highlight"><pre><span class="cp">#include &lt;stdio.h&gt;</span>
<span class="cp">#include &lt;stdlib.h&gt;</span>

<span class="kt">void</span> <span class="n">_bingo</span><span class="p">(</span><span class="kt">int</span> <span class="n">num</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span><span class="n">result</span><span class="p">,</span> <span class="kt">int</span> <span class="n">num_max</span><span class="p">){</span>
	<span class="kt">int</span> <span class="n">temp</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">swap_point</span><span class="p">;</span>

	<span class="n">result</span><span class="p">[</span><span class="n">num</span><span class="p">]</span> <span class="o">=</span> <span class="n">num</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
	<span class="n">swap_point</span> <span class="o">=</span> <span class="n">rand</span><span class="p">()</span> <span class="o">%</span> <span class="p">(</span><span class="n">num</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span>
	<span class="n">temp</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="n">swap_point</span><span class="p">];</span>
	<span class="n">result</span><span class="p">[</span><span class="n">swap_point</span><span class="p">]</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="n">num</span><span class="p">];</span>
	<span class="n">result</span><span class="p">[</span><span class="n">num</span><span class="p">]</span> <span class="o">=</span> <span class="n">temp</span><span class="p">;</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">num</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">==</span> <span class="n">num_max</span><span class="p">){</span>
		<span class="k">return</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="n">_bingo</span><span class="p">(</span><span class="n">num</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">result</span><span class="p">,</span> <span class="n">num_max</span><span class="p">);</span>
	<span class="k">return</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">bingo</span><span class="p">(</span><span class="kt">int</span> <span class="n">num</span><span class="p">,</span> <span class="kt">int</span><span class="o">**</span> <span class="n">result</span><span class="p">)</span>
<span class="p">{</span>
	<span class="o">*</span><span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="o">*</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="n">num</span> <span class="o">*</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">));</span>
	<span class="n">_bingo</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">*</span><span class="n">result</span><span class="p">,</span><span class="n">num</span><span class="p">);</span>
<span class="p">}</span>


<span class="kt">int</span> <span class="n">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="o">*</span><span class="n">result</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">num</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">i</span><span class="p">;</span>

	<span class="n">num</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
	<span class="n">bingo</span><span class="p">(</span><span class="n">num</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">result</span><span class="p">);</span>
	
	<span class="k">for</span><span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">num</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">){</span>
		<span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d,&quot;</span><span class="p">,</span> <span class="n">result</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
	<span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2275/addtag/" class="addtag" id="addtag_2275">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/c/">
		C
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2275/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2275/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2275"
  >-</span><span
  class="button yellow"
  id="rating_z_2275"
  >0</span><span 
  class="button green"
  id="rating_p_2275"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20100309103155/http://ja.doukaku.org/comment/2275/">
    2
    replies
  </a>

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2275/">
  返信
  </a>]
  </div>
</div>
</div>




  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      





<div class="comment" id="comment2276">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/166/" target="_top">ところてん</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2276/">#2276</a>(<script language="JavaScript">print_time(new Date("2007/08/17 11:49 GMT"));</script><noscript>2007/08/17 11:49 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  あ、freeしてねぇ&nbsp;orz...<br/>mainの最後の行に&nbsp;free(result)&nbsp;を追加してください。
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2276/addtag/" class="addtag" id="addtag_2276">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2276"
  >-</span><span
  class="button yellow"
  id="rating_z_2276"
  >0</span><span 
  class="button green"
  id="rating_p_2276"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2275/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2276/root/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2276/">
  返信
  </a>]
  </div>
</div>
</div>




  


    </div>
  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      





<div class="comment" id="comment2278">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/166/" target="_top">ところてん</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2278/">#2278</a>(<script language="JavaScript">print_time(new Date("2007/08/17 12:05 GMT"));</script><noscript>2007/08/17 12:05 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  投稿してから気づきましたが、#2254やpythonのshuffleアルゴリズムと同じですね。<br/>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2278/addtag/" class="addtag" id="addtag_2278">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2278"
  >-</span><span
  class="button yellow"
  id="rating_z_2278"
  >0</span><span 
  class="button green"
  id="rating_p_2278"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2275/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2278/root/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2278/">
  返信
  </a>]
  </div>
</div>
</div>




  


    </div>
  


  

  

  

  
    





<div class="comment" id="comment2279">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/49/" target="_top">iwk</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_silver.png" border=0/></a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2279/">#2279</a>(<script language="JavaScript">print_time(new Date("2007/08/17 12:13 GMT"));</script><noscript>2007/08/17 12:13 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/ocaml/">
	  OCaml
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffefef;">-1/1=-1.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'></pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5
6</pre></td><td class="code"><div class="highlight"><pre><span class="k">#</span><span class="n">light</span>
<span class="kr">let</span> <span class="n">shuffle</span> <span class="n">ls</span> <span class="k">=</span>
    <span class="kr">let</span> <span class="n">rnd</span> <span class="k">=</span> <span class="kr">new</span> <span class="n">System</span><span class="k">.</span><span class="n">Random</span><span class="k">()</span> <span class="kr">in</span>
    <span class="n">List</span><span class="k">.</span><span class="n">sort</span> <span class="k">(</span><span class="kr">fun</span> <span class="n">x</span> <span class="n">y</span><span class="k">-&gt;</span> <span class="n">rnd</span><span class="k">.</span><span class="n">Next</span><span class="k">(-</span><span class="mi">1</span><span class="k">,</span><span class="mi">2</span><span class="k">))</span> <span class="n">ls</span><span class="k">;;</span>

<span class="kr">let</span> <span class="n">bingo</span> <span class="n">n</span> <span class="k">=</span> <span class="n">shuffle</span> <span class="k">[</span><span class="mi">1</span><span class="k">..</span><span class="n">n</span><span class="k">]</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2279/addtag/" class="addtag" id="addtag_2279">タグ</a>:
	
    
    <a href="/web/20100309103155/http://ja.doukaku.org/tag/F%23/">F#</a>
    
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/ocaml/">
		OCaml
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2279/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2279/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffefef;"
  >-1/1=-1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2279"
  >-</span><span
  class="button yellow"
  id="rating_z_2279"
  >0</span><span 
  class="button green"
  id="rating_p_2279"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20100309103155/http://ja.doukaku.org/comment/2279/">
    1
    reply
  </a>

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2279/">
  返信
  </a>]
  </div>
</div>
</div>




  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      





<div class="comment" id="comment2316">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/49/" target="_top">iwk</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_silver.png" border=0/></a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2316/">#2316</a>(<script language="JavaScript">print_time(new Date("2007/08/18 15:37 GMT"));</script><noscript>2007/08/18 15:37 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>このshuffle関数ではリストは完全にシャッフルされない。
具体的には
[1..1000]というリストを与えた場合。
500 &lt;-&gt; 501, 10 &lt;-&gt; 15
などの近距離では問題ないが
1 &lt;-&gt; 1000
などの遠距離の交換が起こる可能性が極めて低い。

良い実装法だれか教えてください。</pre>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2316/addtag/" class="addtag" id="addtag_2316">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2316"
  >-</span><span
  class="button yellow"
  id="rating_z_2316"
  >0</span><span 
  class="button green"
  id="rating_p_2316"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2279/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2316/root/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2316/">
  返信
  </a>]
  </div>
</div>
</div>




  


    </div>
  


  

  
    





<div class="comment" id="comment2281">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/101/" target="_top">沢渡 みかげ</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2281/">#2281</a>(<script language="JavaScript">print_time(new Date("2007/08/17 13:32 GMT"));</script><noscript>2007/08/17 13:32 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/mathematica/">
	  Mathematica
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>1～nまでのリストをRangeで生成して，
RandomSampleでシャッフルしました．

実行例：
In[2]:= bingo[10]
Out[2]= {6, 3, 10, 8, 1, 2, 9, 5, 4, 7}

RandomSampleで再利用無しの要素取得，
RandomChoiceで再利用OKの要素取得が
できるようになってます．</pre>
	</div>
	
	<p class="link">
	  参考: <a href="/web/20100309103155/http://reference.wolfram.com/mathematica/ref/RandomSample.ja.html">Mathematica - RandomSample</a>
	</p>  
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="highlight"><pre>bingo[n_] := RandomSample[Range[n]];
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2281/addtag/" class="addtag" id="addtag_2281">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/mathematica/">
		Mathematica
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2281/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2281/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2281"
  >-</span><span
  class="button yellow"
  id="rating_z_2281"
  >0</span><span 
  class="button green"
  id="rating_p_2281"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2281/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment2283">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/344/" target="_top">jz5</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_bronze.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2283/">#2283</a>(<script language="JavaScript">print_time(new Date("2007/08/17 13:43 GMT"));</script><noscript>2007/08/17 13:43 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/vbnet/">
	  VB.net
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>AddしてRemoveAt。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></td><td class="code"><div class="highlight"><pre><span class="k">Public</span> <span class="k">Sub</span> <span class="n">bingo</span><span class="p">(</span><span class="k">ByVal</span> <span class="n">n</span> <span class="ow">As</span> <span class="kt">Integer</span><span class="p">)</span>
    <span class="k">Dim</span> <span class="n">list</span> <span class="ow">As</span> <span class="k">New</span> <span class="n">List</span><span class="p">(</span><span class="k">Of</span> <span class="kt">Integer</span><span class="p">)</span>
    <span class="k">For</span> <span class="n">i</span> <span class="ow">As</span> <span class="kt">Integer</span> <span class="o">=</span> <span class="mi">1</span> <span class="k">To</span> <span class="n">n</span>
        <span class="n">list</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="k">Next</span>
    <span class="k">Dim</span> <span class="n">r</span> <span class="ow">As</span> <span class="k">New</span> <span class="n">Random</span>
    <span class="k">For</span> <span class="n">i</span> <span class="ow">As</span> <span class="kt">Integer</span> <span class="o">=</span> <span class="mi">1</span> <span class="k">To</span> <span class="n">n</span>
        <span class="k">Dim</span> <span class="n">index</span> <span class="ow">As</span> <span class="kt">Integer</span> <span class="o">=</span> <span class="n">r</span><span class="p">.</span><span class="n">Next</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
        <span class="n">list</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">list</span><span class="p">(</span><span class="n">index</span><span class="p">))</span>
        <span class="n">list</span><span class="p">.</span><span class="n">RemoveAt</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
    <span class="k">Next</span>

    <span class="k">For</span> <span class="k">Each</span> <span class="n">i</span> <span class="ow">As</span> <span class="kt">Integer</span> <span class="ow">In</span> <span class="n">list</span>
        <span class="n">Console</span><span class="p">.</span><span class="n">Write</span><span class="p">(</span><span class="n">i</span><span class="p">.</span><span class="n">ToString</span> <span class="o">&amp;</span> <span class="s">&quot;, &quot;</span><span class="p">)</span>
    <span class="k">Next</span>
<span class="k">End</span> <span class="k">Sub</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2283/addtag/" class="addtag" id="addtag_2283">タグ</a>:
	
    
    <a href="/web/20100309103155/http://ja.doukaku.org/tag/VB8.0/">VB8.0</a>
    
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/vbnet/">
		VB.net
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2283/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2283/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2283"
  >-</span><span
  class="button yellow"
  id="rating_z_2283"
  >0</span><span 
  class="button green"
  id="rating_p_2283"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2283/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment2284">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/177/" target="_top">ocean</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2284/">#2284</a>(<script language="JavaScript">print_time(new Date("2007/08/17 14:37 GMT"));</script><noscript>2007/08/17 14:37 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/cpp/">
	  C++
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  std::random_shuffle&nbsp;を使います。乱数生成関数オブジェクトを指定しないと、何度実行しても同じ乱数列を発生させてしまうので、srand()を使う関数オブジェクトを定義します。<br/><br/>普通はtime()で得られる値を種にするらしいのですが、これは秒単位なので、同一秒内で再度実行すると、やはり同じ乱数列が得られてしまい、うまくありません。<br/><br/>そこで、Windowsでは、起動からのミリ秒を種として渡すことにしました。
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53</pre></td><td class="code"><div class="highlight"><pre><span class="cp">#include &lt;iostream&gt;</span>
<span class="cp">#include &lt;vector&gt;</span>
<span class="cp">#include &lt;algorithm&gt;</span>
<span class="cp">#include &lt;iterator&gt;</span>
<span class="cp">#include &lt;cstdlib&gt;</span>

<span class="cp">#ifdef _WIN32</span>
<span class="cp"># include &lt;windows.h&gt;</span>
<span class="cp"># define seed() ::GetCurrentTime()</span>
<span class="cp">#else</span>
<span class="cp"># include &lt;ctime&gt;</span>
<span class="cp"># define seed() std::time(NULL)</span>
<span class="cp">#endif</span>

<span class="k">struct</span> <span class="n">RandomGenerator</span>
<span class="p">{</span>
    <span class="n">RandomGenerator</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">std</span><span class="o">::</span><span class="n">srand</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span><span class="p">(</span><span class="n">seed</span><span class="p">()));</span>
    <span class="p">}</span>

    <span class="kt">int</span> <span class="k">operator</span><span class="p">()(</span><span class="kt">int</span> <span class="n">n</span><span class="p">)</span> <span class="k">const</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="n">std</span><span class="o">::</span><span class="n">rand</span><span class="p">()</span> <span class="o">%</span> <span class="n">n</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="kt">void</span> <span class="n">bingo</span><span class="p">(</span><span class="n">size_t</span> <span class="n">n</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">size_t</span><span class="o">&gt;</span> <span class="n">v</span><span class="p">;</span>

    <span class="k">for</span> <span class="p">(</span><span class="n">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">v</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">static</span> <span class="n">RandomGenerator</span> <span class="n">gen</span><span class="p">;</span>

    <span class="n">std</span><span class="o">::</span><span class="n">random_shuffle</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">v</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="n">gen</span><span class="p">);</span>

    <span class="n">std</span><span class="o">::</span><span class="n">copy</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">v</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="n">std</span><span class="o">::</span><span class="n">ostream_iterator</span><span class="o">&lt;</span><span class="n">size_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="p">,</span> <span class="s">&quot; &quot;</span><span class="p">));</span>

    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="n">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">bingo</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
    <span class="n">bingo</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
    <span class="n">bingo</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
    <span class="n">bingo</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
    <span class="n">bingo</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2284/addtag/" class="addtag" id="addtag_2284">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/cpp/">
		C++
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2284/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2284/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2284"
  >-</span><span
  class="button yellow"
  id="rating_z_2284"
  >0</span><span 
  class="button green"
  id="rating_p_2284"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20100309103155/http://ja.doukaku.org/comment/2284/">
    1
    reply
  </a>

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2284/">
  返信
  </a>]
  </div>
</div>
</div>




  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      





<div class="comment" id="comment2287">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/177/" target="_top">ocean</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2287/">#2287</a>(<script language="JavaScript">print_time(new Date("2007/08/17 15:43 GMT"));</script><noscript>2007/08/17 15:43 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/diff/">
	  diff
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  #2269&nbsp;によると&nbsp;rand()&nbsp;%&nbsp;n&nbsp;はまずいということなので、修正しました。std::min&nbsp;や&nbsp;std::max&nbsp;は&nbsp;[0,&nbsp;n)&nbsp;の範囲にあることを保証するため、念のため。
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></td><td class="code"><div class="highlight"><pre><span class="gd">--- main.orig	Sat Aug 18 00:35:58 2007</span>
<span class="gi">+++ main.cpp	Sat Aug 18 00:41:24 2007</span>
<span class="gu">@@ -21,7 +21,9 @@ struct RandomGenerator</span>
 
     int operator()(int n) const
     {
<span class="gd">-        return std::rand() % n;</span>
<span class="gi">+        const int i = static_cast&lt;int&gt;(static_cast&lt;double&gt;(std::rand()) * n / RAND_MAX);</span>
<span class="gi">+</span>
<span class="gi">+        return std::max(0, std::min(i, n - 1));</span>
     }
 };
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2287/addtag/" class="addtag" id="addtag_2287">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/diff/">
		diff
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2287/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2287/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2287"
  >-</span><span
  class="button yellow"
  id="rating_z_2287"
  >0</span><span 
  class="button green"
  id="rating_p_2287"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2284/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2287/root/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2287/">
  返信
  </a>]
  </div>
</div>
</div>




  


    </div>
  


  

  
    





<div class="comment" id="comment2285">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/383/" target="_top">shg</a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2285/">#2285</a>(<script language="JavaScript">print_time(new Date("2007/08/17 15:00 GMT"));</script><noscript>2007/08/17 15:00 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/matlab/">
	  Matlab
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  標準のrandpermという関数が問のbingoと全く同じ動作をします。投稿のコードはsortがソート前の順序を返すことを使った別解です。
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2</pre></td><td class="code"><div class="highlight"><pre>function r = bingo(n)
[m r] = sort(rand(1,n));
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2285/addtag/" class="addtag" id="addtag_2285">タグ</a>:
	
    
    <a href="/web/20100309103155/http://ja.doukaku.org/tag/MATLAB7.4/">MATLAB7.4</a>
    
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/matlab/">
		Matlab
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2285/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2285/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2285"
  >-</span><span
  class="button yellow"
  id="rating_z_2285"
  >0</span><span 
  class="button green"
  id="rating_p_2285"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20100309103155/http://ja.doukaku.org/comment/2285/">
    3
    replies
  </a>

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2285/">
  返信
  </a>]
  </div>
</div>
</div>




  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      





<div class="comment" id="comment2292">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/383/" target="_top">shg</a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2292/">#2292</a>(<script language="JavaScript">print_time(new Date("2007/08/17 16:58 GMT"));</script><noscript>2007/08/17 16:58 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/matlab/">
	  Matlab
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  
<p>標準で必要な関数があるのにあえて別解を用いるメリットが最初の例では特に無かったので、少し書き換えてk個の列を一度に返せるようにした。標準のrandpermでk個生成するにはループでk回呼ばないといけない。余談だがMATLAB7.4ではデフォルトの乱数生成アルゴリズムとして<a href="/web/20100309103155/http://ja.doukaku.org/comment/2269/">#2269</a>さんのリンク先でも紹介されているメルセンヌ・ツイスタが採用されている。
</p>



	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5
6
7
8
9</pre></td><td class="code"><div class="highlight"><pre>function r = bingo(n,k)
% r = bingo(n) retruns a random permutation of 1:n.
% r = bingo(n,k) returns a k-by-n array, each row of which is a random
% permutation of 1:n.
% (ja.doukaku.org Q46)
if nargin&lt;2
    k = 1;
end
[m r] = sort(rand([k n]),2);
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2292/addtag/" class="addtag" id="addtag_2292">タグ</a>:
	
    
    <a href="/web/20100309103155/http://ja.doukaku.org/tag/MATLAB7.4/">MATLAB7.4</a>
    
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/matlab/">
		Matlab
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2292/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2292/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2292"
  >-</span><span
  class="button yellow"
  id="rating_z_2292"
  >0</span><span 
  class="button green"
  id="rating_p_2292"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2285/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2292/root/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2292/">
  返信
  </a>]
  </div>
</div>
</div>




  


    </div>
  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      





<div class="comment" id="comment2297">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/383/" target="_top">shg</a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2297/">#2297</a>(<script language="JavaScript">print_time(new Date("2007/08/18 04:30 GMT"));</script><noscript>2007/08/18 04:30 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/matlab/">
	  Matlab
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  
<p>最初の投稿でえらそうに別解です、なんて書いたけどMATLABのrandpermは実は.mファイル(つまりMATLABで書かれたスクリプト)でその中身は投稿したコードと全く同じだということに気付いた。情けないのであらためて別解。前と同様第二引数で何個生成するか指定する。sortを使う方法よりずいぶん遅い。次のようにすると計算時間の測定と順序が均等かどうかのおおまかな確認ができる。
</p>
<pre><code>tic;r=bingo(100,10000);bar(sum(r,1));toc
</code></pre>


	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></td><td class="code"><div class="highlight"><pre>function r = bingo(n,k)
% r = bingo(n) retruns a random permutation of 1:n.
% r = bingo(n,k) returns a k-by-n array, each row of which is a random
% permutation of 1:n.
% (ja.doukaku.org Q46)
if nargin&lt;2
    k = 1;
end
[s r] = meshgrid(1:k,1:n);
% q = zeros(k,2);
for p = n:-1:2
    q(:,1) = ceil(rand(k,1)*p);
    q(:,2) = p;
    q = q+s(1:2,:)&#39;*n-n;
    r(q) = r(q(:,[2 1]));
end
r = r&#39;;
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2297/addtag/" class="addtag" id="addtag_2297">タグ</a>:
	
    
    <a href="/web/20100309103155/http://ja.doukaku.org/tag/MATLAB7.4/">MATLAB7.4</a>
    
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/matlab/">
		Matlab
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2297/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2297/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2297"
  >-</span><span
  class="button yellow"
  id="rating_z_2297"
  >0</span><span 
  class="button green"
  id="rating_p_2297"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2285/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2297/root/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2297/">
  返信
  </a>]
  </div>
</div>
</div>




  


    </div>
  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      





<div class="comment" id="comment2615">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/383/" target="_top">shg</a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2615/">#2615</a>(<script language="JavaScript">print_time(new Date("2007/08/29 04:45 GMT"));</script><noscript>2007/08/29 04:45 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/matlab/">
	  Matlab
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  
<p><a href="/web/20100309103155/http://ja.doukaku.org/comment/2264/">#2264</a>の指摘をみてなるほどと思ったので簡単なテスト。順位相関を使ってみた。
</p>
<p><a href="/web/20100309103155/http://ja.doukaku.org/comment/2285/">#2285</a>のコード(MATLAB標準のrandpermも同じ方法)は最初に乱数を要求された数列の個数分だけ作り、その順序を返す。MATLABのsortは値が同じ場合は順序を保存するので、たとえば1番目と2番目の乱数が同じ数字だと必ず1が2の前になってしまう。
</p>
<p>投稿のコードは乱数の有効桁数(最初の行の最後の引数)を制限し、生成した数列とその位置の順位相関の分布と平均を表示する。有効桁数を1にした場合はかなり偏りが生じるが、3桁くらいでほとんど偏りが無い。順位相関を見る限りでは、普通の精度の乱数を使えばこのアルゴリズムでの偏りを気にする必要は無さそう。
</p>



	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></td><td class="code"><div class="highlight"><pre>x = bingo(25,1000,1);
rho = corr((1:size(x,2))&#39;,x(1:size(x,1),:)&#39;,&#39;type&#39;,&#39;Kendall&#39;);
figure(1); hist(rho,-1:0.1:1); axis([-1 1 0 300])
fprintf(&#39;Mean = %f, skewness = %f\n&#39;, mean(rho), skewness(rho));

function r = bingo(n,k,p)
% r = bingo(n,k) returns a k-by-n array, each row of which is a random
% permutation of 1:n, using random numbers with p significant digits .
[m r] = sort(randr([k n],p),2);

function r = randr(M,p)
r = floor(rand(M).*10^p)./10^p;
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2615/addtag/" class="addtag" id="addtag_2615">タグ</a>:
	
    
    <a href="/web/20100309103155/http://ja.doukaku.org/tag/MATLAB7.4/">MATLAB7.4</a>
    
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/matlab/">
		Matlab
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2615/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2615/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2615"
  >-</span><span
  class="button yellow"
  id="rating_z_2615"
  >0</span><span 
  class="button green"
  id="rating_p_2615"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2285/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2615/root/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2615/">
  返信
  </a>]
  </div>
</div>
</div>




  


    </div>
  


  

  

  

  
    





<div class="comment" id="comment2289">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/31/" target="_top">smeghead</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2289/">#2289</a>(<script language="JavaScript">print_time(new Date("2007/08/17 16:24 GMT"));</script><noscript>2007/08/17 16:24 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/commonlisp/">
	  Common Lisp
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>(print (bingo 10))
 =&gt; (2 4 8 10 6 7 5 9 3 1)</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5
6
7
8
9</pre></td><td class="code"><div class="highlight"><pre>(defun bingo (n)
  (loop repeat n
        for rand = (loop 
                     (let* ((*random-state* (make-random-state t))
                            (rand (1+ (random n))))
                       (if (not (member rand lst))
                         (return rand))))
        collect rand into lst
        finally (return lst)))
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2289/addtag/" class="addtag" id="addtag_2289">タグ</a>:
	
    
    <a href="/web/20100309103155/http://ja.doukaku.org/tag/clisp/">clisp</a>
    
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/commonlisp/">
		Common Lisp
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2289/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2289/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2289"
  >-</span><span
  class="button yellow"
  id="rating_z_2289"
  >0</span><span 
  class="button green"
  id="rating_p_2289"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2289/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment2290">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/232/" target="_top">kkobayashi</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2290/">#2290</a>(<script language="JavaScript">print_time(new Date("2007/08/17 16:25 GMT"));</script><noscript>2007/08/17 16:25 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/r/">
	  R
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>Rもそうですが、MathematicaやMATLABのような数値解析系はこういうの簡単に書けますね。
元のお題は「n * nのビンゴを出力せよ」みたいな感じだったのかな。

&gt; sample(10)
 [1]  1  9  4 10  3  5  7  2  8  6</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="highlight"><pre>bingo &lt;- sample
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2290/addtag/" class="addtag" id="addtag_2290">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/r/">
		R
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2290/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2290/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2290"
  >-</span><span
  class="button yellow"
  id="rating_z_2290"
  >0</span><span 
  class="button green"
  id="rating_p_2290"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2290/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  

  
    





<div class="comment" id="comment2293">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/241/" target="_top">？せんたくいた</a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2293/">#2293</a>(<script language="JavaScript">print_time(new Date("2007/08/17 18:43 GMT"));</script><noscript>2007/08/17 18:43 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>4年前に/.J日記界隈で話題になったネタです。
当時のblogへのリンクを晒しておきます。
# 今も拙いって?
</pre>
	</div>
	
	<p class="link">
	  参考: <a href="/web/20100309103155/http://slashdot.jp/~sentakuita/journal/145032">カードまぜまぜほげふが。</a>
	</p>  
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2293/addtag/" class="addtag" id="addtag_2293">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2293"
  >-</span><span
  class="button yellow"
  id="rating_z_2293"
  >0</span><span 
  class="button green"
  id="rating_p_2293"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2293/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment2294">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2294/">#2294</a>(<script language="JavaScript">print_time(new Date("2007/08/18 01:10 GMT"));</script><noscript>2007/08/18 01:10 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/java/">
	  Java
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  配列にするかリストにするか迷ったのですが、とりあえずリストにしておきました。
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></td><td class="code"><div class="highlight"><pre><span class="k">import</span> <span class="nn">java.util.*</span><span class="o">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">Sample</span> <span class="o">{</span>
    <span class="k">public</span> <span class="k">static</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">bingo</span><span class="o">(</span><span class="kt">int</span> <span class="n">num</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">Integer</span><span class="o">[]</span> <span class="n">deck</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Integer</span><span class="o">[</span><span class="n">num</span><span class="o">];</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">num</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="n">deck</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">nums</span> <span class="o">=</span> <span class="o">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;)</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">deck</span><span class="o">);</span>
        <span class="n">Collections</span><span class="o">.</span><span class="na">shuffle</span><span class="o">(</span><span class="n">nums</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">nums</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="k">public</span> <span class="k">static</span> <span class="kt">void</span> <span class="n">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">bingo</span><span class="o">(</span><span class="n">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">args</span><span class="o">[</span><span class="mi">0</span><span class="o">])));</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2294/addtag/" class="addtag" id="addtag_2294">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/java/">
		Java
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2294/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2294/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2294"
  >-</span><span
  class="button yellow"
  id="rating_z_2294"
  >0</span><span 
  class="button green"
  id="rating_p_2294"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2294/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment2295">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/127/" target="_top">raynstard</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2295/">#2295</a>(<script language="JavaScript">print_time(new Date("2007/08/18 03:24 GMT"));</script><noscript>2007/08/18 03:24 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/perl/">
	  Perl
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffefef;">-1/1=-1.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>抽出して最後に追加が見あたらなかったので投稿～
Cだとswapすることになるのかな？
めんどそうだからperlで(笑

[10] =&gt; 8,10,6,1,3,5,9,4,7,2
[3] =&gt; 3,1,2
[2] =&gt; 2,1

# rand * 1000 だとうまくいかなかったなぜ？
</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></td><td class="code"><div class="highlight"><pre><span class="k">sub </span><span class="nf">bingo</span><span class="p">($;)</span>
<span class="p">{</span>
    <span class="k">my</span> <span class="nv">$x</span> <span class="o">=</span> <span class="nb">shift</span> <span class="p">;</span>
    <span class="k">my</span> <span class="nv">@num</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">..</span> <span class="nv">$x</span><span class="p">);</span>
    <span class="k">my</span> <span class="nv">$r</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span> <span class="k">my</span> <span class="nv">$n</span> <span class="o">=</span> <span class="nv">$x</span><span class="p">;</span> <span class="nv">$n</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">;</span> <span class="nv">$n</span> <span class="o">--</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$r</span> <span class="o">=</span> <span class="nb">rand</span><span class="p">;</span> <span class="nv">$r</span> <span class="o">*=</span> <span class="mi">1000</span><span class="p">;</span>
        <span class="nb">push</span><span class="p">(</span><span class="nv">@num</span><span class="p">,</span> <span class="nb">splice</span><span class="p">(</span><span class="nv">@num</span><span class="p">,</span> <span class="nv">$r</span> <span class="nv">%</span> <span class="err">$</span><span class="nv">n</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="p">);</span>
    <span class="p">}</span>
    <span class="k">print</span> <span class="s">&quot;[$x] =&gt; &quot;</span> <span class="o">.</span> <span class="nb">join</span><span class="p">(</span><span class="s">&quot;,&quot;</span><span class="p">,</span> <span class="nv">@num</span><span class="p">)</span> <span class="o">.</span> <span class="s">&quot;\n&quot;</span><span class="p">;</span>
<span class="p">}</span>
<span class="nb">srand</span><span class="p">;</span>

<span class="n">bingo</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="n">bingo</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="n">bingo</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2295/addtag/" class="addtag" id="addtag_2295">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/perl/">
		Perl
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2295/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2295/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffefef;"
  >-1/1=-1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2295"
  >-</span><span
  class="button yellow"
  id="rating_z_2295"
  >0</span><span 
  class="button green"
  id="rating_p_2295"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20100309103155/http://ja.doukaku.org/comment/2295/">
    2
    replies
  </a>

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2295/">
  返信
  </a>]
  </div>
</div>
</div>




  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      





<div class="comment" id="comment2331">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/24/" target="_top">ココサブ</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2331/">#2331</a>(<script language="JavaScript">print_time(new Date("2007/08/19 14:02 GMT"));</script><noscript>2007/08/19 14:02 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>rand * 1000
は
rand() * 1000
にすれば動きます。

かっこがないため、
rand( * 1000)
と解釈されているのだと思います。</pre>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2331/addtag/" class="addtag" id="addtag_2331">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2331"
  >-</span><span
  class="button yellow"
  id="rating_z_2331"
  >0</span><span 
  class="button green"
  id="rating_p_2331"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2295/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2331/root/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  <a href="/web/20100309103155/http://ja.doukaku.org/comment/2331/">
    1
    reply
  </a>

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2331/">
  返信
  </a>]
  </div>
</div>
</div>




  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      





<div class="comment" id="comment2387">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/127/" target="_top">raynstard</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2387/">#2387</a>(<script language="JavaScript">print_time(new Date("2007/08/22 13:59 GMT"));</script><noscript>2007/08/22 13:59 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>なるほど、何となくそんな予感はしていましたけど、やっぱそれしか考えられない？

(*1000)てなにか意味のある文法なのかな？
*Nとかならわかるんだけど。。。</pre>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2387/addtag/" class="addtag" id="addtag_2387">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2387"
  >-</span><span
  class="button yellow"
  id="rating_z_2387"
  >0</span><span 
  class="button green"
  id="rating_p_2387"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2331/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2387/root/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  <a href="/web/20100309103155/http://ja.doukaku.org/comment/2387/">
    1
    reply
  </a>

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2387/">
  返信
  </a>]
  </div>
</div>
</div>




  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      





<div class="comment" id="comment2413">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/24/" target="_top">ココサブ</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2413/">#2413</a>(<script language="JavaScript">print_time(new Date("2007/08/22 16:10 GMT"));</script><noscript>2007/08/22 16:10 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/perl/">
	  Perl
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #cfffcf;">3/3=1.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>型ブログということでいいみたいです。
*1000
はどんなパッケージ内であっても、
mainパッケージに含まれているようです。</pre>
	</div>
	
	<p class="link">
	  参考: <a href="/web/20100309103155/http://www.kt.rim.or.jp/~kbk/perl5.005/perldata.html">perldata - Perl のデータ型</a>
	</p>  
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></td><td class="code"><div class="highlight"><pre><span class="c1">#!/usr/local/bin/perl -w</span>
<span class="k">use</span> <span class="n">strict</span><span class="p">;</span>
<span class="nb">package</span> <span class="n">hoge</span><span class="p">;</span>

<span class="k">my</span> <span class="nv">$piyo</span> <span class="o">=</span> <span class="p">(</span><span class="o">*</span><span class="mi">1000</span><span class="p">);</span>
<span class="k">print</span> <span class="nv">$piyo</span><span class="p">,</span> <span class="s">&quot;\n&quot;</span><span class="p">;</span>

<span class="k">my</span> <span class="nv">$fuga</span> <span class="o">=</span> <span class="p">(</span><span class="o">*</span><span class="n">N</span><span class="p">);</span>
<span class="k">print</span> <span class="nv">$fuga</span><span class="p">,</span> <span class="s">&quot;\n&quot;</span><span class="p">;</span>

<span class="c1"># 出力結果 ( Perlのバージョンは5.8.8 )</span>
<span class="c1"># Name &quot;hoge::N&quot; used only once: possible typo at ./test.pl line 9.</span>
<span class="c1"># *main::1000</span>
<span class="c1"># *hoge::N</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2413/addtag/" class="addtag" id="addtag_2413">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/perl/">
		Perl
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2413/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2413/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #cfffcf;"
  >3/3=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2413"
  >-</span><span
  class="button yellow"
  id="rating_z_2413"
  >0</span><span 
  class="button green"
  id="rating_p_2413"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2387/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2413/root/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2413/">
  返信
  </a>]
  </div>
</div>
</div>




  


    </div>
  


    </div>
  


    </div>
  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      





<div class="comment" id="comment2376">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/1/" target="_top">にしお</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2376/">#2376</a>(<script language="JavaScript">print_time(new Date("2007/08/22 10:08 GMT"));</script><noscript>2007/08/22 10:08 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>1000って何かと思ったら$nであまりを取るんですね。
なぜ$nを掛けなかったのか少し気になります。
# 0付近だけ確率が高くなってしまう…$nが1000を超えたら大変…</pre>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2376/addtag/" class="addtag" id="addtag_2376">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2376"
  >-</span><span
  class="button yellow"
  id="rating_z_2376"
  >0</span><span 
  class="button green"
  id="rating_p_2376"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2295/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2376/root/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  <a href="/web/20100309103155/http://ja.doukaku.org/comment/2376/">
    2
    replies
  </a>

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2376/">
  返信
  </a>]
  </div>
</div>
</div>




  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      





<div class="comment" id="comment2395">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/127/" target="_top">raynstard</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2395/">#2395</a>(<script language="JavaScript">print_time(new Date("2007/08/22 14:17 GMT"));</script><noscript>2007/08/22 14:17 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>もしかすると知っているかもしれませんが
perlのrand()は0～1の値を返してくるので
*1000しているのです。

範囲が1000を超えちゃうとまずいのは確かですね。
かといって *$nしてしまうと微妙に計算がおかしくなりそうな予感。

それ以外には、同じ値の発生率を1/1000にしたつもりです。
</pre>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2395/addtag/" class="addtag" id="addtag_2395">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2395"
  >-</span><span
  class="button yellow"
  id="rating_z_2395"
  >0</span><span 
  class="button green"
  id="rating_p_2395"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2376/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2395/root/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2395/">
  返信
  </a>]
  </div>
</div>
</div>




  


    </div>
  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      





<div class="comment" id="comment2411">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/127/" target="_top">raynstard</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2411/">#2411</a>(<script language="JavaScript">print_time(new Date("2007/08/22 15:41 GMT"));</script><noscript>2007/08/22 15:41 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/diff/">
	  diff
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>もしかしたら配列の範囲超えちゃうかなと思って剰余を使用しましたが
よく考えてみるとかけ算でも良かったかも。

最大で0.9掛けにしかならないし。
あれ？でも確率的には1.0もありうる？</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></td><td class="code"><div class="highlight"><pre><span class="gd">--- doukaku46.pl.org    2007-08-23 00:40:42.921875000 +0900</span>
<span class="gi">+++ doukaku46.pl        2007-08-23 00:41:49.203125000 +0900</span>
<span class="gu">@@ -5,8 +5,7 @@</span>
     my $r;
     for( my $n = $x; $n&gt;0; $n --)
     {
<span class="gd">-        $r = rand; $r *= 1000;</span>
<span class="gd">-        push(@num, splice(@num, $r % $n, 1) );</span>
<span class="gi">+        push(@num, splice(@num, rand() * $n, 1) );</span>
     }
     print &quot;[$x] =&gt; &quot; . join(&quot;,&quot;, @num) . &quot;\n&quot;;
 }
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2411/addtag/" class="addtag" id="addtag_2411">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/diff/">
		diff
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2411/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2411/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2411"
  >-</span><span
  class="button yellow"
  id="rating_z_2411"
  >0</span><span 
  class="button green"
  id="rating_p_2411"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2376/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2411/root/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  <a href="/web/20100309103155/http://ja.doukaku.org/comment/2411/">
    1
    reply
  </a>

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2411/">
  返信
  </a>]
  </div>
</div>
</div>




  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      





<div class="comment" id="comment2460">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/1/" target="_top">にしお</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2460/">#2460</a>(<script language="JavaScript">print_time(new Date("2007/08/23 16:38 GMT"));</script><noscript>2007/08/23 16:38 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>「perlのrand()は0～1の値を返す」ということですけど、
「0以上1未満」じゃないですか？
Perlのことは詳しくないので間違っているかも知れませんが、
0以上1未満なのであればnを掛けて切り捨てることで
0以上n未満の整数が得られます…。</pre>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2460/addtag/" class="addtag" id="addtag_2460">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2460"
  >-</span><span
  class="button yellow"
  id="rating_z_2460"
  >0</span><span 
  class="button green"
  id="rating_p_2460"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2411/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2460/root/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  <a href="/web/20100309103155/http://ja.doukaku.org/comment/2460/">
    1
    reply
  </a>

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2460/">
  返信
  </a>]
  </div>
</div>
</div>




  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      





<div class="comment" id="comment2481">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/127/" target="_top">raynstard</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2481/">#2481</a>(<script language="JavaScript">print_time(new Date("2007/08/24 12:27 GMT"));</script><noscript>2007/08/24 12:27 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/perl/">
	  Perl
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>マニュアル確認しました。
1未満ですね失礼しました。
しかも、rand()は引数に指定したN未満という形で返すらしいです。
結局、掛け算する必要性すらなくorz

さらに、別のページでは僕の書いたコードは悪い例として載っていました(笑

下のように書くと良いらしいです。
#コードはそのページからのコピペです。
#ページ内検索:How do I shuffle an array randomly?

perlならではの書き方でなるほど～という感じ</pre>
	</div>
	
	<p class="link">
	  参考: <a href="/web/20100309103155/http://perldoc.jp/docs/perl/5.6.1/perlfaq4.pod">perlfaq4 - データ操作</a>
	</p>  
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></td><td class="code"><div class="highlight"><pre>    <span class="c1"># fisher_yates_shuffle( \@array ) : </span>
    <span class="c1"># generate a random permutation of @array in place</span>
    <span class="k">sub </span><span class="nf">fisher_yates_shuffle</span> <span class="p">{</span>
        <span class="k">my</span> <span class="nv">$array</span> <span class="o">=</span> <span class="nb">shift</span><span class="p">;</span>
        <span class="k">my</span> <span class="nv">$i</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="nv">$i</span> <span class="o">=</span> <span class="nv">@$array</span><span class="p">;</span> <span class="o">--</span><span class="nv">$i</span><span class="p">;</span> <span class="p">)</span> <span class="p">{</span>
            <span class="k">my</span> <span class="nv">$j</span> <span class="o">=</span> <span class="nb">int</span> <span class="nb">rand</span> <span class="p">(</span><span class="nv">$i</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span>
            <span class="nv">@$array</span><span class="p">[</span><span class="nv">$i</span><span class="p">,</span><span class="nv">$j</span><span class="p">]</span> <span class="o">=</span> <span class="nv">@$array</span><span class="p">[</span><span class="nv">$j</span><span class="p">,</span><span class="nv">$i</span><span class="p">];</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="n">fisher_yates_shuffle</span><span class="p">(</span> <span class="o">\</span><span class="nv">@array</span> <span class="p">);</span>    <span class="c1"># @array そのものを入れ替える</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2481/addtag/" class="addtag" id="addtag_2481">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/perl/">
		Perl
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2481/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2481/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2481"
  >-</span><span
  class="button yellow"
  id="rating_z_2481"
  >0</span><span 
  class="button green"
  id="rating_p_2481"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2460/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2481/root/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2481/">
  返信
  </a>]
  </div>
</div>
</div>




  


    </div>
  


    </div>
  


    </div>
  


    </div>
  


  

  

  
    





<div class="comment" id="comment2300">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/323/" target="_top">tomatsu</a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2300/">#2300</a>(<script language="JavaScript">print_time(new Date("2007/08/18 07:56 GMT"));</script><noscript>2007/08/18 07:56 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/pnuts/">
	  Pnuts
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #dfffdf;">2/2=1.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'></pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4</pre></td><td class="code"><div class="highlight"><pre>import java.util.*
function bingo(n) {Collections.shuffle(x = list(range(1,n))); x}

println(bingo(10))
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2300/addtag/" class="addtag" id="addtag_2300">タグ</a>:
	
    
    <a href="/web/20100309103155/http://ja.doukaku.org/tag/Pnuts/">Pnuts</a>
    
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/pnuts/">
		Pnuts
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2300/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2300/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #dfffdf;"
  >2/2=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2300"
  >-</span><span
  class="button yellow"
  id="rating_z_2300"
  >0</span><span 
  class="button green"
  id="rating_p_2300"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2300/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment2301">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2301/">#2301</a>(<script language="JavaScript">print_time(new Date("2007/08/18 09:21 GMT"));</script><noscript>2007/08/18 09:21 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/ruby/">
	  Ruby
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>Ruby 1.9にはArray#shuffleが存在します
</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3</pre></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">bingo</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
  <span class="o">[*</span><span class="mi">1</span><span class="o">.</span><span class="n">.n</span><span class="o">].</span><span class="n">shuffle</span>
<span class="k">end</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2301/addtag/" class="addtag" id="addtag_2301">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/ruby/">
		Ruby
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2301/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2301/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2301"
  >-</span><span
  class="button yellow"
  id="rating_z_2301"
  >0</span><span 
  class="button green"
  id="rating_p_2301"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2301/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment2309">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/228/" target="_top">tell</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_silver.png" border=0/></a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2309/">#2309</a>(<script language="JavaScript">print_time(new Date("2007/08/18 14:08 GMT"));</script><noscript>2007/08/18 14:08 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/ruby/">
	  Ruby
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>どこかで見たことがある問題だなぁ…
コードはあまり確かめずに書いた．
配列の参照範囲とか間違ってなければいいけど．</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5
6
7
8</pre></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">bingo</span><span class="p">(</span> <span class="n">n</span> <span class="p">)</span>
  <span class="n">ary</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">.</span><span class="n">.n</span><span class="p">)</span><span class="o">.</span><span class="n">to_a</span>
  <span class="n">n</span><span class="o">.</span><span class="n">downto</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span><span class="o">|</span> <span class="n">i</span> <span class="o">|</span>
    <span class="n">e</span> <span class="o">=</span> <span class="n">ary</span><span class="o">.</span><span class="n">delete_at</span><span class="p">(</span> <span class="nb">rand</span><span class="p">(</span> <span class="n">i</span> <span class="p">)</span> <span class="p">)</span>
    <span class="n">ary</span><span class="o">.</span><span class="n">push</span><span class="p">(</span> <span class="n">e</span> <span class="p">)</span>
  <span class="p">}</span>
  <span class="n">ary</span>
<span class="k">end</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2309/addtag/" class="addtag" id="addtag_2309">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/ruby/">
		Ruby
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2309/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2309/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2309"
  >-</span><span
  class="button yellow"
  id="rating_z_2309"
  >0</span><span 
  class="button green"
  id="rating_p_2309"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20100309103155/http://ja.doukaku.org/comment/2309/">
    1
    reply
  </a>

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2309/">
  返信
  </a>]
  </div>
</div>
</div>




  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      





<div class="comment" id="comment2373">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/1/" target="_top">にしお</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2373/">#2373</a>(<script language="JavaScript">print_time(new Date("2007/08/22 04:36 GMT"));</script><noscript>2007/08/22 04:36 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>&gt;どこかで見たことがある問題だなぁ…

orz…
見たことがない問題を投稿してください…</pre>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2373/addtag/" class="addtag" id="addtag_2373">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2373"
  >-</span><span
  class="button yellow"
  id="rating_z_2373"
  >0</span><span 
  class="button green"
  id="rating_p_2373"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2309/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2373/root/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  <a href="/web/20100309103155/http://ja.doukaku.org/comment/2373/">
    1
    reply
  </a>

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2373/">
  返信
  </a>]
  </div>
</div>
</div>




  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      





<div class="comment" id="comment2412">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/127/" target="_top">raynstard</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2412/">#2412</a>(<script language="JavaScript">print_time(new Date("2007/08/22 15:48 GMT"));</script><noscript>2007/08/22 15:48 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>100行以内にかけそうなものというとある程度決まってるので、
こういった基本形は仕方ない気がします。

みんながみんな400行くらいのものを書いても
平気ならそれなりに凝ったお題もあるのでしょうけど。。。
#解析系とか</pre>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2412/addtag/" class="addtag" id="addtag_2412">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2412"
  >-</span><span
  class="button yellow"
  id="rating_z_2412"
  >0</span><span 
  class="button green"
  id="rating_p_2412"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2373/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2412/root/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2412/">
  返信
  </a>]
  </div>
</div>
</div>




  


    </div>
  


    </div>
  


  

  
    





<div class="comment" id="comment2313">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/375/" target="_top">nskj77</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_bronze.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2313/">#2313</a>(<script language="JavaScript">print_time(new Date("2007/08/18 15:00 GMT"));</script><noscript>2007/08/18 15:00 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/haskell/">
	  Haskell
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'></pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5
6
7
8
9</pre></td><td class="code"><div class="highlight"><pre><span class="kr">import</span> <span class="n">Random</span> <span class="p">(</span><span class="nv">randomRIO</span><span class="p">)</span>
<span class="kr">import</span> <span class="n">Data</span><span class="o">.</span><span class="n">List</span> <span class="p">((</span><span class="o">\\</span><span class="p">))</span>

<span class="nv">bingo</span> <span class="o">::</span> <span class="n">Int</span> <span class="o">-&gt;</span> <span class="n">IO</span> <span class="p">[</span><span class="n">Int</span><span class="p">]</span>
<span class="nv">bingo</span> <span class="nv">n</span> <span class="o">=</span> <span class="nv">b</span> <span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="nv">n</span><span class="p">]</span> <span class="nv">n</span> <span class="p">[]</span>
  <span class="kr">where</span> <span class="nv">b</span> <span class="p">[]</span> <span class="nv">n</span>     <span class="nv">ret</span> <span class="o">=</span> <span class="nv">return</span> <span class="nv">ret</span>
        <span class="nv">b</span> <span class="nv">xs</span> <span class="p">(</span><span class="nv">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="nv">ret</span> <span class="o">=</span> <span class="kr">do</span>
          <span class="nv">r</span> <span class="o">&lt;-</span> <span class="nv">randomRIO</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nv">n</span><span class="p">)</span>
          <span class="kr">let</span> <span class="nv">m</span> <span class="o">=</span> <span class="nv">xs</span> <span class="o">!!</span> <span class="nv">r</span> <span class="kr">in</span> <span class="nv">b</span> <span class="p">(</span><span class="nv">xs</span> <span class="o">\\</span> <span class="p">[</span><span class="nv">m</span><span class="p">])</span> <span class="nv">n</span> <span class="p">(</span><span class="nv">ret</span> <span class="o">++</span> <span class="p">[</span><span class="nv">m</span><span class="p">])</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2313/addtag/" class="addtag" id="addtag_2313">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/haskell/">
		Haskell
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2313/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2313/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2313"
  >-</span><span
  class="button yellow"
  id="rating_z_2313"
  >0</span><span 
  class="button green"
  id="rating_p_2313"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2313/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  

  

  
    





<div class="comment" id="comment2338">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/153/" target="_top">Mistfeal</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2338/">#2338</a>(<script language="JavaScript">print_time(new Date("2007/08/20 04:18 GMT"));</script><noscript>2007/08/20 04:18 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/php/">
	  PHP
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>リハビリを兼ねて、軽めに。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5
6
7
8
9</pre></td><td class="code"><div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="k">function</span> <span class="nf">bingo</span><span class="p">(</span><span class="nv">$n</span><span class="p">)</span> <span class="p">{</span>
	<span class="nv">$rtn</span> <span class="o">=</span> <span class="nf">range</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="nv">$n</span><span class="p">);</span>
	<span class="nf">shuffle</span><span class="p">(</span><span class="nv">$rtn</span><span class="p">);</span>
	<span class="k">return</span> <span class="nv">$rtn</span><span class="p">;</span>
<span class="p">}</span>

<span class="nf">print_r</span><span class="p">(</span><span class="nx">bingo</span><span class="p">(</span><span class="m">25</span><span class="p">));</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2338/addtag/" class="addtag" id="addtag_2338">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/php/">
		PHP
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2338/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2338/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2338"
  >-</span><span
  class="button yellow"
  id="rating_z_2338"
  >0</span><span 
  class="button green"
  id="rating_p_2338"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2338/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  

  

  
    





<div class="comment" id="comment2379">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/164/" target="_top">kozima</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2379/">#2379</a>(<script language="JavaScript">print_time(new Date("2007/08/22 12:37 GMT"));</script><noscript>2007/08/22 12:37 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/commonlisp/">
	  Common Lisp
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>1-n のリストを作っといてランダムに取り出せばいいかなと思いましたが、
それだとあまりきれいにいかなくて考えた末こうなりました。

コメントアウトを外すとわかりやすいと思いますが
リングをランダムに回しながら取り出すようなイメージで作ってます。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></td><td class="code"><div class="highlight"><pre>(defun bingo (n)
  (let ((r &#39;#1=(nil . #1#)))
    (do ((i 1 (1+ i)))
        ((&gt; i n))
      (push i (cdr r)))
    (let (buf)
      (do ((i n (1- i))
           (st (make-random-state t)))
          ((= i 0))
        (push (pop (cdr (nthcdr (random i st) r)))
              buf)
        ;; (write r :circle t) (terpri)
        )
      (write buf))))
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2379/addtag/" class="addtag" id="addtag_2379">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/commonlisp/">
		Common Lisp
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2379/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2379/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2379"
  >-</span><span
  class="button yellow"
  id="rating_z_2379"
  >0</span><span 
  class="button green"
  id="rating_p_2379"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2379/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  

  

  

  

  

  

  
    





<div class="comment" id="comment2470">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/396/" target="_top">r0c</a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2470/">#2470</a>(<script language="JavaScript">print_time(new Date("2007/08/24 04:37 GMT"));</script><noscript>2007/08/24 04:37 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/ruby/">
	  Ruby
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>こうすると配列作成コスト1回で済む･･･？

繰り返し部分をxsを返す式にしようとinjectやら何やら色々試したけど
いまひとつきれいにできないのであきらめました．</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5</pre></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">bingo</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
  <span class="n">xs</span> <span class="o">=</span> <span class="o">*</span><span class="mi">1</span><span class="o">.</span><span class="n">.n</span>
  <span class="n">n</span><span class="o">.</span><span class="n">times</span> <span class="p">{</span><span class="o">|</span><span class="n">i</span><span class="o">|</span> <span class="n">xs</span> <span class="o">&lt;&lt;</span> <span class="n">xs</span><span class="o">.</span><span class="n">slice!</span><span class="p">(</span><span class="nb">rand</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="n">i</span><span class="p">))</span> <span class="p">}</span>
  <span class="n">xs</span>
<span class="k">end</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2470/addtag/" class="addtag" id="addtag_2470">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/ruby/">
		Ruby
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2470/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2470/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2470"
  >-</span><span
  class="button yellow"
  id="rating_z_2470"
  >0</span><span 
  class="button green"
  id="rating_p_2470"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2470/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  

  
    





<div class="comment" id="comment2542">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/403/" target="_top">mz</a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2542/">#2542</a>(<script language="JavaScript">print_time(new Date("2007/08/26 13:19 GMT"));</script><noscript>2007/08/26 13:19 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/emacslisp/">
	  Emacs Lisp
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>;;  random-permutation
(random t)
(bingo 10)
</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></td><td class="code"><div class="highlight"><pre>(defun iota (n &amp;optional a step)
  (setq step (or step 1))
  (do ((n n (- n 1))
       (ret &#39;() (cons a ret))
       (a (or a 0) (+ a step)))
      ((&lt;= n 0) (nreverse ret))))
(defun bingo (a &amp;optional b)
  (let* ((ret (vconcat (mapcar &#39;1+ (iota a b))))
	 (num (length ret))
	 val rnd)
    (dotimes (x  num ret)
      (setq rnd (random num)
	    val (aref ret x))
      (aset ret x (aref ret rnd))
      (aset ret rnd val))))
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2542/addtag/" class="addtag" id="addtag_2542">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/emacslisp/">
		Emacs Lisp
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2542/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2542/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2542"
  >-</span><span
  class="button yellow"
  id="rating_z_2542"
  >0</span><span 
  class="button green"
  id="rating_p_2542"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2542/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment2607">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/411/" target="_top">管理者</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2607/">#2607</a>(<script language="JavaScript">print_time(new Date("2007/08/29 03:31 GMT"));</script><noscript>2007/08/29 03:31 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  
<p>Rubyのコードのパフォーマンス比較記事があったのでリンクしておきます。
</p>
<p><a href="/web/20100309103155/http://d.hatena.ne.jp/trotr/20070827#1188196059">trotrの日記 どう書く？（重複なし関数）</a>
</p>
<p>Rubyのsort_byが安定ソートではないので偏りは生じないのでは、という話が続編でありました。
</p>
<p><a href="/web/20100309103155/http://d.hatena.ne.jp/trotr/20070828#1188292059">trotrの日記 どう書く？（重複なし関数）2</a>
</p>



	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2607/addtag/" class="addtag" id="addtag_2607">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2607"
  >-</span><span
  class="button yellow"
  id="rating_z_2607"
  >0</span><span 
  class="button green"
  id="rating_p_2607"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20100309103155/http://ja.doukaku.org/comment/2607/">
    1
    reply
  </a>

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2607/">
  返信
  </a>]
  </div>
</div>
</div>




  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      





<div class="comment" id="comment2611">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/1/" target="_top">にしお</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2611/">#2611</a>(<script language="JavaScript">print_time(new Date("2007/08/29 04:13 GMT"));</script><noscript>2007/08/29 04:13 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>「安定ソートではないので偏りは生じないのでは」という話につっこみですが、
「安定ソートならば偏りが確実に生じる」というだけで、
「不安定ソートならば偏りが生じない」というわけではありません。
あえて言うなら「偏りが生じることが保証されていない」というソートです。

でも、shiroさんのつっこみも、間違いではなくて、
確かにシミュレーションなどで使うと偏りが問題になるのですが、
そもそもそういう目的にRubyを使うのがダメな気がするので
あまり気にするほどのことでもないかと思います…</pre>
	</div>
	
	<p class="link">
	  参考: <a href="/web/20100309103155/http://ja.doukaku.org/comment/2264/">shiroさんのつっこみ</a>
	</p>  
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2611/addtag/" class="addtag" id="addtag_2611">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2611"
  >-</span><span
  class="button yellow"
  id="rating_z_2611"
  >0</span><span 
  class="button green"
  id="rating_p_2611"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2607/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2611/root/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  <a href="/web/20100309103155/http://ja.doukaku.org/comment/2611/">
    1
    reply
  </a>

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2611/">
  返信
  </a>]
  </div>
</div>
</div>




  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      





<div class="comment" id="comment2612">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/1/" target="_top">にしお</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2612/">#2612</a>(<script language="JavaScript">print_time(new Date("2007/08/29 04:17 GMT"));</script><noscript>2007/08/29 04:17 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  
<p>っと、向こうにも同じ趣旨のことをshiroさんが書いていましたね(^^;
</p>
<p><a href="/web/20100309103155/http://d.hatena.ne.jp/trotr/comment?date=20070828#c">trotrの日記</a>
</p>
<p># どう書くorgの書き込みからトラックバック打てたらいいのかもなぁ
</p>



	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2612/addtag/" class="addtag" id="addtag_2612">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2612"
  >-</span><span
  class="button yellow"
  id="rating_z_2612"
  >0</span><span 
  class="button green"
  id="rating_p_2612"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2611/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/2612/root/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2612/">
  返信
  </a>]
  </div>
</div>
</div>




  


    </div>
  


    </div>
  


  

  

  

  

  

  

  
    





<div class="comment" id="comment2744">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/409/" target="_top">130R</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2744/">#2744</a>(<script language="JavaScript">print_time(new Date("2007/08/31 09:46 GMT"));</script><noscript>2007/08/31 09:46 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/powershell/">
	  PowerShell
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>PS C:\&gt; bingo(3)
2
1
0
PS C:\&gt; @(bingo(10000) | sort | get-unique).length
10000</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5
6
7</pre></td><td class="code"><div class="highlight"><pre>function bingo([int] $n)
{
     $r = new-object system.random
     $a = 0..($n-1)
     0..($n-1) | %{ $i = $r.next($n-1); $a[$_],$a[$i] = $a[$i],$a[$_] }
     $a
}
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/2744/addtag/" class="addtag" id="addtag_2744">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/powershell/">
		PowerShell
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2744/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/2744/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2744"
  >-</span><span
  class="button yellow"
  id="rating_z_2744"
  >0</span><span 
  class="button green"
  id="rating_p_2744"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/2744/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  

  

  

  
    





<div class="comment" id="comment3114">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/438/" target="_top">koguro</a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/3114/">#3114</a>(<script language="JavaScript">print_time(new Date("2007/09/19 15:45 GMT"));</script><noscript>2007/09/19 15:45 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/scheme/">
	  Scheme
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>Schemeの解答がなかったので投稿</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></td><td class="code"><div class="highlight"><pre><span class="p">(</span><span class="nf">use</span> <span class="nv">srfi-1</span><span class="p">)</span>
<span class="p">(</span><span class="nf">use</span> <span class="nv">srfi-27</span><span class="p">)</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">bingo</span> <span class="nv">n</span><span class="p">)</span>
  <span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">%bingo</span> <span class="nv">lst</span><span class="p">)</span>
    <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nb">null? </span><span class="nv">lst</span><span class="p">)</span>
        <span class="o">&#39;</span><span class="p">()</span>
        <span class="p">(</span><span class="nf">receive</span> <span class="p">(</span><span class="nf">head</span> <span class="nv">tail</span><span class="p">)</span> <span class="p">(</span><span class="nf">split-at</span> <span class="nv">lst</span> <span class="p">(</span><span class="nf">random-integer</span> <span class="p">(</span><span class="nb">length </span><span class="nv">lst</span><span class="p">)))</span>
          <span class="p">(</span><span class="nb">cons </span><span class="p">(</span><span class="nb">car </span><span class="nv">tail</span><span class="p">)</span> <span class="p">(</span><span class="nf">%bingo</span> <span class="p">(</span><span class="nb">append </span><span class="nv">head</span> <span class="p">(</span><span class="nb">cdr </span><span class="nv">tail</span><span class="p">)))))))</span>
  <span class="p">(</span><span class="nf">%bingo</span> <span class="p">(</span><span class="nf">iota</span> <span class="nv">n</span> <span class="mi">1</span><span class="p">)))</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/3114/addtag/" class="addtag" id="addtag_3114">タグ</a>:
	
    
    <a href="/web/20100309103155/http://ja.doukaku.org/tag/gauche/">gauche</a>
    
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/scheme/">
		Scheme
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/3114/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/3114/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3114"
  >-</span><span
  class="button yellow"
  id="rating_z_3114"
  >0</span><span 
  class="button green"
  id="rating_p_3114"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/3114/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment3175">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/415/" target="_top">yohei</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/3175/">#3175</a>(<script language="JavaScript">print_time(new Date("2007/09/26 07:32 GMT"));</script><noscript>2007/09/26 07:32 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/prolog/">
	  Prolog
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'></pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5</pre></td><td class="code"><div class="highlight"><pre>shuffle([],[]).
shuffle(X,[R|Y]) :- length(X, XL), N is random(XL),
	nth0(N, X, R), select(R, X, X1), shuffle(X1, Y).

bingo(N) :- findall(X, between(1, N, X), L), shuffle(L, S), write(S).
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/3175/addtag/" class="addtag" id="addtag_3175">タグ</a>:
	
    
    <a href="/web/20100309103155/http://ja.doukaku.org/tag/SWI-Prolog/">SWI-Prolog</a>
    
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/prolog/">
		Prolog
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/3175/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/3175/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3175"
  >-</span><span
  class="button yellow"
  id="rating_z_3175"
  >0</span><span 
  class="button green"
  id="rating_p_3175"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/3175/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment3198">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/242/" target="_top">lufia</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/3198/">#3198</a>(<script language="JavaScript">print_time(new Date("2007/09/29 20:29 GMT"));</script><noscript>2007/09/29 20:29 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/other/">
	  Other
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>ビンゴ本体より、準備行のほうが多い気がする。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51</pre></td><td class="code"><div class="highlight"><pre>implement Bingo;

include &quot;sys.m&quot;;
	sys: Sys;
include &quot;draw.m&quot;;
include &quot;keyring.m&quot;;
include &quot;security.m&quot;;
	random: Random;

argv0: string;

Bingo: module
{
	init: fn(nil: ref Draw-&gt;Context, argv: list of string);
};

usage()
{
	sys-&gt;fprint(sys-&gt;fildes(2), &quot;usage: %s n\n&quot;, argv0);
	raise &quot;fail:usage&quot;;
}

init(nil: ref Draw-&gt;Context, argv: list of string)
{
	sys = load Sys Sys-&gt;PATH;
	random = load Random Random-&gt;PATH;
	argv0 = hd argv;
	argv = tl argv;

	n := 10;
	if(argv != nil)
		n = int hd argv;

	a := array[n] of int;
	for(i := 0; i &lt; n; i++)
		a[i] = i+1;

	while(n &gt; 0){
		p := rand() % n;
		sys-&gt;print(&quot;%d\n&quot;, a[p]);
		a[p] = a[--n];
	}
}

rand(): int
{
	r := random-&gt;randomint(Random-&gt;ReallyRandom);
	if(r &lt; 0)
		r = -r;
	return r;
}
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/3198/addtag/" class="addtag" id="addtag_3198">タグ</a>:
	
    
    <a href="/web/20100309103155/http://ja.doukaku.org/tag/Limbo/">Limbo</a>
    
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/other/">
		Other
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/3198/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/3198/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3198"
  >-</span><span
  class="button yellow"
  id="rating_z_3198"
  >0</span><span 
  class="button green"
  id="rating_p_3198"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/3198/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment3342">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/467/" target="_top">aileron</a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/3342/">#3342</a>(<script language="JavaScript">print_time(new Date("2007/10/16 03:53 GMT"));</script><noscript>2007/10/16 03:53 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/perl/">
	  Perl
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>Perlで書いてみた</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></td><td class="code"><div class="highlight"><pre><span class="k">sub </span><span class="nf">bingo</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">my</span> <span class="nv">@array</span> <span class="o">=</span> <span class="p">(</span> <span class="mi">1</span> <span class="o">..</span> <span class="nb">shift</span> <span class="p">);</span>
    <span class="k">my</span> <span class="nv">@out</span>   <span class="o">=</span> <span class="p">();</span>
    <span class="k">while</span> <span class="p">(</span> <span class="k">my</span> <span class="nv">$x</span> <span class="o">=</span> <span class="nb">splice</span><span class="p">(</span> <span class="nv">@array</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="nb">rand</span><span class="p">(</span><span class="nb">scalar</span> <span class="nv">@array</span><span class="p">))</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="nb">push</span> <span class="nv">@out</span> <span class="p">,</span> <span class="nv">$x</span> <span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="p">[</span> <span class="nv">@out</span> <span class="p">];</span>
<span class="p">}</span>

<span class="k">print</span> <span class="nb">join</span> <span class="s">&quot;,&quot;</span> <span class="p">,</span> <span class="nv">@</span><span class="p">{</span> <span class="o">&amp;</span><span class="n">bingo</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="p">};</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/3342/addtag/" class="addtag" id="addtag_3342">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/perl/">
		Perl
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/3342/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/3342/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3342"
  >-</span><span
  class="button yellow"
  id="rating_z_3342"
  >0</span><span 
  class="button green"
  id="rating_p_3342"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/3342/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  

  
    





<div class="comment" id="comment3625">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/3625/">#3625</a>(<script language="JavaScript">print_time(new Date("2007/10/31 09:42 GMT"));</script><noscript>2007/10/31 09:42 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/r/">
	  R
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>もし，sample 関数がないとしたら，他の関数を使ってどう書くかを
つまり，n個の一様乱数を発生させ，一様乱数の大きさの順で1〜nを並び替える

&gt; foo(10)
 [1] 10  9  1  3  2  5  7  8  4  6
&gt; foo(10)
 [1]  7 10  2  9  5  4  1  8  3  6
&gt; foo(100)
  [1]   7  84  53  70  26  21  90  37  33  82  65  40  74  95  24   1   4  97  38   6
 [21]  94  15  18  12  29  19  43  52  85  47   3  64  78  88  81  46  87  55  16  28
 [41]  62  41  17  36  25  42  39  11  56  58  61  91  44  20  51  71  60  31  75  96
 [61]  80  13  50  14  10  57  59  35   5  48  30  77  27  67 100  72  92  68  54  83
 [81]  79  89  73  23  98  99  69  76   8   2  22  86  63  93  66  32  34   9  45  49
</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="highlight"><pre>foo &lt;- function(n) (1:n)[order(runif(n))]
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/3625/addtag/" class="addtag" id="addtag_3625">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/r/">
		R
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/3625/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/3625/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3625"
  >-</span><span
  class="button yellow"
  id="rating_z_3625"
  >0</span><span 
  class="button green"
  id="rating_p_3625"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/3625/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment3645">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/3645/">#3645</a>(<script language="JavaScript">print_time(new Date("2007/11/01 07:14 GMT"));</script><noscript>2007/11/01 07:14 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/awk/">
	  awk
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>1〜nの要素を持つベクトルを作り，端から順に無作為に並べ替えてゆく。
ランダムさはそれで十分だろう。
スクリプト中のnへ値を渡すのは -v n=5 のように

 &gt; awk -f p3402.awk -v n=10
 4 10 9 1 2 6 5 8 3 7
 &gt; awk -f p3402.awk -v n=10
 4 10 9 1 2 6 5 8 3 7
 &gt; awk -f p3402.awk -v n=10
 3 2 5 4 7 9 10 1 6 8
</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></td><td class="code"><div class="highlight"><pre>BEGIN {
    srand()
    for (i = 1; i &lt;= n; i++) x[i] = i
    for (i = 1; i &lt;= n; i++) {
        j = int(rand()*n)+1
        t = x[i]
        x[i] = x[j]
        x[j] = t
    }
    for (i = 1; i &lt;= n; i++) printf &quot; %i&quot;, x[i]
    print &quot;&quot;
}
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/3645/addtag/" class="addtag" id="addtag_3645">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/awk/">
		awk
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/3645/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/3645/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3645"
  >-</span><span
  class="button yellow"
  id="rating_z_3645"
  >0</span><span 
  class="button green"
  id="rating_p_3645"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/3645/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment3653">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/481/" target="_top">mtsuyugu</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/3653/">#3653</a>(<script language="JavaScript">print_time(new Date("2007/11/01 16:36 GMT"));</script><noscript>2007/11/01 16:36 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/c/">
	  C
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  
<p>破壊的シャッフル。<a href="/web/20100309103155/http://ja.doukaku.org/comment/3645">#3645</a>, <a href="/web/20100309103155/http://ja.doukaku.org/comment/2254">#2254</a> に似たものが C でなかったので書いてみました。
</p>



	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30</pre></td><td class="code"><div class="highlight"><pre><span class="cp">#include &lt;stdio.h&gt;</span>
<span class="cp">#include &lt;stdlib.h&gt;</span>
<span class="cp">#include &lt;time.h&gt;</span>

<span class="kt">void</span> <span class="n">bingo</span><span class="p">(</span> <span class="kt">int</span> <span class="n">n</span> <span class="p">){</span>
   <span class="kt">int</span> <span class="n">tmp</span><span class="p">;</span>
   <span class="kt">int</span> <span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">;</span>
   <span class="kt">int</span> <span class="o">*</span><span class="n">deck</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="o">*</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="o">*</span><span class="n">n</span><span class="p">);</span>
   <span class="k">for</span><span class="p">(</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span> <span class="p">)</span>
      <span class="n">deck</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>

   <span class="k">for</span><span class="p">(</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span> <span class="p">){</span>
      <span class="n">j</span> <span class="o">=</span> <span class="n">rand</span><span class="p">()</span> <span class="o">%</span> <span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="n">i</span><span class="p">);</span>
      <span class="n">tmp</span> <span class="o">=</span> <span class="n">deck</span><span class="p">[</span><span class="n">j</span><span class="p">];</span>
      <span class="n">deck</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">deck</span><span class="p">[</span> <span class="n">n</span><span class="o">-</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span> <span class="p">];</span>
      <span class="n">deck</span><span class="p">[</span> <span class="n">n</span><span class="o">-</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span> <span class="p">]</span> <span class="o">=</span> <span class="n">tmp</span><span class="p">;</span>
   <span class="p">}</span>
   <span class="k">for</span><span class="p">(</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
      <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d &quot;</span><span class="p">,</span> <span class="n">deck</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">);</span>
   <span class="n">free</span><span class="p">(</span><span class="n">deck</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="n">main</span> <span class="p">(</span> <span class="kt">void</span> <span class="p">){</span>
   <span class="n">srand</span><span class="p">(</span><span class="n">time</span><span class="p">(</span><span class="nb">NULL</span><span class="p">));</span>
   <span class="n">bingo</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
   <span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
   <span class="n">bingo</span><span class="p">(</span><span class="mi">15</span><span class="p">);</span>
   <span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
   <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/3653/addtag/" class="addtag" id="addtag_3653">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/c/">
		C
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/3653/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/3653/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3653"
  >-</span><span
  class="button yellow"
  id="rating_z_3653"
  >0</span><span 
  class="button green"
  id="rating_p_3653"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/3653/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment3711">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/513/" target="_top">sa10i</a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/3711/">#3711</a>(<script language="JavaScript">print_time(new Date("2007/11/05 14:19 GMT"));</script><noscript>2007/11/05 14:19 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/csharp/">
	  C#
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>出力がランダムな場合、皆さんどんな風にテスト書いてるんでしょうね</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></td><td class="code"><div class="highlight"><pre><span class="k">static</span> <span class="kt">string</span> <span class="nf">bingo</span><span class="p">(</span><span class="kt">int</span> <span class="n">num</span><span class="p">)</span>
<span class="k">{</span>
        <span class="c">//ランダムな配列を作成</span>
        <span class="n">System</span><span class="p">.</span><span class="n">Collections</span><span class="p">.</span><span class="n">ArrayList</span> <span class="n">al</span><span class="p">=</span> <span class="k">new</span> <span class="n">System</span><span class="p">.</span><span class="n">Collections</span><span class="p">.</span><span class="n">ArrayList</span><span class="p">(</span><span class="n">num</span><span class="p">);</span>
        <span class="n">Random</span> <span class="n">r</span><span class="p">=</span> <span class="k">new</span> <span class="n">Random</span><span class="p">();</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">=</span><span class="m">1</span><span class="p">;</span> <span class="n">i</span><span class="p">&lt;=</span> <span class="n">num</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
                <span class="n">al</span><span class="p">.</span><span class="n">Insert</span><span class="p">(</span><span class="n">r</span><span class="p">.</span><span class="n">Next</span><span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="n">i</span><span class="p">);</span>

        <span class="c">//文字列で出力</span>
        <span class="n">System</span><span class="p">.</span><span class="n">Text</span><span class="p">.</span><span class="n">StringBuilder</span> <span class="n">sb</span><span class="p">=</span> <span class="k">new</span> <span class="n">System</span><span class="p">.</span><span class="n">Text</span><span class="p">.</span><span class="n">StringBuilder</span><span class="p">();</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">=</span><span class="m">0</span><span class="p">;</span> <span class="n">i</span><span class="p">&lt;</span> <span class="n">al</span><span class="p">.</span><span class="n">Count</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
                <span class="n">sb</span><span class="p">.</span><span class="n">Append</span><span class="p">(</span><span class="n">al</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">ToString</span><span class="p">()+</span><span class="s">&quot;,&quot;</span><span class="p">);</span>
        <span class="k">return</span> <span class="n">sb</span><span class="p">.</span><span class="n">ToString</span><span class="p">().</span><span class="n">Trim</span><span class="p">(</span><span class="sc">&#39;,&#39;</span><span class="p">);</span>
<span class="k">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/3711/addtag/" class="addtag" id="addtag_3711">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/csharp/">
		C#
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/3711/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/3711/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3711"
  >-</span><span
  class="button yellow"
  id="rating_z_3711"
  >0</span><span 
  class="button green"
  id="rating_p_3711"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/3711/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment3901">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/3901/">#3901</a>(<script language="JavaScript">print_time(new Date("2007/11/12 09:03 GMT"));</script><noscript>2007/11/12 09:03 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/nadesico/">
	  なでしこ
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>もっと短く出来そうですが素直に。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5
6
7</pre></td><td class="code"><div class="highlight"><pre>bingo(10)を&quot; &quot;で配列結合して表示
●bingo(n)
　　rとは配列
　　(n)回
　　　　rに回数を配列追加
　　rを配列シャッフル
　　rで戻る
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/3901/addtag/" class="addtag" id="addtag_3901">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/nadesico/">
		なでしこ
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/3901/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/3901/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3901"
  >-</span><span
  class="button yellow"
  id="rating_z_3901"
  >0</span><span 
  class="button green"
  id="rating_p_3901"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/3901/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment4043">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/554/" target="_top">Psychs</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/4043/">#4043</a>(<script language="JavaScript">print_time(new Date("2007/11/15 02:41 GMT"));</script><noscript>2007/11/15 02:41 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/objectivec/">
	  Objective-C
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'></pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37</pre></td><td class="code"><div class="highlight"><pre><span class="cp">#import &lt;Foundation/Foundation.h&gt;</span>

<span class="k">@interface</span> <span class="nc">NSArray</span> <span class="nl">(Bi</span><span class="n">ngo</span><span class="p">)</span>
<span class="o">+</span> <span class="p">(</span><span class="n">NSArray</span><span class="o">*</span><span class="p">)</span><span class="nl">bingo:</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">n</span><span class="p">;</span>
<span class="k">@end</span>

<span class="k">@implementation</span> <span class="nc">NSArray</span> <span class="nl">(Bi</span><span class="n">ngo</span><span class="p">)</span>

<span class="o">+</span> <span class="p">(</span><span class="n">NSArray</span><span class="o">*</span><span class="p">)</span><span class="nl">bingo:</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">n</span>
<span class="p">{</span>
  <span class="n">NSMutableArray</span><span class="o">*</span> <span class="n">array</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSMutableArray</span> <span class="n">array</span><span class="p">];</span>
  <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
  <span class="k">for</span> <span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;=</span><span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">[</span><span class="n">array</span> <span class="nl">addObject:</span><span class="p">[</span><span class="n">NSNumber</span> <span class="nl">numberWithInteger:</span><span class="n">i</span><span class="p">]];</span>

  <span class="n">NSMutableArray</span><span class="o">*</span> <span class="n">result</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSMutableArray</span> <span class="n">array</span><span class="p">];</span>
  <span class="k">for</span> <span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;=</span><span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">size</span> <span class="o">=</span> <span class="n">n</span> <span class="o">-</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">index</span> <span class="o">=</span> <span class="n">rand</span><span class="p">()</span> <span class="o">%</span> <span class="n">size</span><span class="p">;</span>
    <span class="p">[</span><span class="n">result</span> <span class="nl">addObject:</span><span class="p">[</span><span class="n">array</span> <span class="nl">objectAtIndex:</span><span class="n">index</span><span class="p">]];</span>
    <span class="p">[</span><span class="n">array</span> <span class="nl">removeObjectAtIndex:</span><span class="n">index</span><span class="p">];</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">@end</span>

<span class="kt">int</span> <span class="n">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">**</span> <span class="n">argv</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">NSAutoreleasePool</span><span class="o">*</span> <span class="n">pool</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSAutoreleasePool</span> <span class="n">new</span><span class="p">];</span>

  <span class="n">srand</span><span class="p">(</span><span class="n">time</span><span class="p">(</span><span class="mi">0</span><span class="p">));</span>
  <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;%@&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">NSArray</span> <span class="nl">bingo:</span><span class="mi">3</span><span class="p">]);</span>
  <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;%@&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">NSArray</span> <span class="nl">bingo:</span><span class="mi">10</span><span class="p">]);</span>
  
  <span class="p">[</span><span class="n">pool</span> <span class="n">release</span><span class="p">];</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/4043/addtag/" class="addtag" id="addtag_4043">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/objectivec/">
		Objective-C
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/4043/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/4043/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_4043"
  >-</span><span
  class="button yellow"
  id="rating_z_4043"
  >0</span><span 
  class="button green"
  id="rating_p_4043"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/4043/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment4289">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/507/" target="_top">fujidig</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_bronze.png" border=0/></a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/4289/">#4289</a>(<script language="JavaScript">print_time(new Date("2007/11/21 13:11 GMT"));</script><noscript>2007/11/21 13:11 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/hsp/">
	  HSP
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27</pre></td><td class="code"><div class="highlight"><pre>#module
#deffunc bingo int n
    dim dest, n
    repeat n
        dest.cnt = cnt+1
    loop
    repeat n
        r = rnd( n - cnt ) + cnt
        tmp = dest.r
        dest.r = dest.cnt
        dest.cnt = tmp
    loop
    buf = &quot;&quot;
    repeat n
        if ( cnt &gt; 0 ) {
            buf += &quot; &quot;
        }
        buf += str( dest.cnt )
    loop
    mes buf
    return
#global
randomize
bingo 10
bingo 3
bingo 3
bingo 10
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/4289/addtag/" class="addtag" id="addtag_4289">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/hsp/">
		HSP
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/4289/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/4289/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_4289"
  >-</span><span
  class="button yellow"
  id="rating_z_4289"
  >0</span><span 
  class="button green"
  id="rating_p_4289"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/4289/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment4290">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/507/" target="_top">fujidig</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_bronze.png" border=0/></a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/4290/">#4290</a>(<script language="JavaScript">print_time(new Date("2007/11/21 13:17 GMT"));</script><noscript>2007/11/21 13:17 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/hidemaru_macro/">
	  秀丸マクロ
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  
<p>乱数を発生させる関数がなかったのでそこから実装。
</p>
<p>HSP ( <a href="/web/20100309103155/http://ja.doukaku.org/comment/4289/">#4289</a> ) と同じ結果になるように Visual C++ の rand と同じアルゴリズム・定数を使いました。
   <a href="/web/20100309103155/http://ja.doukaku.org/comment/4289/">#4289</a> と乱数の種を同じにしたら同じ結果になるでしょう。
   （ HSP の randomize の引数、秀丸マクロの srand サブルーチンの引数 ）
</p>



	</div>
	
	<p class="link">
	  参考: <a href="/web/20100309103155/http://www001.upp.so-net.ne.jp/isaku/rand.html">良い乱数・悪い乱数</a>
	</p>  
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43</pre></td><td class="code"><div class="highlight"><pre>    call srand tickcount;
    call bingo 10;
    call bingo 3;
    call bingo 3;
    call bingo 10;
    endmacro;

bingo:
    ##i = 0;
    while( ##i &lt; ##1 ) {
        ##dest[##i] = ##i + 1;
        ##i = ##i + 1;
    }
    ##i = 0;
    while( ##i &lt; ##1 ) {
        call rand;
        ##r = ##return % ( ##1 - ##i ) + ##i;
        ##tmp = ##dest[##r];
        ##dest[##r] = ##dest[##i];
        ##dest[##i] = ##tmp;
        ##i = ##i + 1;
    }
    ##i = 0;
    while( ##i &lt; ##1 ) {
        if ( ##i &gt; 0 ) {
            insert &quot; &quot;;
        }
        insert str( ##dest[##i] );
        ##i = ##i + 1;
    }
    insert &quot;\n&quot;;
    return;

rand:
    #rand_x = #rand_x * 214013 + 2531011;
    if ( #rand_x &lt; 0 ) {
        return ( ( #rand_x + 1 ) / 65536 - 1 ) &amp; 32767;
    }
    return #rand_x / 65536 &amp; 32767;

srand:
    #rand_x = ##1;
    return;
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/4290/addtag/" class="addtag" id="addtag_4290">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/hidemaru_macro/">
		秀丸マクロ
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/4290/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/4290/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_4290"
  >-</span><span
  class="button yellow"
  id="rating_z_4290"
  >0</span><span 
  class="button green"
  id="rating_p_4290"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/4290/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment4528">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/560/" target="_top">ihag</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/4528/">#4528</a>(<script language="JavaScript">print_time(new Date("2007/12/01 01:32 GMT"));</script><noscript>2007/12/01 01:32 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/ruby/">
	  Ruby
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <p>うーん，なかなか短くならない．</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5</pre></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">bingo</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
  <span class="n">pool</span><span class="p">,</span> <span class="n">ret</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">.</span><span class="n">.n</span><span class="p">)</span><span class="o">.</span><span class="n">to_a</span><span class="p">,</span> <span class="o">[]</span>
  <span class="n">ret</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">pool</span><span class="o">.</span><span class="n">delete_at</span><span class="p">(</span><span class="nb">rand</span><span class="p">(</span><span class="n">pool</span><span class="o">.</span><span class="n">size</span><span class="p">)))</span> <span class="k">until</span> <span class="n">pool</span><span class="o">.</span><span class="n">empty?</span>
  <span class="n">ret</span>
<span class="k">end</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/4528/addtag/" class="addtag" id="addtag_4528">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/ruby/">
		Ruby
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/4528/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/4528/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_4528"
  >-</span><span
  class="button yellow"
  id="rating_z_4528"
  >0</span><span 
  class="button green"
  id="rating_p_4528"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/4528/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment4633">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/380/" target="_top">vtwntmtn</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_silver.png" border=0/></a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/4633/">#4633</a>(<script language="JavaScript">print_time(new Date("2007/12/05 16:23 GMT"));</script><noscript>2007/12/05 16:23 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/d/">
	  D
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>単純にシャッフルして作ります。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34</pre></td><td class="code"><div class="highlight"><pre><span class="k">import</span> <span class="n">std</span>.<span class="n">random</span>;

<span class="kt">int</span>[] <span class="n">bingo</span>(<span class="kt">int</span> <span class="n">x</span>)
{
        <span class="kt">int</span>[] <span class="n">xs</span>;
        <span class="k">for</span> (<span class="kt">int</span> <span class="n">i</span> = <span class="mi">1</span>; <span class="n">i</span> &lt;= <span class="n">x</span>; ++<span class="n">i</span>) {
                <span class="n">xs</span> ~= <span class="n">i</span>;
        }
        <span class="k">for</span> (<span class="kt">int</span> <span class="n">i</span> = <span class="mi">0</span>; <span class="n">i</span> &lt; <span class="n">x</span>; ++<span class="n">i</span>) {
                <span class="kt">uint</span> <span class="n">r</span> = <span class="n">rand</span>() % <span class="n">x</span>;
                <span class="kt">int</span> <span class="n">tmp</span> = <span class="n">xs</span>[<span class="n">r</span>];
                <span class="n">xs</span>[<span class="n">r</span>] = <span class="n">xs</span>[<span class="n">i</span>];
                <span class="n">xs</span>[<span class="n">i</span>] = <span class="n">tmp</span>;
        }
        <span class="k">return</span> <span class="n">xs</span>;
}

<span class="c">/*</span>
<span class="c">import std.stdio;</span>
<span class="c">import std.string;</span>

<span class="c">void main(char[][] args)</span>
<span class="c">{</span>
<span class="c">        for (int i = 1; i &lt;= 10; ++i) {</span>
<span class="c">                int[] xs = bingo(i);</span>
<span class="c">                string s = &quot;[&quot;;</span>
<span class="c">                foreach (j; xs) {</span>
<span class="c">                        s ~= toString(j) ~ &quot;,&quot;;</span>
<span class="c">                }</span>
<span class="c">                s = s[0 .. $ - 1] ~ &quot;]&quot;;</span>
<span class="c">                writef(&quot;%s\n&quot;, s);</span>
<span class="c">        }</span>
<span class="c">}</span>
<span class="c">*/</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/4633/addtag/" class="addtag" id="addtag_4633">タグ</a>:
	
    
    <a href="/web/20100309103155/http://ja.doukaku.org/tag/gdc0.24/">gdc0.24</a>
    
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/d/">
		D
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/4633/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/4633/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_4633"
  >-</span><span
  class="button yellow"
  id="rating_z_4633"
  >0</span><span 
  class="button green"
  id="rating_p_4633"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/4633/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  

  
    





<div class="comment" id="comment4730">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/380/" target="_top">vtwntmtn</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_silver.png" border=0/></a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/4730/">#4730</a>(<script language="JavaScript">print_time(new Date("2007/12/10 18:09 GMT"));</script><noscript>2007/12/10 18:09 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/erlang/">
	  Erlang
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>1&gt; c(bingo).
{ok,bingo}
2&gt; bingo:bingo(10).
[3,1,9,2,5,10,8,4,6,7]
3&gt; bingo:bingo(3).
[2,1,3]
4&gt; bingo:bingo(3).
[1,3,2]
5&gt; bingo:bingo(3).
[1,2,3]
6&gt; bingo:bingo(10).
[10,3,5,1,4,6,2,7,8,9]
</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></td><td class="code"><div class="highlight"><pre>-module(bingo).
-export([bingo/1]).

bingo(Num) -&gt; bingo_sub(lists:seq(1, Num), Num).

bingo_sub(List, 0) -&gt; List;
bingo_sub(List, Num) -&gt;
    R = lists:nth(random:uniform(length(List)), List),
    L = [R | [X || X &lt;- List, X =/= R]],
    bingo_sub(L, Num - 1).
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/4730/addtag/" class="addtag" id="addtag_4730">タグ</a>:
	
    
    <a href="/web/20100309103155/http://ja.doukaku.org/tag/Erlang/OTP_R10B-10/">Erlang/OTP_R10B-10</a>
    
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/erlang/">
		Erlang
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/4730/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/4730/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_4730"
  >-</span><span
  class="button yellow"
  id="rating_z_4730"
  >0</span><span 
  class="button green"
  id="rating_p_4730"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/4730/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment4732">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/606/" target="_top">pooq</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/4732/">#4732</a>(<script language="JavaScript">print_time(new Date("2007/12/10 18:27 GMT"));</script><noscript>2007/12/10 18:27 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/j/">
	  J
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>「n人中m人が当選するくじ」の
n=mの場合と解釈しました。
   bingo 10
1 2 9 3 7 8 10 5 6 4
   bingo 3
3 2 1
   bingo 3
1 3 2
   bingo 3
2 1 3
   bingo 10
5 1 3 7 10 2 4 9 8 6
</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="highlight"><pre>bingo=.3 :&#39;&gt;:y?y&#39;
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/4732/addtag/" class="addtag" id="addtag_4732">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/j/">
		J
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/4732/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/4732/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_4732"
  >-</span><span
  class="button yellow"
  id="rating_z_4732"
  >0</span><span 
  class="button green"
  id="rating_p_4732"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/4732/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment5033">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/218/" target="_top">susu</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/5033/">#5033</a>(<script language="JavaScript">print_time(new Date("2007/12/28 10:48 GMT"));</script><noscript>2007/12/28 10:48 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/ocaml/">
	  OCaml
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <p>気付くと嬉しいアルゴリズム。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></td><td class="code"><div class="highlight"><pre><span class="kr">module</span> <span class="n">Array</span> <span class="k">=</span> <span class="kr">struct</span>
  <span class="kr">include</span> <span class="n">Array</span>
  <span class="kr">let</span> <span class="n">bury</span> <span class="n">arr</span> <span class="n">n</span> <span class="n">len</span> <span class="k">=</span>
    <span class="n">Array</span><span class="k">.</span><span class="n">blit</span> <span class="n">arr</span> <span class="k">(</span><span class="n">n</span><span class="k">+</span><span class="mi">1</span><span class="k">)</span> <span class="n">arr</span> <span class="n">n</span> <span class="k">(</span><span class="n">len</span><span class="k">-(</span><span class="n">n</span><span class="k">+</span><span class="mi">1</span><span class="k">))</span>
    
  <span class="kr">let</span> <span class="n">shuffle</span> <span class="n">arr</span> <span class="k">=</span>
    <span class="kr">let</span> <span class="n">len</span> <span class="k">=</span> <span class="n">Array</span><span class="k">.</span><span class="n">length</span> <span class="n">arr</span> <span class="kr">in</span>
    <span class="kr">for</span> <span class="n">i</span> <span class="k">=</span> <span class="n">len</span> <span class="kr">downto</span> <span class="mi">1</span> <span class="kr">do</span>
      <span class="kr">let</span> <span class="n">v</span> <span class="k">=</span> <span class="n">Random</span><span class="k">.</span><span class="n">int</span> <span class="n">i</span> <span class="kr">in</span>
      <span class="kr">let</span> <span class="n">value</span> <span class="k">=</span> <span class="n">arr</span><span class="k">.(</span><span class="n">v</span><span class="k">)</span> <span class="kr">in</span>
      <span class="n">bury</span> <span class="n">arr</span> <span class="n">v</span> <span class="n">i</span><span class="k">;</span>
      <span class="n">Array</span><span class="k">.</span><span class="n">set</span> <span class="n">arr</span> <span class="k">(</span><span class="n">i</span><span class="k">-</span><span class="mi">1</span><span class="k">)</span> <span class="n">value</span><span class="k">;</span>
    <span class="kr">done</span>
<span class="kr">end</span><span class="k">;;</span>

<span class="kr">let</span> <span class="n">bingo</span> <span class="n">n</span> <span class="k">=</span>
  <span class="kr">let</span> <span class="n">res</span> <span class="k">=</span> <span class="n">Array</span><span class="k">.</span><span class="n">init</span> <span class="n">n</span> <span class="k">(</span><span class="kr">fun</span> <span class="n">i</span> <span class="k">-&gt;</span> <span class="n">i</span><span class="k">+</span><span class="mi">1</span><span class="k">)</span> <span class="kr">in</span>
  <span class="n">Array</span><span class="k">.</span><span class="n">shuffle</span> <span class="n">res</span><span class="k">;</span>
  <span class="n">res</span><span class="k">;;</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/5033/addtag/" class="addtag" id="addtag_5033">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/ocaml/">
		OCaml
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/5033/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/5033/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5033"
  >-</span><span
  class="button yellow"
  id="rating_z_5033"
  >0</span><span 
  class="button green"
  id="rating_p_5033"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/5033/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment5176">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/642/" target="_top">saws</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/5176/">#5176</a>(<script language="JavaScript">print_time(new Date("2008/01/04 16:29 GMT"));</script><noscript>2008/01/04 16:29 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/ruby/">
	  Ruby
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <p>randメソッドを利用して自作してみた.</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4</pre></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">bingo</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
  <span class="n">ary</span> <span class="o">=</span> <span class="nb">Array</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">n</span><span class="p">){</span><span class="o">|</span><span class="n">i</span><span class="o">|</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">}</span>
  <span class="nb">Array</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">n</span><span class="p">){</span><span class="o">|</span><span class="n">i</span><span class="o">|</span> <span class="n">ary</span><span class="o">.</span><span class="n">delete_at</span><span class="p">(</span><span class="nb">rand</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">modulo</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="n">i</span><span class="p">))}</span>
<span class="k">end</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/5176/addtag/" class="addtag" id="addtag_5176">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/ruby/">
		Ruby
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/5176/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/5176/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5176"
  >-</span><span
  class="button yellow"
  id="rating_z_5176"
  >0</span><span 
  class="button green"
  id="rating_p_5176"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/5176/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment5208">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/448/" target="_top">naranja</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_bronze.png" border=0/></a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/5208/">#5208</a>(<script language="JavaScript">print_time(new Date("2008/01/06 13:54 GMT"));</script><noscript>2008/01/06 13:54 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/d/">
	  D
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  D 2.008 で std.random に追加された機能を使っていますが、dmd 2.009 ではコンパイルできませんでした。
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></td><td class="code"><div class="highlight"><pre><span class="k">import</span> <span class="n">std</span>.<span class="n">stdio</span>;
<span class="k">import</span> <span class="n">std</span>.<span class="n">random</span>;

<span class="kt">void</span> <span class="n">bingo</span>(<span class="kt">uint</span> <span class="n">n</span>){
    <span class="kt">uint</span>[] <span class="n">a</span>;
    <span class="n">a</span>.<span class="n">length</span> = <span class="n">n</span>;
    <span class="k">foreach</span>(<span class="n">i</span>, <span class="k">ref</span> <span class="n">e</span>; <span class="n">a</span>){
        <span class="n">e</span> = <span class="n">i</span> + <span class="mi">1</span>;
    }
    <span class="n">randomShuffle</span>(<span class="n">a</span>, <span class="n">Random</span>(<span class="n">unpredictableSeed</span>()));
    <span class="n">writefln</span>(<span class="n">a</span>);
}

<span class="kt">void</span> <span class="n">main</span>(){
    <span class="n">bingo</span>(<span class="mi">10</span>);
}
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/5208/addtag/" class="addtag" id="addtag_5208">タグ</a>:
	
    
    <a href="/web/20100309103155/http://ja.doukaku.org/tag/dmd2.008/">dmd2.008</a>
    
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/d/">
		D
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/5208/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/5208/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5208"
  >-</span><span
  class="button yellow"
  id="rating_z_5208"
  >0</span><span 
  class="button green"
  id="rating_p_5208"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/5208/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment5591">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/405/" target="_top">g000001</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/5591/">#5591</a>(<script language="JavaScript">print_time(new Date("2008/01/31 06:36 GMT"));</script><noscript>2008/01/31 06:36 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/arc/">
	  Arc
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  Arcです。<br/>割とCommon&nbsp;Lispみたいになってしまいました。
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></td><td class="code"><div class="highlight"><pre>(def bingo (n)
  (let lst (iota n 1)
    (for i 0 (- n 1)
      (swap (lst i) (lst (rand n))))
    lst))

(def iota (n (o start 0) (o step 1))
  (let res ()
    (repeat n
      (push start res)
      (++ start step))
    (rev res)))
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/5591/addtag/" class="addtag" id="addtag_5591">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/arc/">
		Arc
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/5591/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/5591/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5591"
  >-</span><span
  class="button yellow"
  id="rating_z_5591"
  >0</span><span 
  class="button green"
  id="rating_p_5591"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/5591/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment5691">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/646/" target="_top">silverwire</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_silver.png" border=0/></a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/5691/">#5691</a>(<script language="JavaScript">print_time(new Date("2008/02/05 16:55 GMT"));</script><noscript>2008/02/05 16:55 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/bat/">
	  Batchfile
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>バッチで書いてみました。27行目の行末に半角空白が 1つあるので注意してください。

環境変数%RANDOM%は 0~32767の範囲で乱数を返します。乱数値の一桁目( 0~9)だけを採用
し、要素数 nで除算すると剰余は 0~n-1のいずれかの値になります。その値を擬似配列の
インデックスとして利用するため、値に 1を加えて補正しています。シャッフルに偏りが
生じるとは思いますが、これが考えつく限界でした。

  e.g.
    C:\&gt;bingo 10
    [ 10, 4, 9, 3, 1, 8, 7, 6, 2, 5 ]

    C:\&gt;bingo 3
    [ 2, 1, 3 ]

    C:\&gt;bingo 3
    [ 2, 3, 1 ]

    C:\&gt;bingo 3
    [ 2, 1, 3 ]

    C:\&gt;bingo 10
    [ 1, 7, 10, 5, 6, 4, 8, 2, 9, 3 ]

遅延環境変数展開と環境変数%RANDOM%を利用しているので、Windows NTでは動作しません。
Windows XPで動作を確認。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30</pre></td><td class="code"><div class="highlight"><pre>:: bingo.bat
@echo off
  setlocal enabledelayedexpansion
    set i=0
    set j=0
    set t=
    set v=0

    echo %1|findstr /r &quot;[^0-9]&quot; &gt;NUL 2&gt;&amp;1
    if %ERRORLEVEL% equ 0 (echo %0 [NUMBER] &amp; goto :EOF)

    :: 擬似配列を生成
    for /l %%i in (1,1,%1) do set v_%%i=%%i

    :: 値をシャッフル
    set i=1
    :loop
      set /a j=%RANDOM:~-1%%%%1+1
      set v=!v_%i%!
      set v_%i%=!v_%j%!
      set v_%j%=%v%
      set /a i+=1
    if %i% lss %1 goto loop

    for /l %%i in (1,1,%1) do (
      set t=!t!!v_%%i!
      if %%i lss %1 set t=!t!, 
    )
  endlocal &amp; echo [ %t% ]
goto :EOF
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/5691/addtag/" class="addtag" id="addtag_5691">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/bat/">
		Batchfile
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/5691/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/5691/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5691"
  >-</span><span
  class="button yellow"
  id="rating_z_5691"
  >0</span><span 
  class="button green"
  id="rating_p_5691"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20100309103155/http://ja.doukaku.org/comment/5691/">
    1
    reply
  </a>

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/5691/">
  返信
  </a>]
  </div>
</div>
</div>




  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      





<div class="comment" id="comment5693">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/646/" target="_top">silverwire</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_silver.png" border=0/></a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/5693/">#5693</a>(<script language="JavaScript">print_time(new Date("2008/02/06 03:22 GMT"));</script><noscript>2008/02/06 03:22 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>引数( n)の桁数に応じて、乱数値から切り出す桁数を変えました。 nの値が大きい場合の
偏りは軽減されたものの、ソースの見通しは悪くなったかもしれません。

  e.g.
    5a6
    &gt;     set l=0
    15a17,18
    &gt;     call :length %1 l
    &gt;     echo set j=%%RANDOM:~-%l%%%&gt;_.bat
    17,18c20,23
    &lt;     :loop
    &lt;       set /a j=%RANDOM:~-1%%%%1+1
    ---
    &gt;     :shuffle
    &gt;       ::  8進数として解釈されないよう 0を加算
    &gt;       call _.bat &amp; set /a j+=0
    &gt;       set /a j=%j%%%%1+1
    23c28,29
    &lt;     if %i% lss %1 goto loop
    ---
    &gt;     if %i% lss %1 goto shuffle
    &gt;     del _.bat
    31a38,50
    &gt; :length
    &gt;   setlocal
    &gt;     set i=0
    &gt;     set t=%1
    &gt;     set t=%t:"=%
    &gt; 
    &gt;     :loop
    &gt;       set t=%t:~1%
    &gt;       set /a i+=1
    &gt;     if not "%t%" == "" goto loop
    &gt;   endlocal &amp; set %2=%i%
    &gt; goto :EOF

# 小数が扱えないのは痛いなぁ...</pre>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/5693/addtag/" class="addtag" id="addtag_5693">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5693"
  >-</span><span
  class="button yellow"
  id="rating_z_5693"
  >0</span><span 
  class="button green"
  id="rating_p_5693"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/5691/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/5693/root/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/5693/">
  返信
  </a>]
  </div>
</div>
</div>




  


    </div>
  


  

  

  
    





<div class="comment" id="comment6338">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/35/" target="_top">ytakenaka</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/6338/">#6338</a>(<script language="JavaScript">print_time(new Date("2008/05/25 23:08 GMT"));</script><noscript>2008/05/25 23:08 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/commonlisp/">
	  Common Lisp
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <p>ランダムシャッフルならリストより配列を使った方がいいですね。理由は簡単で要素にアクセスする時間からです。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></td><td class="code"><div class="highlight"><pre>(defun bingo(max)
  (let ((vec (make-array 0 :fill-pointer t)))
    (loop for i from 1 to max do
     (vector-push-extend i vec))
    (loop for i from max downto 1 collect
     (if (equal i 1)
         (vector-pop vec)
         (let ((loc (random i)))
           (rotatef (aref vec (1- i))
            (aref vec loc))
           (vector-pop vec))))))
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/6338/addtag/" class="addtag" id="addtag_6338">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/commonlisp/">
		Common Lisp
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/6338/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/6338/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_6338"
  >-</span><span
  class="button yellow"
  id="rating_z_6338"
  >0</span><span 
  class="button green"
  id="rating_p_6338"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20100309103155/http://ja.doukaku.org/comment/6338/">
    1
    reply
  </a>

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/6338/">
  返信
  </a>]
  </div>
</div>
</div>




  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      





<div class="comment" id="comment6339">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/35/" target="_top">ytakenaka</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/6339/">#6339</a>(<script language="JavaScript">print_time(new Date("2008/05/25 23:23 GMT"));</script><noscript>2008/05/25 23:23 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/commonlisp/">
	  Common Lisp
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <p>arefはsvrefより遅いのでsvref版を用意しました。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></td><td class="code"><div class="highlight"><pre>(defun bingo-v2(max)
  (let ((vec (make-array max)))
    (loop for i from 1 to max do
     (setf (svref vec (1- i)) i))
    (loop for i from max downto 1 collect
     (if (equal i 1)
         (svref vec (1- i))
         (let ((loc (random i))
           (ii (1- i)))
           (rotatef (svref vec ii) (svref vec loc))
           (svref vec ii))))))
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/6339/addtag/" class="addtag" id="addtag_6339">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/commonlisp/">
		Common Lisp
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/6339/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/6339/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_6339"
  >-</span><span
  class="button yellow"
  id="rating_z_6339"
  >0</span><span 
  class="button green"
  id="rating_p_6339"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/6338/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/6339/root/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  <a href="/web/20100309103155/http://ja.doukaku.org/comment/6339/">
    1
    reply
  </a>

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/6339/">
  返信
  </a>]
  </div>
</div>
</div>




  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      





<div class="comment" id="comment6340">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/35/" target="_top">ytakenaka</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/6340/">#6340</a>(<script language="JavaScript">print_time(new Date("2008/05/25 23:32 GMT"));</script><noscript>2008/05/25 23:32 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>svref と arefの差は次のようなものです。
consingで2/3  実時間で1/2.5程度ですかね。
--
CL-USER&gt; (time (and (bingo 100000) nil))
Evaluation took:
  0.074 seconds of real time
  0.056004 seconds of user run time
  0.004001 seconds of system run time
  0 calls to %EVAL
  0 page faults and
  3,698,800 bytes consed.
NIL
CL-USER&gt; (time (and (bingo-v2 100000) nil))
Evaluation took:
  0.027 seconds of real time
  0.016001 seconds of user run time
  0.0 seconds of system run time
  0 calls to %EVAL
  0 page faults and
  2,397,456 bytes consed.
NIL</pre>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/6340/addtag/" class="addtag" id="addtag_6340">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_6340"
  >-</span><span
  class="button yellow"
  id="rating_z_6340"
  >0</span><span 
  class="button green"
  id="rating_p_6340"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/6339/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/6340/root/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  <a href="/web/20100309103155/http://ja.doukaku.org/comment/6340/">
    1
    reply
  </a>

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/6340/">
  返信
  </a>]
  </div>
</div>
</div>




  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      





<div class="comment" id="comment6341">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/35/" target="_top">ytakenaka</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/6341/">#6341</a>(<script language="JavaScript">print_time(new Date("2008/05/25 23:44 GMT"));</script><noscript>2008/05/25 23:44 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/commonlisp/">
	  Common Lisp
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>最後に最適化オプションをつけて。。。bingo_v2より1/2の時間
になりましたね。

CL-USER&gt; (time (and (bingo-v3 100000) nil))
Evaluation took:
  0.013 seconds of real time
  0.016001 seconds of user run time
  0.0 seconds of system run time
  0 calls to %EVAL
  0 page faults and
  2,397,536 bytes consed.
NIL</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></td><td class="code"><div class="highlight"><pre>(defun bingo-v3(max)
  (declare (optimize (speed 3) (debug 0) (safety 0)))
  (declare (fixnum max))
  (let ((vec (make-array max)))
    (declare (simple-vector vec))
    (loop for i from 1 to max do
     (setf (svref vec (1- i)) i))
    (loop for i from max downto 1 collect
     (if (equal i 1)
         (svref vec (1- i))
         (let ((loc (random i)) (ii (1- i)))
           (rotatef (svref vec ii) (svref vec loc))
           (svref vec ii))))))
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/6341/addtag/" class="addtag" id="addtag_6341">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/commonlisp/">
		Common Lisp
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/6341/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/6341/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_6341"
  >-</span><span
  class="button yellow"
  id="rating_z_6341"
  >0</span><span 
  class="button green"
  id="rating_p_6341"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/6340/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/6341/root/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  <a href="/web/20100309103155/http://ja.doukaku.org/comment/6341/">
    1
    reply
  </a>

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/6341/">
  返信
  </a>]
  </div>
</div>
</div>




  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      





<div class="comment" id="comment6342">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/35/" target="_top">ytakenaka</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/6342/">#6342</a>(<script language="JavaScript">print_time(new Date("2008/05/25 23:48 GMT"));</script><noscript>2008/05/25 23:48 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <p>あまりへんかしてないや。^^;</p>

	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/6342/addtag/" class="addtag" id="addtag_6342">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_6342"
  >-</span><span
  class="button yellow"
  id="rating_z_6342"
  >0</span><span 
  class="button green"
  id="rating_p_6342"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/6341/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/6342/root/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/6342/">
  返信
  </a>]
  </div>
</div>
</div>




  


    </div>
  


    </div>
  


    </div>
  


    </div>
  


  

  

  

  

  

  
    





<div class="comment" id="comment6677">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/837/" target="_top">nemo_kaz</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/6677/">#6677</a>(<script language="JavaScript">print_time(new Date("2008/07/06 02:25 GMT"));</script><noscript>2008/07/06 02:25 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/groovy/">
	  Groovy
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  Rubyをリスペクトして書きました。
----------------
実行結果
[5, 1, 10, 8, 2, 7, 9, 3, 4, 6]
[1, 2, 3]
[2, 1, 3]
[9, 4, 10, 5, 1, 7, 6, 2, 3, 8]

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></td><td class="code"><div class="highlight"><pre>def bingo(n) {
    def list = (1..n).toList()
    Collections.shuffle(list)
    println list
}

bingo(10)
bingo(3)  
bingo(3)
bingo(10)
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/6677/addtag/" class="addtag" id="addtag_6677">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/groovy/">
		Groovy
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/6677/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/6677/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_6677"
  >-</span><span
  class="button yellow"
  id="rating_z_6677"
  >0</span><span 
  class="button green"
  id="rating_p_6677"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/6677/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment8045">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/852/" target="_top">emasaka</a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/8045/">#8045</a>(<script language="JavaScript">print_time(new Date("2008/11/16 04:09 GMT"));</script><noscript>2008/11/16 04:09 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/bash/">
	  Bash
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>$ bingo 10
2 10 3 5 6 4 1 8 7 9
</pre>
	</div>
	
	<p class="link">
	  参考: <a href="/web/20100309103155/http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-list/40892">[ruby-list:40892]</a>
	</p>  
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></td><td class="code"><div class="highlight"><pre><span class="k">function </span>bingo<span class="o">()</span> <span class="o">{</span>
    <span class="nb">local </span><span class="nv">n</span><span class="o">=</span><span class="nv">$1</span>
    <span class="nb">local</span> -a array
    <span class="nb">local</span> -i i j tmp

    <span class="k">for</span> <span class="o">((</span><span class="nv">i</span> <span class="o">=</span> 0; i &lt; n; i++<span class="o">))</span> <span class="o">{</span>
        array<span class="o">[</span>i<span class="o">]=</span><span class="k">$(</span><span class="o">(</span>i+1<span class="k">)</span><span class="o">)</span>
    <span class="o">}</span>

    <span class="k">for</span> <span class="o">((</span><span class="nv">i</span> <span class="o">=</span> 0; i &lt; n; i++<span class="o">))</span> <span class="o">{</span>
        <span class="o">((</span><span class="nv">j</span> <span class="o">=</span> RANDOM % <span class="o">(</span>i + 1<span class="o">)</span>,
          <span class="nv">tmp</span> <span class="o">=</span> array<span class="o">[</span>i<span class="o">]</span>, array<span class="o">[</span>i<span class="o">]</span> <span class="o">=</span> array<span class="o">[</span>j<span class="o">]</span>, array<span class="o">[</span>j<span class="o">]</span> <span class="o">=</span> tmp<span class="o">))</span>
    <span class="o">}</span>

    <span class="nb">echo</span> <span class="k">${</span><span class="nv">array</span><span class="p">[@]</span><span class="k">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/8045/addtag/" class="addtag" id="addtag_8045">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/bash/">
		Bash
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/8045/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/8045/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8045"
  >-</span><span
  class="button yellow"
  id="rating_z_8045"
  >0</span><span 
  class="button green"
  id="rating_p_8045"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20100309103155/http://ja.doukaku.org/comment/8045/">
    1
    reply
  </a>

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/8045/">
  返信
  </a>]
  </div>
</div>
</div>




  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      





<div class="comment" id="comment8230">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/852/" target="_top">emasaka</a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/8230/">#8230</a>(<script language="JavaScript">print_time(new Date("2008/12/20 15:56 GMT"));</script><noscript>2008/12/20 15:56 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/bash/">
	  Bash
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>GNU coreutilsのshufで。

$ bingo 6
2
1
6
4
5
3
</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4</pre></td><td class="code"><div class="highlight"><pre><span class="c">#!/bin/sh</span>
bingo<span class="o">()</span> <span class="o">{</span>
    seq <span class="nv">$1</span> | shuf
<span class="o">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/8230/addtag/" class="addtag" id="addtag_8230">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/bash/">
		Bash
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/8230/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/8230/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8230"
  >-</span><span
  class="button yellow"
  id="rating_z_8230"
  >0</span><span 
  class="button green"
  id="rating_p_8230"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/8045/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20100309103155/http://ja.doukaku.org/comment/8230/root/"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/8230/">
  返信
  </a>]
  </div>
</div>
</div>




  


    </div>
  


  

  
    





<div class="comment" id="comment8143">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/549/" target="_top">cappuccino</a><a href="/web/20100309103155/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/8143/">#8143</a>(<script language="JavaScript">print_time(new Date("2008/12/12 22:10 GMT"));</script><noscript>2008/12/12 22:10 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/csharp/">
	  C#
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5</pre></td><td class="code"><div class="highlight"><pre><span class="kt">int</span><span class="p">[]</span> <span class="n">bingo</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">)</span>
<span class="k">{</span>
    <span class="n">Random</span> <span class="n">r</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Random</span><span class="p">();</span>
    <span class="k">return</span> <span class="n">Enumerable</span><span class="p">.</span><span class="n">Range</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="n">n</span><span class="p">).</span><span class="n">OrderBy</span><span class="p">(</span><span class="n">a</span> <span class="p">=&gt;</span> <span class="n">r</span><span class="p">.</span><span class="n">Next</span><span class="p">()).</span><span class="n">ToArray</span><span class="p">();</span>
<span class="k">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/8143/addtag/" class="addtag" id="addtag_8143">タグ</a>:
	
    
    <a href="/web/20100309103155/http://ja.doukaku.org/tag/LINQ/">LINQ</a>
    
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/csharp/">
		C#
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/8143/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/8143/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8143"
  >-</span><span
  class="button yellow"
  id="rating_z_8143"
  >0</span><span 
  class="button green"
  id="rating_p_8143"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/8143/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  
    





<div class="comment" id="comment8163">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/973/" target="_top">taninsw</a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/8163/">#8163</a>(<script language="JavaScript">print_time(new Date("2008/12/14 01:27 GMT"));</script><noscript>2008/12/14 01:27 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/haskell/">
	  Haskell
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <p>Haskellは参照透明な言語なので、同じ引数に関数を束縛したら、同じ値がかえってこなければならないので、お題を満たせません。</p>
<p>そこで乱数生成器も引数に取ることにしました。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></td><td class="code"><div class="highlight"><pre><span class="kr">import</span> <span class="n">Random</span>
<span class="kr">import</span> <span class="n">List</span>

<span class="nv">randomN</span> <span class="o">::</span> <span class="n">Int</span><span class="o">-&gt;</span><span class="n">StdGen</span> <span class="o">-&gt;</span>  <span class="p">(</span><span class="n">StdGen</span><span class="p">,[</span><span class="n">Int</span><span class="p">])</span>
<span class="nv">randomN</span> <span class="nv">n</span> <span class="nv">stdGen</span> <span class="o">=</span> <span class="nv">mapAccumL</span> <span class="p">(</span><span class="o">\</span><span class="nv">r</span> <span class="nv">lim</span><span class="o">-&gt;</span><span class="nv">swapTuple</span> <span class="p">(</span><span class="nv">randomR</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nv">lim</span><span class="p">)</span> <span class="nv">r</span><span class="p">))</span> <span class="nv">stdGen</span> <span class="p">[</span><span class="nv">n</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="nv">n</span><span class="o">-</span><span class="mi">2</span><span class="o">..</span><span class="mi">0</span><span class="p">]</span>
  <span class="kr">where</span> <span class="nv">swapTuple</span> <span class="p">(</span><span class="nv">a</span><span class="p">,</span><span class="nv">b</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="nv">b</span><span class="p">,</span><span class="nv">a</span><span class="p">)</span>

<span class="nv">bingo</span> <span class="o">::</span><span class="n">Int</span><span class="o">-&gt;</span><span class="n">StdGen</span><span class="o">-&gt;</span><span class="p">[</span><span class="n">Int</span><span class="p">]</span>
<span class="nv">bingo</span> <span class="nv">n</span> <span class="nv">stdGen</span> <span class="o">=</span> <span class="nv">snd</span> <span class="o">$</span> <span class="nv">mapAccumL</span> <span class="nv">f</span> <span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="nv">n</span><span class="p">]</span> <span class="o">$</span> <span class="nv">snd</span> <span class="p">(</span><span class="nv">randomN</span> <span class="nv">n</span> <span class="nv">stdGen</span><span class="p">)</span>
  <span class="kr">where</span> <span class="nv">f</span> <span class="nv">xs</span> <span class="nv">x</span> <span class="o">=</span> <span class="p">(</span><span class="nv">deleteAt</span> <span class="nv">x</span> <span class="nv">xs</span><span class="p">,</span><span class="nv">xs</span> <span class="o">!!</span> <span class="nv">x</span><span class="p">)</span>
        <span class="nv">deleteAt</span> <span class="nv">i</span> <span class="nv">xs</span> <span class="o">=</span> <span class="nv">take</span> <span class="nv">i</span> <span class="nv">xs</span> <span class="o">++</span> <span class="nv">tail</span> <span class="p">(</span><span class="nv">drop</span> <span class="nv">i</span> <span class="nv">xs</span><span class="p">)</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/8163/addtag/" class="addtag" id="addtag_8163">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/haskell/">
		Haskell
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/8163/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/8163/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8163"
  >-</span><span
  class="button yellow"
  id="rating_z_8163"
  >0</span><span 
  class="button green"
  id="rating_p_8163"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/8163/">
  返信
  </a>]
  </div>
</div>
</div>




  


  

  

  
    





<div class="comment" id="comment8494">
  <p class="banner"><a href="/web/20100309103155/http://ja.doukaku.org/user/856/" target="_top">fumokmm</a>

	
	&nbsp;
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/8494/">#8494</a>(<script language="JavaScript">print_time(new Date("2009/02/12 11:51 GMT"));</script><noscript>2009/02/12 11:51 GMT</noscript>)
	
	
	
	[<a href="/web/20100309103155/http://ja.doukaku.org/lang/groovy/">
	  Groovy
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>GroovyでCollections#shuffleは既出(#6677)のようなので、
rubikitchさん(Ruby:#2256)のGroovy版で。
実質メソッド内はワンライナー。

--出力結果--
[1, 9, 3, 6, 7, 10, 2, 8, 4, 5]
[2, 3, 1]
[3, 2, 1]
[2, 1, 4, 3, 5, 7, 10, 8, 9, 6]
</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5
6
7</pre></td><td class="code"><div class="highlight"><pre>def bingo(n) {
   (1..n).toList().sort{ Math.random() }
}
println bingo(10)
println bingo(3)
println bingo(3)
println bingo(10)
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100309103155/http://ja.doukaku.org/comment/8494/addtag/" class="addtag" id="addtag_8494">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100309103155/http://ja.doukaku.org/lang/groovy/">
		Groovy
      </a>]
	  
      [<a href="/web/20100309103155/http://ja.doukaku.org/comment/8494/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100309103155/http://ja.doukaku.org/comment/8494/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8494"
  >-</span><span
  class="button yellow"
  id="rating_z_8494"
  >0</span><span 
  class="button green"
  id="rating_p_8494"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100309103155/http://ja.doukaku.org/46/reply_to/8494/">
  返信
  </a>]
  </div>
</div>
</div>




  


  







</div>

<div id="side_menu" class="compact">

<iframe src="/web/20100309103155if_/http://ja.doukaku.org/login_info/" frameborder=0 width=100% id="login_info">
iframe required
</iframe>

<h4 class="semi_compact">一覧</h4>

<ul>
<!--<li><a href="/web/20100309103155/http://ja.doukaku.org/user/">ユーザ</a>-->
<li><a href="/web/20100309103155/http://ja.doukaku.org/lang/">言語</a>
<li><a href="/web/20100309103155/http://ja.doukaku.org/challenge/">お題</a>
<li><a href="/web/20100309103155/http://ja.doukaku.org/topic/">トピック</a>
<li><a href="/web/20100309103155/http://ja.doukaku.org/comment/">投稿</a>
<li><a href="/web/20100309103155/http://ja.doukaku.org/good_comments/">評価の高い投稿</a>
<li><a href="/web/20100309103155/http://ja.doukaku.org/tag/">タグ</a>
</ul>

<h4 class="compact">フィード</h4>
<ul>
<li><a href="/web/20100309103155/http://ja.doukaku.org/feeds/challenges/">最新のお題</a><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/feed_icon.png">
<li><a href="/web/20100309103155/http://ja.doukaku.org/feeds/topics/">最新のトピック</a><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/feed_icon.png">
<li><a href="/web/20100309103155/http://ja.doukaku.org/feeds/comments/">新着投稿</a><img src="/web/20100309103155im_/http://ja.doukaku.org/static/image/feed_icon.png">
</ul>







<h4 class="compact">その他</h4>
<ul>
<li><a href="/web/20100309103155/http://ja.doukaku.org/qa/">Q&A</a>
<li><a href="/web/20100309103155/http://ja.doukaku.org/feedback/">フィードバック</a>
<!--<li><a href="/web/20100309103155/http://ja.doukaku.org/terms">用語集</a>-->
</ul>


<h4 class="compact">リンク</h4>
<ul>
<li><a href="/web/20100309103155/http://www.lingr.com/room/doukaku_ja">チャットルーム(Lingr)</a>
<li><a href="/web/20100309103155/http://labs.cybozu.co.jp/">サイボウズ・ラボ</a>
<li><a href="/web/20100309103155/http://www.djangoproject.com/">Django</a>
</ul>

<h4 id="pathtraq" class="compact"><a href="/web/20100309103155/http://pathtraq.com/analytics?url=http%3A%2F%2Fja.doukaku.org%2Fcomment%2F*%2F%20desc%3A%E3%81%A9%E3%81%86%E6%9B%B8%E3%81%8Forg&m=popular">Pathtraq</a></h4>
<div class="indent">
<span id="pathtraq_sentinel">loading...</span>
</div>


</div>
</div>


<div id="page_foot" class="bordered">

<a rel="license" href="/web/20100309103155/http://creativecommons.org/licenses/by/2.1/jp/">
<img alt="Creative Commons License" style="border-width:0" src="/web/20100309103155im_/http://i.creativecommons.org/l/by/2.1/jp/88x31.png" /></a>
このサイトの内容は、
<a rel="license" href="/web/20100309103155/http://creativecommons.org/licenses/by/2.1/jp/">クリエイティブ・コモンズ・ライセンス</a>の下でライセンスされています。
<a href="/web/20100309103155/http://ja.doukaku.org/qa/#licence">[詳細]</a>

</div>

</body>




<script type="text/javascript">
$(document).ready(function(){$("#doukaku_org").after("<script src='/web/20100309103155/http://api.pathtraq.com/pages?url=http%3A%2F%2Fja.doukaku.org%2Fcomment%2F*%2F%20desc%3A%E3%81%A9%E3%81%86%E6%9B%B8%E3%81%8Forg&api=json&callback=addPathtraq'><" + "/script>")});
</script>

<script src="/web/20100309103155js_/http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-2136157-1";
urchinTracker();
</script>




</html>





<!--
     FILE ARCHIVED ON 10:31:55 Mar 9, 2010 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 15:17:28 Nov 16, 2013.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
