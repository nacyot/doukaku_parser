
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja"> 
  <head>

<script type="text/javascript" src="/static/js/analytics.js" ></script>
<link type="text/css" rel="stylesheet" href="/static/css/banner-styles.css"/>




    <meta http-equiv="Content-type" content="text/html; charset=UTF-8" />
    <title>
逆転したビット列
どう書く？org </title>

    <link rel="stylesheet" type="text/css"
	href="/web/20101115103304cs_/http://ja.doukaku.org/static/style/reset-fonts-grids.css" />
    <link rel="stylesheet" type="text/css"
	href="/web/20101115103304cs_/http://ja.doukaku.org/static/style/style.css" />
	
    <link rel="stylesheet" type="text/css"
	href="/web/20101115103304cs_/http://ja.doukaku.org/static/style/pygments.css" />


	
    <!--<script src="/static/js/ieerbug/ieerbug.js" type="text/javascript"></script>-->


<script src="/web/20101115103304js_/http://ja.doukaku.org/static/js/jquery-1.1.3.1.js" type="text/javascript"></script>
<script src="/web/20101115103304js_/http://ja.doukaku.org/static/js/rating.js" type="text/javascript"></script>
<script src="/web/20101115103304js_/http://ja.doukaku.org/static/js/addtag.js" type="text/javascript"></script>

<script type="text/javascript">
is_key_navigation_enable = true;
</script>
<script src="/web/20101115103304js_/http://ja.doukaku.org/static/js/utils.js" type="text/javascript"></script>

</head>


<body id="doukaku_org">
<!-- BEGIN WAYBACK TOOLBAR INSERT -->
<script> if (window.archive_analytics) { window.archive_analytics.values['server_name']="wwwb-app11.us.archive.org";}; </script>

<script type="text/javascript" src="/static/js/disclaim-element.js" ></script>
<script type="text/javascript" src="/static/js/graph-calc.js" ></script>
<script type="text/javascript" src="/static/jflot/jquery.min.js" ></script>
<script type="text/javascript">
//<![CDATA[
var firstDate = 820454400000;
var lastDate = 1388534399999;
var wbPrefix = "/web/";
var wbCurrentUrl = "http:\/\/ja.doukaku.org\/61\/nested\/";

var curYear = -1;
var curMonth = -1;
var yearCount = 18;
var firstYear = 1996;
var imgWidth = 450;
var yearImgWidth = 25;
var monthImgWidth = 2;
var trackerVal = "none";
var displayDay = "15";
var displayMonth = "Nov";
var displayYear = "2010";
var prettyMonths = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];

function showTrackers(val) {
	if(val == trackerVal) {
		return;
	}
	if(val == "inline") {
		document.getElementById("displayYearEl").style.color = "#ec008c";
		document.getElementById("displayMonthEl").style.color = "#ec008c";
		document.getElementById("displayDayEl").style.color = "#ec008c";		
	} else {
		document.getElementById("displayYearEl").innerHTML = displayYear;
		document.getElementById("displayYearEl").style.color = "#ff0";
		document.getElementById("displayMonthEl").innerHTML = displayMonth;
		document.getElementById("displayMonthEl").style.color = "#ff0";
		document.getElementById("displayDayEl").innerHTML = displayDay;
		document.getElementById("displayDayEl").style.color = "#ff0";
	}
   document.getElementById("wbMouseTrackYearImg").style.display = val;
   document.getElementById("wbMouseTrackMonthImg").style.display = val;
   trackerVal = val;
}
function getElementX2(obj) {
	var thing = jQuery(obj);
	if((thing == undefined) 
			|| (typeof thing == "undefined") 
			|| (typeof thing.offset == "undefined")) {
		return getElementX(obj);
	}
	return Math.round(thing.offset().left);
}
function trackMouseMove(event,element) {

   var eventX = getEventX(event);
   var elementX = getElementX2(element);
   var xOff = eventX - elementX;
	if(xOff < 0) {
		xOff = 0;
	} else if(xOff > imgWidth) {
		xOff = imgWidth;
	}
   var monthOff = xOff % yearImgWidth;

   var year = Math.floor(xOff / yearImgWidth);
	var yearStart = year * yearImgWidth;
   var monthOfYear = Math.floor(monthOff / monthImgWidth);
   if(monthOfYear > 11) {
       monthOfYear = 11;
   }
   // 1 extra border pixel at the left edge of the year:
   var month = (year * 12) + monthOfYear;
   var day = 1;
	if(monthOff % 2 == 1) {
		day = 15;
	}
	var dateString = 
		zeroPad(year + firstYear) + 
		zeroPad(monthOfYear+1,2) +
		zeroPad(day,2) + "000000";

	var monthString = prettyMonths[monthOfYear];
	document.getElementById("displayYearEl").innerHTML = year + 1996;
	document.getElementById("displayMonthEl").innerHTML = monthString;
	// looks too jarring when it changes..
	//document.getElementById("displayDayEl").innerHTML = zeroPad(day,2);

	var url = wbPrefix + dateString + '/' +  wbCurrentUrl;
	document.getElementById('wm-graph-anchor').href = url;

   //document.getElementById("wmtbURL").value="evX("+eventX+") elX("+elementX+") xO("+xOff+") y("+year+") m("+month+") monthOff("+monthOff+") DS("+dateString+") Moy("+monthOfYear+") ms("+monthString+")";
   if(curYear != year) {
       var yrOff = year * yearImgWidth;
       document.getElementById("wbMouseTrackYearImg").style.left = yrOff + "px";
       curYear = year;
   }
   if(curMonth != month) {
       var mtOff = year + (month * monthImgWidth) + 1;
       document.getElementById("wbMouseTrackMonthImg").style.left = mtOff + "px";
       curMonth = month;
   }
}
//]]>
</script>

<style type="text/css">body{margin-top:0!important;padding-top:0!important;min-width:800px!important;}#wm-ipp a:hover{text-decoration:underline!important;}</style>
<div id="wm-ipp" lang="en" class="__wb_banner_div" style="display:none; position:relative;padding:0 5px;min-height:70px;min-width:800px">


<div id="wm-ipp-inside" class="__wb_banner_div" style="position:fixed;padding:0!important;margin:0!important;width:97%;min-width:780px;border:5px solid #000;border-top:none;background-image:url(/static/images/toolbar/wm_tb_bk_trns.png);text-align:center;-moz-box-shadow:1px 1px 3px #333;-webkit-box-shadow:1px 1px 3px #333;box-shadow:1px 1px 3px #333;font-size:11px!important;font-family:'Lucida Grande','Arial',sans-serif!important;">
   <table style="border-collapse:collapse;margin:0;padding:0;width:100%;"><tbody><tr>
   <td style="padding:10px;vertical-align:top;min-width:110px;">
   <a href="/web/" title="Wayback Machine home page" style="background-color:transparent;border:none;"><img src="/static/images/toolbar/wayback-toolbar-logo.png" alt="Wayback Machine" width="110" height="39" border="0"/></a>
   </td>
   <td style="padding:0!important;text-align:center;vertical-align:top;width:100%;">

       <table style="border-collapse:collapse;margin:0 auto;padding:0;width:570px;"><tbody><tr>
       <td style="padding:3px 0;" colspan="2">
       <form target="_top" method="get" action="/web/form-submit.jsp" name="wmtb" id="wmtb" style="margin:0!important;padding:0!important;"><input type="text" name="url" id="wmtbURL" value="http://ja.doukaku.org/61/nested/" style="width:400px;font-size:11px;font-family:'Lucida Grande','Arial',sans-serif;" onfocus="javascript:this.focus();this.select();" /><input type="hidden" name="type" value="replay" /><input type="hidden" name="date" value="20101115103304" /><input type="submit" value="Go" style="font-size:11px;font-family:'Lucida Grande','Arial',sans-serif;margin-left:5px;width: inherit !important" /><span id="wm_tb_options" style="display:block;"></span></form>
       </td>
       <td style="vertical-align:bottom;padding:5px 0 0 0!important;" rowspan="2">
           <table style="border-collapse:collapse;width:110px;color:#99a;font-family:'Helvetica','Lucida Grande','Arial',sans-serif;"><tbody>
			
           <!-- NEXT/PREV MONTH NAV AND MONTH INDICATOR -->
           <tr style="width:110px;height:16px;font-size:10px!important;">
           	<td style="padding-right:9px;font-size:11px!important;font-weight:bold;text-transform:uppercase;text-align:right;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
		                <a href="/web/20101005104633/http://ja.doukaku.org/61/nested/" style="text-decoration:none;color:#33f;font-weight:bold;background-color:transparent;border:none;" title="5 Oct 2010"><strong>OCT</strong></a>
		                
               </td>
               <td id="displayMonthEl" style="background:#000;color:#ff0;font-size:11px!important;font-weight:bold;text-transform:uppercase;width:34px;height:15px;padding-top:1px;text-align:center;" title="You are here: 10:33:04 Nov 15, 2010">NOV</td>
				<td style="padding-left:9px;font-size:11px!important;font-weight:bold;text-transform:uppercase;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       Dec
                       
               </td>
           </tr>

           <!-- NEXT/PREV CAPTURE NAV AND DAY OF MONTH INDICATOR -->
           <tr>
               <td style="padding-right:9px;white-space:nowrap;overflow:visible;text-align:right!important;vertical-align:middle!important;" nowrap="nowrap">
               
		                <a href="/web/20101005104633/http://ja.doukaku.org/61/nested/" title="10:46:33 Oct 5, 2010" style="background-color:transparent;border:none;"><img src="/static/images/toolbar/wm_tb_prv_on.png" alt="Previous capture" width="14" height="16" border="0" /></a>
		                
               </td>
               <td id="displayDayEl" style="background:#000;color:#ff0;width:34px;height:24px;padding:2px 0 0 0;text-align:center;font-size:24px;font-weight: bold;" title="You are here: 10:33:04 Nov 15, 2010">15</td>
				<td style="padding-left:9px;white-space:nowrap;overflow:visible;text-align:left!important;vertical-align:middle!important;" nowrap="nowrap">
               
                       <img src="/static/images/toolbar/wm_tb_nxt_off.png" alt="Next capture" width="14" height="16" border="0"/>
                       
			    </td>
           </tr>

           <!-- NEXT/PREV YEAR NAV AND YEAR INDICATOR -->
           <tr style="width:110px;height:13px;font-size:9px!important;">
				<td style="padding-right:9px;font-size:11px!important;font-weight: bold;text-align:right;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
		                <a href="/web/20090609110554/http://ja.doukaku.org/61/nested/" style="text-decoration:none;color:#33f;font-weight:bold;background-color:transparent;border:none;" title="9 Jun 2009"><strong>2009</strong></a>
		                
               </td>
               <td id="displayYearEl" style="background:#000;color:#ff0;font-size:11px!important;font-weight: bold;padding-top:1px;width:34px;height:13px;text-align:center;" title="You are here: 10:33:04 Nov 15, 2010">2010</td>
				<td style="padding-left:9px;font-size:11px!important;font-weight: bold;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       2011
                       
				</td>
           </tr>
           </tbody></table>
       </td>

       </tr>
       <tr>
       <td style="vertical-align:middle;padding:0!important;">
           <a href="/web/20101115103304*/http://ja.doukaku.org/61/nested/" style="color:#33f;font-size:11px;font-weight:bold;background-color:transparent;border:none;" title="See a list of every capture for this URL"><strong>11 captures</strong></a>
           <div class="__wb_banner_div" style="margin:0!important;padding:0!important;color:#666;font-size:9px;padding-top:2px!important;white-space:nowrap;" title="Timespan for captures of this URL">13 May 07 - 15 Nov 10</div>
       </td>
       <td style="padding:0!important;">
       <a style="position:relative; white-space:nowrap; width:450px;height:27px;" href="" id="wm-graph-anchor">
       <div class="__wb_banner_div" id="wm-ipp-sparkline" style="position:relative; white-space:nowrap; width:450px;height:27px;background-color:#fff;cursor:pointer;border-right:1px solid #ccc;" title="Explore captures for this URL">
			<img id="sparklineImgId" style="position:absolute; z-index:9012; top:0px; left:0px;"
				onmouseover="showTrackers('inline');" 
				onmouseout="showTrackers('none');"
				onmousemove="trackMouseMove(event,this)"
				alt="sparklines"
				width="450"
				height="27"
				border="0"
				src="/web/jsp/graph.jsp?graphdata=450_27_1996:-1:000000000000_1997:-1:000000000000_1998:-1:000000000000_1999:-1:000000000000_2000:-1:000000000000_2001:-1:000000000000_2002:-1:000000000000_2003:-1:000000000000_2004:-1:000000000000_2005:-1:000000000000_2006:-1:000000000000_2007:-1:000010000000_2008:-1:010100000000_2009:-1:000002000000_2010:10:000000002220_2011:-1:000000000000_2012:-1:000000000000_2013:-1:000000000000"></img>
			<img id="wbMouseTrackYearImg" 
				style="display:none; position:absolute; z-index:9010;"
				width="25" 
				height="27"
				border="0"
				src="/static/images/toolbar/transp-yellow-pixel.png"></img>
			<img id="wbMouseTrackMonthImg"
				style="display:none; position:absolute; z-index:9011; " 
				width="2"
				height="27" 
				border="0"
				src="/static/images/toolbar/transp-red-pixel.png"></img>
       </div>
		</a>

       </td>
       </tr></tbody></table>
   </td>
   <td style="text-align:right;padding:5px;width:65px;font-size:11px!important;">
       <a href="javascript:;" onclick="document.getElementById('wm-ipp').style.display='none';" style="display:block;padding-right:18px;background:url(/static/images/toolbar/wm_tb_close.png) no-repeat 100% 0;color:#33f;font-family:'Lucida Grande','Arial',sans-serif;margin-bottom:23px;background-color:transparent;border:none;" title="Close the toolbar">Close</a>
       <a href="http://faq.web.archive.org/" style="display:block;padding-right:18px;background:url(/static/images/toolbar/wm_tb_help.png) no-repeat 100% 0;color:#33f;font-family:'Lucida Grande','Arial',sans-serif;background-color:transparent;border:none;" title="Get some help using the Wayback Machine">Help</a>
   </td>
   </tr></tbody></table>

</div>
</div>
<script type="text/javascript">
 var wmDisclaimBanner = document.getElementById("wm-ipp");
 if(wmDisclaimBanner != null) {
   disclaimElement(wmDisclaimBanner);
 }
</script>
<!-- END WAYBACK TOOLBAR INSERT -->


<div id="page_head" class="compact">
  <h1 class="compact">
    <a href="/web/20101115103304/http://ja.doukaku.org/">どう書く？org</a><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/beta.png" alt="beta">
  </h1>
</div>

<div id="page_body" class="compact">
<div id="content" class="compact">




<h2 class="compact">
<img src='/web/20101115103304im_/http://ja.doukaku.org/static/image/star_gold.png' alt=challenge>
<a href="/web/20101115103304/http://ja.doukaku.org/61/">逆転したビット列</a>
</h2>

    




<div class="comment" id="comment3417"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/564/" target="_top">herumi</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3417/">#3417</a>(<script language="JavaScript">print_time(new Date("2007/09/17 14:17 GMT"));</script><noscript>2007/09/17 14:17 GMT</noscript>)
	
	
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  32以下の正の整数nが与えられた場合に、
0以上、2のn乗未満の整数を「ビット的に逆転したもの」のリストを
作成する関数を書いてください。
なお「ビット的に逆転」とはnotを使った反転ではなく、
「0001」を「1000」にするような処理を指すものとします。
<p>
n = 4の時には
[0, 8, 4, 12, 2, 10, 6, 14, 1, 9, 5, 13, 3, 11, 7, 15]
が正解です。
<p>
問題の理解を促すために上のリストを2進数表記で表示してみます。
<pre>
0000 0
1000 8
0100 4
1100 12
0010 2
1010 10
0110 6
1110 14
0001 1
1001 9
0101 5
1101 13
0011 3
1011 11
0111 7
1111 15
</pre>

n = 8などの場合のリストは音声のFFT演算でよく使わているそうです。
この問題は光成さんの投稿を元にしています。
ご協力ありがとうございました。

	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3417/addtag/" class="addtag" id="addtag_3417">タグ</a>:
	なし&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3417"
  >-</span><span
  class="button yellow"
  id="rating_z_3417"
  >0</span><span 
  class="button green"
  id="rating_p_3417"
  >+</span></span></span>
  
<p>

  

  

  [<a href="/web/20101115103304/http://reply_to/3417/">
  返信
  </a>]
  </div>
</div>
</div>



  



<div class="indent">
<a href="/web/20101115103304/http://ja.doukaku.org/61/post_comment/">
コメントを投稿する
</a>
</div>


<h2>投稿されたコメント - ネスト表示</h2>
<a href="/web/20101115103304/http://ja.doukaku.org/61/flatten/">フラット表示</a> 
<a href="/web/20101115103304/http://ja.doukaku.org/61/">非表示</a> 


  

  
    




<div class="comment" id="comment4847"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/380/" target="_top">vtwntmtn</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/4847/">#4847</a>(<script language="JavaScript">print_time(new Date("2007/12/16 15:55 GMT"));</script><noscript>2007/12/16 15:55 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/erlang/">
	  Erlang
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>色々整理してるうちにこうなってしまった…見づらいですね。

1&gt; c(reverse_bits).
{ok,reverse_bits}
2&gt; reverse_bits:reverse_bits(4).
[0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15]
</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5</pre></td><td class="code"><div class="highlight"><pre>-module(reverse_bits).
-import(lists, [map/2, seq/2, sum/1, zip/2]).
-export([reverse_bits/1]).

reverse_bits(Col) -&gt; [sum(map(fun({A, B}) -&gt; A bsl B end, zip(X, seq(0, length(X) - 1)))) || X &lt;- [[(Y bsr (Col - X)) rem 2 || X &lt;- seq(1, Col)] || Y &lt;- seq(0, (1 bsl Col) - 1)]].
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/4847/addtag/" class="addtag" id="addtag_4847">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/erlang/">
		Erlang
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/4847/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/4847/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_4847"
  >-</span><span
  class="button yellow"
  id="rating_z_4847"
  >0</span><span 
  class="button green"
  id="rating_p_4847"
  >+</span></span></span>
  
<p>

  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/4847/">
  返信
  </a>]
  </div>
</div>
</div>



  


  

  
    




<div class="comment" id="comment3046"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/405/" target="_top">mc</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3046/">#3046</a>(<script language="JavaScript">print_time(new Date("2007/09/17 16:38 GMT"));</script><noscript>2007/09/17 16:38 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/commonlisp/">
	  Common Lisp
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>すいません、真っ先に思い付いたのがこの方法でした^^;
ビット操作のものも考えてみたいと思います。

(reverse-bit-list 4) 
=&gt; (0 8 4 12 2 10 6 14 1 9 5 13 3 11 7 15)</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></td><td class="code"><div class="highlight"><pre>(defun reverse-bit-list (n)
  (mapcar (lambda (x) (reverse-bit x n))
	  (loop for i below (expt n 2) collect i)))

(defun reverse-bit (n lim)
  (let ((format-string (sconc &quot;~&quot; (princ-to-string lim) &quot;,&#39;0,B&quot;)))
    (values 
     (read-from-string 
      (sconc &quot;#b&quot; (reverse (format nil format-string n)))))))

(defun sconc (&amp;rest strs)
  (apply #&#39;concatenate &#39;string strs))
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3046/addtag/" class="addtag" id="addtag_3046">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/commonlisp/">
		Common Lisp
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3046/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3046/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3046"
  >-</span><span
  class="button yellow"
  id="rating_z_3046"
  >0</span><span 
  class="button green"
  id="rating_p_3046"
  >+</span></span></span>
  
<p>

  

  <a href="/web/20101115103304/http://ja.doukaku.org/comment/3046/">
    1
    reply
  </a>

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3046/">
  返信
  </a>]
  </div>
</div>
</div>



  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      




<div class="comment" id="comment3055"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/164/" target="_top">kozima</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3055/">#3055</a>(<script language="JavaScript">print_time(new Date("2007/09/17 23:28 GMT"));</script><noscript>2007/09/17 23:28 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/commonlisp/">
	  Common Lisp
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>なんとなく短縮してみました。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3</pre></td><td class="code"><div class="highlight"><pre>(defun reverse-bit-list (n)
  (loop for i below (expt n 2)
    collect (parse-integer (reverse (format nil &quot;~V,&#39;0,B&quot; n i)) :radix 2)))
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3055/addtag/" class="addtag" id="addtag_3055">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/commonlisp/">
		Common Lisp
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3055/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3055/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3055"
  >-</span><span
  class="button yellow"
  id="rating_z_3055"
  >0</span><span 
  class="button green"
  id="rating_p_3055"
  >+</span></span></span>
  
<p>

  
    <a href="/web/20101115103304/http://ja.doukaku.org/comment/3046/"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20101115103304/http://ja.doukaku.org/comment/3055/root/"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  <a href="/web/20101115103304/http://ja.doukaku.org/comment/3055/">
    2
    reply
  </a>

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3055/">
  返信
  </a>]
  </div>
</div>
</div>



  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      




<div class="comment" id="comment3057"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/164/" target="_top">kozima</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3057/">#3057</a>(<script language="JavaScript">print_time(new Date("2007/09/17 23:46 GMT"));</script><noscript>2007/09/17 23:46 GMT</noscript>)
	
	
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>何度もすみません。
expt の引数が逆みたいです。
n=4 だと 2^4=4^2=16 なので結果は正しいのですが。</pre>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3057/addtag/" class="addtag" id="addtag_3057">タグ</a>:
	なし&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3057"
  >-</span><span
  class="button yellow"
  id="rating_z_3057"
  >0</span><span 
  class="button green"
  id="rating_p_3057"
  >+</span></span></span>
  
<p>

  
    <a href="/web/20101115103304/http://ja.doukaku.org/comment/3055/"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20101115103304/http://ja.doukaku.org/comment/3057/root/"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  <a href="/web/20101115103304/http://ja.doukaku.org/comment/3057/">
    1
    reply
  </a>

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3057/">
  返信
  </a>]
  </div>
</div>
</div>



  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      




<div class="comment" id="comment3073"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/405/" target="_top">mc</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3073/">#3073</a>(<script language="JavaScript">print_time(new Date("2007/09/18 17:04 GMT"));</script><noscript>2007/09/18 17:04 GMT</noscript>)
	
	
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>すいません。元になった自分のプログラムが間違ってました^^;
formatの"~V"は便利ですね。とても勉強になりました!</pre>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3073/addtag/" class="addtag" id="addtag_3073">タグ</a>:
	なし&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3073"
  >-</span><span
  class="button yellow"
  id="rating_z_3073"
  >0</span><span 
  class="button green"
  id="rating_p_3073"
  >+</span></span></span>
  
<p>

  
    <a href="/web/20101115103304/http://ja.doukaku.org/comment/3057/"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20101115103304/http://ja.doukaku.org/comment/3073/root/"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3073/">
  返信
  </a>]
  </div>
</div>
</div>



  


    </div>
  


    </div>
  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      




<div class="comment" id="comment3056"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/164/" target="_top">kozima</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3056/">#3056</a>(<script language="JavaScript">print_time(new Date("2007/09/17 23:33 GMT"));</script><noscript>2007/09/17 23:33 GMT</noscript>)
	
	
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>reverse -&gt; nreverse にした方がちょっと効率よかったですね。</pre>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3056/addtag/" class="addtag" id="addtag_3056">タグ</a>:
	なし&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3056"
  >-</span><span
  class="button yellow"
  id="rating_z_3056"
  >0</span><span 
  class="button green"
  id="rating_p_3056"
  >+</span></span></span>
  
<p>

  
    <a href="/web/20101115103304/http://ja.doukaku.org/comment/3055/"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20101115103304/http://ja.doukaku.org/comment/3056/root/"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3056/">
  返信
  </a>]
  </div>
</div>
</div>



  


    </div>
  


    </div>
  


  

  
    




<div class="comment" id="comment6152"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/257/" target="_top">JDO</a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/6152/">#6152</a>(<script language="JavaScript">print_time(new Date("2008/04/07 15:08 GMT"));</script><noscript>2008/04/07 15:08 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/java/">
	  Java
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>ビットの反転操作を 2つのスタック間の ビットの移動 というふうに考えてみたんだ。
「ハノイの塔」 をご存知でしょうか。"ビット移動" のイメージはあんなかんじなんだ。

右と左の 2つのスタックがある。
左は空で、右には3ビットのビット列がある。たとえば、それが 001 がだったとする。

　　　　　　　　　0
　　　　　　　　　0
　　　　　　　　　1
　　　─────────
　　　　左　　　　右

これを 1 ビットずつ 右のスタックから左のスタックに移しかえるんだ。

★移動1回目

　　　　　　　　　0
　　　　0 　　　　1
　　　─────────
　　　　左　　　　右

★移動2回目

　　　　0
　　　　0 　　　　1
　　　─────────
　　　　左　　　　右

★移動3回目

　　　　1
　　　　0
　　　　0
　　　─────────
　　　　左　　　　右

3 ビットだから、3回移動すれば終わり。

これを 0,1,2,...,7 のそれぞれですれば、ほしい数列ができるってわけさ。

整数型 の変数で 単純にやればいいだけなんだけど、この考え方を強調する意味で、
オブジェクトとして定義してみたんだ。それが BitStack さ。だもんで Java になった。
大げさに見えるかもねぇ。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44</pre></td><td class="code"><div class="highlight"><pre><span class="k">class</span> <span class="nc">BitStack</span>
  <span class="o">{</span>
  <span class="k">private</span> <span class="kt">long</span> <span class="n">bits</span> <span class="o">=</span> <span class="mi">0</span> <span class="o">;</span>

  <span class="n">BitStack</span> <span class="o">(</span><span class="kt">long</span> <span class="n">bits</span><span class="o">)</span>
    <span class="o">{</span><span class="k">this</span><span class="o">.</span><span class="na">bits</span> <span class="o">=</span> <span class="n">bits</span> <span class="o">;}</span>

  <span class="kt">void</span> <span class="nf">push</span> <span class="o">(</span><span class="kt">int</span> <span class="n">bit</span><span class="o">)</span>
    <span class="o">{</span><span class="k">this</span><span class="o">.</span><span class="na">bits</span> <span class="o">=</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">bits</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span><span class="o">)</span> <span class="o">+</span> <span class="n">bit</span> <span class="o">;}</span>

  <span class="kt">int</span> <span class="nf">pop</span> <span class="o">()</span>
    <span class="o">{</span>
    <span class="kt">int</span> <span class="n">bit</span> <span class="o">=</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">bits</span> <span class="o">&amp;</span> <span class="mi">1L</span><span class="o">)</span> <span class="o">;</span>
    <span class="k">this</span><span class="o">.</span><span class="na">bits</span> <span class="o">=</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">bits</span> <span class="o">&gt;&gt;&gt;</span> <span class="mi">1</span><span class="o">)</span> <span class="o">;</span>
    <span class="k">return</span> <span class="n">bit</span> <span class="o">;</span>
    <span class="o">}</span>

  <span class="kt">long</span> <span class="nf">getValue</span> <span class="o">()</span>
    <span class="o">{</span><span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">bits</span> <span class="o">;}</span>
  <span class="o">}</span>


<span class="k">public</span> <span class="k">class</span> <span class="nc">Main</span>
  <span class="o">{</span>
  <span class="k">static</span> <span class="kt">int</span> <span class="n">N</span> <span class="o">=</span> <span class="mi">4</span> <span class="o">;</span>

  <span class="k">public</span> <span class="k">static</span> <span class="kt">void</span> <span class="nf">main</span> <span class="o">(</span><span class="n">String</span> <span class="o">[]</span> <span class="n">args</span><span class="o">)</span>
    <span class="o">{</span>
    <span class="kt">long</span> <span class="n">max</span> <span class="o">=</span> <span class="o">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">N</span><span class="o">)</span> <span class="o">;</span>

    <span class="k">for</span> <span class="o">(</span><span class="kt">long</span> <span class="err">右値</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="err">右値</span><span class="o">&lt;</span><span class="n">max</span><span class="o">;</span> <span class="o">++</span><span class="err">右値</span><span class="o">)</span>
      <span class="o">{</span>
      <span class="n">BitStack</span> <span class="err">右スタック</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BitStack</span> <span class="o">(</span><span class="err">右値</span><span class="o">)</span> <span class="o">;</span>
      <span class="n">BitStack</span> <span class="err">左スタック</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BitStack</span> <span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="o">;</span>

      <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">N</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span>
        <span class="o">{</span> <span class="err">左スタック</span> <span class="o">.</span><span class="na">push</span> <span class="o">(</span><span class="err">右スタック</span> <span class="o">.</span><span class="na">pop</span> <span class="o">())</span> <span class="o">;}</span>

      <span class="kt">long</span> <span class="err">左値</span> <span class="o">=</span> <span class="err">左スタック</span> <span class="o">.</span><span class="na">getValue</span> <span class="o">()</span> <span class="o">;</span>

      <span class="n">System</span><span class="o">.</span><span class="na">out</span> <span class="o">.</span><span class="na">println</span> <span class="o">(</span><span class="err">左値</span><span class="o">)</span> <span class="o">;</span>
      <span class="o">}</span>
    <span class="o">}</span>
  <span class="o">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/6152/addtag/" class="addtag" id="addtag_6152">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/java/">
		Java
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/6152/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/6152/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_6152"
  >-</span><span
  class="button yellow"
  id="rating_z_6152"
  >0</span><span 
  class="button green"
  id="rating_p_6152"
  >+</span></span></span>
  
<p>

  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/6152/">
  返信
  </a>]
  </div>
</div>
</div>



  


  

  

  
    




<div class="comment" id="comment3040"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/24/" target="_top">ココサブ</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3040/">#3040</a>(<script language="JavaScript">print_time(new Date("2007/09/17 15:36 GMT"));</script><noscript>2007/09/17 15:36 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/c/">
	  C
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>分割して逆転させています。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37</pre></td><td class="code"><div class="highlight"><pre><span class="cp">#include &lt;stdio.h&gt;</span>
<span class="cp">#include &lt;stdlib.h&gt;</span>
<span class="cp">#include &lt;math.h&gt;</span>

<span class="kt">int</span> <span class="nf">reverse_bits</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">number</span><span class="p">,</span> <span class="kt">int</span> <span class="n">size</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">size</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">size</span> <span class="o">&gt;&gt;=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="n">low</span>    <span class="o">=</span> <span class="n">number</span> <span class="o">&amp;</span> <span class="p">(</span><span class="kt">int</span><span class="p">)(</span><span class="n">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">size</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
        <span class="n">high</span>   <span class="o">=</span> <span class="n">number</span> <span class="o">&gt;&gt;</span> <span class="n">size</span><span class="p">;</span>
        <span class="n">low</span>    <span class="o">=</span> <span class="n">reverse_bits</span><span class="p">(</span><span class="n">low</span><span class="p">,</span> <span class="n">size</span><span class="p">);</span>
        <span class="n">high</span>   <span class="o">=</span> <span class="n">reverse_bits</span><span class="p">(</span><span class="n">high</span><span class="p">,</span> <span class="n">size</span><span class="p">);</span>
        <span class="n">number</span> <span class="o">=</span> <span class="n">high</span> <span class="o">|</span> <span class="p">(</span><span class="n">low</span> <span class="o">&lt;&lt;</span> <span class="n">size</span><span class="p">);</span>
    <span class="p">}</span>   

    <span class="k">return</span> <span class="n">number</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">two_n</span><span class="p">;</span>
    <span class="kt">int</span> <span class="o">*</span><span class="n">list</span><span class="p">;</span>

    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;n : &quot;</span><span class="p">);</span>
    <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">n</span><span class="p">);</span>
    <span class="n">two_n</span> <span class="o">=</span> <span class="n">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">n</span><span class="p">);</span> 
    <span class="n">list</span>  <span class="o">=</span> <span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="o">*</span><span class="n">list</span><span class="p">)</span> <span class="o">*</span> <span class="n">two_n</span><span class="p">);</span>

    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">two_n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">reverse_bits</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">n</span><span class="p">);</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">list</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
    <span class="p">}</span>
    
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3040/addtag/" class="addtag" id="addtag_3040">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/c/">
		C
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3040/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3040/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3040"
  >-</span><span
  class="button yellow"
  id="rating_z_3040"
  >0</span><span 
  class="button green"
  id="rating_p_3040"
  >+</span></span></span>
  
<p>

  

  <a href="/web/20101115103304/http://ja.doukaku.org/comment/3040/">
    1
    reply
  </a>

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3040/">
  返信
  </a>]
  </div>
</div>
</div>



  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      




<div class="comment" id="comment3044"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/24/" target="_top">ココサブ</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3044/">#3044</a>(<script language="JavaScript">print_time(new Date("2007/09/17 16:17 GMT"));</script><noscript>2007/09/17 16:17 GMT</noscript>)
	
	
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>これだとnが偶数じゃないと動かないか</pre>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3044/addtag/" class="addtag" id="addtag_3044">タグ</a>:
	なし&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3044"
  >-</span><span
  class="button yellow"
  id="rating_z_3044"
  >0</span><span 
  class="button green"
  id="rating_p_3044"
  >+</span></span></span>
  
<p>

  
    <a href="/web/20101115103304/http://ja.doukaku.org/comment/3040/"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20101115103304/http://ja.doukaku.org/comment/3044/root/"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3044/">
  返信
  </a>]
  </div>
</div>
</div>



  


    </div>
  


  

  
    




<div class="comment" id="comment3037"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/420/" target="_top">ぱみ</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3037/">#3037</a>(<script language="JavaScript">print_time(new Date("2007/09/17 15:20 GMT"));</script><noscript>2007/09/17 15:20 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/ruby/">
	  Ruby
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>こんな感じでどうでしょうか。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">reverse_list</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
  <span class="n">ret</span> <span class="o">=</span> <span class="o">[]</span>
  <span class="mi">0</span><span class="o">.</span><span class="n">upto</span><span class="p">(</span><span class="mi">2</span> <span class="o">**</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">i</span><span class="o">|</span>
    <span class="n">str</span> <span class="o">=</span> <span class="s2">&quot;%0</span><span class="si">#{</span><span class="n">n</span><span class="si">}</span><span class="s2">b&quot;</span> <span class="o">%</span> <span class="n">i</span>
    <span class="n">ret</span> <span class="o">&lt;&lt;</span> <span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sr">//</span><span class="p">)</span><span class="o">.</span><span class="n">reverse</span><span class="o">.</span><span class="n">join</span><span class="o">.</span><span class="n">to_i</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
  <span class="k">end</span>
  <span class="n">ret</span>
<span class="k">end</span>

<span class="nb">p</span> <span class="n">reverse_list</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="c1">#=&gt; [0, 8, 4, 12, 2, 10, 6, 14, 1, 9, 5, 13, 3, 11, 7, 15]</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3037/addtag/" class="addtag" id="addtag_3037">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/ruby/">
		Ruby
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3037/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3037/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3037"
  >-</span><span
  class="button yellow"
  id="rating_z_3037"
  >0</span><span 
  class="button green"
  id="rating_p_3037"
  >+</span></span></span>
  
<p>

  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3037/">
  返信
  </a>]
  </div>
</div>
</div>



  


  

  
    




<div class="comment" id="comment3050"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/190/" target="_top">fkmn</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3050/">#3050</a>(<script language="JavaScript">print_time(new Date("2007/09/17 16:55 GMT"));</script><noscript>2007/09/17 16:55 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/perl/">
	  Perl
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>もっといいやり方がありそう</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></td><td class="code"><div class="highlight"><pre><span class="k">sub </span><span class="nf">reverse_bin2dec</span> <span class="p">{</span>
    <span class="k">my</span> <span class="p">(</span> <span class="nv">$n</span><span class="p">,</span> <span class="nv">$len</span> <span class="p">)</span> <span class="o">=</span> <span class="nv">@_</span><span class="p">;</span>
    <span class="k">my</span> <span class="nv">$rev_bin</span> <span class="o">=</span> <span class="nb">unpack</span><span class="p">(</span> <span class="s">&quot;b&quot;</span> <span class="o">.</span> <span class="nv">$len</span><span class="p">,</span> <span class="nb">pack</span><span class="p">(</span> <span class="s">&quot;C&quot;</span><span class="p">,</span> <span class="nv">$n</span> <span class="p">)</span> <span class="p">);</span>
    <span class="k">return</span> <span class="nb">eval</span> <span class="s">&quot;0b&quot;</span> <span class="o">.</span> <span class="nv">$rev_bin</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">sub </span><span class="nf">reverse_bit_num_list</span> <span class="p">{</span>
    <span class="k">my</span> <span class="nv">$n</span> <span class="o">=</span> <span class="nb">shift</span><span class="p">;</span>
    <span class="k">return</span> <span class="nb">map</span> <span class="p">{</span> <span class="n">reverse_bin2dec</span><span class="p">(</span> <span class="nv">$_</span><span class="p">,</span> <span class="nv">$n</span> <span class="p">)</span> <span class="p">}</span> <span class="mi">0</span> <span class="o">..</span> <span class="p">(</span> <span class="mi">2</span><span class="o">**</span><span class="nv">$n</span> <span class="o">-</span> <span class="mi">1</span> <span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3050/addtag/" class="addtag" id="addtag_3050">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/perl/">
		Perl
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3050/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3050/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3050"
  >-</span><span
  class="button yellow"
  id="rating_z_3050"
  >0</span><span 
  class="button green"
  id="rating_p_3050"
  >+</span></span></span>
  
<p>

  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3050/">
  返信
  </a>]
  </div>
</div>
</div>



  


  

  
    




<div class="comment" id="comment4755"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/606/" target="_top">pooq</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/4755/">#4755</a>(<script language="JavaScript">print_time(new Date("2007/12/11 13:40 GMT"));</script><noscript>2007/12/11 13:40 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/j/">
	  J
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>2^n個の要素のリストを作ってしまうので,
大きなnは無理だと思いましたが、要素の数だけ
返すようにしてやってみるとこんな具合でした。

   rev_bit 4
0 8 4 12 2 10 6 14 1 9 5 13 3 11 7 15

   #rev_bit 20
1048576

   #rev_bit 22
4194304

   #rev_bit 24
|out of memory: rev_bit
|   #.|."1    #:i.2^y
</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="highlight"><pre>rev_bit=.3 :&#39;#.|.&quot;1#:i.2^y&#39;
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/4755/addtag/" class="addtag" id="addtag_4755">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/j/">
		J
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/4755/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/4755/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_4755"
  >-</span><span
  class="button yellow"
  id="rating_z_4755"
  >0</span><span 
  class="button green"
  id="rating_p_4755"
  >+</span></span></span>
  
<p>

  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/4755/">
  返信
  </a>]
  </div>
</div>
</div>



  


  

  
    




<div class="comment" id="comment5268"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/218/" target="_top">susu</a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/5268/">#5268</a>(<script language="JavaScript">print_time(new Date("2008/01/12 01:30 GMT"));</script><noscript>2008/01/12 01:30 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/ocaml/">
	  OCaml
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <p>List.initはExtLibにあります。自作も簡単ですが。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30</pre></td><td class="code"><div class="highlight"><pre><span class="c">(*がんばった版*)</span>
<span class="kr">let</span> <span class="kr">rec</span> <span class="n">rev</span>  <span class="n">res</span> <span class="n">w</span> <span class="n">n</span> <span class="k">=</span>
  <span class="kr">if</span> <span class="n">w</span><span class="k">&lt;</span><span class="mi">1</span> <span class="kr">then</span> <span class="n">res</span> <span class="kr">else</span>
  <span class="n">rev</span> <span class="k">((</span><span class="n">res</span> <span class="kr">lsl</span> <span class="mi">1</span><span class="k">)</span> <span class="kr">lor</span> <span class="k">(</span><span class="n">n</span> <span class="kr">land</span> <span class="mi">1</span><span class="k">))</span> <span class="k">(</span><span class="n">w</span><span class="k">-</span><span class="mi">1</span><span class="k">)</span> <span class="k">(</span><span class="n">n</span> <span class="kr">lsr</span> <span class="mi">1</span><span class="k">);;</span>
  
<span class="kr">let</span> <span class="n">make</span> <span class="n">n</span> <span class="k">=</span> <span class="n">Array</span><span class="k">.</span><span class="n">init</span> <span class="k">(</span><span class="mi">1</span> <span class="kr">lsl</span> <span class="n">n</span><span class="k">)</span> <span class="k">(</span><span class="n">rev</span> <span class="mi">0</span> <span class="n">n</span><span class="k">);;</span>


<span class="c">(*まねっこ版*)</span>
<span class="kr">open</span> <span class="n">Int32</span><span class="k">;;</span>
<span class="kr">let</span> <span class="n">rev32</span> <span class="n">width</span> <span class="n">n</span> <span class="k">=</span>
  <span class="kr">let</span> <span class="n">f</span> <span class="n">x</span> <span class="n">m1</span> <span class="n">m2</span> <span class="n">b</span> <span class="k">=</span>
    <span class="n">logor</span>
      <span class="k">(</span><span class="n">shift_right_logical</span> <span class="k">(</span><span class="n">logand</span> <span class="n">x</span> <span class="n">m1</span><span class="k">)</span>  <span class="n">b</span><span class="k">)</span>
      <span class="k">(</span><span class="n">shift_left</span> <span class="k">(</span><span class="n">logand</span> <span class="n">x</span> <span class="n">m2</span><span class="k">)</span> <span class="n">b</span><span class="k">)</span> <span class="kr">in</span>
  
  <span class="kr">let</span> <span class="n">x</span> <span class="k">=</span> <span class="k">(</span><span class="n">f</span><span class="k">(</span><span class="n">f</span><span class="k">(</span><span class="n">f</span><span class="k">(</span><span class="n">f</span> <span class="n">n</span>
    <span class="mi">0</span><span class="n">xAAAAAAAAl</span> <span class="mi">0</span><span class="n">x55555555l</span>  <span class="mi">1</span><span class="k">)</span>
    <span class="mi">0</span><span class="n">xCCCCCCCCl</span> <span class="mi">0</span><span class="n">x33333333l</span>  <span class="mi">2</span><span class="k">)</span>
    <span class="mi">0</span><span class="n">xF0F0F0F0l</span> <span class="mi">0</span><span class="n">x0F0F0F0Fl</span>  <span class="mi">4</span><span class="k">)</span>
    <span class="mi">0</span><span class="n">xFF00FF00l</span> <span class="mi">0</span><span class="n">x00FF00FFl</span>  <span class="mi">8</span><span class="k">)</span> <span class="kr">in</span>
    
  <span class="n">shift_right_logical</span>
    <span class="k">(</span><span class="n">logor</span>
      <span class="k">(</span><span class="n">shift_right_logical</span> <span class="n">x</span> <span class="mi">16</span><span class="k">)</span>
      <span class="k">(</span><span class="n">shift_left</span> <span class="n">x</span> <span class="mi">16</span><span class="k">)</span> <span class="k">)</span>
    <span class="k">(</span><span class="n">Sys</span><span class="k">.</span><span class="n">word_size</span><span class="k">-</span><span class="n">width</span><span class="k">);;</span>
    
<span class="kr">let</span> <span class="n">make32</span> <span class="n">n</span> <span class="k">=</span>
  <span class="n">Array</span><span class="k">.</span><span class="n">init</span> <span class="k">(</span><span class="mi">1</span> <span class="kr">lsl</span> <span class="n">n</span><span class="k">)</span> <span class="k">(</span><span class="kr">fun</span> <span class="n">i</span> <span class="k">-&gt;</span> <span class="n">rev32</span> <span class="n">n</span> <span class="k">(</span><span class="n">Int32</span><span class="k">.</span><span class="n">of_int</span> <span class="n">i</span><span class="k">));;</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/5268/addtag/" class="addtag" id="addtag_5268">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/ocaml/">
		OCaml
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/5268/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/5268/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5268"
  >-</span><span
  class="button yellow"
  id="rating_z_5268"
  >0</span><span 
  class="button green"
  id="rating_p_5268"
  >+</span></span></span>
  
<p>

  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/5268/">
  返信
  </a>]
  </div>
</div>
</div>



  


  

  
    




<div class="comment" id="comment3119"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/167/" target="_top">TGBT</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3119/">#3119</a>(<script language="JavaScript">print_time(new Date("2007/09/19 19:50 GMT"));</script><noscript>2007/09/19 19:50 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/other/">
	  Other
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #dfffdf;">2/2=1.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>CUDAを用いて実装。
CUDA特有の二段階並列実行による超並列処理（？）をやろうと思ったけど、振り分けがめんどくさい（いっそテーブルを作るのが吉なんだが）ので適当に投稿。

メモリ最適化とか投げまくり。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68</pre></td><td class="code"><div class="highlight"><pre>#include &lt;stdlib.h&gt;
#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#include &lt;math.h&gt;
#include &lt;unistd.h&gt;

#include &lt;cutil.h&gt;

// GPUの処理（blockを利用した並列処理）
__global__ void gpu(int *answer, int n)
{
  int k;
  int id = blockIdx.x;
  int ans = 0;
  for(k=0; k&lt;n; k++){
    ans &lt;&lt;= 1;
    ans += answer[id]&amp;1;
    answer[id] &gt;&gt;= 1;
  }
  answer[id] = ans;
}

// 関数呼び出し
int reverse_bit(int n)
{
  int i;
  int nn;
  CUT_DEVICE_INIT();

  nn = (int)pow(2.0f, (float)n);

  int *h_mem;
  int *d_mem;
  CUDA_SAFE_CALL(cudaMallocHost((void**)&amp;h_mem, sizeof(int)*nn));
  CUDA_SAFE_CALL(cudaMalloc((void**)&amp;d_mem, sizeof(int)*nn));
  for(i=0; i&lt;nn; i++){
    h_mem[i] = i;
  }

  CUDA_SAFE_CALL(cudaMemcpy(d_mem, h_mem, sizeof(int)*nn, cudaMemcpyHostToDevice));
  dim3 threads(1, 1, 1);
  dim3 grid(nn,1,1);
  gpu&lt;&lt;&lt; grid, threads &gt;&gt;&gt;(d_mem, n);
  CUDA_SAFE_CALL( cudaThreadSynchronize() );
  CUT_CHECK_ERROR(&quot;Kernel execution failed&quot;);
  CUDA_SAFE_CALL(cudaMemcpy(h_mem, d_mem, sizeof(int)*nn, cudaMemcpyDeviceToHost));

  // 回答表示
  for(i=0; i&lt;nn; i++){
    printf(&quot; %d&quot;, h_mem[i]);
  }
  printf(&quot;\n&quot;);

  CUDA_SAFE_CALL(cudaFree(d_mem));
  CUDA_SAFE_CALL(cudaFreeHost(h_mem));
  return 0;
}

int main(int argc, char** argv)
{
  if(argc!=2){
    printf(&quot;args: %s n\n&quot;, argv[0]);
    return -1;
  }
  int n = atoi(argv[1]);
  reverse_bit(n);
  return 0;
}
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3119/addtag/" class="addtag" id="addtag_3119">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/other/">
		Other
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3119/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3119/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #dfffdf;"
  >2/2=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3119"
  >-</span><span
  class="button yellow"
  id="rating_z_3119"
  >0</span><span 
  class="button green"
  id="rating_p_3119"
  >+</span></span></span>
  
<p>

  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3119/">
  返信
  </a>]
  </div>
</div>
</div>



  


  

  
    




<div class="comment" id="comment5284"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/648/" target="_top">carver</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/5284/">#5284</a>(<script language="JavaScript">print_time(new Date("2008/01/12 16:14 GMT"));</script><noscript>2008/01/12 16:14 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/other/">
	  Other
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <p>Mac OS X (PowerPC 32bit) アセンブリで。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95</pre></td><td class="code"><div class="highlight"><pre>        .machine ppc
        .globl _reverse_bits

;; void reverse_bits(unsigned int *result, unsigned int n);

MASK1 = 0xaaaaaaaa
MASK2 = 0x55555555
MASK3 = 0xcccccccc
MASK4 = 0x33333333
MASK5 = 0xf0f0f0f0
MASK6 = 0x0f0f0f0f
MASK7 = 0xff00ff00
MASK8 = 0x00ff00ff

;; r3: ビットを逆転した数値を入れる配列
;; r4: 32以下の正の整数 n
;; r5: n の二乗
;; r6: カウント
;; r7: ビットを逆転させる数
;; r8-10: ビット演算の作業用
;; r11-: ビットマスク
_reverse_bits:
        mullw   r5, r4, r4      ; n2 = n * n;
        li      r6, 0           ; i = 0;
        lis     r11, hi16(MASK1)
        addi    r11, r11, lo16(MASK1)
        lis     r12, hi16(MASK2)
        addi    r12, r12, lo16(MASK2)
        lis     r13, hi16(MASK3)
        addi    r13, r13, lo16(MASK3)
        lis     r14, hi16(MASK4)
        addi    r14, r14, lo16(MASK4)
        lis     r15, hi16(MASK5)
        addi    r15, r15, lo16(MASK5)
        lis     r16, hi16(MASK6)
        addi    r16, r16, lo16(MASK6)
        lis     r17, hi16(MASK7)
        addi    r17, r17, lo16(MASK7)
        lis     r18, hi16(MASK8)
        addi    r18, r18, lo16(MASK8)

        
loop:
        mr      r7, r6          ; x = i;

        ;; x = (x &amp; 0xaaaaaaaa) &gt;&gt; 1 | (x &amp; 0x55555555) &lt;&lt; 1;
        and     r8, r7, r11
        srwi    r8, r8, 1
        and     r9, r7, r12
        slwi    r9, r9, 1
        or      r10, r8, r9

        ;; x = (x &amp; 0xcccccccc) &gt;&gt; 2 | (x &amp; 0x33333333) &lt;&lt; 2;
        and     r8, r10, r13
        srwi    r8, r8, 2
        and     r9, r10, r14
        slwi    r9, r9, 2
        or      r10, r8, r9

        ;; x = (x &amp; 0xf0f0f0f0) &gt;&gt; 4 | (x &amp; 0x0f0f0f0f) &lt;&lt; 4;
        and     r8, r10, r15
        srwi    r8, r8, 4
        and     r9, r10, r16
        slwi    r9, r9, 4
        or      r10, r8, r9

        ;; x = (x &amp; 0xff00ff00) &gt;&gt; 8 | (x &amp; 0x00ff00ff) &lt;&lt; 8;
        and     r8, r10, r17
        srwi    r8, r8, 8
        and     r9, r10, r18
        slwi    r9, r9, 8
        or      r10, r8, r9

        ;; x = x &gt;&gt; 16 | x &lt;&lt; 16;
        srwi    r8, r10, 16
        slwi    r9, r10, 16
        or      r10, r8, r9

        ;; x = x &gt;&gt; (32 - n)
        li      r8, 32
        sub     r9, r8, r4
        srw     r10, r10, r9
        
        ;; 結果を代入
        stw     r10, 0(r3)      ; *result = x;
        addi    r3, r3, 4       ; result++;
        
        ;; 繰り返し
        addi    r6, r6, 1       ; i++;
        cmpl    cr7, r5, r6     ; n2 &gt; i
        bgt     cr7, loop

        ;; 終了
        li      r3, 0           ; return 0;
        blr
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/5284/addtag/" class="addtag" id="addtag_5284">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/other/">
		Other
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/5284/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/5284/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5284"
  >-</span><span
  class="button yellow"
  id="rating_z_5284"
  >0</span><span 
  class="button green"
  id="rating_p_5284"
  >+</span></span></span>
  
<p>

  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/5284/">
  返信
  </a>]
  </div>
</div>
</div>



  


  

  
    




<div class="comment" id="comment6535"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/6535/">#6535</a>(<script language="JavaScript">print_time(new Date("2008/06/18 03:23 GMT"));</script><noscript>2008/06/18 03:23 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/csharp/">
	  C#
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <p>1から32まで全部やると結構時間かかりますが・・・</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></td><td class="code"><div class="highlight"><pre>        <span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="err">逆転したビット列</span><span class="p">()</span>
        <span class="k">{</span>
            <span class="k">foreach</span> <span class="p">(</span><span class="n">var</span> <span class="n">n</span> <span class="k">in</span> <span class="n">Enumerable</span><span class="p">.</span><span class="n">Range</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">32</span><span class="p">))</span>
            <span class="k">{</span>
                <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;value:{0}&quot;</span><span class="p">,</span> <span class="n">n</span><span class="p">);</span>
                <span class="k">foreach</span> <span class="p">(</span><span class="n">var</span> <span class="n">s</span> <span class="k">in</span> <span class="n">Enumerable</span><span class="p">.</span><span class="n">Range</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">Math</span><span class="p">.</span><span class="n">Pow</span><span class="p">(</span><span class="m">2</span><span class="p">,</span> <span class="n">n</span><span class="p">)).</span><span class="n">Select</span><span class="p">(</span><span class="n">x</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="kt">string</span><span class="p">(</span><span class="n">Convert</span><span class="p">.</span><span class="n">ToString</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="m">2</span><span class="p">).</span><span class="n">PadLeft</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="sc">&#39;0&#39;</span><span class="p">).</span><span class="n">Reverse</span><span class="p">().</span><span class="n">ToArray</span><span class="p">())))</span>
                <span class="k">{</span>
                    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;{0} {1}&quot;</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">Convert</span><span class="p">.</span><span class="n">ToInt32</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="m">2</span><span class="p">));</span>
                <span class="k">}</span>
            <span class="k">}</span>

        <span class="k">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/6535/addtag/" class="addtag" id="addtag_6535">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/csharp/">
		C#
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/6535/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/6535/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_6535"
  >-</span><span
  class="button yellow"
  id="rating_z_6535"
  >0</span><span 
  class="button green"
  id="rating_p_6535"
  >+</span></span></span>
  
<p>

  

  <a href="/web/20101115103304/http://ja.doukaku.org/comment/6535/">
    1
    reply
  </a>

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/6535/">
  返信
  </a>]
  </div>
</div>
</div>



  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      




<div class="comment" id="comment6536"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/6536/">#6536</a>(<script language="JavaScript">print_time(new Date("2008/06/18 08:26 GMT"));</script><noscript>2008/06/18 08:26 GMT</noscript>)
	
	
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <p>intでは駄目でした。
longでないと・・・。</p>

	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/6536/addtag/" class="addtag" id="addtag_6536">タグ</a>:
	なし&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_6536"
  >-</span><span
  class="button yellow"
  id="rating_z_6536"
  >0</span><span 
  class="button green"
  id="rating_p_6536"
  >+</span></span></span>
  
<p>

  
    <a href="/web/20101115103304/http://ja.doukaku.org/comment/6535/"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20101115103304/http://ja.doukaku.org/comment/6536/root/"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/6536/">
  返信
  </a>]
  </div>
</div>
</div>



  


    </div>
  


  

  
    




<div class="comment" id="comment3077"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3077/">#3077</a>(<script language="JavaScript">print_time(new Date("2007/09/19 02:51 GMT"));</script><noscript>2007/09/19 02:51 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/python/">
	  Python
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'></pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
  <span class="n">r</span> <span class="o">=</span> <span class="p">[]</span>
  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="o">**</span><span class="n">n</span><span class="p">):</span>
    <span class="n">b</span> <span class="o">=</span> <span class="s">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">i</span> <span class="o">&amp;</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">j</span><span class="p">)</span> <span class="ow">and</span> <span class="s">&#39;1&#39;</span> <span class="ow">or</span> <span class="s">&#39;0&#39;</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)])</span>
    <span class="k">if</span> <span class="n">debug</span><span class="p">:</span>
      <span class="k">print</span> <span class="s">&#39;</span><span class="si">%s</span><span class="s"> </span><span class="si">%d</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
    <span class="n">r</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
  <span class="k">return</span> <span class="n">r</span>

<span class="k">print</span> <span class="n">f</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3077/addtag/" class="addtag" id="addtag_3077">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/python/">
		Python
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3077/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3077/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3077"
  >-</span><span
  class="button yellow"
  id="rating_z_3077"
  >0</span><span 
  class="button green"
  id="rating_p_3077"
  >+</span></span></span>
  
<p>

  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3077/">
  返信
  </a>]
  </div>
</div>
</div>



  


  

  
    




<div class="comment" id="comment3678"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3678/">#3678</a>(<script language="JavaScript">print_time(new Date("2007/11/02 20:44 GMT"));</script><noscript>2007/11/02 20:44 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/scheme/">
	  Scheme
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'></pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5
6
7
8</pre></td><td class="code"><div class="highlight"><pre><span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">reverse-bits-list</span> <span class="nv">n</span><span class="p">)</span>
  <span class="p">(</span><span class="k">let </span><span class="nv">loop</span> <span class="p">((</span><span class="nf">i</span> <span class="mi">0</span><span class="p">)</span>
             <span class="p">(</span><span class="nf">ret</span> <span class="o">&#39;</span><span class="p">(</span><span class="mi">0</span><span class="p">)))</span>
    <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nb">= </span><span class="nv">i</span> <span class="nv">n</span><span class="p">)</span>
      <span class="nv">ret</span>
      <span class="p">(</span><span class="k">let* </span><span class="p">((</span><span class="nf">even-lst</span> <span class="p">(</span><span class="nb">map </span><span class="p">(</span><span class="nf">cut</span> <span class="nv">*</span> <span class="mi">2</span> <span class="nv">&lt;&gt;</span><span class="p">)</span> <span class="nv">ret</span><span class="p">))</span>
             <span class="p">(</span><span class="nf">odd-lst</span> <span class="p">(</span><span class="nb">map </span><span class="p">(</span><span class="nf">cut</span> <span class="nv">+</span> <span class="mi">1</span> <span class="nv">&lt;&gt;</span><span class="p">)</span> <span class="nv">even-lst</span><span class="p">)))</span>
        <span class="p">(</span><span class="nf">loop</span> <span class="p">(</span><span class="nb">+ </span><span class="nv">i</span> <span class="mi">1</span><span class="p">)</span> <span class="p">(</span><span class="nb">append </span><span class="nv">even-lst</span> <span class="nv">odd-lst</span><span class="p">))))))</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3678/addtag/" class="addtag" id="addtag_3678">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/scheme/">
		Scheme
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3678/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3678/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3678"
  >-</span><span
  class="button yellow"
  id="rating_z_3678"
  >0</span><span 
  class="button green"
  id="rating_p_3678"
  >+</span></span></span>
  
<p>

  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3678/">
  返信
  </a>]
  </div>
</div>
</div>



  


  

  
    




<div class="comment" id="comment3872"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3872/">#3872</a>(<script language="JavaScript">print_time(new Date("2007/11/11 17:24 GMT"));</script><noscript>2007/11/11 17:24 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/nadesico/">
	  なでしこ
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  泥臭いですが
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></td><td class="code"><div class="highlight"><pre>表示(reverse_list(4))
●reverse_list(n)
　　sとは整数;bとは文字列;rとは整数;lとは配列
　　もし(n&gt;32)ならば;戻(&quot;&quot;)
　　sを0から((2^n)-1)まで繰り返す
　　　　b=&quot;&quot;;もし(s=0)ならば;b=&quot;0&quot;;違えば;(s&lt;&gt;0)間;b=b&amp;(s%2);s=INT(s/2)
　　　　(n-文字数(b))回;b=b&amp;&quot;0&quot;
　　　　r=0;文字列分解(b)で反復;r=r+(対象*2^(文字数(b)-回数))
　　　　l=l&amp;r&amp;改行
　　戻(l)
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3872/addtag/" class="addtag" id="addtag_3872">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/nadesico/">
		なでしこ
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3872/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3872/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3872"
  >-</span><span
  class="button yellow"
  id="rating_z_3872"
  >0</span><span 
  class="button green"
  id="rating_p_3872"
  >+</span></span></span>
  
<p>

  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3872/">
  返信
  </a>]
  </div>
</div>
</div>



  


  

  
    




<div class="comment" id="comment3052"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/343/" target="_top">shimakuma</a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3052/">#3052</a>(<script language="JavaScript">print_time(new Date("2007/09/17 18:45 GMT"));</script><noscript>2007/09/17 18:45 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/javascript/">
	  JavaScript
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  &nbsp;アレなど使わず強引に変換するものと，おとなしく使うもの。速度差は優に数十倍。<br/><br/>javascript:(function(q,p){do{p=(function(n){for(var&nbsp;r=[],i=n=Math.pow(2,n);i--;)r[i]=parseInt((n+i).toString(2).slice(1).split('').reverse().join(''),2);return&nbsp;r})(q)}while(q=prompt('n&nbsp;=&nbsp;'+q+'\n'+p,q))})(4)
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></td><td class="code"><div class="highlight"><pre><span class="k">function</span> <span class="nx">doukaku61</span><span class="p">(</span><span class="nx">n</span><span class="p">){</span>
  <span class="k">for</span><span class="p">(</span><span class="k">var</span> <span class="nx">r</span> <span class="o">=</span> <span class="p">[]</span><span class="o">,</span> <span class="nx">i</span> <span class="o">=</span> <span class="nx">n</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="mi">2</span><span class="o">,</span> <span class="nb">Number</span><span class="p">(</span><span class="nx">n</span><span class="p">));</span> <span class="nx">i</span><span class="o">--;</span><span class="p">)</span>
    <span class="nx">r</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">((</span><span class="nx">n</span> <span class="o">+</span> <span class="nx">i</span><span class="p">).</span><span class="nx">toString</span><span class="p">(</span><span class="mi">2</span><span class="p">).</span><span class="nx">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">).</span><span class="nx">reverse</span><span class="p">().</span><span class="nx">join</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">,</span> <span class="mi">2</span><span class="p">);</span>
  <span class="k">return</span> <span class="nx">r</span><span class="o">;</span>
<span class="p">}</span>

<span class="k">function</span> <span class="nx">doukaku61_</span><span class="p">(</span><span class="nx">n</span><span class="p">){</span>
  <span class="k">for</span><span class="p">(</span><span class="k">var</span> <span class="nx">r</span> <span class="o">=</span> <span class="p">[]</span><span class="o">,</span> <span class="nx">i</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="mi">2</span><span class="o">,</span> <span class="nx">n</span> <span class="o">=</span> <span class="nb">Number</span><span class="p">(</span><span class="nx">n</span><span class="p">))</span><span class="o">,</span> <span class="nx">k</span> <span class="o">=</span> <span class="mi">32</span> <span class="o">-</span> <span class="nx">n</span><span class="o">;</span> <span class="o">~</span><span class="p">(</span><span class="nx">n</span> <span class="o">=</span> <span class="o">--</span><span class="nx">i</span><span class="p">);){</span>
    <span class="nx">n</span> <span class="o">=</span> <span class="p">(</span><span class="nx">n</span> <span class="o">&amp;</span> <span class="mh">0xaaaaaaaa</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span> <span class="o">|</span> <span class="p">(</span><span class="nx">n</span> <span class="o">&amp;</span> <span class="mh">0x55555555</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span><span class="o">;</span>
    <span class="nx">n</span> <span class="o">=</span> <span class="p">(</span><span class="nx">n</span> <span class="o">&amp;</span> <span class="mh">0xcccccccc</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">2</span> <span class="o">|</span> <span class="p">(</span><span class="nx">n</span> <span class="o">&amp;</span> <span class="mh">0x33333333</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">2</span><span class="o">;</span>
    <span class="nx">n</span> <span class="o">=</span> <span class="p">(</span><span class="nx">n</span> <span class="o">&amp;</span> <span class="mh">0xf0f0f0f0</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">4</span> <span class="o">|</span> <span class="p">(</span><span class="nx">n</span> <span class="o">&amp;</span> <span class="mh">0x0f0f0f0f</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">4</span><span class="o">;</span>
    <span class="nx">n</span> <span class="o">=</span> <span class="p">(</span><span class="nx">n</span> <span class="o">&amp;</span> <span class="mh">0xff00ff00</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">8</span> <span class="o">|</span> <span class="p">(</span><span class="nx">n</span> <span class="o">&amp;</span> <span class="mh">0x00ff00ff</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span><span class="o">;</span>
    <span class="nx">n</span> <span class="o">=</span> <span class="nx">n</span> <span class="o">&gt;&gt;</span> <span class="mi">16</span> <span class="o">|</span> <span class="nx">n</span> <span class="o">&lt;&lt;</span> <span class="mi">16</span><span class="o">;</span>
    <span class="nx">r</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">n</span> <span class="o">&gt;&gt;&gt;</span> <span class="nx">k</span><span class="o">;</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">r</span><span class="o">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3052/addtag/" class="addtag" id="addtag_3052">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/javascript/">
		JavaScript
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3052/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3052/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3052"
  >-</span><span
  class="button yellow"
  id="rating_z_3052"
  >0</span><span 
  class="button green"
  id="rating_p_3052"
  >+</span></span></span>
  
<p>

  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3052/">
  返信
  </a>]
  </div>
</div>
</div>



  


  

  
    




<div class="comment" id="comment3702"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3702/">#3702</a>(<script language="JavaScript">print_time(new Date("2007/11/04 14:53 GMT"));</script><noscript>2007/11/04 14:53 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/cpp/">
	  C++
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <div class="section">
<p>reverse 関数で「ビット的に逆転した値を求める処理」を行っています。問題文に「32以下の正の整数n」とあったので、n&lt;=32 を前提として作成しました。</p>
<p></p>
<p>reverse 関数の内部 (return 以外の部分) では以下の処理を行っています：</p>
<p></p>
<ol>
<li>
 x の上位 16-bit と下位 16-bit を交換する。
</li>
<li>
 それぞれの 16-bit 値について、上位 8-bit と下位8-bit を交換する。
</li>
<li>
 それぞれの 8-bit 値について、上位 4-bit と下位 4-bit を交換する。
</li>
<li>
 それぞれの 4-bit 値について、上位 2-bit と下位 2-bit を交換する。
</li>
<li> それぞれの 2-bit 値について、上位 1-bit と下位 1-bit を交換する。</li>
</ol>
<p></p>
<p>これによって、32-bit 値の x が「ビット的に反転」されます。</p>
<p>最後の return の行では、x の上位 n-bit が下位 n-bit の位置に来るように移動しています。</p>
</div>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36</pre></td><td class="code"><div class="highlight"><pre><span class="cp">#include &lt;cmath&gt;</span>
<span class="cp">#include &lt;iostream&gt;</span>

<span class="c">// 32-bit 符号無し整数.</span>
<span class="k">typedef</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">uint32</span><span class="p">;</span>

<span class="c">// x の下位 n ビットを反転する.</span>
<span class="c">// Ex. x=3 (2進数で0011), n=4 の場合の戻り値は 12 (2進数で1100).</span>
<span class="n">uint32</span> <span class="n">reverse</span><span class="p">(</span><span class="n">uint32</span> <span class="n">x</span><span class="p">,</span> <span class="n">uint32</span> <span class="n">n</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">x</span> <span class="o">=</span> <span class="p">((</span><span class="n">x</span> <span class="o">&lt;&lt;</span> <span class="mi">16</span> <span class="o">&amp;</span> <span class="mh">0xFFFF0000</span><span class="p">))</span> <span class="o">|</span> <span class="p">((</span><span class="n">x</span> <span class="o">&gt;&gt;</span> <span class="mi">16</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x0000FFFF</span><span class="p">);</span>
    <span class="n">x</span> <span class="o">=</span> <span class="p">((</span><span class="n">x</span> <span class="o">&lt;&lt;</span>  <span class="mi">8</span> <span class="o">&amp;</span> <span class="mh">0xFF00FF00</span><span class="p">))</span> <span class="o">|</span> <span class="p">((</span><span class="n">x</span> <span class="o">&gt;&gt;</span>  <span class="mi">8</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x00FF00FF</span><span class="p">);</span>
    <span class="n">x</span> <span class="o">=</span> <span class="p">((</span><span class="n">x</span> <span class="o">&lt;&lt;</span>  <span class="mi">4</span> <span class="o">&amp;</span> <span class="mh">0xF0F0F0F0</span><span class="p">))</span> <span class="o">|</span> <span class="p">((</span><span class="n">x</span> <span class="o">&gt;&gt;</span>  <span class="mi">4</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x0F0F0F0F</span><span class="p">);</span>
    <span class="n">x</span> <span class="o">=</span> <span class="p">((</span><span class="n">x</span> <span class="o">&lt;&lt;</span>  <span class="mi">2</span> <span class="o">&amp;</span> <span class="mh">0xCCCCCCCC</span><span class="p">))</span> <span class="o">|</span> <span class="p">((</span><span class="n">x</span> <span class="o">&gt;&gt;</span>  <span class="mi">2</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x33333333</span><span class="p">);</span>
    <span class="n">x</span> <span class="o">=</span> <span class="p">((</span><span class="n">x</span> <span class="o">&lt;&lt;</span>  <span class="mi">1</span> <span class="o">&amp;</span> <span class="mh">0xAAAAAAAA</span><span class="p">))</span> <span class="o">|</span> <span class="p">((</span><span class="n">x</span> <span class="o">&gt;&gt;</span>  <span class="mi">1</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x55555555</span><span class="p">);</span>

    <span class="k">return</span> <span class="n">x</span> <span class="o">&gt;&gt;</span> <span class="p">(</span><span class="mi">32</span> <span class="o">-</span> <span class="n">n</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">generate</span><span class="p">(</span><span class="n">uint32</span> <span class="n">n</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">delimiter</span> <span class="o">=</span> <span class="s">&quot;&quot;</span><span class="p">;</span>

    <span class="k">for</span><span class="p">(</span><span class="n">uint32</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">n</span><span class="p">);</span> <span class="n">x</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">delimiter</span><span class="p">;</span>
        <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">reverse</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">n</span><span class="p">);</span>
        <span class="n">delimiter</span> <span class="o">=</span> <span class="s">&quot;, &quot;</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="n">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">generate</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3702/addtag/" class="addtag" id="addtag_3702">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/cpp/">
		C++
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3702/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3702/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3702"
  >-</span><span
  class="button yellow"
  id="rating_z_3702"
  >0</span><span 
  class="button green"
  id="rating_p_3702"
  >+</span></span></span>
  
<p>

  

  <a href="/web/20101115103304/http://ja.doukaku.org/comment/3702/">
    1
    reply
  </a>

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3702/">
  返信
  </a>]
  </div>
</div>
</div>



  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      




<div class="comment" id="comment3705"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3705/">#3705</a>(<script language="JavaScript">print_time(new Date("2007/11/04 22:22 GMT"));</script><noscript>2007/11/04 22:22 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/cpp/">
	  C++
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <div class="section">
<p>すみません。reverse 関数の中で括弧の付け方を間違えていました（優先順位を明示するためにつけたので、動作には問題ありませんが・・）。</p>
</div>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></td><td class="code"><div class="highlight"><pre><span class="c">// x の下位 n ビットを反転する.</span>
<span class="c">// Ex. x=3 (2進数で0011), n=4 の場合の戻り値は 12 (2進数で1100).</span>
<span class="n">uint32</span> <span class="n">reverse</span><span class="p">(</span><span class="n">uint32</span> <span class="n">x</span><span class="p">,</span> <span class="n">uint32</span> <span class="n">n</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">x</span> <span class="o">=</span> <span class="p">((</span><span class="n">x</span> <span class="o">&lt;&lt;</span> <span class="mi">16</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFFFF0000</span><span class="p">)</span> <span class="o">|</span> <span class="p">((</span><span class="n">x</span> <span class="o">&gt;&gt;</span> <span class="mi">16</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x0000FFFF</span><span class="p">);</span>
    <span class="n">x</span> <span class="o">=</span> <span class="p">((</span><span class="n">x</span> <span class="o">&lt;&lt;</span>  <span class="mi">8</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF00FF00</span><span class="p">)</span> <span class="o">|</span> <span class="p">((</span><span class="n">x</span> <span class="o">&gt;&gt;</span>  <span class="mi">8</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x00FF00FF</span><span class="p">);</span>
    <span class="n">x</span> <span class="o">=</span> <span class="p">((</span><span class="n">x</span> <span class="o">&lt;&lt;</span>  <span class="mi">4</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xF0F0F0F0</span><span class="p">)</span> <span class="o">|</span> <span class="p">((</span><span class="n">x</span> <span class="o">&gt;&gt;</span>  <span class="mi">4</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x0F0F0F0F</span><span class="p">);</span>
    <span class="n">x</span> <span class="o">=</span> <span class="p">((</span><span class="n">x</span> <span class="o">&lt;&lt;</span>  <span class="mi">2</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xCCCCCCCC</span><span class="p">)</span> <span class="o">|</span> <span class="p">((</span><span class="n">x</span> <span class="o">&gt;&gt;</span>  <span class="mi">2</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x33333333</span><span class="p">);</span>
    <span class="n">x</span> <span class="o">=</span> <span class="p">((</span><span class="n">x</span> <span class="o">&lt;&lt;</span>  <span class="mi">1</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xAAAAAAAA</span><span class="p">)</span> <span class="o">|</span> <span class="p">((</span><span class="n">x</span> <span class="o">&gt;&gt;</span>  <span class="mi">1</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x55555555</span><span class="p">);</span>

    <span class="k">return</span> <span class="n">x</span> <span class="o">&gt;&gt;</span> <span class="p">(</span><span class="mi">32</span> <span class="o">-</span> <span class="n">n</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3705/addtag/" class="addtag" id="addtag_3705">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/cpp/">
		C++
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3705/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3705/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3705"
  >-</span><span
  class="button yellow"
  id="rating_z_3705"
  >0</span><span 
  class="button green"
  id="rating_p_3705"
  >+</span></span></span>
  
<p>

  
    <a href="/web/20101115103304/http://ja.doukaku.org/comment/3702/"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20101115103304/http://ja.doukaku.org/comment/3705/root/"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3705/">
  返信
  </a>]
  </div>
</div>
</div>



  


    </div>
  


  

  
    




<div class="comment" id="comment3047"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/424/" target="_top">satooM</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3047/">#3047</a>(<script language="JavaScript">print_time(new Date("2007/09/17 16:40 GMT"));</script><noscript>2007/09/17 16:40 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/haskell/">
	  Haskell
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  何の変哲もありませんが。
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5
6
7</pre></td><td class="code"><div class="highlight"><pre><span class="nv">bitReverse</span> <span class="nv">n</span> <span class="o">=</span> <span class="nv">map</span> <span class="nv">bitReverse&#39;</span> <span class="p">[</span><span class="mi">0</span><span class="o">..</span><span class="mi">2</span><span class="o">^</span><span class="nv">n</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="kr">where</span>
  <span class="nv">toBinary</span> <span class="mi">0</span> <span class="o">=</span> <span class="p">[]</span>
  <span class="nv">toBinary</span> <span class="nv">k</span> <span class="o">=</span> <span class="kr">let</span> <span class="p">(</span><span class="nv">d</span><span class="p">,</span><span class="nv">m</span><span class="p">)</span> <span class="o">=</span> <span class="nv">divMod</span> <span class="nv">k</span> <span class="mi">2</span> <span class="kr">in</span> <span class="nv">m</span><span class="o">:</span><span class="nv">toBinary</span> <span class="nv">d</span>

  <span class="nv">bitReverse&#39;</span> <span class="o">=</span> <span class="nv">sum</span>
              <span class="o">.</span> <span class="nv">zipWith</span> <span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="p">[</span><span class="mi">2</span><span class="o">^</span><span class="nv">r</span> <span class="o">|</span> <span class="nv">r</span> <span class="o">&lt;-</span> <span class="nv">reverse</span> <span class="p">[</span><span class="mi">0</span><span class="o">..</span><span class="nv">n</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
              <span class="o">.</span> <span class="nv">toBinary</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3047/addtag/" class="addtag" id="addtag_3047">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/haskell/">
		Haskell
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3047/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3047/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3047"
  >-</span><span
  class="button yellow"
  id="rating_z_3047"
  >0</span><span 
  class="button green"
  id="rating_p_3047"
  >+</span></span></span>
  
<p>

  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3047/">
  返信
  </a>]
  </div>
</div>
</div>



  


  

  

  

  
    




<div class="comment" id="comment3049"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3049/">#3049</a>(<script language="JavaScript">print_time(new Date("2007/09/17 16:54 GMT"));</script><noscript>2007/09/17 16:54 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/haskell/">
	  Haskell
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>ハッカーのたのしみ(isbn:4434046683)に乗っている方法で書いてみました。
シフト演算子(&gt;&gt;)や(&lt;&lt;)がMonad用に使われてしまっているのが、残念な所です。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></td><td class="code"><div class="highlight"><pre><span class="kr">import</span> <span class="n">Data</span><span class="o">.</span><span class="n">Word</span>
<span class="kr">import</span> <span class="n">Data</span><span class="o">.</span><span class="n">Bits</span>
<span class="kr">import</span> <span class="n">Control</span><span class="o">.</span><span class="n">Applicative</span>

<span class="nv">revbit</span> <span class="o">::</span> <span class="n">Int</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="n">Word32</span><span class="p">]</span>
<span class="nv">revbit</span> <span class="nv">n</span> <span class="o">=</span> <span class="p">(</span><span class="nv">flip</span> <span class="nv">shiftR</span> <span class="p">(</span><span class="mi">32</span><span class="o">-</span><span class="nv">n</span><span class="p">))</span><span class="o">.</span><span class="nv">revword</span> <span class="o">&lt;$&gt;</span> <span class="p">[</span><span class="mi">0</span><span class="o">..</span><span class="p">(</span><span class="mi">2</span><span class="o">^</span><span class="nv">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)]</span> 
    <span class="kr">where</span>
    <span class="nv">revword</span> <span class="o">=</span> <span class="p">(</span><span class="o">\</span><span class="nv">x</span> <span class="o">-&gt;</span> <span class="nv">shiftL</span> <span class="p">(</span><span class="nv">x</span> <span class="o">.&amp;.</span> <span class="mh">0x55555555</span><span class="p">)</span> <span class="mi">1</span>  <span class="o">.|.</span> <span class="nv">shiftR</span> <span class="p">(</span><span class="nv">x</span> <span class="o">.&amp;.</span> <span class="mh">0xAAAAAAAA</span><span class="p">)</span> <span class="mi">1</span><span class="p">)</span>
            <span class="o">.</span> <span class="p">(</span><span class="o">\</span><span class="nv">x</span> <span class="o">-&gt;</span> <span class="nv">shiftL</span> <span class="p">(</span><span class="nv">x</span> <span class="o">.&amp;.</span> <span class="mh">0x33333333</span><span class="p">)</span> <span class="mi">2</span>  <span class="o">.|.</span> <span class="nv">shiftR</span> <span class="p">(</span><span class="nv">x</span> <span class="o">.&amp;.</span> <span class="mh">0xCCCCCCCC</span><span class="p">)</span> <span class="mi">2</span><span class="p">)</span>
            <span class="o">.</span> <span class="p">(</span><span class="o">\</span><span class="nv">x</span> <span class="o">-&gt;</span> <span class="nv">shiftL</span> <span class="p">(</span><span class="nv">x</span> <span class="o">.&amp;.</span> <span class="mh">0x0F0F0F0F</span><span class="p">)</span> <span class="mi">4</span>  <span class="o">.|.</span> <span class="nv">shiftR</span> <span class="p">(</span><span class="nv">x</span> <span class="o">.&amp;.</span> <span class="mh">0xF0F0F0F0</span><span class="p">)</span> <span class="mi">4</span><span class="p">)</span>
            <span class="o">.</span> <span class="p">(</span><span class="o">\</span><span class="nv">x</span> <span class="o">-&gt;</span> <span class="nv">shiftL</span> <span class="p">(</span><span class="nv">x</span> <span class="o">.&amp;.</span> <span class="mh">0x00FF00FF</span><span class="p">)</span> <span class="mi">8</span>  <span class="o">.|.</span> <span class="nv">shiftR</span> <span class="p">(</span><span class="nv">x</span> <span class="o">.&amp;.</span> <span class="mh">0xFF00FF00</span><span class="p">)</span> <span class="mi">8</span><span class="p">)</span>
            <span class="o">.</span> <span class="p">(</span><span class="o">\</span><span class="nv">x</span> <span class="o">-&gt;</span> <span class="nv">shiftL</span> <span class="nv">x</span> <span class="mi">16</span> <span class="o">.|.</span> <span class="nv">shiftR</span> <span class="nv">x</span> <span class="mi">16</span><span class="p">)</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3049/addtag/" class="addtag" id="addtag_3049">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/haskell/">
		Haskell
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3049/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3049/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3049"
  >-</span><span
  class="button yellow"
  id="rating_z_3049"
  >0</span><span 
  class="button green"
  id="rating_p_3049"
  >+</span></span></span>
  
<p>

  

  <a href="/web/20101115103304/http://ja.doukaku.org/comment/3049/">
    2
    reply
  </a>

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3049/">
  返信
  </a>]
  </div>
</div>
</div>



  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      




<div class="comment" id="comment3064"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/98/" target="_top">nobsun</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3064/">#3064</a>(<script language="JavaScript">print_time(new Date("2007/09/18 01:22 GMT"));</script><noscript>2007/09/18 01:22 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/haskell/">
	  Haskell
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>Control.Applicative は使わずに(といいつつ、starlingなぞを定義してますが。。。)
revword の定義に \x -&gt; がならんでいるのはちょっとあれなので。。。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></td><td class="code"><div class="highlight"><pre><span class="kr">import</span> <span class="n">Data</span><span class="o">.</span><span class="n">Word</span>
<span class="kr">import</span> <span class="n">Data</span><span class="o">.</span><span class="n">Bits</span>
<span class="kr">import</span> <span class="n">Prelude</span> <span class="nv">hiding</span> <span class="p">((</span><span class="o">&gt;&gt;</span><span class="p">))</span>

<span class="nv">starling</span> <span class="o">::</span> <span class="p">(</span><span class="nv">a</span> <span class="o">-&gt;</span> <span class="nv">b</span> <span class="o">-&gt;</span> <span class="nv">c</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="nv">a</span> <span class="o">-&gt;</span> <span class="nv">b</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="nv">a</span> <span class="o">-&gt;</span> <span class="nv">c</span><span class="p">)</span>
<span class="nv">starling</span> <span class="nv">f</span> <span class="nv">g</span> <span class="nv">x</span> <span class="o">=</span> <span class="p">(</span><span class="nv">f</span> <span class="nv">x</span><span class="p">)</span> <span class="p">(</span><span class="nv">g</span> <span class="nv">x</span><span class="p">)</span>

<span class="p">(</span><span class="o">&gt;&gt;</span><span class="p">),(</span><span class="o">&lt;&lt;</span><span class="p">)</span> <span class="o">::</span> <span class="n">Bits</span> <span class="nv">a</span> <span class="o">=&gt;</span> <span class="nv">a</span> <span class="o">-&gt;</span> <span class="n">Int</span> <span class="o">-&gt;</span> <span class="nv">a</span>
<span class="p">(</span><span class="o">&gt;&gt;</span><span class="p">)</span> <span class="o">=</span> <span class="nv">shiftR</span>
<span class="p">(</span><span class="o">&lt;&lt;</span><span class="p">)</span> <span class="o">=</span> <span class="nv">shiftL</span>

<span class="nv">revbit</span> <span class="o">::</span> <span class="n">Int</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="n">Word32</span><span class="p">]</span>
<span class="nv">revbit</span> <span class="nv">n</span> <span class="o">=</span> <span class="nv">map</span> <span class="p">((</span><span class="o">&gt;&gt;</span> <span class="p">(</span><span class="mi">32</span><span class="o">-</span><span class="nv">n</span><span class="p">))</span> <span class="o">.</span> <span class="nv">revword</span><span class="p">)</span> <span class="p">[</span><span class="mi">0</span><span class="o">..</span><span class="p">(</span><span class="mi">2</span><span class="o">^</span><span class="nv">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)]</span> 

<span class="nv">revword</span> 
 <span class="o">=</span> <span class="nv">starling</span> <span class="p">((</span><span class="o">.|.</span><span class="p">)</span> <span class="o">.</span> <span class="p">(</span><span class="o">&lt;&lt;</span>  <span class="mi">1</span><span class="p">)</span> <span class="o">.</span> <span class="p">(</span><span class="o">.&amp;.</span> <span class="mh">0x55555555</span><span class="p">))</span> <span class="p">((</span><span class="o">&gt;&gt;</span>  <span class="mi">1</span><span class="p">)</span> <span class="o">.</span> <span class="p">(</span><span class="o">.&amp;.</span> <span class="mh">0xAAAAAAAA</span><span class="p">))</span>
 <span class="o">.</span> <span class="nv">starling</span> <span class="p">((</span><span class="o">.|.</span><span class="p">)</span> <span class="o">.</span> <span class="p">(</span><span class="o">&lt;&lt;</span>  <span class="mi">2</span><span class="p">)</span> <span class="o">.</span> <span class="p">(</span><span class="o">.&amp;.</span> <span class="mh">0x33333333</span><span class="p">))</span> <span class="p">((</span><span class="o">&gt;&gt;</span>  <span class="mi">2</span><span class="p">)</span> <span class="o">.</span> <span class="p">(</span><span class="o">.&amp;.</span> <span class="mh">0xCCCCCCCC</span><span class="p">))</span>
 <span class="o">.</span> <span class="nv">starling</span> <span class="p">((</span><span class="o">.|.</span><span class="p">)</span> <span class="o">.</span> <span class="p">(</span><span class="o">&lt;&lt;</span>  <span class="mi">4</span><span class="p">)</span> <span class="o">.</span> <span class="p">(</span><span class="o">.&amp;.</span> <span class="mh">0x0F0F0F0F</span><span class="p">))</span> <span class="p">((</span><span class="o">&gt;&gt;</span>  <span class="mi">4</span><span class="p">)</span> <span class="o">.</span> <span class="p">(</span><span class="o">.&amp;.</span> <span class="mh">0xF0F0F0F0</span><span class="p">))</span>
 <span class="o">.</span> <span class="nv">starling</span> <span class="p">((</span><span class="o">.|.</span><span class="p">)</span> <span class="o">.</span> <span class="p">(</span><span class="o">&lt;&lt;</span>  <span class="mi">8</span><span class="p">)</span> <span class="o">.</span> <span class="p">(</span><span class="o">.&amp;.</span> <span class="mh">0x00FF00FF</span><span class="p">))</span> <span class="p">((</span><span class="o">&gt;&gt;</span>  <span class="mi">8</span><span class="p">)</span> <span class="o">.</span> <span class="p">(</span><span class="o">.&amp;.</span> <span class="mh">0xFF00FF00</span><span class="p">))</span>
 <span class="o">.</span> <span class="nv">starling</span> <span class="p">((</span><span class="o">.|.</span><span class="p">)</span> <span class="o">.</span> <span class="p">(</span><span class="o">&lt;&lt;</span> <span class="mi">16</span><span class="p">))</span> <span class="p">((</span><span class="o">&gt;&gt;</span> <span class="mi">16</span><span class="p">))</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3064/addtag/" class="addtag" id="addtag_3064">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/haskell/">
		Haskell
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3064/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3064/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3064"
  >-</span><span
  class="button yellow"
  id="rating_z_3064"
  >0</span><span 
  class="button green"
  id="rating_p_3064"
  >+</span></span></span>
  
<p>

  
    <a href="/web/20101115103304/http://ja.doukaku.org/comment/3049/"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20101115103304/http://ja.doukaku.org/comment/3064/root/"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  <a href="/web/20101115103304/http://ja.doukaku.org/comment/3064/">
    1
    reply
  </a>

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3064/">
  返信
  </a>]
  </div>
</div>
</div>



  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      




<div class="comment" id="comment3065"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/98/" target="_top">nobsun</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3065/">#3065</a>(<script language="JavaScript">print_time(new Date("2007/09/18 03:17 GMT"));</script><noscript>2007/09/18 03:17 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/haskell/">
	  Haskell
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>Control.Applicative をつかってさらにリファクタリング
</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></td><td class="code"><div class="highlight"><pre><span class="kr">import</span> <span class="n">Control</span><span class="o">.</span><span class="n">Applicative</span>
<span class="kr">import</span> <span class="n">Data</span><span class="o">.</span><span class="n">Word</span>
<span class="kr">import</span> <span class="n">Data</span><span class="o">.</span><span class="n">Bits</span>
<span class="kr">import</span> <span class="n">Prelude</span> <span class="nv">hiding</span> <span class="p">((</span><span class="o">&gt;&gt;</span><span class="p">))</span>

<span class="p">(</span><span class="o">&gt;&gt;</span><span class="p">),(</span><span class="o">&lt;&lt;</span><span class="p">)</span> <span class="o">::</span> <span class="n">Bits</span> <span class="nv">a</span> <span class="o">=&gt;</span> <span class="nv">a</span> <span class="o">-&gt;</span> <span class="n">Int</span> <span class="o">-&gt;</span> <span class="nv">a</span>
<span class="p">(</span><span class="o">&gt;&gt;</span><span class="p">)</span> <span class="o">=</span> <span class="nv">shiftR</span>
<span class="p">(</span><span class="o">&lt;&lt;</span><span class="p">)</span> <span class="o">=</span> <span class="nv">shiftL</span>

<span class="nv">revbit</span> <span class="o">::</span> <span class="n">Int</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="n">Word32</span><span class="p">]</span>
<span class="nv">revbit</span> <span class="nv">n</span> <span class="o">=</span> <span class="p">(</span><span class="o">&gt;&gt;</span> <span class="p">(</span><span class="mi">32</span><span class="o">-</span><span class="nv">n</span><span class="p">))</span> <span class="o">.</span> <span class="nv">revword</span> <span class="o">&lt;$&gt;</span> <span class="p">[</span><span class="mi">0</span><span class="o">..</span><span class="p">(</span><span class="mi">2</span><span class="o">^</span><span class="nv">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)]</span> 

<span class="nv">revword</span> <span class="o">::</span> <span class="n">Word32</span> <span class="o">-&gt;</span> <span class="n">Word32</span>
<span class="nv">revword</span> <span class="o">=</span> <span class="nv">foldr</span> <span class="p">(</span><span class="o">.</span><span class="p">)</span> <span class="nv">id</span> <span class="o">$</span> <span class="nv">map</span> <span class="nv">step</span> <span class="p">[</span><span class="mi">0</span><span class="o">..</span><span class="mi">4</span><span class="p">]</span>

<span class="nv">step</span> <span class="o">::</span> <span class="n">Int</span> <span class="o">-&gt;</span> <span class="n">Word32</span> <span class="o">-&gt;</span> <span class="n">Word32</span>
<span class="nv">step</span> <span class="nv">i</span> <span class="o">=</span> <span class="p">(</span><span class="o">.|.</span><span class="p">)</span> <span class="o">.</span> <span class="p">(</span><span class="o">&lt;&lt;</span> <span class="nv">i2</span><span class="p">)</span> <span class="o">.</span> <span class="p">(</span><span class="o">.&amp;.</span> <span class="nv">pat</span><span class="p">)</span> <span class="o">&lt;*&gt;</span> <span class="p">(</span><span class="o">&gt;&gt;</span> <span class="nv">i2</span><span class="p">)</span> <span class="o">.</span> <span class="p">(</span><span class="o">.&amp;.</span> <span class="nv">complement</span> <span class="nv">pat</span><span class="p">)</span>
  <span class="kr">where</span> <span class="nv">i2</span> <span class="o">=</span> <span class="mi">2</span><span class="o">^</span><span class="nv">i</span>
        <span class="nv">pat</span> <span class="o">=</span> <span class="nv">pats</span> <span class="o">!!</span> <span class="nv">i</span>

<span class="nv">pats</span> <span class="o">::</span> <span class="p">[</span><span class="n">Word32</span><span class="p">]</span>
<span class="nv">pats</span> <span class="o">=</span> <span class="p">[</span><span class="mh">0x55555555</span><span class="p">,</span><span class="mh">0x33333333</span><span class="p">,</span><span class="mh">0x0f0f0f0f</span><span class="p">,</span><span class="mh">0x00ff00ff</span><span class="p">,</span><span class="mh">0x0000ffff</span><span class="p">]</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3065/addtag/" class="addtag" id="addtag_3065">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/haskell/">
		Haskell
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3065/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3065/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3065"
  >-</span><span
  class="button yellow"
  id="rating_z_3065"
  >0</span><span 
  class="button green"
  id="rating_p_3065"
  >+</span></span></span>
  
<p>

  
    <a href="/web/20101115103304/http://ja.doukaku.org/comment/3064/"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20101115103304/http://ja.doukaku.org/comment/3065/root/"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3065/">
  返信
  </a>]
  </div>
</div>
</div>



  


    </div>
  


    </div>
  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      




<div class="comment" id="comment3061"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/98/" target="_top">nobsun</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3061/">#3061</a>(<script language="JavaScript">print_time(new Date("2007/09/18 00:36 GMT"));</script><noscript>2007/09/18 00:36 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/haskell/">
	  Haskell
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>Preludeのimport を明示して、(&gt;&gt;)をhiding すれば
(&gt;&gt;)をシフト演算子として使えます。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></td><td class="code"><div class="highlight"><pre><span class="kr">import</span> <span class="n">Data</span><span class="o">.</span><span class="n">Word</span>
<span class="kr">import</span> <span class="n">Data</span><span class="o">.</span><span class="n">Bits</span>
<span class="kr">import</span> <span class="n">Control</span><span class="o">.</span><span class="n">Applicative</span>
<span class="kr">import</span> <span class="n">Prelude</span> <span class="nv">hiding</span> <span class="p">((</span><span class="o">&gt;&gt;</span><span class="p">))</span>

<span class="p">(</span><span class="o">&gt;&gt;</span><span class="p">),(</span><span class="o">&lt;&lt;</span><span class="p">)</span> <span class="o">::</span> <span class="n">Bits</span> <span class="nv">a</span> <span class="o">=&gt;</span> <span class="nv">a</span> <span class="o">-&gt;</span> <span class="n">Int</span> <span class="o">-&gt;</span> <span class="nv">a</span>
<span class="p">(</span><span class="o">&gt;&gt;</span><span class="p">)</span> <span class="o">=</span> <span class="nv">shiftR</span>
<span class="p">(</span><span class="o">&lt;&lt;</span><span class="p">)</span> <span class="o">=</span> <span class="nv">shiftL</span>

<span class="nv">revbit</span> <span class="o">::</span> <span class="n">Int</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="n">Word32</span><span class="p">]</span>
<span class="nv">revbit</span> <span class="nv">n</span> <span class="o">=</span> <span class="p">(</span><span class="nv">flip</span> <span class="nv">shiftR</span> <span class="p">(</span><span class="mi">32</span><span class="o">-</span><span class="nv">n</span><span class="p">))</span><span class="o">.</span><span class="nv">revword</span> <span class="o">&lt;$&gt;</span> <span class="p">[</span><span class="mi">0</span><span class="o">..</span><span class="p">(</span><span class="mi">2</span><span class="o">^</span><span class="nv">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)]</span> 
    <span class="kr">where</span>
    <span class="nv">revword</span> <span class="o">=</span> <span class="p">(</span><span class="o">\</span><span class="nv">x</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="nv">x</span> <span class="o">.&amp;.</span> <span class="mh">0x55555555</span><span class="p">)</span> <span class="o">&lt;&lt;</span>  <span class="mi">1</span> <span class="o">.|.</span> <span class="p">(</span><span class="nv">x</span> <span class="o">.&amp;.</span> <span class="mh">0xAAAAAAAA</span><span class="p">)</span> <span class="o">&gt;&gt;</span>  <span class="mi">1</span><span class="p">)</span>
            <span class="o">.</span> <span class="p">(</span><span class="o">\</span><span class="nv">x</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="nv">x</span> <span class="o">.&amp;.</span> <span class="mh">0x33333333</span><span class="p">)</span> <span class="o">&lt;&lt;</span>  <span class="mi">2</span> <span class="o">.|.</span> <span class="p">(</span><span class="nv">x</span> <span class="o">.&amp;.</span> <span class="mh">0xCCCCCCCC</span><span class="p">)</span> <span class="o">&gt;&gt;</span>  <span class="mi">2</span><span class="p">)</span>
            <span class="o">.</span> <span class="p">(</span><span class="o">\</span><span class="nv">x</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="nv">x</span> <span class="o">.&amp;.</span> <span class="mh">0x0F0F0F0F</span><span class="p">)</span> <span class="o">&lt;&lt;</span>  <span class="mi">4</span> <span class="o">.|.</span> <span class="p">(</span><span class="nv">x</span> <span class="o">.&amp;.</span> <span class="mh">0xF0F0F0F0</span><span class="p">)</span> <span class="o">&gt;&gt;</span>  <span class="mi">4</span><span class="p">)</span>
            <span class="o">.</span> <span class="p">(</span><span class="o">\</span><span class="nv">x</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="nv">x</span> <span class="o">.&amp;.</span> <span class="mh">0x00FF00FF</span><span class="p">)</span> <span class="o">&lt;&lt;</span>  <span class="mi">8</span> <span class="o">.|.</span> <span class="p">(</span><span class="nv">x</span> <span class="o">.&amp;.</span> <span class="mh">0xFF00FF00</span><span class="p">)</span> <span class="o">&gt;&gt;</span>  <span class="mi">8</span><span class="p">)</span>
            <span class="o">.</span> <span class="p">(</span><span class="o">\</span><span class="nv">x</span> <span class="o">-&gt;</span> <span class="nv">x</span> <span class="o">&lt;&lt;</span> <span class="mi">16</span> <span class="o">.|.</span> <span class="nv">x</span> <span class="o">&gt;&gt;</span> <span class="mi">16</span><span class="p">)</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3061/addtag/" class="addtag" id="addtag_3061">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/haskell/">
		Haskell
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3061/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3061/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3061"
  >-</span><span
  class="button yellow"
  id="rating_z_3061"
  >0</span><span 
  class="button green"
  id="rating_p_3061"
  >+</span></span></span>
  
<p>

  
    <a href="/web/20101115103304/http://ja.doukaku.org/comment/3049/"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20101115103304/http://ja.doukaku.org/comment/3061/root/"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  <a href="/web/20101115103304/http://ja.doukaku.org/comment/3061/">
    1
    reply
  </a>

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3061/">
  返信
  </a>]
  </div>
</div>
</div>



  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      




<div class="comment" id="comment3062"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/98/" target="_top">nobsun</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3062/">#3062</a>(<script language="JavaScript">print_time(new Date("2007/09/18 00:53 GMT"));</script><noscript>2007/09/18 00:53 GMT</noscript>)
	
	
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>おっと一箇所わすれた。
revbit n = (&gt;&gt; (32-n)).revword &lt;$&gt; [0..(2^n - 1)] </pre>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3062/addtag/" class="addtag" id="addtag_3062">タグ</a>:
	なし&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3062"
  >-</span><span
  class="button yellow"
  id="rating_z_3062"
  >0</span><span 
  class="button green"
  id="rating_p_3062"
  >+</span></span></span>
  
<p>

  
    <a href="/web/20101115103304/http://ja.doukaku.org/comment/3061/"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20101115103304/http://ja.doukaku.org/comment/3062/root/"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3062/">
  返信
  </a>]
  </div>
</div>
</div>



  


    </div>
  


    </div>
  


  

  
    




<div class="comment" id="comment3588"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3588/">#3588</a>(<script language="JavaScript">print_time(new Date("2007/10/30 06:38 GMT"));</script><noscript>2007/10/30 06:38 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/r/">
	  R
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>&gt; foo(4)
 [1]  0  8  4 12  2 10  6 14  1  9  5 13  3 11  7 15
</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></td><td class="code"><div class="highlight"><pre>foo &lt;- function(n) {
    x &lt;- numeric(n)
    sapply (0:(2^n-1), function(i) {
    for (j in 1:n) {
        x[j] &lt;- i%%2
        i &lt;- i%/%2
    }
    sum(x*2^((n-1):0))
    })
}
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3588/addtag/" class="addtag" id="addtag_3588">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/r/">
		R
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3588/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3588/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3588"
  >-</span><span
  class="button yellow"
  id="rating_z_3588"
  >0</span><span 
  class="button green"
  id="rating_p_3588"
  >+</span></span></span>
  
<p>

  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3588/">
  返信
  </a>]
  </div>
</div>
</div>



  


  

  
    




<div class="comment" id="comment3053"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/348/" target="_top">naoya_t</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3053/">#3053</a>(<script language="JavaScript">print_time(new Date("2007/09/17 19:03 GMT"));</script><noscript>2007/09/17 19:03 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/awk/">
	  awk
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>n=32まで対応することを考えると、（配列などに記憶せずに）１つずつ演算して吐き出していくのがよさそう。
これとは別に
function gyakuten(n, i,j,cnt)
{
	x[0] = 0
	cnt = 1

	for (j=1; j&lt;=n; j++) {
		printf("[%d]\n", j)
		for (i=cnt-1; i&gt;=0; i--) {
			x[i*2]   = x[i]
			x[i*2+1] = x[i] + cnt
		}
		cnt *= 2
	}
	return cnt
}
のようなやり方も思いついたのだけれど、これは結果を配列に保持し、
全てが出来るまで表示しないので n が大きいと結果が出るまでに長い沈黙があります。
（n≦20ぐらいまでなら何とか使い物になるでしょう）
% awk -f gyakuten.awk -v n=4
[0, 8, 4, 12, 2, 10, 6, 14, 1, 9, 5, 13, 3, 11, 7, 15]
% awk -f gyakuten.awk -v n=8
[0, 128, 64, 192, 32, ... ,127, 255]</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></td><td class="code"><div class="highlight"><pre>BEGIN {
	if (n &lt; 1 || 32 &lt; n) {
		print &quot;1≦n≦32 でよろしく&quot;
		exit
	}

	printf &quot;[&quot;
	cnt = 2 ** n
	for (i=0; i&lt;cnt; i++) {
		x = i
		s = 0
		for (j=0; j&lt;n; j++) {
			s *= 2
			if (x % 2 != 0) s++
			x = int(x/2)
		}
		if (i &gt; 0) printf &quot;, &quot;
		printf(&quot;%s&quot;, s) # %dでも%uでも 2^31 以上が正しく表示されなかったので
	}
	printf &quot;]\n&quot;
	exit
}
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3053/addtag/" class="addtag" id="addtag_3053">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/awk/">
		awk
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3053/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3053/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3053"
  >-</span><span
  class="button yellow"
  id="rating_z_3053"
  >0</span><span 
  class="button green"
  id="rating_p_3053"
  >+</span></span></span>
  
<p>

  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3053/">
  返信
  </a>]
  </div>
</div>
</div>



  


  

  
    




<div class="comment" id="comment3107"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3107/">#3107</a>(<script language="JavaScript">print_time(new Date("2007/09/19 14:15 GMT"));</script><noscript>2007/09/19 14:15 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/scheme/">
	  Scheme
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>あれ？string-&gt;numberが強調されません。R5RSだと思いますが。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3</pre></td><td class="code"><div class="highlight"><pre><span class="p">(</span><span class="nf">use</span> <span class="nv">srfi-13</span><span class="p">)</span>
<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">rev</span> <span class="nv">n</span> <span class="nv">i</span><span class="p">)</span> <span class="p">(</span><span class="nb">string-&gt;number </span><span class="p">(</span><span class="nf">string-reverse</span> <span class="p">(</span><span class="nf">string-pad</span> <span class="p">(</span><span class="nb">number-&gt;string </span><span class="nv">i</span> <span class="mi">2</span><span class="p">)</span> <span class="nv">n</span> <span class="sc">#\0</span><span class="p">))</span> <span class="mi">2</span><span class="p">))</span>
<span class="p">(</span><span class="nf">dotimes</span> <span class="p">(</span><span class="nf">i</span> <span class="mi">16</span><span class="p">)</span> <span class="p">(</span><span class="nf">print</span> <span class="p">(</span><span class="nf">rev</span> <span class="mi">4</span> <span class="nv">i</span><span class="p">)))</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3107/addtag/" class="addtag" id="addtag_3107">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/scheme/">
		Scheme
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3107/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3107/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3107"
  >-</span><span
  class="button yellow"
  id="rating_z_3107"
  >0</span><span 
  class="button green"
  id="rating_p_3107"
  >+</span></span></span>
  
<p>

  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3107/">
  返信
  </a>]
  </div>
</div>
</div>



  


  

  
    




<div class="comment" id="comment3058"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/164/" target="_top">kozima</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3058/">#3058</a>(<script language="JavaScript">print_time(new Date("2007/09/17 23:49 GMT"));</script><noscript>2007/09/17 23:49 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/commonlisp/">
	  Common Lisp
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>再帰。
効率は思ったほどは悪くないようで。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5</pre></td><td class="code"><div class="highlight"><pre>(defun reverse-bit-list (n)
  (if (= n 1) (list 0 1)
    (let ((list (reverse-bit-list (1- n))))
      (append (mapcar (lambda (x) (* x 2)) list)
              (mapcar (lambda (x) (1+ (* x 2))) list)))))
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3058/addtag/" class="addtag" id="addtag_3058">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/commonlisp/">
		Common Lisp
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3058/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3058/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3058"
  >-</span><span
  class="button yellow"
  id="rating_z_3058"
  >0</span><span 
  class="button green"
  id="rating_p_3058"
  >+</span></span></span>
  
<p>

  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3058/">
  返信
  </a>]
  </div>
</div>
</div>



  


  

  

  
    




<div class="comment" id="comment9550"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/959/" target="_top">uehaj</a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/9550/">#9550</a>(<script language="JavaScript">print_time(new Date("2009/09/02 09:30 GMT"));</script><noscript>2009/09/02 09:30 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/groovy/">
	  Groovy
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <p>あってるかな。トップビットが立ってるとintの範囲に入らないところが引っかけ？ですね。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5</pre></td><td class="code"><div class="highlight"><pre>n = args[0] as int

for (int i=0; i&lt;2**n; i++) {
  println(Long.parseLong((&#39;0&#39;*n + Integer.toBinaryString(i)).reverse().substring(0,n), 2))
}
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/9550/addtag/" class="addtag" id="addtag_9550">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/groovy/">
		Groovy
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/9550/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/9550/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_9550"
  >-</span><span
  class="button yellow"
  id="rating_z_9550"
  >0</span><span 
  class="button green"
  id="rating_p_9550"
  >+</span></span></span>
  
<p>

  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/9550/">
  返信
  </a>]
  </div>
</div>
</div>



  


  

  
    




<div class="comment" id="comment3587"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3587/">#3587</a>(<script language="JavaScript">print_time(new Date("2007/10/30 06:36 GMT"));</script><noscript>2007/10/30 06:36 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/other/">
	  Other
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>&gt; foo(4)
 [1]  0  8  4 12  2 10  6 14  1  9  5 13  3 11  7 15
</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></td><td class="code"><div class="highlight"><pre>foo &lt;- function(n) {
    x &lt;- numeric(n)
    sapply (0:(2^n-1), function(i) {
    for (j in 1:n) {
        x[j] &lt;- i%%2
        i &lt;- i%/%2
    }
    sum(x*2^((n-1):0))
    })
}
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3587/addtag/" class="addtag" id="addtag_3587">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/other/">
		Other
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3587/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3587/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3587"
  >-</span><span
  class="button yellow"
  id="rating_z_3587"
  >0</span><span 
  class="button green"
  id="rating_p_3587"
  >+</span></span></span>
  
<p>

  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3587/">
  返信
  </a>]
  </div>
</div>
</div>



  


  

  
    




<div class="comment" id="comment3315"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/304/" target="_top">[1..100]&amp;gt;&amp;gt;=pen</a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3315/">#3315</a>(<script language="JavaScript">print_time(new Date("2007/10/13 10:58 GMT"));</script><noscript>2007/10/13 10:58 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/haskell/">
	  Haskell
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #dfffdf;">2/2=1.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'></pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5
6
7</pre></td><td class="code"><div class="highlight"><pre><span class="nv">bitReverseLists</span> <span class="o">=</span> <span class="nv">map</span> <span class="nv">snd</span> <span class="o">$</span> <span class="nv">iterate</span> <span class="nv">f</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="kr">where</span>
  <span class="nv">f</span> <span class="p">(</span><span class="nv">m</span><span class="p">,</span> <span class="nv">xs</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="nv">m</span><span class="p">,</span> <span class="nv">xs</span> <span class="o">&gt;&gt;=</span> <span class="p">(</span><span class="o">\</span><span class="nv">x</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="nv">x</span><span class="p">,</span> <span class="nv">x</span><span class="o">+</span><span class="nv">m</span><span class="p">]))</span>

<span class="cm">{-</span>
<span class="cm">*Main&gt; bitReverseLists !! 4</span>
<span class="cm">[0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15]</span>
<span class="cm">-}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3315/addtag/" class="addtag" id="addtag_3315">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/haskell/">
		Haskell
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3315/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3315/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #dfffdf;"
  >2/2=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3315"
  >-</span><span
  class="button yellow"
  id="rating_z_3315"
  >0</span><span 
  class="button green"
  id="rating_p_3315"
  >+</span></span></span>
  
<p>

  

  <a href="/web/20101115103304/http://ja.doukaku.org/comment/3315/">
    1
    reply
  </a>

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3315/">
  返信
  </a>]
  </div>
</div>
</div>



  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      




<div class="comment" id="comment3316"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/304/" target="_top">[1..100]&amp;gt;&amp;gt;=pen</a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3316/">#3316</a>(<script language="JavaScript">print_time(new Date("2007/10/13 11:14 GMT"));</script><noscript>2007/10/13 11:14 GMT</noscript>)
	
	
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>投稿した後に気づいたのですが #3038 の xsdさんのと同じ漸化式（関係？）使ってました。
iterate使って書いたとこが Haskellらしいかと。
</pre>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3316/addtag/" class="addtag" id="addtag_3316">タグ</a>:
	なし&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3316"
  >-</span><span
  class="button yellow"
  id="rating_z_3316"
  >0</span><span 
  class="button green"
  id="rating_p_3316"
  >+</span></span></span>
  
<p>

  
    <a href="/web/20101115103304/http://ja.doukaku.org/comment/3315/"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20101115103304/http://ja.doukaku.org/comment/3316/root/"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3316/">
  返信
  </a>]
  </div>
</div>
</div>



  


    </div>
  


  

  

  
    




<div class="comment" id="comment6149"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/570/" target="_top">horiuchi</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/6149/">#6149</a>(<script language="JavaScript">print_time(new Date("2008/04/07 08:35 GMT"));</script><noscript>2008/04/07 08:35 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/other/">
	  Other
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  4 REV_BITS_LIST で n=4の場合が実行できます。
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></td><td class="code"><div class="highlight"><pre>: REV_BITS ( n size -- m , m is reverse bits of n )
0 -ROT
BEGIN
  OVER 0 &gt;
WHILE
  1 - OVER 1 AND
  OVER LSHIFT -ROT
  2SWAP + -ROT
  SWAP 1 RSHIFT SWAP
REPEAT
2DROP ;

: REV_BITS_LIST ( n -- , the reverse bits number list 0 to 2^n-1 )
1 OVER LSHIFT 0  DO I OVER REV_BITS . LOOP ;
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/6149/addtag/" class="addtag" id="addtag_6149">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/other/">
		Other
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/6149/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/6149/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_6149"
  >-</span><span
  class="button yellow"
  id="rating_z_6149"
  >0</span><span 
  class="button green"
  id="rating_p_6149"
  >+</span></span></span>
  
<p>

  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/6149/">
  返信
  </a>]
  </div>
</div>
</div>



  


  

  

  
    




<div class="comment" id="comment3880"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/26/" target="_top">dankogai</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3880/">#3880</a>(<script language="JavaScript">print_time(new Date("2007/11/11 23:04 GMT"));</script><noscript>2007/11/11 23:04 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/perl/">
	  Perl
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #dfffdf;">2/2=1.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>黒魔術一つ入りマース
Dan the One-Liner Monger</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></td><td class="code"><div class="highlight"><pre><span class="nv">%</span> <span class="nv">perl</span> <span class="o">-</span><span class="ow">le</span> <span class="s">&#39;$b=shift;for(0..2**$b-1){print eval(&quot;0b&quot;.reverse substr(unpack(&quot;B32&quot;,pack&quot;N&quot;,$_),32-$b,$b))}&#39;</span> <span class="mi">4</span>
<span class="mi">0</span>
<span class="mi">8</span>
<span class="mi">4</span>
<span class="mi">12</span>
<span class="mi">2</span>
<span class="mi">10</span>
<span class="mi">6</span>
<span class="mi">14</span>
<span class="mi">1</span>
<span class="mi">9</span>
<span class="mi">5</span>
<span class="mi">13</span>
<span class="mi">3</span>
<span class="mi">11</span>
<span class="mi">7</span>
<span class="mi">15</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3880/addtag/" class="addtag" id="addtag_3880">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/perl/">
		Perl
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3880/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3880/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #dfffdf;"
  >2/2=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3880"
  >-</span><span
  class="button yellow"
  id="rating_z_3880"
  >0</span><span 
  class="button green"
  id="rating_p_3880"
  >+</span></span></span>
  
<p>

  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3880/">
  返信
  </a>]
  </div>
</div>
</div>



  


  

  
    




<div class="comment" id="comment3068"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/440/" target="_top">はやみず</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3068/">#3068</a>(<script language="JavaScript">print_time(new Date("2007/09/18 08:55 GMT"));</script><noscript>2007/09/18 08:55 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/scheme/">
	  Scheme
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  論理演算(ash, logand) はR5RSにはないようです。Gaucheには組み込み関数として用意されています。
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></td><td class="code"><div class="highlight"><pre><span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">bit-inversed-list</span> <span class="nv">n</span><span class="p">)</span>
  <span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">inverse-num</span> <span class="nv">width</span> <span class="nv">num</span><span class="p">)</span>
    <span class="p">(</span><span class="k">let </span><span class="nv">loop</span><span class="p">((</span><span class="nf">ret</span> <span class="mi">0</span><span class="p">)</span> <span class="p">(</span><span class="nf">num</span> <span class="nv">num</span><span class="p">)</span> <span class="p">(</span><span class="nf">width</span> <span class="nv">width</span><span class="p">))</span>
      <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nb">= </span><span class="mi">0</span> <span class="nv">width</span><span class="p">)</span>
	  <span class="nv">ret</span>
	  <span class="p">(</span><span class="nf">loop</span> <span class="p">(</span><span class="nb">+ </span><span class="p">(</span><span class="nb">* </span><span class="nv">ret</span> <span class="mi">2</span><span class="p">)</span> <span class="p">(</span><span class="nf">logand</span> <span class="nv">num</span> <span class="mi">1</span><span class="p">))</span>
		<span class="p">(</span><span class="nb">remainder </span><span class="p">(</span><span class="nf">ash</span> <span class="nv">num</span> <span class="mi">-1</span><span class="p">)</span> <span class="p">(</span><span class="nb">expt </span><span class="mi">2</span> <span class="nv">width</span><span class="p">))</span>
		<span class="p">(</span><span class="nb">- </span><span class="nv">width</span> <span class="mi">1</span><span class="p">)))))</span>
  <span class="p">(</span><span class="k">let </span><span class="nv">loop</span><span class="p">((</span><span class="nf">ret</span> <span class="p">())</span> <span class="p">(</span><span class="nf">num</span> <span class="p">(</span><span class="nb">- </span><span class="p">(</span><span class="nb">expt </span><span class="mi">2</span> <span class="nv">n</span><span class="p">)</span> <span class="mi">1</span><span class="p">)))</span>
    <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nb">&lt; </span><span class="nv">num</span> <span class="mi">0</span><span class="p">)</span>
	<span class="nv">ret</span>
	<span class="p">(</span><span class="nf">loop</span> <span class="p">(</span><span class="nb">cons </span><span class="p">(</span><span class="nf">inverse-num</span> <span class="nv">n</span> <span class="nv">num</span><span class="p">)</span> <span class="nv">ret</span><span class="p">)</span>
	      <span class="p">(</span><span class="nb">- </span><span class="nv">num</span> <span class="mi">1</span><span class="p">)))))</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3068/addtag/" class="addtag" id="addtag_3068">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/scheme/">
		Scheme
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3068/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3068/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3068"
  >-</span><span
  class="button yellow"
  id="rating_z_3068"
  >0</span><span 
  class="button green"
  id="rating_p_3068"
  >+</span></span></span>
  
<p>

  

  <a href="/web/20101115103304/http://ja.doukaku.org/comment/3068/">
    1
    reply
  </a>

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3068/">
  返信
  </a>]
  </div>
</div>
</div>



  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      




<div class="comment" id="comment3076"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/41/" target="_top">shiro</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3076/">#3076</a>(<script language="JavaScript">print_time(new Date("2007/09/18 21:57 GMT"));</script><noscript>2007/09/18 21:57 GMT</noscript>)
	
	
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #dfffdf;">2/2=1.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  整数のビット演算に関してはR5RS実装の間では、&nbsp;(ash,&nbsp;logand,&nbsp;logior...)&nbsp;系統と&nbsp;(arithmetic-shift,&nbsp;bitwise-and,&nbsp;bitwise-ior,&nbsp;...)&nbsp;系統で分かれていました。一度srfiが提出されたんですがwithdrawnになりました。というのは、ビット演算を定義するためには数値の内部表現を露にせざるを得ず、Schemeの数値モデルとの抽象化の差が問題になったからです。<br/><br/>r6rsではライブラリにbitwise-arithmetic-shift,&nbsp;bitwise-and,&nbsp;bitwise-ior,...が入りました。"bitwise-arithmetic-shift"&nbsp;はちょっと名前が長すぎると思うんですが…<br/><br/>
	</div>
	
	<p class="link">
	  参考: <a href="/web/20101115103304/http://practical-scheme.net/wiliki/schemexref.cgi?bitwise-ior">bitwise-ior</a>
	</p>  
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3076/addtag/" class="addtag" id="addtag_3076">タグ</a>:
	なし&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #dfffdf;"
  >2/2=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3076"
  >-</span><span
  class="button yellow"
  id="rating_z_3076"
  >0</span><span 
  class="button green"
  id="rating_p_3076"
  >+</span></span></span>
  
<p>

  
    <a href="/web/20101115103304/http://ja.doukaku.org/comment/3068/"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20101115103304/http://ja.doukaku.org/comment/3076/root/"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3076/">
  返信
  </a>]
  </div>
</div>
</div>



  


    </div>
  


  

  

  

  
    




<div class="comment" id="comment3067"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/177/" target="_top">ocean</a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3067/">#3067</a>(<script language="JavaScript">print_time(new Date("2007/09/18 04:42 GMT"));</script><noscript>2007/09/18 04:42 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/cpp/">
	  C++
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  C++のstd::bitsetを使って。ただし、nはコンパイル時に解決されるので、動的に指定することはできない。また、std::bitset#to_stringまわりでコンパイラによって色々違いがあるみたいで、結構苦労した。（特にg++）
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38</pre></td><td class="code"><div class="highlight"><pre><span class="cp">#include &lt;iostream&gt;</span>
<span class="cp">#include &lt;iterator&gt;</span>
<span class="cp">#include &lt;algorithm&gt;</span>
<span class="cp">#include &lt;vector&gt;</span>
<span class="cp">#include &lt;string&gt;</span>
<span class="cp">#include &lt;bitset&gt;</span>

<span class="cp">#if defined(_MSC_VER) &amp;&amp; (_MSC_VER &lt;= 1200) </span><span class="c">// VC++6 メンバテンプレートが使えない</span>
<span class="cp"># define to_string(bs) bs.to_string()</span>
<span class="cp">#elif defined(__GNUC__) </span><span class="c">// g++ のバグ？ http://ml.tietew.jp/cppll/cppll/thread_articles/8828 で回避</span>
<span class="cp"># define to_string(bs) bs.template to_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;()</span>
<span class="cp">#else </span><span class="c">// 一般的にはこちら</span>
<span class="cp"># define to_string(bs) bs.to_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;()</span>
<span class="cp">#endif</span>

<span class="k">template</span> <span class="o">&lt;</span><span class="n">size_t</span> <span class="n">n</span><span class="o">&gt;</span>
<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="o">&gt;</span> <span class="n">list_flipped</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="o">&gt;</span> <span class="n">v</span><span class="p">(</span><span class="n">size_t</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">n</span><span class="p">);</span>

    <span class="k">for</span> <span class="p">(</span><span class="n">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">v</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">s</span> <span class="o">=</span> <span class="n">to_string</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">bitset</span><span class="o">&lt;</span><span class="n">n</span><span class="o">&gt;</span><span class="p">(</span><span class="n">i</span><span class="p">));</span>

        <span class="n">std</span><span class="o">::</span><span class="n">reverse</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">s</span><span class="p">.</span><span class="n">end</span><span class="p">());</span>

        <span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">bitset</span><span class="o">&lt;</span><span class="n">n</span><span class="o">&gt;</span><span class="p">(</span><span class="n">s</span><span class="p">).</span><span class="n">to_ulong</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">v</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="n">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="o">&gt;</span> <span class="n">v</span> <span class="o">=</span> <span class="n">list_flipped</span><span class="o">&lt;</span><span class="mi">4</span><span class="o">&gt;</span><span class="p">();</span>

    <span class="n">std</span><span class="o">::</span><span class="n">copy</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">v</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="n">std</span><span class="o">::</span><span class="n">ostream_iterator</span><span class="o">&lt;</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="o">&gt;</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="p">,</span> <span class="s">&quot; &quot;</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3067/addtag/" class="addtag" id="addtag_3067">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/cpp/">
		C++
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3067/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3067/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3067"
  >-</span><span
  class="button yellow"
  id="rating_z_3067"
  >0</span><span 
  class="button green"
  id="rating_p_3067"
  >+</span></span></span>
  
<p>

  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3067/">
  返信
  </a>]
  </div>
</div>
</div>



  


  

  
    




<div class="comment" id="comment3051"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/88/" target="_top">sumim</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3051/">#3051</a>(<script language="JavaScript">print_time(new Date("2007/09/17 17:18 GMT"));</script><noscript>2007/09/17 17:18 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/smalltalk/">
	  Smalltalk
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  Squeak&nbsp;Smalltalk&nbsp;で。<br/><br/>与えられた数値列と等価なビットパターンを持つ画像データについて左右入れ替え操作を行ない、変換後画像のビット列を取り出しています。
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5
6
7
8
9</pre></td><td class="code"><div class="highlight"><pre>| flipBits |
flipBits := [:numOfBits :vals |
    | form bits |
    form := Form extent: 32 @ vals size.
    form bits: (Bitmap newFrom: vals).
    bits := (form flipBy: #horizontal centerAt: 0@0) bits.
    bits asArray collect: [:each | each &gt;&gt; (32 - numOfBits)]].

^flipBits value: 4 value: (0 to: 15) &quot;=&gt; #(0 8 4 12 2 10 6 14 1 9 5 13 3 11 7 15) &quot;
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3051/addtag/" class="addtag" id="addtag_3051">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/smalltalk/">
		Smalltalk
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3051/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3051/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3051"
  >-</span><span
  class="button yellow"
  id="rating_z_3051"
  >0</span><span 
  class="button green"
  id="rating_p_3051"
  >+</span></span></span>
  
<p>

  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3051/">
  返信
  </a>]
  </div>
</div>
</div>



  


  

  
    




<div class="comment" id="comment3122"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3122/">#3122</a>(<script language="JavaScript">print_time(new Date("2007/09/20 07:29 GMT"));</script><noscript>2007/09/20 07:29 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/php/">
	  PHP
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>迂闊に32bitを指定したら大変な事に。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></td><td class="code"><div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="k">function</span> <span class="nf">reversebit</span><span class="p">(</span><span class="nv">$n</span><span class="p">)</span> <span class="p">{</span>
	<span class="nv">$max</span> <span class="o">=</span> <span class="nf">pow</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="nv">$n</span><span class="p">);</span>
	<span class="nv">$len</span> <span class="o">=</span> <span class="nf">strlen</span><span class="p">(</span><span class="nf">decbin</span><span class="p">(</span><span class="nv">$max</span> <span class="o">-</span> <span class="m">1</span><span class="p">));</span>
	<span class="k">for</span> <span class="p">(</span> <span class="nv">$i</span> <span class="o">=</span> <span class="m">0</span><span class="p">;</span> <span class="nv">$i</span> <span class="o">&lt;</span> <span class="nv">$max</span><span class="p">;</span> <span class="nv">$i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
		<span class="nv">$rtn</span><span class="p">[]</span> <span class="o">=</span> <span class="nf">bindec</span><span class="p">(</span><span class="nf">strrev</span><span class="p">(</span><span class="nf">str_pad</span><span class="p">(</span><span class="nf">decbin</span><span class="p">(</span><span class="nv">$i</span><span class="p">),</span><span class="nv">$len</span><span class="p">,</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="nx">STR_PAD_LEFT</span><span class="p">)));</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="nv">$rtn</span><span class="p">;</span>
<span class="p">}</span>

<span class="nf">print_r</span><span class="p">(</span><span class="nx">reversebit</span><span class="p">(</span><span class="m">4</span><span class="p">));</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3122/addtag/" class="addtag" id="addtag_3122">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/php/">
		PHP
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3122/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3122/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3122"
  >-</span><span
  class="button yellow"
  id="rating_z_3122"
  >0</span><span 
  class="button green"
  id="rating_p_3122"
  >+</span></span></span>
  
<p>

  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3122/">
  返信
  </a>]
  </div>
</div>
</div>



  


  

  
    




<div class="comment" id="comment3683"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3683/">#3683</a>(<script language="JavaScript">print_time(new Date("2007/11/03 01:12 GMT"));</script><noscript>2007/11/03 01:12 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/c/">
	  C
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>数値をビットの文字列に変換する方法を応用して作りました。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43</pre></td><td class="code"><div class="highlight"><pre><span class="cp">#include &lt;stdio.h&gt;</span>

<span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">reverse_bit</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="kt">int</span> <span class="n">bit_size</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">lsb</span><span class="p">;</span>

    <span class="k">while</span> <span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">lsb</span> <span class="o">=</span> <span class="n">n</span> <span class="o">&amp;</span> <span class="mi">1</span><span class="p">;</span>
        <span class="n">result</span> <span class="o">+=</span> <span class="n">lsb</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">bit_size</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
        <span class="n">n</span> <span class="o">&gt;&gt;=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="n">bit_size</span><span class="o">--</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">reverse_bit_list</span><span class="p">(</span><span class="kt">int</span> <span class="n">input</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">size</span><span class="p">;</span>

    <span class="n">size</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">input</span><span class="p">;</span>

    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">size</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%u</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">reverse_bit</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">input</span><span class="p">));</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">input</span><span class="p">;</span>

    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;n = &quot;</span><span class="p">);</span>
    <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">input</span><span class="p">);</span>

    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="n">input</span> <span class="o">&lt;=</span> <span class="mi">32</span><span class="p">))</span> <span class="p">{</span>
        <span class="n">fprintf</span><span class="p">(</span><span class="n">stderr</span><span class="p">,</span> <span class="s">&quot;Error!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
        <span class="k">return</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="n">reverse_bit_list</span><span class="p">(</span><span class="n">input</span><span class="p">);</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3683/addtag/" class="addtag" id="addtag_3683">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/c/">
		C
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3683/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3683/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3683"
  >-</span><span
  class="button yellow"
  id="rating_z_3683"
  >0</span><span 
  class="button green"
  id="rating_p_3683"
  >+</span></span></span>
  
<p>

  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3683/">
  返信
  </a>]
  </div>
</div>
</div>



  


  

  

  

  

  
    




<div class="comment" id="comment3066"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/344/" target="_top">jz5</a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3066/">#3066</a>(<script language="JavaScript">print_time(new Date("2007/09/18 03:40 GMT"));</script><noscript>2007/09/18 03:40 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/vbnet/">
	  VB.net
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>BitArrayが微妙に使いにくいですね。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></td><td class="code"><div class="highlight"><pre><span class="k">Function</span> <span class="n">GetReversedBit</span><span class="p">(</span><span class="k">ByVal</span> <span class="n">n</span> <span class="ow">As</span> <span class="kt">Integer</span><span class="p">)</span> <span class="ow">As</span> <span class="n">List</span><span class="p">(</span><span class="k">Of</span> <span class="kt">UInteger</span><span class="p">)</span>
    <span class="k">Dim</span> <span class="n">list</span> <span class="ow">As</span> <span class="k">New</span> <span class="n">List</span><span class="p">(</span><span class="k">Of</span> <span class="kt">UInteger</span><span class="p">)</span>
    <span class="k">For</span> <span class="n">i</span> <span class="ow">As</span> <span class="kt">UInteger</span> <span class="o">=</span> <span class="mi">0</span> <span class="k">To</span> <span class="k">CUInt</span><span class="p">(</span><span class="mi">2</span> <span class="o">^</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">Dim</span> <span class="n">bitAry</span> <span class="ow">As</span> <span class="k">New</span> <span class="n">BitArray</span><span class="p">(</span><span class="n">BitConverter</span><span class="p">.</span><span class="n">GetBytes</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
        <span class="k">Dim</span> <span class="n">revAry</span> <span class="ow">As</span> <span class="k">New</span> <span class="n">BitArray</span><span class="p">(</span><span class="n">bitAry</span><span class="p">.</span><span class="n">Count</span><span class="p">)</span>
        <span class="k">For</span> <span class="n">j</span> <span class="ow">As</span> <span class="kt">Integer</span> <span class="o">=</span> <span class="mi">0</span> <span class="k">To</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="n">revAry</span><span class="p">(</span><span class="n">j</span><span class="p">)</span> <span class="o">=</span> <span class="n">bitAry</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">j</span><span class="p">)</span>
        <span class="k">Next</span>
        <span class="k">Dim</span> <span class="n">b</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">As</span> <span class="kt">Byte</span>
        <span class="n">revAry</span><span class="p">.</span><span class="n">CopyTo</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">list</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">BitConverter</span><span class="p">.</span><span class="n">ToUInt32</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="k">If</span> <span class="n">i</span> <span class="o">=</span> <span class="kt">UInteger</span><span class="p">.</span><span class="n">MaxValue</span> <span class="k">Then</span> <span class="k">Exit</span> <span class="k">For</span>
    <span class="k">Next</span>
    <span class="k">Return</span> <span class="n">list</span>
<span class="k">End</span> <span class="k">Function</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3066/addtag/" class="addtag" id="addtag_3066">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/vbnet/">
		VB.net
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3066/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3066/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3066"
  >-</span><span
  class="button yellow"
  id="rating_z_3066"
  >0</span><span 
  class="button green"
  id="rating_p_3066"
  >+</span></span></span>
  
<p>

  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3066/">
  返信
  </a>]
  </div>
</div>
</div>



  


  

  
    




<div class="comment" id="comment3041"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/177/" target="_top">ocean</a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3041/">#3041</a>(<script language="JavaScript">print_time(new Date("2007/09/17 15:38 GMT"));</script><noscript>2007/09/17 15:38 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/python/">
	  Python
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>泥臭く。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">iter_flipped</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">n</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s">&quot;should be positive: </span><span class="si">%d</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">n</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">src</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">n</span><span class="p">):</span>
        <span class="n">dst</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
            <span class="n">dst</span> <span class="o">&lt;&lt;=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="n">src</span> <span class="o">&amp;</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">i</span><span class="p">):</span>
                <span class="n">dst</span> <span class="o">|=</span> <span class="mi">1</span>
        <span class="k">yield</span> <span class="n">dst</span>

<span class="k">def</span> <span class="nf">list_flipped</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">iter_flipped</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="k">print</span> <span class="n">list_flipped</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3041/addtag/" class="addtag" id="addtag_3041">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/python/">
		Python
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3041/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3041/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3041"
  >-</span><span
  class="button yellow"
  id="rating_z_3041"
  >0</span><span 
  class="button green"
  id="rating_p_3041"
  >+</span></span></span>
  
<p>

  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3041/">
  返信
  </a>]
  </div>
</div>
</div>



  


  

  
    




<div class="comment" id="comment6159"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/549/" target="_top">lemonade</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/6159/">#6159</a>(<script language="JavaScript">print_time(new Date("2008/04/09 02:23 GMT"));</script><noscript>2008/04/09 02:23 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/csharp/">
	  C#
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <p>シフト演算を使わずに書いてみました。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37</pre></td><td class="code"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Program</span>
<span class="k">{</span>
    <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
    <span class="k">{</span>
        <span class="n">ReverseBitOrder</span><span class="p">(</span><span class="m">4</span><span class="p">).</span><span class="n">ForEach</span><span class="p">(</span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">);</span>
    <span class="k">}</span>

    <span class="k">static</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">uint</span><span class="p">&gt;</span> <span class="n">ReverseBitOrder</span><span class="p">(</span><span class="kt">int</span> <span class="n">bit</span><span class="p">)</span>
    <span class="k">{</span>
        <span class="n">List</span><span class="p">&lt;</span><span class="kt">uint</span><span class="p">&gt;</span> <span class="n">reverseList</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">uint</span><span class="p">&gt;();</span>
        <span class="kt">uint</span><span class="p">[]</span> <span class="n">table</span> <span class="p">=</span>
        <span class="k">{</span> <span class="m">0</span><span class="n">x00000001</span><span class="p">,</span> <span class="m">0</span><span class="n">x00000002</span><span class="p">,</span> <span class="m">0</span><span class="n">x00000004</span><span class="p">,</span> <span class="m">0</span><span class="n">x00000008</span><span class="p">,</span>
          <span class="m">0</span><span class="n">x00000010</span><span class="p">,</span> <span class="m">0</span><span class="n">x00000020</span><span class="p">,</span> <span class="m">0</span><span class="n">x00000040</span><span class="p">,</span> <span class="m">0</span><span class="n">x00000080</span><span class="p">,</span> 
          <span class="m">0</span><span class="n">x00000100</span><span class="p">,</span> <span class="m">0</span><span class="n">x00000200</span><span class="p">,</span> <span class="m">0</span><span class="n">x00000400</span><span class="p">,</span> <span class="m">0</span><span class="n">x00000800</span><span class="p">,</span> 
          <span class="m">0</span><span class="n">x00001000</span><span class="p">,</span> <span class="m">0</span><span class="n">x00002000</span><span class="p">,</span> <span class="m">0</span><span class="n">x00004000</span><span class="p">,</span> <span class="m">0</span><span class="n">x00008000</span><span class="p">,</span> 
          <span class="m">0</span><span class="n">x00010000</span><span class="p">,</span> <span class="m">0</span><span class="n">x00020000</span><span class="p">,</span> <span class="m">0</span><span class="n">x00040000</span><span class="p">,</span> <span class="m">0</span><span class="n">x00080000</span><span class="p">,</span> 
          <span class="m">0</span><span class="n">x00100000</span><span class="p">,</span> <span class="m">0</span><span class="n">x00200000</span><span class="p">,</span> <span class="m">0</span><span class="n">x00400000</span><span class="p">,</span> <span class="m">0</span><span class="n">x00800000</span><span class="p">,</span> 
          <span class="m">0</span><span class="n">x01000000</span><span class="p">,</span> <span class="m">0</span><span class="n">x02000000</span><span class="p">,</span> <span class="m">0</span><span class="n">x04000000</span><span class="p">,</span> <span class="m">0</span><span class="n">x08000000</span><span class="p">,</span> 
          <span class="m">0</span><span class="n">x10000000</span><span class="p">,</span> <span class="m">0</span><span class="n">x20000000</span><span class="p">,</span> <span class="m">0</span><span class="n">x40000000</span><span class="p">,</span> <span class="m">0</span><span class="n">x80000000</span><span class="k">}</span><span class="p">;</span>

        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">num</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">num</span> <span class="p">&lt;</span> <span class="n">Math</span><span class="p">.</span><span class="n">Pow</span><span class="p">(</span><span class="m">2</span><span class="p">,</span> <span class="n">bit</span><span class="p">);</span> <span class="n">num</span><span class="p">++)</span>
        <span class="k">{</span>
            <span class="kt">uint</span> <span class="n">x</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>

            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">bit</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
            <span class="k">{</span>
                <span class="k">if</span> <span class="p">((</span><span class="n">num</span> <span class="p">&amp;</span> <span class="n">table</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="p">!=</span> <span class="m">0</span><span class="p">)</span>
                <span class="k">{</span>
                    <span class="n">x</span> <span class="p">|=</span> <span class="n">table</span><span class="p">[(</span><span class="n">bit</span> <span class="p">-</span> <span class="m">1</span><span class="p">)</span> <span class="p">-</span> <span class="n">i</span><span class="p">];</span>
                <span class="k">}</span>
            <span class="k">}</span>
            <span class="n">reverseList</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">x</span><span class="p">);</span>
        <span class="k">}</span>

        <span class="k">return</span> <span class="n">reverseList</span><span class="p">;</span>
    <span class="k">}</span>
<span class="k">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/6159/addtag/" class="addtag" id="addtag_6159">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/csharp/">
		C#
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/6159/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/6159/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_6159"
  >-</span><span
  class="button yellow"
  id="rating_z_6159"
  >0</span><span 
  class="button green"
  id="rating_p_6159"
  >+</span></span></span>
  
<p>

  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/6159/">
  返信
  </a>]
  </div>
</div>
</div>



  


  

  
    




<div class="comment" id="comment3059"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/98/" target="_top">nobsun</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3059/">#3059</a>(<script language="JavaScript">print_time(new Date("2007/09/18 00:14 GMT"));</script><noscript>2007/09/18 00:14 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/haskell/">
	  Haskell
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>整数を与えられた基数の桁値のリストにする
toDigits とか その逆のfromDigits とかは
ほとんでidiomですねぇ。

でもプレリュードにはないんですよねぇ。


</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></td><td class="code"><div class="highlight"><pre><span class="nv">bitrevs</span> <span class="nv">k</span> <span class="o">=</span> <span class="nv">take</span> <span class="p">(</span><span class="mi">2</span><span class="o">^</span><span class="nv">k</span><span class="p">)</span> <span class="o">$</span> <span class="nv">map</span> <span class="p">(</span><span class="nv">revbit</span> <span class="nv">k</span><span class="p">)</span> <span class="p">[</span><span class="mi">0</span><span class="o">..</span><span class="p">]</span>
<span class="nv">bitrev</span>  <span class="nv">k</span> <span class="o">=</span> <span class="nv">fromDigits</span> <span class="mi">2</span> <span class="o">.</span> <span class="nv">reverse</span> <span class="o">.</span> <span class="nv">toDigits</span> <span class="nv">k</span> <span class="mi">2</span>

<span class="nv">toDigits</span> <span class="nv">k</span> <span class="nv">base</span> <span class="nv">n</span>
 <span class="o">=</span> <span class="nv">reverse</span> <span class="o">$</span> <span class="nv">map</span> <span class="nv">snd</span> <span class="o">$</span> <span class="nv">take</span> <span class="nv">k</span> <span class="o">$</span> <span class="nv">iterate</span> <span class="p">((`</span><span class="nv">divMod</span><span class="p">`</span> <span class="nv">base</span><span class="p">)</span> <span class="o">.</span> <span class="nv">fst</span><span class="p">)</span> <span class="o">$</span> <span class="nv">n</span> <span class="p">`</span><span class="nv">divMod</span><span class="p">`</span> <span class="nv">base</span>
<span class="nv">fromDigits</span> <span class="nv">base</span> <span class="nv">ds</span>
 <span class="o">=</span> <span class="nv">foldl</span> <span class="p">((</span><span class="o">+</span><span class="p">)</span> <span class="o">.</span> <span class="p">(</span><span class="nv">base</span><span class="o">*</span><span class="p">))</span> <span class="mi">0</span> <span class="nv">ds</span>

<span class="cm">{-</span>
<span class="cm">*Main&gt; bitrevs 4</span>
<span class="cm">[0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15]</span>
<span class="cm">-}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3059/addtag/" class="addtag" id="addtag_3059">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/haskell/">
		Haskell
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3059/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3059/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3059"
  >-</span><span
  class="button yellow"
  id="rating_z_3059"
  >0</span><span 
  class="button green"
  id="rating_p_3059"
  >+</span></span></span>
  
<p>

  

  <a href="/web/20101115103304/http://ja.doukaku.org/comment/3059/">
    1
    reply
  </a>

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3059/">
  返信
  </a>]
  </div>
</div>
</div>



  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      




<div class="comment" id="comment3060"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/98/" target="_top">nobsun</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3060/">#3060</a>(<script language="JavaScript">print_time(new Date("2007/09/18 00:19 GMT"));</script><noscript>2007/09/18 00:19 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/haskell/">
	  Haskell
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>toDigit でreverseしてから、またそのまま、reverse するのはちょっとねぇ。
と思うプチブルの方にはここだけ展開改良したコードをどうぞ。 :)</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2</pre></td><td class="code"><div class="highlight"><pre><span class="nv">bitrevs</span> <span class="nv">k</span> <span class="o">=</span> <span class="nv">take</span> <span class="p">(</span><span class="mi">2</span><span class="o">^</span><span class="nv">k</span><span class="p">)</span> <span class="o">$</span> <span class="nv">map</span> <span class="p">(</span><span class="nv">bitrev</span> <span class="nv">k</span><span class="p">)</span> <span class="p">[</span><span class="mi">0</span><span class="o">..</span><span class="p">]</span>
<span class="nv">bitrev</span>  <span class="nv">k</span> <span class="o">=</span> <span class="nv">fromDigits</span> <span class="o">.</span> <span class="nv">map</span> <span class="nv">snd</span> <span class="o">.</span> <span class="nv">take</span> <span class="nv">k</span> <span class="o">.</span> <span class="nv">iterate</span> <span class="p">((`</span><span class="nv">divMod</span><span class="p">`</span> <span class="mi">2</span><span class="p">)</span> <span class="o">.</span> <span class="nv">fst</span><span class="p">)</span> <span class="o">.</span> <span class="p">(`</span><span class="nv">divMod</span><span class="p">`</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3060/addtag/" class="addtag" id="addtag_3060">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/haskell/">
		Haskell
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3060/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3060/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3060"
  >-</span><span
  class="button yellow"
  id="rating_z_3060"
  >0</span><span 
  class="button green"
  id="rating_p_3060"
  >+</span></span></span>
  
<p>

  
    <a href="/web/20101115103304/http://ja.doukaku.org/comment/3059/"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20101115103304/http://ja.doukaku.org/comment/3060/root/"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3060/">
  返信
  </a>]
  </div>
</div>
</div>



  


    </div>
  


  

  

  
    




<div class="comment" id="comment3191"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/448/" target="_top">naranja</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3191/">#3191</a>(<script language="JavaScript">print_time(new Date("2007/09/28 12:35 GMT"));</script><noscript>2007/09/28 12:35 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/d/">
	  D
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>単純な方法。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></td><td class="code"><div class="highlight"><pre><span class="k">import</span> <span class="n">std</span>.<span class="n">stdio</span>;
<span class="k">import</span> <span class="n">std</span>.<span class="n">string</span>;

<span class="kt">uint</span>[] <span class="n">reversedBitsList</span>(<span class="kt">int</span> <span class="n">n</span>){
    <span class="kt">uint</span>[] <span class="n">retList</span>;
    <span class="k">for</span>(<span class="kt">uint</span> <span class="n">i</span> = <span class="mi">0</span>; <span class="n">i</span> &lt; (<span class="mi">1L</span> &lt;&lt; <span class="n">n</span>); <span class="n">i</span>++){
        <span class="kt">uint</span> <span class="n">toUintRadix2</span>(<span class="n">string</span> <span class="n">s</span>){
            <span class="kt">uint</span> <span class="n">ret</span>;
            <span class="k">foreach</span>(<span class="n">index</span>, <span class="n">digit</span>; <span class="n">s</span>){
                <span class="n">ret</span> += (<span class="n">digit</span> - <span class="sc">&#39;0&#39;</span>) * (<span class="mi">1</span> &lt;&lt; (<span class="n">s</span>.<span class="n">length</span> - <span class="n">index</span> - <span class="mi">1</span>));
            }
            <span class="k">return</span> <span class="n">ret</span>;
        }
        <span class="n">retList</span> ~= <span class="n">toUintRadix2</span>(<span class="n">format</span>(<span class="s">&quot;%0*b&quot;</span>, <span class="n">n</span>, <span class="n">i</span>).<span class="n">reverse</span>);
    }
    <span class="k">return</span> <span class="n">retList</span>;
}

<span class="kt">void</span> <span class="n">main</span>(){
    <span class="n">writefln</span>(<span class="n">reversedBitsList</span>(<span class="mi">4</span>));  <span class="c">//=&gt; [0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15]</span>
}
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3191/addtag/" class="addtag" id="addtag_3191">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/d/">
		D
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3191/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3191/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3191"
  >-</span><span
  class="button yellow"
  id="rating_z_3191"
  >0</span><span 
  class="button green"
  id="rating_p_3191"
  >+</span></span></span>
  
<p>

  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3191/">
  返信
  </a>]
  </div>
</div>
</div>



  


  

  
    




<div class="comment" id="comment3045"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/380/" target="_top">vtwntmtn</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3045/">#3045</a>(<script language="JavaScript">print_time(new Date("2007/09/17 16:35 GMT"));</script><noscript>2007/09/17 16:35 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/python/">
	  Python
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #ffefef;">-1/1=-1.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>無理やりワンライナに。
n=4で動作を確認しました。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4</pre></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">reverse_list</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">[</span><span class="nb">sum</span><span class="p">([(((</span><span class="n">x</span> <span class="o">&gt;&gt;</span> <span class="n">i</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="p">((</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-</span> <span class="n">i</span><span class="p">)))</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)])</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">n</span><span class="p">)]</span>

<span class="c">#print reverse_list(4)</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3045/addtag/" class="addtag" id="addtag_3045">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/python/">
		Python
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3045/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3045/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffefef;"
  >-1/1=-1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3045"
  >-</span><span
  class="button yellow"
  id="rating_z_3045"
  >0</span><span 
  class="button green"
  id="rating_p_3045"
  >+</span></span></span>
  
<p>

  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3045/">
  返信
  </a>]
  </div>
</div>
</div>



  


  

  
    




<div class="comment" id="comment3111"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/59/" target="_top">nori</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3111/">#3111</a>(<script language="JavaScript">print_time(new Date("2007/09/19 14:38 GMT"));</script><noscript>2007/09/19 14:38 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/python/">
	  Python
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>妙なこだわりのコード。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33</pre></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">succ</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
  <span class="k">assert</span><span class="p">(</span><span class="n">i</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
  <span class="k">assert</span><span class="p">(</span><span class="n">n</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
  <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
      <span class="n">v</span> <span class="o">=</span> <span class="mi">1</span>
      <span class="n">c</span> <span class="o">=</span> <span class="bp">False</span>
      <span class="n">mod</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">v</span> <span class="o">=</span> <span class="mi">0</span>
      <span class="n">c</span> <span class="o">=</span> <span class="bp">True</span>
      <span class="n">mod</span> <span class="o">=</span> <span class="mi">1</span>
  <span class="k">else</span><span class="p">:</span>
    <span class="n">mod</span> <span class="o">=</span> <span class="n">i</span><span class="o">%</span><span class="mi">2</span>
    <span class="n">div</span> <span class="o">=</span> <span class="n">i</span><span class="o">/</span><span class="mi">2</span>
    <span class="n">s</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="n">succ</span><span class="p">(</span><span class="n">div</span><span class="p">,</span> <span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span> <span class="n">mod</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">or</span> <span class="n">c</span> <span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="p">(</span> <span class="n">c</span> <span class="ow">and</span> <span class="n">mod</span> <span class="o">==</span><span class="mi">1</span> <span class="p">):</span>
      <span class="n">v</span> <span class="o">=</span> <span class="n">s</span><span class="o">*</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">v</span> <span class="o">=</span> <span class="n">s</span><span class="o">*</span><span class="mi">2</span>
  <span class="k">if</span> <span class="n">r</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">v</span>
  <span class="k">else</span><span class="p">:</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">c</span> <span class="ow">and</span> <span class="n">mod</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
  
<span class="k">def</span> <span class="nf">reversedbits</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
  <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="o">**</span><span class="n">n</span><span class="p">):</span>
    <span class="k">yield</span> <span class="n">x</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">succ</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">gen</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
  <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">reversedbits</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3111/addtag/" class="addtag" id="addtag_3111">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/python/">
		Python
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3111/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3111/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3111"
  >-</span><span
  class="button yellow"
  id="rating_z_3111"
  >0</span><span 
  class="button green"
  id="rating_p_3111"
  >+</span></span></span>
  
<p>

  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3111/">
  返信
  </a>]
  </div>
</div>
</div>



  


  

  
    




<div class="comment" id="comment3074"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/232/" target="_top">kkobayashi</a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3074/">#3074</a>(<script language="JavaScript">print_time(new Date("2007/09/18 18:51 GMT"));</script><noscript>2007/09/18 18:51 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/r/">
	  R
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>Rのビット列演算は文字との変換を目的としているようで、バイト単位の扱いしかできないという癖があります。
（32bit = 1byte * 4 として扱う）

&gt; reverse.bits.list(4)
 [1]  0  8  4 12  2 10  6 14  1  9  5 13  3 11  7 15
</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4</pre></td><td class="code"><div class="highlight"><pre>reverse.bits.list &lt;- function(n){
    sapply(0:(2**n-1), function(x)
           as.integer(packBits(c(rev(head(intToBits(as.integer(x)), n)), raw(32-n)))) %*% (256**c(0:3)))
}
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3074/addtag/" class="addtag" id="addtag_3074">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/r/">
		R
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3074/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3074/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3074"
  >-</span><span
  class="button yellow"
  id="rating_z_3074"
  >0</span><span 
  class="button green"
  id="rating_p_3074"
  >+</span></span></span>
  
<p>

  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3074/">
  返信
  </a>]
  </div>
</div>
</div>



  


  

  
    




<div class="comment" id="comment3054"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/41/" target="_top">shiro</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3054/">#3054</a>(<script language="JavaScript">print_time(new Date("2007/09/17 19:33 GMT"));</script><noscript>2007/09/17 19:33 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/scheme/">
	  Scheme
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #dfffdf;">2/2=1.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  手元に「任意ビット長の整数のビット順を逆にするルーチン」があったので利用してみました。仕事で128bitまでの整数を比較的高速に逆順にする必要があって書いたものです&nbsp;(実はこれをお題投稿してみようかなとか考えてたんですが先越されちゃいましたね)。<br/><br/>今回は32bitまでとなってますが、n=32でeagerにリストを作るとメモリが大変なので、遅延ストリームを返すlazy版も作っときました。必要な分だけ計算できます。<br/><br/>&nbsp;gosh&gt;&nbsp;(stream-&gt;list&nbsp;(stream-take&nbsp;(reverse-stream&nbsp;32)&nbsp;16))<br/>&nbsp;(0&nbsp;2147483648&nbsp;1073741824&nbsp;3221225472&nbsp;536870912&nbsp;2684354560&nbsp;1610612736&nbsp;<br/>&nbsp;&nbsp;3758096384&nbsp;268435456&nbsp;2415919104&nbsp;1342177280&nbsp;3489660928&nbsp;805306368&nbsp;<br/>&nbsp;&nbsp;2952790016&nbsp;1879048192&nbsp;4026531840)<br/><br/>32bit越えても大丈夫。仕様外だけど。<br/><br/>&nbsp;gosh&gt;&nbsp;(stream-&gt;list&nbsp;(stream-take&nbsp;(reverse-stream&nbsp;99)&nbsp;10))<br/>&nbsp;(0&nbsp;316912650057057350374175801344&nbsp;158456325028528675187087900672<br/>&nbsp;&nbsp;475368975085586025561263702016&nbsp;79228162514264337593543950336<br/>&nbsp;&nbsp;396140812571321687967719751680&nbsp;237684487542793012780631851008<br/>&nbsp;&nbsp;554597137599850363154807652352&nbsp;39614081257132168796771975168<br/>&nbsp;&nbsp;356526731314189519170947776512)<br/><br/>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38</pre></td><td class="code"><div class="highlight"><pre><span class="p">(</span><span class="nf">use</span> <span class="nv">gauche</span><span class="o">.</span><span class="nv">uvector</span><span class="p">)</span>
<span class="p">(</span><span class="nf">use</span> <span class="nv">util</span><span class="o">.</span><span class="nv">stream</span><span class="p">)</span>

<span class="c1">;; Eager版。nが大きいと破綻する</span>
<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">reverse-list</span> <span class="nv">bits</span><span class="p">)</span>
  <span class="p">(</span><span class="nf">list-ec</span> <span class="p">(</span><span class="nf">:</span> <span class="nv">n</span> <span class="p">(</span><span class="nb">expt </span><span class="mi">2</span> <span class="nv">bits</span><span class="p">))</span> <span class="p">(</span><span class="nf">reverse-bits</span> <span class="nv">n</span> <span class="nv">bits</span><span class="p">)))</span>

<span class="c1">;; Lazy版。</span>
<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">reverse-stream</span> <span class="nv">bits</span><span class="p">)</span>
  <span class="p">(</span><span class="nf">stream-map</span> <span class="p">(</span><span class="nf">cut</span> <span class="nv">reverse-bits</span> <span class="nv">&lt;&gt;</span> <span class="nv">bits</span><span class="p">)</span> <span class="p">(</span><span class="nf">stream-iota</span> <span class="p">(</span><span class="nb">expt </span><span class="mi">2</span> <span class="nv">bits</span><span class="p">))))</span>

<span class="c1">;; 任意ビット長の整数の反転。速度を稼ぐためテーブル使用。</span>
<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">reverse-bits</span> <span class="nv">word</span> <span class="nv">bits</span><span class="p">)</span>
  <span class="p">(</span><span class="k">define </span><span class="nv">rev8</span>
    <span class="o">&#39;#</span><span class="nv">u8</span><span class="p">(</span><span class="mi">0</span> <span class="mi">128</span> <span class="mi">64</span> <span class="mi">192</span> <span class="mi">32</span> <span class="mi">160</span> <span class="mi">96</span> <span class="mi">224</span> <span class="mi">16</span> <span class="mi">144</span> <span class="mi">80</span> <span class="mi">208</span> <span class="mi">48</span> <span class="mi">176</span> <span class="mi">112</span> <span class="mi">240</span> <span class="mi">8</span>
           <span class="mi">136</span> <span class="mi">72</span> <span class="mi">200</span> <span class="mi">40</span> <span class="mi">168</span> <span class="mi">104</span> <span class="mi">232</span> <span class="mi">24</span> <span class="mi">152</span> <span class="mi">88</span> <span class="mi">216</span> <span class="mi">56</span> <span class="mi">184</span> <span class="mi">120</span> <span class="mi">248</span> <span class="mi">4</span>
           <span class="mi">132</span> <span class="mi">68</span> <span class="mi">196</span> <span class="mi">36</span> <span class="mi">164</span> <span class="mi">100</span> <span class="mi">228</span> <span class="mi">20</span> <span class="mi">148</span> <span class="mi">84</span> <span class="mi">212</span> <span class="mi">52</span> <span class="mi">180</span> <span class="mi">116</span> <span class="mi">244</span> <span class="mi">12</span>
           <span class="mi">140</span> <span class="mi">76</span> <span class="mi">204</span> <span class="mi">44</span> <span class="mi">172</span> <span class="mi">108</span> <span class="mi">236</span> <span class="mi">28</span> <span class="mi">156</span> <span class="mi">92</span> <span class="mi">220</span> <span class="mi">60</span> <span class="mi">188</span> <span class="mi">124</span> <span class="mi">252</span> <span class="mi">2</span>
           <span class="mi">130</span> <span class="mi">66</span> <span class="mi">194</span> <span class="mi">34</span> <span class="mi">162</span> <span class="mi">98</span> <span class="mi">226</span> <span class="mi">18</span> <span class="mi">146</span> <span class="mi">82</span> <span class="mi">210</span> <span class="mi">50</span> <span class="mi">178</span> <span class="mi">114</span> <span class="mi">242</span> <span class="mi">10</span>
           <span class="mi">138</span> <span class="mi">74</span> <span class="mi">202</span> <span class="mi">42</span> <span class="mi">170</span> <span class="mi">106</span> <span class="mi">234</span> <span class="mi">26</span> <span class="mi">154</span> <span class="mi">90</span> <span class="mi">218</span> <span class="mi">58</span> <span class="mi">186</span> <span class="mi">122</span> <span class="mi">250</span> <span class="mi">6</span>
           <span class="mi">134</span> <span class="mi">70</span> <span class="mi">198</span> <span class="mi">38</span> <span class="mi">166</span> <span class="mi">102</span> <span class="mi">230</span> <span class="mi">22</span> <span class="mi">150</span> <span class="mi">86</span> <span class="mi">214</span> <span class="mi">54</span> <span class="mi">182</span> <span class="mi">118</span> <span class="mi">246</span> <span class="mi">14</span>
           <span class="mi">142</span> <span class="mi">78</span> <span class="mi">206</span> <span class="mi">46</span> <span class="mi">174</span> <span class="mi">110</span> <span class="mi">238</span> <span class="mi">30</span> <span class="mi">158</span> <span class="mi">94</span> <span class="mi">222</span> <span class="mi">62</span> <span class="mi">190</span> <span class="mi">126</span> <span class="mi">254</span> <span class="mi">1</span>
           <span class="mi">129</span> <span class="mi">65</span> <span class="mi">193</span> <span class="mi">33</span> <span class="mi">161</span> <span class="mi">97</span> <span class="mi">225</span> <span class="mi">17</span> <span class="mi">145</span> <span class="mi">81</span> <span class="mi">209</span> <span class="mi">49</span> <span class="mi">177</span> <span class="mi">113</span> <span class="mi">241</span> <span class="mi">9</span>
           <span class="mi">137</span> <span class="mi">73</span> <span class="mi">201</span> <span class="mi">41</span> <span class="mi">169</span> <span class="mi">105</span> <span class="mi">233</span> <span class="mi">25</span> <span class="mi">153</span> <span class="mi">89</span> <span class="mi">217</span> <span class="mi">57</span> <span class="mi">185</span> <span class="mi">121</span> <span class="mi">249</span> <span class="mi">5</span>
           <span class="mi">133</span> <span class="mi">69</span> <span class="mi">197</span> <span class="mi">37</span> <span class="mi">165</span> <span class="mi">101</span> <span class="mi">229</span> <span class="mi">21</span> <span class="mi">149</span> <span class="mi">85</span> <span class="mi">213</span> <span class="mi">53</span> <span class="mi">181</span> <span class="mi">117</span> <span class="mi">245</span> <span class="mi">13</span>
           <span class="mi">141</span> <span class="mi">77</span> <span class="mi">205</span> <span class="mi">45</span> <span class="mi">173</span> <span class="mi">109</span> <span class="mi">237</span> <span class="mi">29</span> <span class="mi">157</span> <span class="mi">93</span> <span class="mi">221</span> <span class="mi">61</span> <span class="mi">189</span> <span class="mi">125</span> <span class="mi">253</span> <span class="mi">3</span>
           <span class="mi">131</span> <span class="mi">67</span> <span class="mi">195</span> <span class="mi">35</span> <span class="mi">163</span> <span class="mi">99</span> <span class="mi">227</span> <span class="mi">19</span> <span class="mi">147</span> <span class="mi">83</span> <span class="mi">211</span> <span class="mi">51</span> <span class="mi">179</span> <span class="mi">115</span> <span class="mi">243</span> <span class="mi">11</span>
           <span class="mi">139</span> <span class="mi">75</span> <span class="mi">203</span> <span class="mi">43</span> <span class="mi">171</span> <span class="mi">107</span> <span class="mi">235</span> <span class="mi">27</span> <span class="mi">155</span> <span class="mi">91</span> <span class="mi">219</span> <span class="mi">59</span> <span class="mi">187</span> <span class="mi">123</span> <span class="mi">251</span> <span class="mi">7</span>
           <span class="mi">135</span> <span class="mi">71</span> <span class="mi">199</span> <span class="mi">39</span> <span class="mi">167</span> <span class="mi">103</span> <span class="mi">231</span> <span class="mi">23</span> <span class="mi">151</span> <span class="mi">87</span> <span class="mi">215</span> <span class="mi">55</span> <span class="mi">183</span> <span class="mi">119</span> <span class="mi">247</span> <span class="mi">15</span>
           <span class="mi">143</span> <span class="mi">79</span> <span class="mi">207</span> <span class="mi">47</span> <span class="mi">175</span> <span class="mi">111</span> <span class="mi">239</span> <span class="mi">31</span> <span class="mi">159</span> <span class="mi">95</span> <span class="mi">223</span> <span class="mi">63</span> <span class="mi">191</span> <span class="mi">127</span> <span class="mi">255</span><span class="p">))</span>
  <span class="p">(</span><span class="k">let </span><span class="nv">loop</span> <span class="p">((</span><span class="nf">bits</span> <span class="nv">bits</span><span class="p">)</span>
             <span class="p">(</span><span class="nf">word</span> <span class="nv">word</span><span class="p">)</span>
             <span class="p">(</span><span class="nf">revs</span> <span class="o">&#39;</span><span class="p">()))</span>
    <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nb">&lt;= </span><span class="nv">bits</span> <span class="mi">0</span><span class="p">)</span>
      <span class="p">(</span><span class="nf">ash</span> <span class="p">(</span><span class="nf">fold</span> <span class="p">(</span><span class="k">lambda </span><span class="p">(</span><span class="nf">dig</span> <span class="nv">r</span><span class="p">)</span> <span class="p">(</span><span class="nb">+ </span><span class="nv">dig</span> <span class="p">(</span><span class="nf">ash</span> <span class="nv">r</span> <span class="mi">8</span><span class="p">)))</span> <span class="mi">0</span> <span class="p">(</span><span class="nb">reverse </span><span class="nv">revs</span><span class="p">))</span> <span class="nv">bits</span><span class="p">)</span>
      <span class="p">(</span><span class="nf">loop</span> <span class="p">(</span><span class="nb">- </span><span class="nv">bits</span> <span class="mi">8</span><span class="p">)</span>
            <span class="p">(</span><span class="nf">ash</span> <span class="nv">word</span> <span class="mi">-8</span><span class="p">)</span>
            <span class="p">(</span><span class="nb">cons </span><span class="p">(</span><span class="nf">u8vector-ref</span> <span class="nv">rev8</span> <span class="p">(</span><span class="nf">logand</span> <span class="nv">word</span> <span class="o">#</span><span class="nv">xff</span><span class="p">))</span> <span class="nv">revs</span><span class="p">)))))</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3054/addtag/" class="addtag" id="addtag_3054">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/scheme/">
		Scheme
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3054/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3054/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #dfffdf;"
  >2/2=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3054"
  >-</span><span
  class="button yellow"
  id="rating_z_3054"
  >0</span><span 
  class="button green"
  id="rating_p_3054"
  >+</span></span></span>
  
<p>

  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3054/">
  返信
  </a>]
  </div>
</div>
</div>



  


  

  

  
    




<div class="comment" id="comment3042"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/375/" target="_top">nskj77</a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3042/">#3042</a>(<script language="JavaScript">print_time(new Date("2007/09/17 15:49 GMT"));</script><noscript>2007/09/17 15:49 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/haskell/">
	  Haskell
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>*Main&gt; exec 4
[0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15]</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5
6
7</pre></td><td class="code"><div class="highlight"><pre><span class="kr">import</span> <span class="n">Data</span><span class="o">.</span><span class="n">List</span> <span class="p">(</span><span class="nv">elemIndices</span><span class="p">)</span>

<span class="nv">tobinaries</span> <span class="mi">0</span> <span class="o">=</span> <span class="p">[]</span>
<span class="nv">tobinaries</span> <span class="nv">n</span> <span class="o">=</span> <span class="p">(</span><span class="nv">iterate</span> <span class="nv">f</span> <span class="p">[</span><span class="s">&quot;0&quot;</span><span class="p">,</span><span class="s">&quot;1&quot;</span><span class="p">])</span> <span class="o">!!</span> <span class="p">(</span><span class="nv">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
  <span class="kr">where</span> <span class="nv">f</span> <span class="nv">xs</span> <span class="o">=</span> <span class="nv">concatMap</span> <span class="p">(</span><span class="o">\</span><span class="nv">x</span> <span class="o">-&gt;</span>  <span class="nv">map</span> <span class="p">(</span><span class="nv">x</span><span class="o">++</span><span class="p">)</span> <span class="nv">xs</span><span class="p">)</span> <span class="p">[</span><span class="s">&quot;0&quot;</span><span class="p">,</span><span class="s">&quot;1&quot;</span><span class="p">]</span>

<span class="nv">exec</span> <span class="o">=</span> <span class="nv">map</span> <span class="p">(</span><span class="nv">sum</span> <span class="o">.</span> <span class="nv">map</span> <span class="p">(</span><span class="o">\</span><span class="nv">x</span> <span class="o">-&gt;</span> <span class="mi">2</span> <span class="o">^</span> <span class="nv">x</span><span class="p">)</span> <span class="o">.</span> <span class="nv">elemIndices</span> <span class="sc">&#39;1&#39;</span><span class="p">)</span> <span class="o">.</span> <span class="nv">tobinaries</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3042/addtag/" class="addtag" id="addtag_3042">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/haskell/">
		Haskell
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3042/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3042/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3042"
  >-</span><span
  class="button yellow"
  id="rating_z_3042"
  >0</span><span 
  class="button green"
  id="rating_p_3042"
  >+</span></span></span>
  
<p>

  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3042/">
  返信
  </a>]
  </div>
</div>
</div>



  


  

  
    




<div class="comment" id="comment3039"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3039/">#3039</a>(<script language="JavaScript">print_time(new Date("2007/09/17 15:29 GMT"));</script><noscript>2007/09/17 15:29 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/java/">
	  Java
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  題意より、2の32乘個のリストまで表現する必要があるためLinkedListを使用しています（64bit環境でメモリを大量に積んでいないと現実的ではありませんが）。
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></td><td class="code"><div class="highlight"><pre><span class="k">import</span> <span class="nn">java.util.*</span><span class="o">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">Sample</span> <span class="o">{</span>
    <span class="k">public</span> <span class="k">static</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">Long</span><span class="o">&gt;</span> <span class="n">reverseList</span><span class="o">(</span><span class="kt">int</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">Long</span><span class="o">&gt;</span> <span class="n">a</span> <span class="o">=</span> <span class="k">new</span> <span class="n">LinkedList</span><span class="o">&lt;</span><span class="n">Long</span><span class="o">&gt;();</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">long</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="o">(</span><span class="mi">1L</span> <span class="o">&lt;&lt;</span> <span class="n">n</span><span class="o">);</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="n">a</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">Long</span><span class="o">.</span><span class="na">reverse</span><span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="o">&gt;&gt;&gt;</span> <span class="o">(</span><span class="mi">64</span> <span class="o">-</span> <span class="n">n</span><span class="o">));</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">a</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="k">public</span> <span class="k">static</span> <span class="kt">void</span> <span class="n">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">reverseList</span><span class="o">(</span><span class="mi">4</span><span class="o">));</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3039/addtag/" class="addtag" id="addtag_3039">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/java/">
		Java
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3039/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3039/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3039"
  >-</span><span
  class="button yellow"
  id="rating_z_3039"
  >0</span><span 
  class="button green"
  id="rating_p_3039"
  >+</span></span></span>
  
<p>

  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3039/">
  返信
  </a>]
  </div>
</div>
</div>



  


  

  
    




<div class="comment" id="comment3201"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/160/" target="_top">niha</a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3201/">#3201</a>(<script language="JavaScript">print_time(new Date("2007/09/30 16:28 GMT"));</script><noscript>2007/09/30 16:28 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/ruby/">
	  Ruby
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>適当</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2</pre></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">f</span> <span class="n">n</span>
<span class="p">(</span><span class="mi">0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="mi">2</span><span class="o">&lt;&lt;~-</span><span class="n">n</span><span class="p">)</span><span class="o">.</span><span class="n">map</span><span class="p">{</span><span class="o">|</span><span class="n">x</span><span class="o">|</span><span class="p">(</span><span class="s2">&quot;%0</span><span class="si">#{</span><span class="n">n</span><span class="si">}</span><span class="s2">b&quot;</span><span class="o">%</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">reverse</span><span class="o">.</span><span class="n">to_i</span> <span class="mi">2</span><span class="p">}</span><span class="k">end</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3201/addtag/" class="addtag" id="addtag_3201">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/ruby/">
		Ruby
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3201/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3201/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3201"
  >-</span><span
  class="button yellow"
  id="rating_z_3201"
  >0</span><span 
  class="button green"
  id="rating_p_3201"
  >+</span></span></span>
  
<p>

  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3201/">
  返信
  </a>]
  </div>
</div>
</div>



  


  

  
    




<div class="comment" id="comment6150"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/257/" target="_top">JDO</a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/6150/">#6150</a>(<script language="JavaScript">print_time(new Date("2008/04/07 12:49 GMT"));</script><noscript>2008/04/07 12:49 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/perl/">
	  Perl
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>おなじみの再帰でかきましたぁ～

2進法の数字列を文字の列のパターンとして考えたみたんだ。
 ようは左側の文字列の右側にもうひとつ文字をくっつけるってことだね。

たとえば、N=1 なら

0
1

だけど、N=2 なら、この N=1 の結果に対して、
右側に 0 をつけたバージョンと、
右側に 1 をつけたバージョンを
つくって、つなげたものってことになる。

00
10

01
11

N がどんな数でも N-1 のときの結果の右側に 0 をつけたバージョンと
1 をつけたバージョン をつくって、つなげるだけでいい。

ただし、文字列として 0 を"つける" とか 1 を "つける" っていうのは、
数でいえば 左側の数字を1桁繰り上げるたものに 0 を "たす" とか
1 を "たす" っていうことなんだ。"つける" ⇔ "たす" ってこと。
左側の数が $g だったら、$g*2 + 0 とか $g*2 + 1 っていうことになるんだ。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></td><td class="code"><div class="highlight"><pre><span class="k">sub </span><span class="nf">generate</span>
  <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="k">if</span> <span class="nv">$_</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span><span class="mi">0</span> <span class="p">;</span> <span class="c1"># 数 0 ひとつだけのリスト。これが種になるんだ。</span>

  <span class="k">my</span> <span class="p">(</span><span class="nv">@gs</span><span class="p">)</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">generate</span> <span class="p">(</span><span class="nv">$_</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="p">;</span> <span class="c1">#  左側の数字を先につくる</span>

  <span class="k">my</span> <span class="p">(</span><span class="nv">@r</span><span class="p">)</span> <span class="o">=</span> <span class="p">()</span> <span class="p">;</span>
  <span class="k">foreach</span> <span class="k">my</span> <span class="nv">$g</span> <span class="p">(</span><span class="nv">@gs</span><span class="p">)</span> <span class="p">{</span><span class="nb">push</span> <span class="p">(</span><span class="nv">@r</span><span class="p">,</span> <span class="nv">$g</span><span class="o">*</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">0</span><span class="p">)</span> <span class="p">;}</span> <span class="c1"># 右側に 0 をつけたバージョン</span>
  <span class="k">foreach</span> <span class="k">my</span> <span class="nv">$g</span> <span class="p">(</span><span class="nv">@gs</span><span class="p">)</span> <span class="p">{</span><span class="nb">push</span> <span class="p">(</span><span class="nv">@r</span><span class="p">,</span> <span class="nv">$g</span><span class="o">*</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="p">;}</span> <span class="c1"># 右側に 1 をつけたバージョン</span>
  <span class="k">return</span> <span class="nv">@r</span> <span class="p">;</span>
  <span class="p">}</span>

<span class="k">my</span> <span class="p">(</span><span class="nv">@gs</span><span class="p">)</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">generate</span> <span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="p">;</span>

<span class="k">foreach</span> <span class="k">my</span> <span class="nv">$g</span> <span class="p">(</span><span class="nv">@gs</span><span class="p">)</span> <span class="p">{</span><span class="k">print</span> <span class="s">&quot;$g\n&quot;</span> <span class="p">;}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/6150/addtag/" class="addtag" id="addtag_6150">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/perl/">
		Perl
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/6150/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/6150/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_6150"
  >-</span><span
  class="button yellow"
  id="rating_z_6150"
  >0</span><span 
  class="button green"
  id="rating_p_6150"
  >+</span></span></span>
  
<p>

  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/6150/">
  返信
  </a>]
  </div>
</div>
</div>



  


  

  
    




<div class="comment" id="comment3038"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/154/" target="_top">xsd</a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3038/">#3038</a>(<script language="JavaScript">print_time(new Date("2007/09/17 15:20 GMT"));</script><noscript>2007/09/17 15:20 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/ocaml/">
	  OCaml
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>memoizeとか末尾最適化とかPervasivesで使えそうなものをみつくろうとか
色々まだ残ってますが、とりあえず投稿。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></td><td class="code"><div class="highlight"><pre><span class="kr">let</span> <span class="kr">rec</span> <span class="n">dup</span> <span class="n">n</span> <span class="k">=</span> <span class="kr">function</span>
    <span class="k">|</span> <span class="k">[]</span>      <span class="k">-&gt;</span> <span class="k">[]</span>
    <span class="k">|</span> <span class="n">x</span> <span class="k">::</span> <span class="n">xs</span> <span class="k">-&gt;</span> <span class="n">x</span> <span class="k">::</span> <span class="k">(</span><span class="n">x</span><span class="k">+</span><span class="n">n</span><span class="k">)</span> <span class="k">::</span> <span class="k">(</span><span class="n">dup</span> <span class="n">n</span> <span class="n">xs</span><span class="k">)</span>

<span class="kr">let</span> <span class="n">makerev</span> <span class="n">n</span> <span class="k">=</span> 
    <span class="kr">let</span> <span class="kr">rec</span> <span class="n">makerev&#39;</span> <span class="k">=</span> <span class="kr">function</span>
        <span class="k">|</span> <span class="mi">1</span> <span class="k">-&gt;</span> <span class="k">[</span><span class="mi">0</span><span class="k">;</span> <span class="mi">1</span><span class="k">]</span>
        <span class="k">|</span> <span class="n">x</span> <span class="k">-&gt;</span> <span class="n">dup</span> <span class="n">x</span> <span class="k">(</span><span class="n">makerev&#39;</span> <span class="k">(</span><span class="n">x</span><span class="o">/</span><span class="mi">2</span><span class="k">))</span>
    <span class="kr">in</span> <span class="n">makerev&#39;</span> <span class="k">(</span><span class="mi">1</span> <span class="kr">lsl</span> <span class="k">(</span><span class="n">n</span><span class="k">-</span><span class="mi">1</span><span class="k">))</span>


<span class="k">#</span> <span class="n">makerev</span> <span class="mi">4</span><span class="k">;;</span>
<span class="k">-</span> <span class="k">:</span> <span class="n">int</span> <span class="n">list</span> <span class="k">=</span> <span class="k">[</span><span class="mi">0</span><span class="k">;</span> <span class="mi">8</span><span class="k">;</span> <span class="mi">4</span><span class="k">;</span> <span class="mi">12</span><span class="k">;</span> <span class="mi">2</span><span class="k">;</span> <span class="mi">10</span><span class="k">;</span> <span class="mi">6</span><span class="k">;</span> <span class="mi">14</span><span class="k">;</span> <span class="mi">1</span><span class="k">;</span> <span class="mi">9</span><span class="k">;</span> <span class="mi">5</span><span class="k">;</span> <span class="mi">13</span><span class="k">;</span> <span class="mi">3</span><span class="k">;</span> <span class="mi">11</span><span class="k">;</span> <span class="mi">7</span><span class="k">;</span> <span class="mi">15</span><span class="k">]</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3038/addtag/" class="addtag" id="addtag_3038">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/ocaml/">
		OCaml
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3038/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3038/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3038"
  >-</span><span
  class="button yellow"
  id="rating_z_3038"
  >0</span><span 
  class="button green"
  id="rating_p_3038"
  >+</span></span></span>
  
<p>

  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3038/">
  返信
  </a>]
  </div>
</div>
</div>



  


  

  
    




<div class="comment" id="comment3075"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/415/" target="_top">yohei</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3075/">#3075</a>(<script language="JavaScript">print_time(new Date("2007/09/18 21:26 GMT"));</script><noscript>2007/09/18 21:26 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/csharp/">
	  C#
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>n &lt;= 30まで（メモリが足りれば動くはず）。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></td><td class="code"><div class="highlight"><pre><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">class</span> <span class="nc">Program</span> <span class="k">{</span>
    <span class="k">static</span> <span class="kt">int</span><span class="p">[]</span> <span class="n">reverse_list</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">)</span> <span class="k">{</span>
        <span class="kt">int</span><span class="p">[]</span> <span class="n">list</span> <span class="p">=</span> <span class="k">new</span> <span class="kt">int</span><span class="p">[</span><span class="m">1</span> <span class="p">&lt;&lt;</span> <span class="n">n</span><span class="p">];</span>
        <span class="kt">int</span> <span class="n">k</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span>
        <span class="n">list</span><span class="p">[</span><span class="m">0</span><span class="p">]</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">on</span> <span class="p">=</span> <span class="m">1</span> <span class="p">&lt;&lt;</span> <span class="p">(</span><span class="n">n</span> <span class="p">-</span> <span class="m">1</span><span class="p">);</span> <span class="n">on</span> <span class="p">&gt;</span> <span class="m">0</span><span class="p">;</span> <span class="n">on</span> <span class="p">&gt;&gt;=</span> <span class="m">1</span><span class="p">)</span> <span class="k">{</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">k</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
                <span class="n">list</span><span class="p">[</span><span class="n">k</span> <span class="p">+</span> <span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="n">list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">|</span> <span class="n">on</span><span class="p">;</span>
            <span class="n">k</span> <span class="p">&lt;&lt;=</span> <span class="m">1</span><span class="p">;</span>
        <span class="k">}</span>
        <span class="k">return</span> <span class="n">list</span><span class="p">;</span>
    <span class="k">}</span>
    <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span> <span class="k">{</span>
        <span class="k">foreach</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="k">in</span> <span class="n">reverse_list</span><span class="p">(</span><span class="m">4</span><span class="p">))</span>
            <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
    <span class="k">}</span>
<span class="k">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3075/addtag/" class="addtag" id="addtag_3075">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/csharp/">
		C#
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3075/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3075/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3075"
  >-</span><span
  class="button yellow"
  id="rating_z_3075"
  >0</span><span 
  class="button green"
  id="rating_p_3075"
  >+</span></span></span>
  
<p>

  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3075/">
  返信
  </a>]
  </div>
</div>
</div>



  


  

  
    




<div class="comment" id="comment6151"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/257/" target="_top">JDO</a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/6151/">#6151</a>(<script language="JavaScript">print_time(new Date("2008/04/07 13:34 GMT"));</script><noscript>2008/04/07 13:34 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/xslt/">
	  XSLT
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>Perl で書いたやつを XSLT にしましたぁ～
ってか、ほんとは XSLT で最初から書きたかったから、 
Perl はプロトタイプとしてかいただけなんだけどね...

Perl バージョンを読んでない人のために、説明文もそのまま流用しまぁ～す

──────────────────────────────

2進法の数字列を文字の列のパターンとして考えたみたんだ。
 ようは左側の文字列の右側にもうひとつ文字をくっつけるってことだね。

たとえば、N=1 なら

0
1

だけど、N=2 なら、この N=1 の結果に対して、
右側に 0 をつけたバージョンと、
右側に 1 をつけたバージョンを
つくって、つなげたものってことになる。

00
10

01
11

N がどんな数でも N-1 のときの結果の右側に 0 をつけたバージョンと
1 をつけたバージョン をつくって、つなげるだけでいい。

ただし、文字列として 0 を"つける" とか 1 を "つける" っていうのは、
数でいえば 左側の数字を1桁繰り上げるたものに 0 を "たす" とか
1 を "たす" っていうことなんだ。"つける" ⇔ "たす" ってこと。
左側の数が number (.) だったら、number (.) * 2 + 0 とか
number (.) * 2 + 1 っていうことになるんだ。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44</pre></td><td class="code"><div class="highlight"><pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;Shift_JIS&quot; ?&gt;
&lt;xsl:stylesheet version=&quot;1.0&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;

&lt;xsl:template match=&quot;/&quot;&gt;
  &lt;xsl:call-template name=&quot;generate&quot;&gt;
    &lt;xsl:with-param name=&quot;column&quot; select=&quot;4&quot; /&gt;
  &lt;/xsl:call-template&gt;
&lt;/xsl:template&gt;

&lt;xsl:template name=&quot;generate&quot;&gt;
  &lt;xsl:param name=&quot;column&quot; /&gt;

  &lt;xsl:choose&gt;
    &lt;!-- 数 0 ひとつだけのリスト。これが種になるんだ。 --&gt;
    &lt;!-- リストのタグ名はなんでもいいので、HTML の ol と li を使うことにした --&gt;
    &lt;xsl:when test=&quot;$column = 0&quot;&gt;
      &lt;ol&gt;&lt;li&gt;0&lt;/li&gt;&lt;/ol&gt;
    &lt;/xsl:when&gt;

    &lt;xsl:otherwise&gt;
      &lt;!-- 左側の数字を先につくる --&gt;
      &lt;xsl:variable name=&quot;gse&quot;&gt;
        &lt;xsl:call-template name=&quot;generate&quot;&gt;
          &lt;xsl:with-param name=&quot;column&quot; select=&quot;$column - 1&quot; /&gt;
        &lt;/xsl:call-template&gt;
      &lt;/xsl:variable&gt;
      &lt;xsl:variable name=&quot;gs&quot; select=&quot;$gse&quot; /&gt;

      &lt;ol&gt;
        &lt;!-- 右側に 0 をつけたバージョン --&gt;
        &lt;xsl:for-each select=&quot;$gs/ol/li/text ()&quot;&gt;
          &lt;li&gt;&lt;xsl:value-of select=&quot;number (.) * 2 + 0&quot; /&gt;&lt;/li&gt;
        &lt;/xsl:for-each&gt;

        &lt;!-- 右側に 1 をつけたバージョン --&gt;
        &lt;xsl:for-each select=&quot;$gs/ol/li/text ()&quot;&gt;
          &lt;li&gt;&lt;xsl:value-of select=&quot;number (.) * 2 + 1&quot; /&gt;&lt;/li&gt;
        &lt;/xsl:for-each&gt;
      &lt;/ol&gt;
    &lt;/xsl:otherwise&gt;
  &lt;/xsl:choose&gt;
&lt;/xsl:template&gt;

&lt;/xsl:stylesheet&gt;
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/6151/addtag/" class="addtag" id="addtag_6151">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/xslt/">
		XSLT
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/6151/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/6151/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_6151"
  >-</span><span
  class="button yellow"
  id="rating_z_6151"
  >0</span><span 
  class="button green"
  id="rating_p_6151"
  >+</span></span></span>
  
<p>

  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/6151/">
  返信
  </a>]
  </div>
</div>
</div>



  


  

  
    




<div class="comment" id="comment3633"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3633/">#3633</a>(<script language="JavaScript">print_time(new Date("2007/10/31 14:17 GMT"));</script><noscript>2007/10/31 14:17 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/awk/">
	  awk
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>スクリプト中の変数 n に値を送り込むのは，-v オプションで，以下のようにする

awk -f p3417.awk -v n=3
0
4
2
6
1
5
3
7
</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></td><td class="code"><div class="highlight"><pre>BEGIN {
    for (i = 0; i &lt; 2^n; i++) {
        print foo(n, i)
    }
}

function foo(n, i,     sum, j, x) {
    sum = 0
    for (j = 0; j &lt; n; j++) {
        x = i%2
        i = int(i/2)
        sum += x*2^(n-j-1)
    }
    return sum
}
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3633/addtag/" class="addtag" id="addtag_3633">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/awk/">
		awk
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3633/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3633/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3633"
  >-</span><span
  class="button yellow"
  id="rating_z_3633"
  >0</span><span 
  class="button green"
  id="rating_p_3633"
  >+</span></span></span>
  
<p>

  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3633/">
  返信
  </a>]
  </div>
</div>
</div>



  


  

  
    




<div class="comment" id="comment4497"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/4497/">#4497</a>(<script language="JavaScript">print_time(new Date("2007/11/30 06:34 GMT"));</script><noscript>2007/11/30 06:34 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/bash/">
	  Bash
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  <p>シェルで配列を扱う練習のために書いてみました。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31</pre></td><td class="code"><div class="highlight"><pre><span class="c">#!/bin/bash</span>

<span class="nb">declare</span> -a result
<span class="nb">declare</span> -i rsize

rev_list_inner<span class="o">(){</span>
  <span class="nb">local </span>n i s
  <span class="nv">n</span><span class="o">=</span><span class="nv">$1</span>
  <span class="nv">i</span><span class="o">=</span><span class="nv">$2</span>
  <span class="nv">s</span><span class="o">=</span><span class="nv">$3</span>
  <span class="k">if</span> <span class="o">[[</span> <span class="nv">$n</span> -eq <span class="m">0</span> <span class="o">]]</span>; <span class="k">then</span>
<span class="k">    </span>result<span class="o">[</span><span class="k">$(</span><span class="o">(</span>rsize++<span class="k">)</span><span class="o">)]=</span><span class="nv">$s</span>
  <span class="k">else</span>
<span class="k">    </span>rev_list_inner <span class="k">$(</span><span class="o">(</span><span class="nv">$n</span>-1<span class="k">)</span><span class="o">)</span> <span class="k">$(</span><span class="o">(</span><span class="nv">$i</span>*2<span class="k">)</span><span class="o">)</span> <span class="nv">$s</span>
    rev_list_inner <span class="k">$(</span><span class="o">(</span><span class="nv">$n</span>-1<span class="k">)</span><span class="o">)</span> <span class="k">$(</span><span class="o">(</span><span class="nv">$i</span>*2<span class="k">)</span><span class="o">)</span> <span class="k">$(</span><span class="o">(</span><span class="nv">$i</span>+<span class="nv">$s</span><span class="k">)</span><span class="o">)</span>
  <span class="k">fi</span>
<span class="o">}</span>

rev_list<span class="o">(){</span>
  <span class="nb">local </span>n
  <span class="nv">n</span><span class="o">=</span><span class="nv">$1</span>
  <span class="nv">rsize</span><span class="o">=</span>0
  <span class="nv">result</span><span class="o">=()</span>
  rev_list_inner <span class="nv">$n</span> <span class="m">1</span> 0
<span class="o">}</span>

<span class="c"># test</span>
rev_list 4
<span class="nb">echo</span> <span class="k">${</span><span class="nv">result</span><span class="p">[@]</span><span class="k">}</span>
rev_list 10
<span class="nb">echo</span> <span class="k">${</span><span class="nv">result</span><span class="p">[@]</span><span class="k">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/4497/addtag/" class="addtag" id="addtag_4497">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/bash/">
		Bash
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/4497/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/4497/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_4497"
  >-</span><span
  class="button yellow"
  id="rating_z_4497"
  >0</span><span 
  class="button green"
  id="rating_p_4497"
  >+</span></span></span>
  
<p>

  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/4497/">
  返信
  </a>]
  </div>
</div>
</div>



  


  

  

  
    




<div class="comment" id="comment3043"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/82/" target="_top">yuin</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3043/">#3043</a>(<script language="JavaScript">print_time(new Date("2007/09/17 16:05 GMT"));</script><noscript>2007/09/17 16:05 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/scala/">
	  Scala
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #dfffdf;">2/2=1.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  
<p>有名なアレですね。
</p>



	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></td><td class="code"><div class="highlight"><pre>def bitReverse(n:int) = {
  val shift = 32 - n
  (0 to Math.pow(2, n).toInt-1).map{v =&gt;
    var x = v
    x = (((x &amp; 0xaaaaaaaa) &gt;&gt; 1) | ((x &amp; 0x55555555) &lt;&lt; 1))
    x = (((x &amp; 0xcccccccc) &gt;&gt; 2) | ((x &amp; 0x33333333) &lt;&lt; 2))
    x = (((x &amp; 0xf0f0f0f0) &gt;&gt; 4) | ((x &amp; 0x0f0f0f0f) &lt;&lt; 4))
    x = (((x &amp; 0xff00ff00) &gt;&gt; 8) | ((x &amp; 0x00ff00ff) &lt;&lt; 8))
    x = ((x &gt;&gt; 16) | (x &lt;&lt; 16))
    x &gt;&gt;&gt; shift
  }.toList
}
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3043/addtag/" class="addtag" id="addtag_3043">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/scala/">
		Scala
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3043/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3043/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #dfffdf;"
  >2/2=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3043"
  >-</span><span
  class="button yellow"
  id="rating_z_3043"
  >0</span><span 
  class="button green"
  id="rating_p_3043"
  >+</span></span></span>
  
<p>

  

  <a href="/web/20101115103304/http://ja.doukaku.org/comment/3043/">
    1
    reply
  </a>

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3043/">
  返信
  </a>]
  </div>
</div>
</div>



  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      




<div class="comment" id="comment3048"><!--dj-->
  <p class="banner"><a href="/web/20101115103304/http://ja.doukaku.org/user/82/" target="_top">yuin</a><a href="/web/20101115103304/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3048/">#3048</a>(<script language="JavaScript">print_time(new Date("2007/09/17 16:42 GMT"));</script><noscript>2007/09/17 16:42 GMT</noscript>)
	
	
	
	[<a href="/web/20101115103304/http://ja.doukaku.org/lang/scala/">
	  Scala
	</a>]
	
	
	
	&nbsp;
<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>

  <div class="comment_content" >
	<div class="comment_body">
	  
<p>まぁ標準でこの機能があるので普通書くならこっちですね。
</p>



	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5</pre></td><td class="code"><div class="highlight"><pre>def bitReverse(n:int) = {
  (0 to Math.pow(2, n).toInt-1).map{v =&gt;
    Integer.reverse(v) &gt;&gt;&gt; (32 - n)
  }.toList
}
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20101115103304/http://ja.doukaku.org/comment/3048/addtag/" class="addtag" id="addtag_3048">タグ</a>:
	なし&nbsp;

	
      [<a href="/web/20101115103304/http://ja.doukaku.org/lang/scala/">
		Scala
      </a>]
	  
      [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3048/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20101115103304/http://ja.doukaku.org/comment/3048/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3048"
  >-</span><span
  class="button yellow"
  id="rating_z_3048"
  >0</span><span 
  class="button green"
  id="rating_p_3048"
  >+</span></span></span>
  
<p>

  
    <a href="/web/20101115103304/http://ja.doukaku.org/comment/3043/"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20101115103304/http://ja.doukaku.org/comment/3048/root/"><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20101115103304/http://ja.doukaku.org/61/reply_to/3048/">
  返信
  </a>]
  </div>
</div>
</div>



  


    </div>
  


  







</div>

<div id="side_menu" class="compact">

<iframe src="/web/20101115103304if_/http://ja.doukaku.org/login_info/" frameborder=0 width=100% id="login_info">
iframe required
</iframe>

<h4 class="semi_compact">一覧</h4>

<ul>
<li><a href="/web/20101115103304/http://ja.doukaku.org/lang/">言語</a>
<li><a href="/web/20101115103304/http://ja.doukaku.org/challenge/">お題</a>
<li><a href="/web/20101115103304/http://ja.doukaku.org/topic/">トピック</a>
<li><a href="/web/20101115103304/http://ja.doukaku.org/comment/">投稿</a>
<li><a href="/web/20101115103304/http://ja.doukaku.org/good_comments/">評価の高い投稿</a>
<li><a href="/web/20101115103304/http://ja.doukaku.org/tag/">タグ</a>
</ul>

<h4 class="compact">フィード</h4>
<ul>
<li><a href="/web/20101115103304/http://ja.doukaku.org/feeds/topics/">最新のトピック</a><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/feed_icon.png">
<li><a href="/web/20101115103304/http://ja.doukaku.org/feeds/comments/">新着投稿</a><img src="/web/20101115103304im_/http://ja.doukaku.org/static/image/feed_icon.png">
</ul>

<h4 class="compact">その他</h4>
<ul>
<li><a href="/web/20101115103304/http://ja.doukaku.org/qa/">Q&amp;A</a>
<li><a href="/web/20101115103304/http://ja.doukaku.org/feedback/">フィードバック</a>
<!--<li><a href="/terms">用語集</a>-->
</ul>


<h4 class="compact">リンク</h4>
<ul>
<li><a href="/web/20101115103304/http://labs.cybozu.co.jp/">サイボウズ・ラボ</a>
<li><a href="/web/20101115103304/http://www.djangoproject.com/">Django</a>
</ul>


</div>
</div>


<div id="page_foot" class="bordered">
<a rel="license" href="/web/20101115103304/http://creativecommons.org/licenses/by/2.1/jp/">
<img alt="Creative Commons License" style="border-width:0" src="/web/20101115103304im_/http://i.creativecommons.org/l/by/2.1/jp/88x31.png" /></a>
このサイトの内容は、
<a rel="license" href="/web/20101115103304/http://creativecommons.org/licenses/by/2.1/jp/">クリエイティブ・コモンズ・ライセンス</a>の下でライセンスされています。
<a href="/web/20101115103304/http://ja.doukaku.org/qa/#licence">[詳細]</a>
</div>

</body>



<script type="text/javascript">
$(document).ready(function(){$("#doukaku_org").after("<script src='/web/20101115103304/http://api.pathtraq.com/pages?url=http%3A%2F%2Fja.doukaku.org%2Fcomment%2F*%2F%20desc%3A%E3%81%A9%E3%81%86%E6%9B%B8%E3%81%8Forg&api=json&callback=addPathtraq'><" + "/script>")});
</script>

<script src="/web/20101115103304js_/http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-2136157-1";
urchinTracker();
</script>



</html>





<!--
     FILE ARCHIVED ON 10:33:04 Nov 15, 2010 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 15:13:40 Nov 16, 2013.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
