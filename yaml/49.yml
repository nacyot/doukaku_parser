---
:id: '49'
:title: 隣り合う二項の差
:comments:
- :id: '3405'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/3405
  :user_name: にしお
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/1/
  :language: 
  :time: 2007/08/22 13:15 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\r\n\t  整数のリストがxsが与えられたときに、\r\n隣り合う2要素の差のリストを作る関数diffを作ってください。\r\n<p>\r\n</p>\n<pre>\r\nサンプル入力\r\n[3,
    1, 4, 1, 5, 9, 2, 6, 5]\r\nサンプル出力\r\n[-2, 3, -3, 4, 4, -7, 4, -1]\r\n</pre>\r\n\r\n\t"
  :code: ''
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2380'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2380
  :user_name: cats
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/172/
  :language: C
  :time: 2007/08/22 13:23 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <pre class=\"compact\"></pre>\n\t"
  :code: |
    using System;
    class Program
    {
      static void Main()
      {
        int[] xs = { 3, 1, 4, 1, 5, 9, 2, 6, 5 };
        foreach (int k in Diff(xs))
          Console.WriteLine(k);
      }
      static int[] Diff(int[] xs)
      {
        int[] diff = new int[xs.Length - 1];
        for (int i = 0; i &lt; xs.Length - 1; ++i) diff[i] = xs[i + 1] - xs[i];
        return diff;
      }
    }
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2381'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2381
  :user_name: kozima
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/164/
  :language: Common
  :time: 2007/08/22 13:26 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <pre class=\"compact\">ごく普通に do で。</pre>\n\t"
  :code: |
    (defun diff (list)
      (do ((rest list (cdr rest))
           (acc ()))
          ((null (cdr rest)) (nreverse acc))
        (push (- (cadr rest) (car rest)) acc)))
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2382'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2382
  :user_name: lkr
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/393/
  :language: Ruby
  :time: 2007/08/22 13:30 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <pre class=\"compact\"></pre>\n\t"
  :code: "def diff(xs)\n\traise ArgumentError unless xs.size &gt;= 2 \n\n\t(0..xs.size-1-1).map{
    |n|\n\t\txs[n+1] - xs[n]\n\t}\nend\n\np diff( [3, 1, 4, 1, 5, 9, 2, 6, 5] )\n"
  :tags:
  - ruby
  :references:
    :url: 
    :title: 
- :id: '2383'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2383
  :user_name: takkanm
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/224/
  :language: Haskell
  :time: 2007/08/22 13:34 GMT
  :vote_count: '2'
  :vote_score: '2'
  :body: "\n\t  <pre class=\"compact\">ざくっと書いた</pre>\n\t"
  :code: |
    diff (x:[]) = []
    diff (x:(y:ys)) = (:) (y-x) $ diff $ y:ys
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2384'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2384
  :user_name: yooskeh
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/91/
  :language: Prolog
  :time: 2007/08/22 13:41 GMT
  :vote_count: '1'
  :vote_score: '1'
  :body: "\n\t  <pre class=\"compact\"></pre>\n\t"
  :code: "diff([_], []).\ndiff([X1,X2|Xs], [D|Ds]) :-\n\tD is X2 - X1,\n\tdiff([X2|Xs],
    Ds).\n"
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2386'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2386
  :user_name: 匿名
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/4/
  :language: Java
  :time: 2007/08/22 13:51 GMT
  :vote_count: '1'
  :vote_score: '1'
  :body: "\n\t  普通にIteratorを使っています。\n\t"
  :code: |
    import java.util.*;

    public class Sample {
        public static List&lt;Integer&gt; diff(List&lt;Integer&gt; a) {
            List&lt;Integer&gt; result = new ArrayList&lt;Integer&gt;();
            Iterator&lt;Integer&gt; i = a.iterator();
            int prev = i.next();
            while (i.hasNext()) {
                int next = i.next();
                result.add(next - prev);
                prev = next;
            }
            return result;
        }

        public static void main(String[] args) {
            System.out.println(diff(Arrays.asList(3, 1, 4, 1, 5, 9, 2, 6, 5)));
        }
    }
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2389'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2389
  :user_name: 匿名
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/4/
  :language: Perl
  :time: 2007/08/22 14:02 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <pre class=\"compact\">うーん・・・。美しくないな。。</pre>\n\t"
  :code: |
    sub diff { $n = shift; map { $r = $_ - $n; $n = $_; $r } @_; }
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2391'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2391
  :user_name: watta
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/183/
  :language: JavaScript
  :time: 2007/08/22 14:05 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <pre class=\"compact\"></pre>\n\t"
  :code: |
    Array.prototype.diff = function() {
        for (var i = 0, l = this.length, buf = []; i &lt; l-1; i++) {
            buf[i] = this[i+1] - this[i];
        }
        return buf;
    }

    alert([3, 1, 4, 1, 5, 9, 2, 6, 5].diff());
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2392'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2392
  :user_name: ocean
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/177/
  :language: C
  :time: 2007/08/22 14:10 GMT
  :vote_count: '1'
  :vote_score: '1'
  :body: "\n\t  <pre class=\"compact\">STLのadjacent_differenceを使用。</pre>\n\t"
  :code: |
    #include &lt;iostream&gt;
    #include &lt;iterator&gt;
    #include &lt;algorithm&gt;
    #include &lt;numeric&gt;
    #include &lt;vector&gt;

    std::vector&lt;int&gt; diff(const std::vector&lt;int&gt;&amp; in)
    {
        std::vector&lt;int&gt; out(in.size());

        std::adjacent_difference(in.begin(), in.end(), out.begin());

        if (! out.empty()) out.erase(out.begin());

        return out;
    }

    int main()
    {
        const int a[] = {3, 1, 4, 1, 5, 9, 2, 6, 5};

        const std::vector&lt;int&gt; xs(a, a + sizeof(a) / sizeof(*a));

        const std::vector&lt;int&gt; v = diff(xs);

        std::copy(v.begin(), v.end(), std::ostream_iterator&lt;int&gt;(std::cout, ", "));
    }
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2393'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2393
  :user_name: nobsun
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/98/
  :language: Haskell
  :time: 2007/08/22 14:11 GMT
  :vote_count: '2'
  :vote_score: '2'
  :body: "\n\t  <pre class=\"compact\">Sコンビネータ(starling)をつかってポイントフリー</pre>\n\t"
  :code: |
    starling f g x = f x (g x)
    diff = starling (zipWith subtract) tail
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2394'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2394
  :user_name: kzfm
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/106/
  :language: Perl
  :time: 2007/08/22 14:13 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <pre class=\"compact\">リストを返すようなreduceの使い方がよくわかっていないので、なんだかなーって感じになってしまった。</pre>\n\t"
  :code: |
    use List::Util qw/reduce/;
    sub diff {my @d;reduce {push @d,$b-$a; $b} @_;@d;}
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2396'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2396
  :user_name: ocean
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/177/
  :language: Python
  :time: 2007/08/22 14:18 GMT
  :vote_count: '1'
  :vote_score: '1'
  :body: "\n\t  <pre class=\"compact\">普通に。</pre>\n\t"
  :code: |
    def diff(xs):
        if xs:
            return [xs[i + 1] - xs[i] for i in xrange(len(xs) - 1)]
        else:
            return []

    def main():
        print diff([3, 1, 4, 1, 5, 9, 2, 6, 5])

    if __name__ == '__main__':
        main()
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2397'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2397
  :user_name: iwk
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/49/
  :language: OCaml
  :time: 2007/08/22 14:20 GMT
  :vote_count: '1'
  :vote_score: '-1'
  :body: "\n\t  <pre class=\"compact\"></pre>\n\t"
  :code: |
    #light
    let rec diff = function
        | [] -&gt; failwith "invalid argument"
        | x::[] -&gt; failwith "invalid argument"
        | x::x'::[] -&gt; (x'-x)::[]
        | x::x'::xs -&gt; (x'-x)::diff (x'::xs)

    let xs = [3;1;4;1;5;9;2;6;5]
  :tags:
  - F#
  :references:
    :url: 
    :title: 
- :id: '2398'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2398
  :user_name: higeorange
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/194/
  :language: Io
  :time: 2007/08/22 14:22 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <pre class=\"compact\"></pre>\n\t"
  :code: "List diff := method(\n    res := list()\n    for(i, 0, self size - 2,\n
    \       res append(self at(i+1) - self at(i))\n    )   \n    return res \n)\n\nxs
    := list(3, 1, 4, 1, 5, 9, 2, 6, 5]\nxs diff println\n"
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2399'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2399
  :user_name: iwk
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/49/
  :language: OCaml
  :time: 2007/08/22 14:25 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <pre class=\"compact\">修正。</pre>\n\t"
  :code: |
    #light
    let rec diff = function
        | [] -&gt; []
        | x::[] -&gt; []
        | x::x'::xs -&gt; (x'-x)::diff (x'::xs)

    let xs = [3;1;4;1;5;9;2;6;5]
  :tags:
  - F#
  :references:
    :url: /web/20100606052244/http://ja.doukaku.org/comment/2383/
    :title: '#2383'
- :id: '2400'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2400
  :user_name: nobsun
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/98/
  :language: Scheme
  :time: 2007/08/22 14:27 GMT
  :vote_count: '8'
  :vote_score: '8'
  :body: "\n\t  <pre class=\"compact\">mapでOK</pre>\n\t"
  :code: |
    (define (diff xs) (map - (cdr xs) xs))
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2401'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2401
  :user_name: sumim
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/88/
  :language: Smalltalk
  :time: 2007/08/22 14:39 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <pre class=\"compact\">Squeak Smalltalk で。</pre>\n\t"
  :code: |
    | xs |
    xs := #(3 1 4 1 5 9 2 6 5).
    ^xs overlappingPairsCollect: [:a :b | b - a]
  :tags:
  - Squeak_Smalltalk
  :references:
    :url: 
    :title: 
- :id: '2402'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2402
  :user_name: sumim
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/88/
  :language: Smalltalk
  :time: 2007/08/22 14:55 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  nobsun の #2400 を見て、そうだ、こんなふうにする手もあったな…と。\n\t"
  :code: |
    | diff |
    diff := [:xs | xs allButFirst - xs allButLast].
    ^diff value: #(3 1 4 1 5 9 2 6 5)   "=&gt; #(-2 3 -3 4 4 -7 4 -1) "
  :tags:
  - Squeak_Smalltalk
  :references:
    :url: 
    :title: 
- :id: '2403'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2403
  :user_name: hamano
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/25/
  :language: C
  :time: 2007/08/22 14:59 GMT
  :vote_count: '1'
  :vote_score: '1'
  :body: "\n\t  <pre class=\"compact\">C + glib で</pre>\n\t"
  :code: |
    #include &lt;stdio.h&gt;
    #include &lt;stdlib.h&gt;
    #include &lt;glib.h&gt;

    GSList *diff(GSList *list)
    {
        int p;
        GSList *ret = NULL;
        if(!g_slist_length(list)) return NULL;
        p = (int)list-&gt;data;
        while(list = g_slist_next(list)){
            ret = g_slist_append(ret, GINT_TO_POINTER((int)list-&gt;data - p));
            p = (int)list-&gt;data;
        }
        return ret;
    }

    GSList *list_new(int nums[], int len)
    {
        int i;
        GSList *list = NULL;
        for(i=0; i&lt;len; i++){
            list = g_slist_append(list, GINT_TO_POINTER(nums[i]));
        }
        return list;
    }

    int main(int argc, char *argv[])
    {
        int nums[] = {3, 1, 4, 1, 5, 9, 2, 6, 5};
        GSList *list, *d, *l;
        list = list_new(nums, sizeof(nums) / sizeof(int));
        d = diff(list);
        do printf("%d\n", d-&gt;data); while(d = g_slist_next(d));
        return EXIT_SUCCESS;
    }
  :tags:
  - glib
  :references:
    :url: 
    :title: 
- :id: '2404'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2404
  :user_name: naoya_t
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/348/
  :language: awk
  :time: 2007/08/22 15:03 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <pre class=\"compact\">% awk -f diff.awk\r\n1 2 3 4 5\r\n[1, 1, 1,
    1]\r\n9 7 5 3 1\r\n[-2, -2, -2, -2]\r\n3 1 4 1 5 9 2 6 5\r\n[-2, 3, -3, 4, 4,
    -7, 4, -1]\r\n[3, 1, 4, 1, 5, 9, 2, 6, 5]\r\n[-2, 3, -3, 4, 4, -7, 4, -1]\r\n</pre>\n\t"
  :code: "{\n\tgsub(/[^0-9]/,\" \")\n\tsrc_size = split($0,src)\n\n\tdest_size = diff(src,dest,src_size)\n\tshow(dest,dest_size)\n}\n\nfunction
    diff(src,dest,size,  i)\n{\n\tfor (i=1; i&lt;size; i++) dest[i] = src[i+1] - src[i]\n\treturn
    size-1\n}\n\nfunction show(ar,size,  i)\n{\n\tprintf \"[\"\n\tfor (i=1; i&lt;size;
    i++) printf ar[i] \", \"\n\tprintf ar[size] \"]\\n\"\n}\n"
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2405'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2405
  :user_name: fkmn
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/190/
  :language: Perl
  :time: 2007/08/22 15:03 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <pre class=\"compact\">再帰したかったんです</pre>\n\t"
  :code: |
    sub diff {
        my ( $a, $b ) = @_;
        return if !defined($b);
        return ( $b - $a, diff( @_[ 1 .. $#_ ] ) );
    }
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2406'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2406
  :user_name: whitebell
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/340/
  :language: Perl
  :time: 2007/08/22 15:06 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <pre class=\"compact\">うーん、あんまりスマートじゃない。</pre>\n\t"
  :code: |
    sub diff {
        my @rv;
        push @rv, $_[$_] - $_[$_+1] for 0..$#_-1;
        return @rv;
    }
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2407'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2407
  :user_name: telkaz
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/397/
  :language: Common
  :time: 2007/08/22 15:09 GMT
  :vote_count: '4'
  :vote_score: '4'
  :body: "\n\t  <pre class=\"compact\"></pre>\n\t"
  :code: |
    (defun diff (xs)
      (mapcar #'- (cdr xs) xs))
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2408'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2408
  :user_name: telkaz
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/397/
  :language: 
  :time: 2007/08/22 15:15 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <pre class=\"compact\">あ，もう Scheme でやられてましたね．</pre>\n\t"
  :code: ''
  :tags: []
  :references:
    :url: /web/20100606052244/http://ja.doukaku.org/comment/2400/
    :title: http://ja.doukaku.org/comment/2400/
- :id: '2409'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2409
  :user_name: katsu
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/117/
  :language: Other
  :time: 2007/08/22 15:25 GMT
  :vote_count: '1'
  :vote_score: '1'
  :body: "\n\t  <pre class=\"compact\">KL1で。いやぁ、懐かしい。\r\n見た目Prologの書き方が冗長になっただけだけど。</pre>\n\t"
  :code: |
    :-module main.

    main:-diff([3,1,4,1,5,9,2,6,5],R),io:outstream([print(R),nl]).

    diff([_],R) :- R=[].
    diff([X1,X2|Xs],R):-R=[R1|Rs],R1:=X2-X1,diff([X2|Xs],Rs).
  :tags:
  - KL1
  - KLIC
  :references:
    :url: 
    :title: 
- :id: '2414'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2414
  :user_name: yuin
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/82/
  :language: Scala
  :time: 2007/08/22 16:12 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  \n\n\n\n\t"
  :code: |
    def diff(as:List[int]):List[int] = as match {
      case a::(as@b::bs) =&gt; (b-a)::diff(as)
      case _      =&gt; Nil
    }
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2415'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2415
  :user_name: yuin
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/82/
  :language: Scala
  :time: 2007/08/22 16:14 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  \n\n\n\n\t"
  :code: "def diff(xs:List[int]) = \n  xs.zipAll(xs.tail,0,0).map(p=&gt;p._2-p._1).reverse.tail.reverse\n"
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2416'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2416
  :user_name: matyr
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/343/
  :language: JavaScript
  :time: 2007/08/22 16:29 GMT
  :vote_count: '2'
  :vote_score: '2'
  :body: "\n\t   ブックマークレットだし元のリストは壊してもいいや，と割り切って。\n\t"
  :code: |
    javascript:(function(a,i){for(i=a.length-1;i&gt;0;a[i]-=a[--i]);a.shift();return(a)})([3,1,4,1,5,9])
  :tags:
  - Bookmarklet
  :references:
    :url: 
    :title: 
- :id: '2417'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2417
  :user_name: kacchi
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/145/
  :language: Scheme
  :time: 2007/08/22 16:31 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  srfi-42 の comprehension を使ってみました。\n\t"
  :code: |
    (use srfi-42)
    (define (diff xs)
      (list-ec (:do ((x (car xs)) (y (cdr xs)))
                    (not (null? y))
                    ((car y) (cdr y)))
               (- (car y) x)))
  :tags:
  - gauche
  :references:
    :url: 
    :title: 
- :id: '2418'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2418
  :user_name: shiro
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/41/
  :language: Scheme
  :time: 2007/08/22 17:22 GMT
  :vote_count: '5'
  :vote_score: '5'
  :body: "\n\t  <pre class=\"compact\">:parallelで複数の変数に対してループを回せます。</pre>\n\t"
  :code: |
    (define (diff xs) (list-ec (:parallel (: x xs) (: y (cdr xs))) (- y x)))
  :tags:
  - gauche
  :references:
    :url: 
    :title: 
- :id: '2419'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2419
  :user_name: miyamuko
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/382/
  :language: xtal
  :time: 2007/08/22 17:50 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  最初 diff は Array を引数に取り、その Array の Iterator と一個先に進めたIterator を zip
    して map していたんですが、無限列を diff したくなったので Array ではなく Iterator を引数に取るようにしました。\r\n\n\t"
  :code: |
    Iterator::each_pair: method fiber {
        prev: null;
        this { prev = it; break; }
        this {
            yield prev, it;
            prev = it;
        }
    }

    diff: fun(iter) {
        return iter.each_pair.map(|a,b| b - a);
    }

    diff([3, 1, 4, 1, 5, 9, 2, 6, 5].each).to_a.p;


    // 無限列のテスト
    random_generator: fiber {
        while (true) {
            yield math::ceil(math::random_range(1, 10));
        }
    }
    diff(random_generator).take(20).to_a.p;
  :tags:
  - xtal0.9.7
  :references:
    :url: 
    :title: 
- :id: '2420'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2420
  :user_name: mono
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/398/
  :language: Python
  :time: 2007/08/22 18:42 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <pre class=\"compact\">mapを使った。</pre>\n\t"
  :code: |
    def diff(xs):
        return map(lambda (x,y):y-x, zip(xs[:-1], xs[1:]))

    print diff([3, 1, 4, 1, 5, 9, 2, 6, 5])
  :tags:
  - Python
  :references:
    :url: 
    :title: 
- :id: '2421'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2421
  :user_name: t2
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/46/
  :language: Ruby
  :time: 2007/08/22 19:01 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <pre class=\"compact\">enumerator版</pre>\n\t"
  :code: |
    def diff(a)
      a.enum_cons(2).map {|x, y| y - x }
    end
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2422'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2422
  :user_name: t2
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/46/
  :language: Ruby
  :time: 2007/08/22 19:06 GMT
  :vote_count: '2'
  :vote_score: '2'
  :body: "\n\t  <pre class=\"compact\">すみません・・\r\nrequire 'enumerator'\r\nを追加していませんした。\r\n</pre>\n\t"
  :code: |
    require 'enumerator'

    def diff(a)
      a.enum_cons(2).map {|x, y| y - x }
    end
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2424'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2424
  :user_name: mono
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/398/
  :language: Haskell
  :time: 2007/08/22 19:29 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <pre class=\"compact\">map使った</pre>\n\t"
  :code: |
    diff xs = map (\(x,y) -&gt; x - y) $ zip (tail xs) (init xs)
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2426'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2426
  :user_name: omoikani
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/374/
  :language: StandardML
  :time: 2007/08/22 19:57 GMT
  :vote_count: '1'
  :vote_score: '1'
  :body: "\n\t  <pre class=\"compact\"></pre>\n\t"
  :code: |
    fun diff (a as _::xs) =
      ListPair.map (fn (x, x') =&gt; x' - x) (a, xs)
      | diff [] = []
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2427'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2427
  :user_name: kacchi
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/145/
  :language: 
  :time: 2007/08/22 20:31 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <pre class=\"compact\">なるほどです。どうもありがとうございます。\r\n:parallel は知っていたのに気付かなかったのが残念です。\r\n</pre>\n\t"
  :code: ''
  :tags:
  - gauche
  :references:
    :url: 
    :title: 
- :id: '2428'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2428
  :user_name: rubikitch
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/105/
  :language: Common
  :time: 2007/08/22 20:35 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <pre class=\"compact\"></pre>\n\t"
  :code: |
    (defun diff (list)
      (loop for (a b) on list
           when b collect (- b a)))
    (diff '(3 1 4 1 5 9 2 6 5))             ; =&gt; (-2 3 -3 4 4 -7 4 -1)
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2429'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2429
  :user_name: rubikitch
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/105/
  :language: Emacs
  :time: 2007/08/22 20:40 GMT
  :vote_count: '1'
  :vote_score: '1'
  :body: "\n\t  <pre class=\"compact\">elispのmapcarは劣化版。\r\n</pre>\n\t"
  :code: |
    (defun diffseq (list)
      (mapcar* #'- (cdr list) list))
    (diffseq '(3 1 4 1 5 9 2 6 5))          ; =&gt; (-2 3 -3 4 4 -7 4 -1)
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2430'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2430
  :user_name: rubikitch
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/105/
  :language: Ruby
  :time: 2007/08/22 20:44 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <pre class=\"compact\"></pre>\n\t"
  :code: |
    require 'enumerator'
    def diff(ary)
      ary.enum_cons(2).map{|a,b| b-a}
    end
    diff [3, 1, 4, 1, 5, 9, 2, 6, 5] # =&gt; [-2, 3, -3, 4, 4, -7, 4, -1]
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2431'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2431
  :user_name: rubikitch
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/105/
  :language: 
  :time: 2007/08/22 20:45 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <pre class=\"compact\">げ、かぶった＞＜</pre>\n\t"
  :code: ''
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2432'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2432
  :user_name: rubikitch
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/105/
  :language: Lua
  :time: 2007/08/22 20:49 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <pre class=\"compact\">なまくらlua版</pre>\n\t"
  :code: |
    function print_array(ary)
      s = "[ "
      table.foreach(ary, function(k,v) s = s .. string.format("%s ",v) end)
      s = s.."]"
      print(s)
    end

    function diff(ary)
      ret = {}
      for i = 1, table.getn(ary)-1, 1 do
        ret[i] = ary[i+1]-ary[i]
      end
      return ret
    end
    print_array(diff({3, 1, 4, 1, 5, 9, 2, 6, 5}))
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2433'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2433
  :user_name: rubikitch
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/105/
  :language: Bash
  :time: 2007/08/22 20:55 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <pre class=\"compact\"></pre>\n\t"
  :code: |
    function diff {
        while [ "$2" != "" ];do
            echo -n "$(($2 - $1)) "
            shift
        done
        echo
    }
    diff 3 1 4 1 5 9 2 6 5
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2438'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2438
  :user_name: jz5
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/344/
  :language: VB
  :time: 2007/08/23 00:17 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <pre class=\"compact\">LINQです。</pre>\n\t"
  :code: |
    Function diff(ByVal xs() As Integer) As Integer()
        Return xs.Take(xs.Length - 1).Select(Function(num, idx) xs(idx + 1) - num).ToArray
    End Function
  :tags:
  - LINQ
  - VB9.0
  :references:
    :url: 
    :title: 
- :id: '2440'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2440
  :user_name: Mistfeal
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/153/
  :language: PHP
  :time: 2007/08/23 01:18 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <pre class=\"compact\">例外は全く考慮していません。</pre>\n\t"
  :code: "&lt;?php\nfunction diff($ary) {\n\tfor ( $i = 1; $i &lt; count($ary); $i++
    ) {\n\t\t$rtn[] = $ary[$i] - $ary[$i - 1];\n\t}\n\treturn $rtn;\n}\n\n$a = array(3,
    1, 4, 1, 5, 9, 2, 6, 5);\nprint_r(diff($a));\n?&gt;\n"
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2442'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2442
  :user_name: r0c
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/396/
  :language: Ruby
  :time: 2007/08/23 01:39 GMT
  :vote_count: '1'
  :vote_score: '1'
  :body: "\n\t  <pre class=\"compact\">zipとmapで．\r\nRubyのzipは長さの違うリスト同士に適用した場合，\r\n長いほうに合わせてnilが埋められるんですね．</pre>\n\t"
  :code: |
    def diff(xs)
      xs[0..-2].zip(xs[1..-1]).map {|x, y| y - x}
    end

    # Sample
    if __FILE__ == $0
      xs = [3, 1, 4, 1, 5, 9, 2, 6, 5]
      p diff(xs)
    end
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2443'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2443
  :user_name: talo
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/237/
  :language: Java
  :time: 2007/08/23 01:42 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <pre class=\"compact\">シンプルに</pre>\n\t"
  :code: |
    public class ArrayDiff {

        public static int[] diff(int[] arg) {
            int[] result = new int[arg.length - 1];
            for (int i = 0; i &lt; result.length; i++) {
                result[i] = arg[i + 1] - arg[i];
            }
            return result;
        }

        public static void main(String[] args) {
            for (int value : diff(new int[] {3, 1, 4, 1, 5, 9, 2, 6, 5})) {
                System.out.printf("%d ", value);
            }
            System.out.println();
        }

    }
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2445'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2445
  :user_name: r0c
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/396/
  :language: Python
  :time: 2007/08/23 02:51 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <pre class=\"compact\">List Comprehensionで．</pre>\n\t"
  :code: |
    def diff(xs):
      return [y - x for x, y in zip(xs[:-1], xs[1:])]

    # Sample
    if __name__ == '__main__':
      print diff([3, 1, 4, 1, 5, 9, 2, 6, 5])
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2446'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2446
  :user_name: にしお
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/1/
  :language: Python
  :time: 2007/08/23 02:51 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  \n<p>言語をPythonに変更しておきました。\n</p>\n<p>ついでなので少しつっこむと、この方法は2回のスライシングで2回コピーを行うのでxsが長いときには非効率ですね。\n</p>\n<p>Pythonのzipは一番短いものにあわせるて長いものを切り捨てるのでzip(xs,
    xs[1:])で問題ないです。それでも1回コピーが起きるわけですが。\n</p>\n<p><a href=\"/web/20100606052244/http://ja.doukaku.org/comment/2396/\">#2396
    oceanさんの方法</a>はコピーが起きません。下のコードはそれをさらにジェネレータにしたバージョンです。\n</p>\n\n\n\n\t"
  :code: "def diff(xs):\n\tfor i in range(1, len(xs)):\n\t\tyield xs[i] - xs[i - 1]\n"
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2447'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2447
  :user_name: 匿名
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/4/
  :language: Python
  :time: 2007/08/23 02:55 GMT
  :vote_count: '3'
  :vote_score: '3'
  :body: "\n\t  <pre class=\"compact\">すでに内包とmapを使った物が投稿されているので\r\n前回のお題の行列(array)を使ってみました。\r\n\r\narrayの演算は明示的にforを回す必要がないので\r\n結構、便利かも。\r\n</pre>\n\t"
  :code: |
    from MLab import array

    def diff(xs):
      return array(xs)[1:] - xs[:-1]

    print diff([3, 1, 4, 1, 5, 9, 2, 6, 5])
  :tags:
  - Numeric
  :references:
    :url: 
    :title: 
- :id: '2449'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2449
  :user_name: r0c
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/396/
  :language: Python
  :time: 2007/08/23 03:43 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  \n<p><a href=\"/web/20100606052244/http://ja.doukaku.org/comment/2446/\">#2446</a>を見てスライシングの部分を訂正･･･．\n
    \  Rubyのコードを見ながら書いたらそのままだったorz\n</p>\n\n\n\n\t"
  :code: |
    def diff(xs):
      return [y - x for x, y in zip(xs, xs[1:])]
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2450'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2450
  :user_name: hirataka
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/233/
  :language: PHP
  :time: 2007/08/23 06:38 GMT
  :vote_count: '3'
  :vote_score: '1'
  :body: "\n\t  <pre class=\"compact\">配列ポインタを利用</pre>\n\t"
  :code: "&lt;?php\nfunction diff($a){\n\twhile(next($a))\n\t\t$b[] = -(prev($a)-next($a));\n
    \     \n\treturn $b;\n}\n\n$xs = array(3, 1, 4, 1, 5, 9, 2, 6, 5);\nprint_r(diff($xs));\n?&gt;\n"
  :tags:
  - PHP3
  - PHP4
  - PHP5
  :references:
    :url: 
    :title: 
- :id: '2451'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2451
  :user_name: rucker
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/130/
  :language: 
  :time: 2007/08/23 07:52 GMT
  :vote_count: '4'
  :vote_score: '4'
  :body: "\n\t  <pre class=\"compact\">入力に0が混じっているとそこで止まっちゃいますね…</pre>\n\t"
  :code: ''
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2452'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2452
  :user_name: nobsun
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/98/
  :language: Haskell
  :time: 2007/08/23 08:02 GMT
  :vote_count: '1'
  :vote_score: '1'
  :body: "\n\t  <pre class=\"compact\">zipは短い方にあわせるので init は不要かな。\r\nでも対象性を意識してついているのかな。。。\r\nmap
    を使うなら uncurry というのもいいかも。。</pre>\n\t"
  :code: |
    diff xs = map (uncurry (-)) (zip (tail xs) xs)
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2453'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2453
  :user_name: nobsun
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/98/
  :language: Haskell
  :time: 2007/08/23 08:08 GMT
  :vote_count: '3'
  :vote_score: '3'
  :body: "\n\t  <pre class=\"compact\">でね。結局 \r\n\r\nmap f (zip xs ys) ≡ zipWith (curry
    f) xs ys \r\nあるいは\r\nmap (uncurry f) (zip xs ys) ≡ zipWith f xs ys\r\nなので、</pre>\n\t"
  :code: |
    diff xs = zipWith (-) (tail xs) xs
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2455'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2455
  :user_name: hirataka
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/233/
  :language: 
  :time: 2007/08/23 10:02 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <pre class=\"compact\">確かにそうですね。\r\nしかもマニュアルにも警告が出てました。</pre>\n\t"
  :code: ''
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2456'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2456
  :user_name: odz
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/212/
  :language: Python
  :time: 2007/08/23 10:25 GMT
  :vote_count: '2'
  :vote_score: '2'
  :body: "\n\t  <pre class=\"compact\">隣り合う要素を返すジェネレータを定義すると分かりやすい？</pre>\n\t"
  :code: |
    def neighbors(xs):
        it = iter(xs)
        prev = it.next()

        while True:
            current = it.next()
            yield prev, current
            prev = current

    def diff(xs):
        """
        &gt;&gt;&gt; list(diff([3, 1, 4, 1, 5, 9, 2, 6, 5]))
        [-2, 3, -3, 4, 4, -7, 4, -1]
        """
        for x, y in neighbors(xs):
            yield y - x

    def _test():
        import doctest
        doctest.testmod()

    if __name__ == '__main__':
        _test()
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2458'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2458
  :user_name: rucker
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/130/
  :language: 
  :time: 2007/08/23 11:57 GMT
  :vote_count: '1'
  :vote_score: '1'
  :body: "\n\t  <pre class=\"compact\">蛇足なのですが、\r\n $b[] = -(prev($a)-next($a));\r\nのところ、C/C++だとprevとnextどちらが先に評価されるか不定なのですが\r\nphpってどうなんでしょうね。\r\nマニュアル読んでも被演算子?の評価順序に関しては記述が見つけられなかった。\r\n処理系が限定されてるからいいのかな…\r\n\r\n言語仕様が似てるだけに危険だとゴーストが囁くというか…(ちと古い)\r\n</pre>\n\t"
  :code: ''
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2461'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2461
  :user_name: rubikitch
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/105/
  :language: Other
  :time: 2007/08/23 17:40 GMT
  :vote_count: '3'
  :vote_score: '3'
  :body: "\n\t  <pre class=\"compact\">Lispベースな関数型言語Qi (http://www.lambdassociates.org/)
    も仲間に入れてください。\r\n$ sbcl --core Qi.core\r\n* (load \"49.qi\")\r\nてな感じでロードします。</pre>\n\t"
  :code: "(define diff\n    { (list number) --&gt; (list number) }\n    [] -&gt; []\n
    \   [X] -&gt; [] \n    [X Y | Z] -&gt; [ (- Y X) | (diff [Y | Z]) ])\n(diff [3
    1 4 1 5 9 2 6 5])\n"
  :tags:
  - Qi
  :references:
    :url: 
    :title: 
- :id: '2490'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2490
  :user_name: morchin
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/78/
  :language: Python
  :time: 2007/08/24 16:48 GMT
  :vote_count: '2'
  :vote_score: '0'
  :body: "\n\t  <pre class=\"compact\">Pythonでループに再帰を用いている投稿がなかったので。\r\n</pre>\n\t"
  :code: "&gt;&gt;&gt; from itertools import count\n&gt;&gt;&gt; \n&gt;&gt;&gt; def
    diff(xs, i=count(), j=count(1), L=[]):\n...   try:\n...     L.append(xs[j.next()]
    - xs[i.next()])\n...     diff(xs)\n...   except:\n...     pass\n...   return L\n...\n&gt;&gt;&gt;
    xs = [3, 1, 4, 1, 5, 9, 2, 6, 5]\n&gt;&gt;&gt; diff(xs)\n[-2, 3, -3, 4, 4, -7,
    4, -1]\n"
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2495'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2495
  :user_name: tea
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/402/
  :language: Python
  :time: 2007/08/25 02:54 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <pre class=\"compact\">これも効率考えずreduceで書いてみる。</pre>\n\t"
  :code: |
    def diff(xs):
        return reduce(lambda (a,b),n: (a+[n-b],n), xs, ([],0))[0][1:]
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2496'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2496
  :user_name: shg
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/383/
  :language: dc
  :time: 2007/08/25 03:34 GMT
  :vote_count: '4'
  :vote_score: '4'
  :body: "\n\t  \n<p>UNIXコマンドのdcのマクロで作ってみた。dcを起動して投稿のマクロを入力した後、\n</p>\n<pre><code>3
    1 4 1 5 9 2 6 5 ldxf\n</code></pre>\n<p>とすると求めた差の数列がスタックに入っている様子が表示される。\n</p>\n\n\n\n\t"
  :code: |
    [q]sq[z1=qSslax]sa[lsr-lc1-sclc1=qLslbx]sb[zsclaxlbx]sd
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2502'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2502
  :user_name: mz
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/403/
  :language: R
  :time: 2007/08/25 05:45 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <pre class=\"compact\"></pre>\n\t"
  :code: |
    diff = function (lis){lis[2:length (lis)] - lis[1:length(lis)-1]}
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2503'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2503
  :user_name: kkobayashi
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/232/
  :language: R
  :time: 2007/08/25 06:54 GMT
  :vote_count: '5'
  :vote_score: '5'
  :body: "\n\t  <pre class=\"compact\">Rはそのままdiffという関数がありますよ（すでにご存知でしたらすみません）</pre>\n\t"
  :code: |
    &gt; diff(c(3, 1, 4, 1, 5, 9, 2, 6, 5))
    [1] -2  3 -3  4  4 -7  4 -1
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2509'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2509
  :user_name: hirose31
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/334/
  :language: PostScript
  :time: 2007/08/25 17:07 GMT
  :vote_count: '1'
  :vote_score: '1'
  :body: "\n\t  <pre class=\"compact\">diffの中のスタック操作のメモ。\r\n\r\n初期     : ... 6 5\r\nexch
    \    : ... 5 6\r\ndup      : ... 5 6 6\r\n3 1 roll : ... 6 5 6\r\nsub      : ...
    6 -1\r\nn 1 roll : -1 ... 6\r\n</pre>\n\t"
  :code: |
    %!
    /inch {72 mul} bind def
    /sheetheight 11.64 inch def
    /sheetwidth   8.27 inch def
    /Helvetica 24 selectfont

    /given_list [3 1 4 1 5 9 2 6 5] def

    /diff { % array -&gt; array
      dup length
      /n exch def
      aload pop

      n 1 sub {
        exch dup 3 1 roll
        sub
        n 1 roll
      } repeat
      pop

      n 1 sub array astore
    } def

    /show_array { % array -&gt; -
      {
        3 string cvs show
        currentpoint exch 10 add exch moveto
      } forall
    } def

    10 50 moveto
    given_list      show_array
    10 20 moveto
    given_list diff show_array

    showpage
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2535'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2535
  :user_name: mz
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/403/
  :language: 
  :time: 2007/08/26 11:11 GMT
  :vote_count: '1'
  :vote_score: '1'
  :body: "\n\t  <pre class=\"compact\">すみません。\r\nRを書いてみたくて、でしゃばったまねをしてしまいました。</pre>\n\t"
  :code: ''
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2545'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2545
  :user_name: kkobayashi
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/232/
  :language: 
  :time: 2007/08/26 14:01 GMT
  :vote_count: '1'
  :vote_score: '1'
  :body: "\n\t  あ、いえいえ。私も勉強中の身ですし、Rの面白さを感じていただければうれしいです。\n\t"
  :code: ''
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2659'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2659
  :user_name: nori
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/59/
  :language: Python
  :time: 2007/08/30 01:59 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <pre class=\"compact\">再帰は楽。\r\nループで書くほうが普通な気もするが、杭うち算をするのが面倒。</pre>\n\t"
  :code: |
    """
    &gt;&gt;&gt; diff([3, 1, 4, 1, 5, 9, 2, 6, 5])
    [-2, 3, -3, 4, 4, -7, 4, -1]
    """
    def diff(xs):
      assert(len(xs) &gt; 1)
      if len(xs) == 2:
        return [xs[1]-xs[0]]
      else:
        return [xs[1] - xs[0]] + diff(xs[1:])

    import doctest
    doctest.testmod()
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2676'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2676
  :user_name: susu
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/218/
  :language: Python
  :time: 2007/08/30 06:24 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <pre class=\"compact\"></pre>\n\t"
  :code: "def diff(xs=[]):\n\treturn [ xs[i+1]-xs[i] for i in xrange(len(xs)-1) ]\n\ndiff([3,
    1, 4, 1, 5, 9, 2, 6, 5])\n"
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2687'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2687
  :user_name: 130R
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/409/
  :language: PowerShell
  :time: 2007/08/30 10:42 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <pre class=\"compact\">PS C:\\&gt; diff(3, 1, 4, 1, 5, 9, 2, 6, 5)\r\n-2\r\n3\r\n-3\r\n4\r\n4\r\n-7\r\n4\r\n-1</pre>\n\t"
  :code: |
    function diff($list) {
      $list | % {$a = $()} {if($a) {$_ - $a} $a = $_}
    }
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2776'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2776
  :user_name: lufia
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/242/
  :language: Other
  :time: 2007/09/01 18:22 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <pre class=\"compact\">はじめてのLimbo。\r\n\r\n::演算子はリストの先頭にしか追加できない(らしい)ので、xsの後ろから調べていくことにしました。</pre>\n\t"
  :code: "implement Diff;\n\ninclude \"sys.m\";\n\tsys: Sys;\n\tprint: import sys;\ninclude
    \"draw.m\";\n\nDiff: module\n{\n\tinit: fn(nil: ref Draw-&gt;Context, nil: list
    of string);\n};\n\ninit(nil: ref Draw-&gt;Context, nil: list of string)\n{\n\tsys
    = load Sys Sys-&gt;PATH;\n\txs := array[] of { 3, 1, 4, 1, 5, 9, 2, 6, 5 };\n\tr
    := diff(xs);\n\tfor(; r != nil; r = tl r)\n\t\tprint(\"%d\\n\", hd r);\n}\n\ndiff(xs:
    array of int): list of int\n{\n\tt: list of int;\n\n\tfor(i := len xs - 2; i &gt;=
    0; i--)\n\t\tt = xs[i+1] - xs[i] :: t;\n\treturn t;\n}\n"
  :tags:
  - Limbo
  :references:
    :url: 
    :title: 
- :id: '2794'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2794
  :user_name: bighands
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/243/
  :language: Scheme
  :time: 2007/09/02 10:54 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  cdrとreverseを使ってやってみる。\n\t"
  :code: |
    (define diff (lambda (xs)
                  (map - (cdr xs) (reverse (cdr (reverse xs))))
                   ))
  :tags:
  - Scheme
  :references:
    :url: 
    :title: 
- :id: '2830'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2830
  :user_name: nobsun
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/98/
  :language: 
  :time: 2007/09/03 03:29 GMT
  :vote_count: '1'
  :vote_score: '1'
  :body: "\n\t  <pre class=\"compact\">mapの結果は入力のリストのうち一番短いものと同じながさのリストになるので、\r\n(reverse
    (cdr (reverse xs)))のように長さを切りそろえる必要がありません。\r\n(define diff (lambda (xs) (map -
    (cdr xs) xs)))\r\nでよいはず。で、結局これは#2400と同じになりますね。</pre>\n\t"
  :code: ''
  :tags:
  - mapの長さ
  :references:
    :url: 
    :title: 
- :id: '2919'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2919
  :user_name: mad
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/418/
  :language: Haskell
  :time: 2007/09/05 15:56 GMT
  :vote_count: '7'
  :vote_score: '7'
  :body: "\n\t  <pre class=\"compact\">ApplicativeにはSコンビネータ(と同じ働きをする演算子)が用意されていて、こんな風にも書けます。</pre>\n\t"
  :code: |
    import Control.Applicative
    diff = zipWith subtract &lt;*&gt; tail
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '2980'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/2980
  :user_name: niha
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/160/
  :language: Ruby
  :time: 2007/09/11 12:55 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <pre class=\"compact\">美しくない。</pre>\n\t"
  :code: |
    def diff ary
      r=[]
      ary.inject{|a,b|r&lt;&lt;b-a;b}
      r
    end
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '3300'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/3300
  :user_name: naranja
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/448/
  :language: D
  :time: 2007/10/09 09:52 GMT
  :vote_count: '1'
  :vote_score: '1'
  :body: "\n\t  <pre class=\"compact\"></pre>\n\t"
  :code: |
    import std.stdio;

    int[] diff(int[] xs){
        int[] ret;
        foreach(i, e; xs[1..$]){
            ret ~= e - xs[i];
        }
        return ret;
    }

    void main(){
        writefln(diff([3, 1, 4, 1, 5, 9, 2, 6, 5]));
    }
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '3652'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/3652
  :user_name: mtsuyugu
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/481/
  :language: C
  :time: 2007/11/01 15:29 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  \n\t"
  :code: |
    #include &lt;stdio.h&gt;
    #include &lt;stdlib.h&gt;

    int *diff( int *list, int len ){
       int i = 0;
       int *out = (int *)malloc( sizeof(int) * len );

       if( !out )
          return NULL;

       for(; i &lt; len-1; i++ )
          out[i] = list[i+1] - list[i];

       return out;
    }

    int main( void ){

       int nums[] = {3,1,4,1,5,9,2,6,5};
       int i = 0;
       int len = sizeof(nums)/sizeof(nums[0]);
       int *list = diff( nums, len );

       while( i &lt; len-1 )
          printf("%d ", list[i++] );

       free( list );

       return EXIT_SUCCESS;
    }
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '3940'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/3940
  :user_name: 匿名
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/4/
  :language: 
  :time: 2007/11/13 10:24 GMT
  :vote_count: '1'
  :vote_score: '1'
  :body: "\n\t  <pre class=\"compact\"></pre>\n\t"
  :code: |
    a=区切る("3,1,4,1,5,9,2,6,5",",")
    diff(a)を表示

    ●diff(list)
        tmpとは配列。iとは整数
        iで0から(要素数(list)-2)まで繰り返す
            tmpに(list[i+1]-list[i])を配列追加
        tmpで戻る
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '3967'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/3967
  :user_name: nantan
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/535/
  :language: Ruby
  :time: 2007/11/13 16:19 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <pre class=\"compact\">オーソドックスに。</pre>\n\t"
  :code: |
    def diff(xs)
            res = []
            return res if xs.size &lt; 2
            pre = xs.delete_at(0)
            xs.each { |x|
                    res.push(x - pre)
                    pre = x
            }
            res
    end
    diff([3, 1, 4, 1, 5, 9, 2, 6, 5])
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '4041'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/4041
  :user_name: Psychs
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/554/
  :language: Objective
  :time: 2007/11/15 02:25 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <pre class=\"compact\"></pre>\n\t"
  :code: "#import &lt;Foundation/Foundation.h&gt;\n\n@interface NSMutableArray (IntegerAccess)\n-
    (void)addInteger:(int)val;\n- (int)integerAt:(int)index;\n@end\n\n@implementation
    NSMutableArray (IntegerAccess)\n\n- (void)addInteger:(int)val\n{\n  [self addObject:[NSNumber
    numberWithInteger:val]];\n}\n\n- (int)integerAt:(int)index\n{\n  return [[self
    objectAtIndex:index] intValue];\n}\n\n@end\n\n@interface NSArray (Diff)\n- (NSArray*)diff;\n@end\n\n@implementation
    NSArray (Diff)\n\n- (NSArray*)diff\n{\n  NSMutableArray* result = [NSMutableArray
    array];\n  id prev = nil;\n  for (id obj in self) {\n    if (prev) [result addInteger:[obj
    intValue] - [prev intValue]];\n    prev = obj;\n  }\n  return result;\n}\n\n@end\n\nint
    main(int argc, char** argv)\n{\n  NSAutoreleasePool* pool = [NSAutoreleasePool
    new];\n\n  NSMutableArray* array = [NSMutableArray array];\n  [array addInteger:3];\n
    \ [array addInteger:1];\n  [array addInteger:4];\n  [array addInteger:1];\n  [array
    addInteger:5];\n  [array addInteger:9];\n  [array addInteger:2];\n  [array addInteger:6];\n
    \ [array addInteger:5];\n\n  NSLog(@\"%@\", array);\n  NSLog(@\"%@\", [array diff]);\n
    \ \n  [pool release];\n  return 0;\n}\n"
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '4042'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/4042
  :user_name: Psychs
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/554/
  :language: Other
  :time: 2007/11/15 02:26 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <pre class=\"compact\">integerAt: は不要なので削除しました。\r\n\r\n</pre>\n\t"
  :code: "#import &lt;Foundation/Foundation.h&gt;\n\n@interface NSMutableArray (IntegerAccess)\n-
    (void)addInteger:(int)val;\n@end\n\n@implementation NSMutableArray (IntegerAccess)\n\n-
    (void)addInteger:(int)val\n{\n  [self addObject:[NSNumber numberWithInteger:val]];\n}\n\n@end\n\n@interface
    NSArray (Diff)\n- (NSArray*)diff;\n@end\n\n@implementation NSArray (Diff)\n\n-
    (NSArray*)diff\n{\n  NSMutableArray* result = [NSMutableArray array];\n  id prev
    = nil;\n  for (id obj in self) {\n    if (prev) [result addInteger:[obj intValue]
    - [prev intValue]];\n    prev = obj;\n  }\n  return result;\n}\n\n@end\n\nint
    main(int argc, char** argv)\n{\n  NSAutoreleasePool* pool = [NSAutoreleasePool
    new];\n\n  NSMutableArray* array = [NSMutableArray array];\n  [array addInteger:3];\n
    \ [array addInteger:1];\n  [array addInteger:4];\n  [array addInteger:1];\n  [array
    addInteger:5];\n  [array addInteger:9];\n  [array addInteger:2];\n  [array addInteger:6];\n
    \ [array addInteger:5];\n\n  NSLog(@\"%@\", array);\n  NSLog(@\"%@\", [array diff]);\n
    \ \n  [pool release];\n  return 0;\n}\n"
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '4146'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/4146
  :user_name: dankogai
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/26/
  :language: Perl
  :time: 2007/11/17 07:20 GMT
  :vote_count: '2'
  :vote_score: '2'
  :body: "\n\t  \n<p>これが一番簡単かな。\n</p>\n<p>Dan the Perl Monger\n</p>\n\n\n\n\t"
  :code: |
    sub diff{ map { $_[$_] - $_[$_-1] } (1..$#_) }
    % perl -le 'sub diff{ map { $_[$_] - $_[$_-1] } (1..$#_) }' \
       -e 'print join(", ", diff(@ARGV))' 3 1 4 1 5 9 2 6 5
    -2, 3, -3, 4, 4, -7, 4, -1
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '4204'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/4204
  :user_name: matyr
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/343/
  :language: 
  :time: 2007/11/18 14:27 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  \n\t"
  :code: |
    配列：隣差＝「｜ｒ　ｘ　ｔ｜ｒ＝配列！作る。ｘ＝１。ｔ＝未定義。
    　「ｘ＝ｘ＋１。ｔ＝！(ｘ)見る。未定義！＝ｔ」！の間「ｒ！(ｔ－(！(ｘ－１)見る))入れる」実行」。

    ラベル！(配列！3 1 4 1 5 9 2 6 5 作る　隣差)作る。
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '4431'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/4431
  :user_name: odz
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/212/
  :language: Python
  :time: 2007/11/27 08:57 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <p>スライスもそうだけど zip も非効率といえば非効率ですね。\nというわけで itertools &amp; generator
    expression で。</p>\n\n\t"
  :code: |
    from itertools import izip, islice

    def tail(xs):
        return islice(xs, 1, len(xs))

    def diff(xs):
        """
        &gt;&gt;&gt; diff([3, 1, 4, 1, 5, 9, 2, 6, 5])
        [-2, 3, -3, 4, 4, -7, 4, -1]
        """
        return (x - y for x, y in izip(tail(xs), xs))
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '4747'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/4747
  :user_name: pooq
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/606/
  :language: J
  :time: 2007/12/11 05:37 GMT
  :vote_count: '1'
  :vote_score: '1'
  :body: "\n\t  <pre class=\"compact\">j言語では、マイナスの符号が「_」です。\r\nこれはデータのやりとりに、不便だな。\r\n\r\n
    \  diff  3 1 4 1 5 9 2 6 5\r\n_2 3 _3 4 4 _7 4 _1\r\n</pre>\n\t"
  :code: |
    diff=.2&amp;(-~/\)
  :tags:
  - 参考になる
  :references:
    :url: 
    :title: 
- :id: '4858'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/4858
  :user_name: vtwntmtn
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/380/
  :language: Erlang
  :time: 2007/12/17 15:56 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <pre class=\"compact\">単純に。\r\n\r\n1&gt; c(diff).\r\n{ok,diff}\r\n2&gt;
    diff:diff([3, 1, 4, 1, 5, 9, 2, 6, 5]).\r\n[-2,3,-3,4,4,-7,4,-1]\r\n</pre>\n\t"
  :code: |
    -module(diff).
    -export([diff/1]).

    diff([X | XS]) -&gt; [Y - Z || {Y, Z} &lt;- lists:zip(XS ++ [void], [X | XS]), Y =/= void].
  :tags:
  - ErlangOTP_R10B-10
  :references:
    :url: 
    :title: 
- :id: '5069'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/5069
  :user_name: susu
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/218/
  :language: OCaml
  :time: 2007/12/31 07:35 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  \n\t"
  :code: "let rec interval f = function\n  | [] -&gt; []\n  | [hd] -&gt; []\n  | x::y::z
    -&gt; (f x y)::(interval f (y::z) ) ;;\n  \ninterval (fun x y -&gt; y-x)  [3;
    1; 4; 1; 5; 9; 2; 6; 5];;\n"
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '5080'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/5080
  :user_name: g000001
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/405/
  :language: Other
  :time: 2008/01/01 01:17 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <pre class=\"compact\">Lisp 1.5はもちろん再帰でも書けます。\r\n実行結果:\r\n  FUNCTION
    \  EVALQUOTE   HAS BEEN ENTERED, ARGUMENTS..\r\n DIFF\r\n\r\n ((3 1 4 1 5 9 2
    6 5))\r\n\r\n\r\n END OF EVALQUOTE, VALUE IS ..\r\n (-2 3 -3 4 4 -7 4 -1)</pre>\n\t"
  :code: "DEFINE((\n(DIFF (LAMBDA (LST) (COND\n         ((NULL (CDR LST)) NIL)\n         (T
    (CONS (DIFFERENCE (CADR LST) (CAR LST))\n                  (DIFF (CDR LST)))))))
    \n))\n\nDIFF((3 1 4 1 5 9 2 6 5))\n"
  :tags:
  - Lisp1.5
  :references:
    :url: 
    :title: 
- :id: '5179'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/5179
  :user_name: saws
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/642/
  :language: Ruby
  :time: 2008/01/04 17:58 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <p>ごく普通に.</p>\n\n\t"
  :code: |
    def diff(ary)
      Array.new(ary.size-1){|i| ary[i+1] - ary[i]}
    end
    p diff(xs)
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '5403'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/5403
  :user_name: pooq
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/606/
  :language: Batchfile
  :time: 2008/01/19 22:57 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <pre class=\"compact\">cmd.exeで。\r\n&gt;diff 3 1 4 1 5 9 2 6 5\r\n-2
    3 -3 4 4 -7 4 -1\r\n</pre>\n\t"
  :code: "@echo off\nsetlocal\nset b=\n:loop\nif \"%2\" == \"\" goto end\n  set /a
    a=%2-%1\n  set b=%b%%a% \n  shift\ngoto loop\n:end\necho %b%\n"
  :tags:
  - cmd
  :references:
    :url: 
    :title: 
- :id: '5833'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/5833
  :user_name: queck
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/681/
  :language: Other
  :time: 2008/02/23 07:38 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <p>Factor です。2map で。</p>\n\n\t"
  :code: |
    USING: kernel math sequences ;

    : diff ( seq -- newseq )
        dup 1 tail swap [ - ] 2map ;

    USE: tools.test
    [ { -2 3 -3 4 4 -7 4 -1 } ] [ { 3 1 4 1 5 9 2 6 5 } diff ] unit-test
  :tags:
  - Factor
  :references:
    :url: 
    :title: 
- :id: '5984'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/5984
  :user_name: まさぽん
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/711/
  :language: C
  :time: 2008/03/08 01:14 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <pre class=\"compact\">普通に。\r\n\r\n実行例:\r\n$ ./diff\r\n-2 3 -3 4 4
    -7 4 -1</pre>\n\t"
  :code: "#include &lt;stdio.h&gt;\n\nvoid printdiff(int *v, int len){\n    int *cv
    = v + 1, i;\n    for(i = 0; i &lt; len; i++, v++, cv++) \n        printf(\"%d
    \", *cv - *v);\n    putchar('\\n');\n}\n\nint main(){\n    int vec[] = {3, 1,
    4 ,1, 5, 9, 2, 6, 5};\n    printdiff(vec, sizeof(vec)/sizeof(int) - 1);\n}\n"
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '6488'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/6488
  :user_name: genzou
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/793/
  :language: Groovy
  :time: 2008/06/13 22:12 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  \n\t"
  :code: |
    def list = [3, 1, 4, 1, 5, 9, 2, 6, 5]

    def result = (1..list.size()-1).collect{ list[it] - list[it-1] }

    println result
  :tags:
  - groovy
  :references:
    :url: 
    :title: 
- :id: '6584'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/6584
  :user_name: turugina
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/760/
  :language: XSLT
  :time: 2008/06/25 01:52 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <pre class=\"compact\">ふつーに。\r\n与えるsequenceの要素が2個未満の場合は\r\nエラーにしちゃってます。</pre>\n\t"
  :code: |
    &lt;xsl:stylesheet version="2.0"
      xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
      xmlns:xs="http://www.w3.org/2001/XMLSchema"
      xmlns:fn="http://www.w3.org/2005/xpath-functions"
      xmlns:my="uri:ja.doukaku.org:my-functions"
      exclude-result-prefixes="my"
      &gt;

      &lt;xsl:output method="text" /&gt;

      &lt;xsl:template match="/" &gt;
        &lt;xsl:value-of select="my:diff((3,1,4,1,5,9,2,6,5))" /&gt;
      &lt;/xsl:template&gt;

      &lt;xsl:function name="my:diff" as="xs:integer*"&gt;
        &lt;xsl:param name="seq" as="xs:integer*" /&gt;

        &lt;xsl:if test="fn:count($seq)&amp;lt;2"&gt;
          &lt;xsl:message terminate="yes"&gt;
            sequence must have 2 or more elements
          &lt;/xsl:message&gt;
        &lt;/xsl:if&gt;

        &lt;xsl:for-each select="2 to fn:count($seq)"&gt;
          &lt;xsl:variable name="idx" as="xs:integer" select="." /&gt;
          &lt;xsl:sequence select="$seq[$idx] - $seq[$idx - 1]" /&gt;
        &lt;/xsl:for-each&gt;
      &lt;/xsl:function&gt;
    &lt;/xsl:stylesheet&gt;
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '7548'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/7548
  :user_name: matarillo
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/136/
  :language: Other
  :time: 2008/09/02 04:08 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <p>VBA for Excel (2003)\nカラムAに縦に並べて数値を入れておくと、\nカラムBに差分を表示する。</p>\n\n\t"
  :code: |
    Sub Main()
        Range("B1") = "=IF(ISBLANK(A2),"""",A2-A1)"
        Range("B1").Resize(Range("A1").End(xlDown).Row).FillDown
    End Sub
  :tags:
  - vba
  :references:
    :url: 
    :title: 
- :id: '8165'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/8165
  :user_name: taninsw
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/973/
  :language: Haskell
  :time: 2008/12/14 05:03 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <p>シンプルに</p>\n\n\t"
  :code: |
    diff xs = zipWith (-) (tail xs) xs
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '8302'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/8302
  :user_name: 割と普通
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/581/
  :language: C
  :time: 2009/01/09 06:36 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <p>LINQ的な何かで</p>\n\n\t"
  :code: |2
        class Program
        {
            public static void Main(string[] args)
            {
                List&lt;int&gt; list = new List&lt;int&gt;() { 3, 1, 4, 1, 5, 9, 2, 6, 5 };
                string str = string.Join( ",", list.Take( list.Count-1).Select((n, i) =&gt; list[i + 1] - n).Cast&lt;string&gt;().ToArray() );
                Console.WriteLine("[ {0} ]",str);
                Console.ReadLine();
            }
        }
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '8408'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/8408
  :user_name: 匿名
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/4/
  :language: Ruby
  :time: 2009/01/27 19:16 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <p>shiftを使いました。\ndupは、副作用防止のためです。</p>\n\n\t"
  :code: |
    def diff1(x, xs = x.dup)
      r = []
      while xs[1]
        r &lt;&lt; xs[1] - xs.shift
      end
      r
    end

    def diff2(x, xs = x.dup)
      xs.size.times{
        xs &lt;&lt; -(xs.shift - xs[0])}
      xs[0..-2]
    end
  :tags:
  - 1.8.6
  - ruby
  :references:
    :url: 
    :title: 
- :id: '8620'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/8620
  :user_name: selpo
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/1013/
  :language: C
  :time: 2009/03/10 08:50 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  \n\t"
  :code: |
    using System;
    using System.Text;
    class P
    {
        static void Main(string[] args)
        {
            int[] data = { 3, 1, 4, 1, 5, 9, 2, 6, 5 };
            int[] diff = Diff(data);
            Console.WriteLine("data = {0}",
                             data.ToRawString());
            Console.WriteLine("diff = {0}",
                             diff.ToRawString());
        }
        static void PrintArray&lt;T&gt;(this T[] array)
        {
            string str = ToRawString&lt;T&gt;(array);
            Console.Write(str);
        }
        static string ToRawString&lt;T&gt;(this T[] array)
        {
            var sb = new StringBuilder(3 * array.Length);
            sb.Append("{ ");
            for (int i = 0; i &lt; array.Length - 1; i++)
                sb.Append(array[i] + ", ");
            sb.Append(array[array.Length - 1] + " }");
            return sb.ToString();
        }
    }
  :tags:
  - C#3.0
  :references:
    :url: 
    :title: 
- :id: '9254'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/9254
  :user_name: bleis-tift
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/732/
  :language: SQL
  :time: 2009/06/27 14:42 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <p>SQL Server 2008 で確認しました。</p>\n\n\t"
  :code: "WITH\n  Input(i, n) AS (\n    -- [3, 1, 4, 1, 5, 9, 2, 6, 5]\n              SELECT
    1, 3 \n    UNION ALL SELECT 2, 1 \n    UNION ALL SELECT 3, 4 \n    UNION ALL SELECT
    4, 1 \n    UNION ALL SELECT 5, 5 \n    UNION ALL SELECT 6, 9 \n    UNION ALL SELECT
    7, 2 \n    UNION ALL SELECT 8, 6 \n    UNION ALL SELECT 9, 5\n  )\n, Diff(i, n)
    AS (\n    SELECT\n        L.i\n      , R.n - L.n\n    FROM\n        Input L\n
    \         INNER JOIN Input R ON L.i + 1 = R.i\n  )\nSELECT * FROM Diff ORDER BY
    i\n"
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '9484'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/9484
  :user_name: 匿名
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/4/
  :language: Haskell
  :time: 2009/08/15 03:35 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  \n<p>unfoldr かわいいよ unfoldr\n</p>\n\n\n\n\t"
  :code: |
    import Data.List

    diff :: (Integral i) =&gt; [i] -&gt; [i]
    diff = unfoldr $ \ls -&gt;
             case ls of
               x:y:xs -&gt; Just (y-x,y:xs)
               _      -&gt; Nothing
  :tags: []
  :references:
    :url: 
    :title: 
- :id: '9584'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/9584
  :user_name: iwk
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/49/
  :language: FORTRAN
  :time: 2009/09/19 18:10 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  \n\t"
  :code: "Program Main\n     implicit none\n     Print *, Reverse_string(\"Hello World!\")\n
    \    contains\n         Function Reverse_string(str)\n             character(*),intent(in)::
    str\n             character(len(str)):: Reverse_string\n             integer::
    ix, rix, maxix; maxix = len(str)\n             do ix = 1, maxix\n                rix
    = maxix - ix + 1\n                Reverse_string(rix:rix) = str(ix:ix) \n             end
    do\n         End Function\nEnd Program\n"
  :tags:
  - Fortran95
  :references:
    :url: 
    :title: 
- :id: '9585'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/9585
  :user_name: iwk
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/49/
  :language: FORTRAN
  :time: 2009/09/19 18:12 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  <p>投稿するものを間違えました。</p>\n\n\t"
  :code: |
    program Main
         integer,dimension(9):: xs
         xs = (/3,1,4,1,5,9,2,6,5/)
         print '(9i3)', xs
         print '(8i3)', diff(xs)
         contains
             function diff(xs)
                 integer,intent(in):: xs(:)
                 integer,dimension(size(xs)-1):: diff
                 integer:: ix
                 do ix = 1, size(diff)
                     diff(ix) = xs(ix+1) - xs(ix)
                 end do
             end function
    end program
  :tags:
  - Fortran95
  :references:
    :url: 
    :title: 
- :id: '10397'
  :parent_id: '49'
  :url: http://ja.doukaku.org/comment/10397
  :user_name: gushwell
  :user_url: /web/20100606052244/http://ja.doukaku.org/user/1046/
  :language: C
  :time: 2010/04/16 20:58 GMT
  :vote_count: '0'
  :vote_score: '0'
  :body: "\n\t  \n\t"
  :code: "    static IEnumerable&lt;int&gt; Diff(IEnumerable&lt;int&gt; xs) {\n        var
    ite = xs.GetEnumerator();\n        if (!ite.MoveNext())\n            yield break;
    \           \n        for (int prev = ite.Current; ite.MoveNext(); prev = ite.Current)
    {\n            yield return ite.Current - prev;                \n        }\n    }\n"
  :tags: []
  :references:
    :url: 
    :title: 
