
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja"> 
  <head>

<script type="text/javascript" src="/static/js/analytics.js" ></script>
<link type="text/css" rel="stylesheet" href="/static/css/banner-styles.css"/>




    <meta http-equiv="Content-type" content="text/html; charset=UTF-8" />
    <title>
四字熟語パズルの作成
DouKaku? </title>

    <link rel="stylesheet" type="text/css"
	href="/web/20081202141836cs_/http://ja.doukaku.org/static/style/reset-fonts-grids.css" />
    <link rel="stylesheet" type="text/css"
	href="/web/20081202141836cs_/http://ja.doukaku.org/static/style/style.css?20071211?20071207" />
	
    <link rel="stylesheet" type="text/css"
	href="/web/20081202141836cs_/http://ja.doukaku.org/static/style/pygments.css" />


	
<meta name="robots" content="noindex,nofollow">

    <!--<script src="/web/20081202141836/http://ja.doukaku.org/static/js/ieerbug/ieerbug.js" type="text/javascript"></script>-->


<!--<script src="/web/20081202141836/http://ja.doukaku.org/static/js/ieerbug/ieerbug.js" type="text/javascript"></script>-->
<script src="/web/20081202141836js_/http://ja.doukaku.org/static/js/jquery-1.1.3.1.js" type="text/javascript"></script>
<script src="/web/20081202141836js_/http://ja.doukaku.org/static/js/rating.js" type="text/javascript"></script>
<script src="/web/20081202141836js_/http://ja.doukaku.org/static/js/addtag.js?20071129" type="text/javascript"></script>

<script type="text/javascript">
is_key_navigation_enable = true;
</script>
<script src="/web/20081202141836js_/http://ja.doukaku.org/static/js/utils.js?~~~" type="text/javascript"></script>

</head>


<body id="doukaku_org">
<!-- BEGIN WAYBACK TOOLBAR INSERT -->
<script> if (window.archive_analytics) { window.archive_analytics.values['server_name']="wwwb-app18.us.archive.org";}; </script>

<script type="text/javascript" src="/static/js/disclaim-element.js" ></script>
<script type="text/javascript" src="/static/js/graph-calc.js" ></script>
<script type="text/javascript" src="/static/jflot/jquery.min.js" ></script>
<script type="text/javascript">
//<![CDATA[
var firstDate = 820454400000;
var lastDate = 1388534399999;
var wbPrefix = "/web/";
var wbCurrentUrl = "http:\/\/ja.doukaku.org\/75\/flatten\/";

var curYear = -1;
var curMonth = -1;
var yearCount = 18;
var firstYear = 1996;
var imgWidth = 450;
var yearImgWidth = 25;
var monthImgWidth = 2;
var trackerVal = "none";
var displayDay = "2";
var displayMonth = "Dec";
var displayYear = "2008";
var prettyMonths = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];

function showTrackers(val) {
	if(val == trackerVal) {
		return;
	}
	if(val == "inline") {
		document.getElementById("displayYearEl").style.color = "#ec008c";
		document.getElementById("displayMonthEl").style.color = "#ec008c";
		document.getElementById("displayDayEl").style.color = "#ec008c";		
	} else {
		document.getElementById("displayYearEl").innerHTML = displayYear;
		document.getElementById("displayYearEl").style.color = "#ff0";
		document.getElementById("displayMonthEl").innerHTML = displayMonth;
		document.getElementById("displayMonthEl").style.color = "#ff0";
		document.getElementById("displayDayEl").innerHTML = displayDay;
		document.getElementById("displayDayEl").style.color = "#ff0";
	}
   document.getElementById("wbMouseTrackYearImg").style.display = val;
   document.getElementById("wbMouseTrackMonthImg").style.display = val;
   trackerVal = val;
}
function getElementX2(obj) {
	var thing = jQuery(obj);
	if((thing == undefined) 
			|| (typeof thing == "undefined") 
			|| (typeof thing.offset == "undefined")) {
		return getElementX(obj);
	}
	return Math.round(thing.offset().left);
}
function trackMouseMove(event,element) {

   var eventX = getEventX(event);
   var elementX = getElementX2(element);
   var xOff = eventX - elementX;
	if(xOff < 0) {
		xOff = 0;
	} else if(xOff > imgWidth) {
		xOff = imgWidth;
	}
   var monthOff = xOff % yearImgWidth;

   var year = Math.floor(xOff / yearImgWidth);
	var yearStart = year * yearImgWidth;
   var monthOfYear = Math.floor(monthOff / monthImgWidth);
   if(monthOfYear > 11) {
       monthOfYear = 11;
   }
   // 1 extra border pixel at the left edge of the year:
   var month = (year * 12) + monthOfYear;
   var day = 1;
	if(monthOff % 2 == 1) {
		day = 15;
	}
	var dateString = 
		zeroPad(year + firstYear) + 
		zeroPad(monthOfYear+1,2) +
		zeroPad(day,2) + "000000";

	var monthString = prettyMonths[monthOfYear];
	document.getElementById("displayYearEl").innerHTML = year + 1996;
	document.getElementById("displayMonthEl").innerHTML = monthString;
	// looks too jarring when it changes..
	//document.getElementById("displayDayEl").innerHTML = zeroPad(day,2);

	var url = wbPrefix + dateString + '/' +  wbCurrentUrl;
	document.getElementById('wm-graph-anchor').href = url;

   //document.getElementById("wmtbURL").value="evX("+eventX+") elX("+elementX+") xO("+xOff+") y("+year+") m("+month+") monthOff("+monthOff+") DS("+dateString+") Moy("+monthOfYear+") ms("+monthString+")";
   if(curYear != year) {
       var yrOff = year * yearImgWidth;
       document.getElementById("wbMouseTrackYearImg").style.left = yrOff + "px";
       curYear = year;
   }
   if(curMonth != month) {
       var mtOff = year + (month * monthImgWidth) + 1;
       document.getElementById("wbMouseTrackMonthImg").style.left = mtOff + "px";
       curMonth = month;
   }
}
//]]>
</script>

<style type="text/css">body{margin-top:0!important;padding-top:0!important;min-width:800px!important;}#wm-ipp a:hover{text-decoration:underline!important;}</style>
<div id="wm-ipp" lang="en" class="__wb_banner_div" style="display:none; position:relative;padding:0 5px;min-height:70px;min-width:800px">


<div id="wm-ipp-inside" class="__wb_banner_div" style="position:fixed;padding:0!important;margin:0!important;width:97%;min-width:780px;border:5px solid #000;border-top:none;background-image:url(/static/images/toolbar/wm_tb_bk_trns.png);text-align:center;-moz-box-shadow:1px 1px 3px #333;-webkit-box-shadow:1px 1px 3px #333;box-shadow:1px 1px 3px #333;font-size:11px!important;font-family:'Lucida Grande','Arial',sans-serif!important;">
   <table style="border-collapse:collapse;margin:0;padding:0;width:100%;"><tbody><tr>
   <td style="padding:10px;vertical-align:top;min-width:110px;">
   <a href="/web/" title="Wayback Machine home page" style="background-color:transparent;border:none;"><img src="/static/images/toolbar/wayback-toolbar-logo.png" alt="Wayback Machine" width="110" height="39" border="0"/></a>
   </td>
   <td style="padding:0!important;text-align:center;vertical-align:top;width:100%;">

       <table style="border-collapse:collapse;margin:0 auto;padding:0;width:570px;"><tbody><tr>
       <td style="padding:3px 0;" colspan="2">
       <form target="_top" method="get" action="/web/form-submit.jsp" name="wmtb" id="wmtb" style="margin:0!important;padding:0!important;"><input type="text" name="url" id="wmtbURL" value="http://ja.doukaku.org/75/flatten/" style="width:400px;font-size:11px;font-family:'Lucida Grande','Arial',sans-serif;" onfocus="javascript:this.focus();this.select();" /><input type="hidden" name="type" value="replay" /><input type="hidden" name="date" value="20081202141836" /><input type="submit" value="Go" style="font-size:11px;font-family:'Lucida Grande','Arial',sans-serif;margin-left:5px;width: inherit !important" /><span id="wm_tb_options" style="display:block;"></span></form>
       </td>
       <td style="vertical-align:bottom;padding:5px 0 0 0!important;" rowspan="2">
           <table style="border-collapse:collapse;width:110px;color:#99a;font-family:'Helvetica','Lucida Grande','Arial',sans-serif;"><tbody>
			
           <!-- NEXT/PREV MONTH NAV AND MONTH INDICATOR -->
           <tr style="width:110px;height:16px;font-size:10px!important;">
           	<td style="padding-right:9px;font-size:11px!important;font-weight:bold;text-transform:uppercase;text-align:right;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
		                <a href="/web/20080406015547/http://ja.doukaku.org/75/flatten/" style="text-decoration:none;color:#33f;font-weight:bold;background-color:transparent;border:none;" title="6 Apr 2008"><strong>APR</strong></a>
		                
               </td>
               <td id="displayMonthEl" style="background:#000;color:#ff0;font-size:11px!important;font-weight:bold;text-transform:uppercase;width:34px;height:15px;padding-top:1px;text-align:center;" title="You are here: 14:18:36 Dec 2, 2008">DEC</td>
				<td style="padding-left:9px;font-size:11px!important;font-weight:bold;text-transform:uppercase;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       Jan
                       
               </td>
           </tr>

           <!-- NEXT/PREV CAPTURE NAV AND DAY OF MONTH INDICATOR -->
           <tr>
               <td style="padding-right:9px;white-space:nowrap;overflow:visible;text-align:right!important;vertical-align:middle!important;" nowrap="nowrap">
               
		                <a href="/web/20080406015547/http://ja.doukaku.org/75/flatten/" title="1:55:47 Apr 6, 2008" style="background-color:transparent;border:none;"><img src="/static/images/toolbar/wm_tb_prv_on.png" alt="Previous capture" width="14" height="16" border="0" /></a>
		                
               </td>
               <td id="displayDayEl" style="background:#000;color:#ff0;width:34px;height:24px;padding:2px 0 0 0;text-align:center;font-size:24px;font-weight: bold;" title="You are here: 14:18:36 Dec 2, 2008">2</td>
				<td style="padding-left:9px;white-space:nowrap;overflow:visible;text-align:left!important;vertical-align:middle!important;" nowrap="nowrap">
               
                       <img src="/static/images/toolbar/wm_tb_nxt_off.png" alt="Next capture" width="14" height="16" border="0"/>
                       
			    </td>
           </tr>

           <!-- NEXT/PREV YEAR NAV AND YEAR INDICATOR -->
           <tr style="width:110px;height:13px;font-size:9px!important;">
				<td style="padding-right:9px;font-size:11px!important;font-weight: bold;text-align:right;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
		                <a href="/web/20070513180302/http://ja.doukaku.org/75/flatten/" style="text-decoration:none;color:#33f;font-weight:bold;background-color:transparent;border:none;" title="13 May 2007"><strong>2007</strong></a>
		                
               </td>
               <td id="displayYearEl" style="background:#000;color:#ff0;font-size:11px!important;font-weight: bold;padding-top:1px;width:34px;height:13px;text-align:center;" title="You are here: 14:18:36 Dec 2, 2008">2008</td>
				<td style="padding-left:9px;font-size:11px!important;font-weight: bold;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       2009
                       
				</td>
           </tr>
           </tbody></table>
       </td>

       </tr>
       <tr>
       <td style="vertical-align:middle;padding:0!important;">
           <a href="/web/20081202141836*/http://ja.doukaku.org/75/flatten/" style="color:#33f;font-size:11px;font-weight:bold;background-color:transparent;border:none;" title="See a list of every capture for this URL"><strong>4 captures</strong></a>
           <div class="__wb_banner_div" style="margin:0!important;padding:0!important;color:#666;font-size:9px;padding-top:2px!important;white-space:nowrap;" title="Timespan for captures of this URL">13 May 07 - 2 Dec 08</div>
       </td>
       <td style="padding:0!important;">
       <a style="position:relative; white-space:nowrap; width:450px;height:27px;" href="" id="wm-graph-anchor">
       <div class="__wb_banner_div" id="wm-ipp-sparkline" style="position:relative; white-space:nowrap; width:450px;height:27px;background-color:#fff;cursor:pointer;border-right:1px solid #ccc;" title="Explore captures for this URL">
			<img id="sparklineImgId" style="position:absolute; z-index:9012; top:0px; left:0px;"
				onmouseover="showTrackers('inline');" 
				onmouseout="showTrackers('none');"
				onmousemove="trackMouseMove(event,this)"
				alt="sparklines"
				width="450"
				height="27"
				border="0"
				src="/web/jsp/graph.jsp?graphdata=450_27_1996:-1:000000000000_1997:-1:000000000000_1998:-1:000000000000_1999:-1:000000000000_2000:-1:000000000000_2001:-1:000000000000_2002:-1:000000000000_2003:-1:000000000000_2004:-1:000000000000_2005:-1:000000000000_2006:-1:000000000000_2007:-1:000010000000_2008:11:010100000001_2009:-1:000000000000_2010:-1:000000000000_2011:-1:000000000000_2012:-1:000000000000_2013:-1:000000000000"></img>
			<img id="wbMouseTrackYearImg" 
				style="display:none; position:absolute; z-index:9010;"
				width="25" 
				height="27"
				border="0"
				src="/static/images/toolbar/transp-yellow-pixel.png"></img>
			<img id="wbMouseTrackMonthImg"
				style="display:none; position:absolute; z-index:9011; " 
				width="2"
				height="27" 
				border="0"
				src="/static/images/toolbar/transp-red-pixel.png"></img>
       </div>
		</a>

       </td>
       </tr></tbody></table>
   </td>
   <td style="text-align:right;padding:5px;width:65px;font-size:11px!important;">
       <a href="javascript:;" onclick="document.getElementById('wm-ipp').style.display='none';" style="display:block;padding-right:18px;background:url(/static/images/toolbar/wm_tb_close.png) no-repeat 100% 0;color:#33f;font-family:'Lucida Grande','Arial',sans-serif;margin-bottom:23px;background-color:transparent;border:none;" title="Close the toolbar">Close</a>
       <a href="http://faq.web.archive.org/" style="display:block;padding-right:18px;background:url(/static/images/toolbar/wm_tb_help.png) no-repeat 100% 0;color:#33f;font-family:'Lucida Grande','Arial',sans-serif;background-color:transparent;border:none;" title="Get some help using the Wayback Machine">Help</a>
   </td>
   </tr></tbody></table>

</div>
</div>
<script type="text/javascript">
 var wmDisclaimBanner = document.getElementById("wm-ipp");
 if(wmDisclaimBanner != null) {
   disclaimElement(wmDisclaimBanner);
 }
</script>
<!-- END WAYBACK TOOLBAR INSERT -->


<div id="page_head" class="compact">
  <h1 class="compact">
    <a href="/web/20081202141836/http://ja.doukaku.org/">DouKaku?</a><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/beta.png" alt="beta">
  </h1>
</div>

<div id="page_body" class="compact">
<div id="content" class="compact">




<h2 class="compact">
<img src='/web/20081202141836im_/http://ja.doukaku.org/static/image/star_gold.png' alt=challenge>
<a href="/web/20081202141836/http://ja.doukaku.org/75/">四字熟語パズルの作成</a>
</h2>

    





<div class="comment" id="comment3644">
  <p class="banner"><a href="/web/20081202141836/http://ja.doukaku.org/user/1/" target="_top">にしお</a><a href="/web/20081202141836/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20081202141836/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20081202141836/http://ja.doukaku.org/comment/3644/">#3644</a>(<script language="JavaScript">print_time(new Date("2007/11/01 03:02 GMT"));</script><noscript>2007/11/01 03:02 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">Rating<span style="background-color: #ffefef;">-1/1=-1.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <p>与えられた四字熟語のリストから下のように四角く配置することのできる熟語の組み合わせを探すプログラムを作成してください。</p>
<p>出力例:</p>
<pre class="literal-block">
無憂無風
礼　　林
千　　火
万水千山

知行合一
者　　筆
不　　勾
言語道断
</pre>
<p>四字熟語は左から右、上から下へ読むものとします。また右上隅の漢字と左下隅の漢字は異なるものでなければいけません。</p>
<p>四字熟語のデータは扱いやすい形(たとえばユニコード文字列のリスト)で与えられていると仮定して構いません。サンプルデータが必要であれば
<a class="reference" href="/web/20081202141836/http://vector.aol.co.jp/soft/data/writing/se400206.html">FOR Microsoft IME The四字熟語辞典(データ / 文書作成)</a>
にテキスト形式のデータが入っているのでそれを使えると思います。</p>
<p>問題の規模の参考までに、40行程度のPythonスクリプトでこのデータ(重複をのぞいて8312件)を処理してみたところ2.4GHzのCPUで13秒程度かかりました。結果は8133件出力されました。</p>

	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20081202141836/http://ja.doukaku.org/comment/3644/addtag/" class="addtag" id="addtag_3644">Tags</a>:
	
	No tags
	&nbsp;

	

  
  <span class="rating">
  Rating<span style="background-color: #ffefef;"
  >-1/1=-1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3644"
  >-</span><span
  class="button yellow"
  id="rating_z_3644"
  >0</span><span 
  class="button green"
  id="rating_p_3644"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20081202141836/http://ja.doukaku.org/75/reply_to/3644/">
  reply
  </a>]
  </div>
</div>
</div>




  



<div class="indent">
<a href="/web/20081202141836/http://ja.doukaku.org/75/post_comment/">
post comment
</a>
</div>


<h2>Posted feedbacks - Flatten</h2>
<a href="/web/20081202141836/http://ja.doukaku.org/75/nested/">Nested</a>
<a href="/web/20081202141836/http://ja.doukaku.org/75/">Hidden</a> 


  
  <br/>

  
  




<div class="comment" id="comment3658">
  <p class="banner"><a href="/web/20081202141836/http://ja.doukaku.org/user/164/" target="_top">kozima</a><a href="/web/20081202141836/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20081202141836/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20081202141836/http://ja.doukaku.org/comment/3658/">#3658</a>(<script language="JavaScript">print_time(new Date("2007/11/02 06:49 GMT"));</script><noscript>2007/11/02 06:49 GMT</noscript>)
	
	
	
	[<a href="/web/20081202141836/http://ja.doukaku.org/lang/commonlisp/">
	  Common Lisp
	</a>]
	
	
	
	&nbsp;

<span class="rating">Rating<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>それなりに効率化を図ったつもり。
サンプルデータ 8312 件を 2.66 GHz の CPU で 3.5 秒でした。
出力が 12118 件で問題文と一致しませんが、
特におかしな結果は見当たりませんでした。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></td><td class="code"><div class="highlight"><pre>(defun group (list key &amp;optional (test #&#39;eql))
  (let ((tbl (make-hash-table :test test)))
    (dolist (x list) (push x (gethash (funcall key x) tbl)))
    tbl))

(defun make-puzzle (words)
  (let ((tbl1 (group words (lambda (s) (elt s 0)))))
    (loop for grp1 being each hash-value of tbl1 nconc
      (loop for a in grp1 and rest1 on (cdr grp1) nconc
        (loop for b in rest1
          if (char/= (elt a 3) (elt b 3)) nconc
          (loop for c in (gethash (elt a 3) tbl1) nconc
            (loop for d in (gethash (elt b 3) tbl1)
              if (char= (elt c 3) (elt d 3))
              collect (list a b c d))))))))

;;; test
(compile &#39;make-puzzle)

(let ((words (with-open-file (s &quot;words.txt&quot; :direction :input)
               (loop for x = (read-line s nil) while x collect x))))
  (print (time (make-puzzle words))))
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20081202141836/http://ja.doukaku.org/comment/3658/addtag/" class="addtag" id="addtag_3658">Tags</a>:
	
	No tags
	&nbsp;

	
      [<a href="/web/20081202141836/http://ja.doukaku.org/lang/commonlisp/">
		Common Lisp
      </a>]
	  
      [<a href="/web/20081202141836/http://ja.doukaku.org/comment/3658/download/">
		download code
      </a>]
	  [<a href="/web/20081202141836/http://ja.doukaku.org/comment/3658/download_html/">
		get code as html
      </a>]<p>
	

  
  <span class="rating">
  Rating<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3658"
  >-</span><span
  class="button yellow"
  id="rating_z_3658"
  >0</span><span 
  class="button green"
  id="rating_p_3658"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20081202141836/http://ja.doukaku.org/comment/3658/">
    1
    reply
  </a>

  [<a href="/web/20081202141836/http://ja.doukaku.org/75/reply_to/3658/">
  reply
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment3659">
  <p class="banner"><a href="/web/20081202141836/http://ja.doukaku.org/user/164/" target="_top">kozima</a><a href="/web/20081202141836/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20081202141836/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20081202141836/http://ja.doukaku.org/comment/3659/">#3659</a>(<script language="JavaScript">print_time(new Date("2007/11/02 06:55 GMT"));</script><noscript>2007/11/02 06:55 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">Rating<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>データは words.txt というファイルの中に入っていて、
改行で区切られていると仮定しています。</pre>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20081202141836/http://ja.doukaku.org/comment/3659/addtag/" class="addtag" id="addtag_3659">Tags</a>:
	
	No tags
	&nbsp;

	

  
  <span class="rating">
  Rating<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3659"
  >-</span><span
  class="button yellow"
  id="rating_z_3659"
  >0</span><span 
  class="button green"
  id="rating_p_3659"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20081202141836/http://ja.doukaku.org/comment/3658/"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20081202141836/http://ja.doukaku.org/comment/3659/root/"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20081202141836/http://ja.doukaku.org/75/reply_to/3659/">
  reply
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment3661">
  <p class="banner"><a href="/web/20081202141836/http://ja.doukaku.org/user/88/" target="_top">sumim</a><a href="/web/20081202141836/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20081202141836/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20081202141836/http://ja.doukaku.org/comment/3661/">#3661</a>(<script language="JavaScript">print_time(new Date("2007/11/02 09:35 GMT"));</script><noscript>2007/11/02 09:35 GMT</noscript>)
	
	
	
	[<a href="/web/20081202141836/http://ja.doukaku.org/lang/smalltalk/">
	  Smalltalk
	</a>]
	
	
	
	&nbsp;

<span class="rating">Rating<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  Squeak&nbsp;Smalltalk&nbsp;で。<br/><br/>四字熟語のデータは、熟語ごとに行を改めた&nbsp;Unicode&nbsp;のテキストファイル（in.txt）で与えられているとします。<br/><br/>#groupBy:having:&nbsp;は、レシーバ（コレクション）に対し、まず第一引数のブロックで指定した条件（キー）にもとづいて要素を括りだした後、各グループについてあらためて第二引数で与えたブロックの条件に合致するかをチェックし、当てはまるものだけを集めて返すメソッドです。<br/><br/>結果として得られた四個の組の要素に重複がないことは組をセットにしてその要素を数えること（quartet&nbsp;asSet&nbsp;size&nbsp;=&nbsp;4）で、また、右上隅と左下隅の文字が異なることは、最初の熟語の最後の文字と、最後の熟語の最初の文字が一致しないこと（quartet&nbsp;first&nbsp;last&nbsp;~=&nbsp;quartet&nbsp;last&nbsp;first）でチェックしています。<br/><br/>お題の例と同じデータを使っているはずなのですが、出力件数は&nbsp;11712&nbsp;でした。熟語四組の抽出には、1.0&nbsp;GHz&nbsp;PowerPC&nbsp;(Mac&nbsp;OS&nbsp;X&nbsp;10.4.10)&nbsp;で&nbsp;14&nbsp;秒弱ほどかかりました（ただし、入出力時間は含まず）。
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40</pre></td><td class="code"><div class="highlight"><pre>| in yojis yoji firstCharDict pairs bothCharsDict results out timeToRun |

in := FileStream fileNamed: &#39;in.txt&#39;.
yojis := OrderedCollection new.
[(yoji := in nextLine) notNil] whileTrue: [yojis add: yoji].
in close.

timeToRun := [
    firstCharDict := yojis
        groupBy: [:each | each first]
        having: [:group | group size &gt; 1].

    pairs := OrderedCollection new.
    yojis do: [:first |
        firstCharDict at: first last ifPresent: [:found |
            found do: [:second | pairs add: {first. second}]]].

    bothCharsDict := pairs
        groupBy: [:pair | {pair first first. pair second last}]
        having: [:group | group size &gt; 1].

    results := OrderedCollection new.
    bothCharsDict do: [:val | val combinations: 2 atATimeDo: [:pair |
        | quartet |
        quartet := pair first, pair second.
        (quartet asSet size = 4 and: [quartet first last ~= quartet last first])
            ifTrue: [results add: quartet]]]
] timeToRun.

out := FileStream fileNamed: &#39;out.txt&#39;.
results do: [:quartet |
    out nextPutAll: quartet first; cr.
    (2 to: 3) do: [:idx |
        out nextPut: (quartet third at: idx).
        out nextPutAll: &#39;　　&#39;.
        out nextPut: (quartet second at: idx); cr].
    out nextPutAll: quartet last; cr; cr].
out edit.

^{results size. timeToRun}   &quot;=&gt; #(11712 13835) &quot;
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20081202141836/http://ja.doukaku.org/comment/3661/addtag/" class="addtag" id="addtag_3661">Tags</a>:
	
    
    <a href="/web/20081202141836/http://ja.doukaku.org/tag/Squeak_Smalltalk/">Squeak_Smalltalk</a>
    
	&nbsp;

	
      [<a href="/web/20081202141836/http://ja.doukaku.org/lang/smalltalk/">
		Smalltalk
      </a>]
	  
      [<a href="/web/20081202141836/http://ja.doukaku.org/comment/3661/download/">
		download code
      </a>]
	  [<a href="/web/20081202141836/http://ja.doukaku.org/comment/3661/download_html/">
		get code as html
      </a>]<p>
	

  
  <span class="rating">
  Rating<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3661"
  >-</span><span
  class="button yellow"
  id="rating_z_3661"
  >0</span><span 
  class="button green"
  id="rating_p_3661"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20081202141836/http://ja.doukaku.org/comment/3661/">
    1
    reply
  </a>

  [<a href="/web/20081202141836/http://ja.doukaku.org/75/reply_to/3661/">
  reply
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment3662">
  <p class="banner"><a href="/web/20081202141836/http://ja.doukaku.org/user/456/" target="_top">kenaxt</a>

	
	&nbsp;
	<a href="/web/20081202141836/http://ja.doukaku.org/comment/3662/">#3662</a>(<script language="JavaScript">print_time(new Date("2007/11/02 10:29 GMT"));</script><noscript>2007/11/02 10:29 GMT</noscript>)
	
	
	
	[<a href="/web/20081202141836/http://ja.doukaku.org/lang/ruby/">
	  Ruby
	</a>]
	
	
	
	&nbsp;

<span class="rating">Rating<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>サンプルデータ(8312件),CPU1.8GHz,3秒で14,456件出力されました。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35</pre></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">jukugo</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
  <span class="n">r</span><span class="p">,</span> <span class="n">ht</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">t</span> <span class="o">=</span> <span class="p">{},</span> <span class="p">{},</span> <span class="p">{},</span> <span class="p">{},</span> <span class="p">{}</span>
  <span class="nb">open</span><span class="p">(</span><span class="n">f</span><span class="p">)</span> <span class="p">{</span><span class="o">|</span><span class="n">fin</span><span class="o">|</span>
    <span class="n">cnt</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="n">line</span> <span class="o">=</span> <span class="n">fin</span><span class="o">.</span><span class="n">gets</span>
      <span class="n">a</span><span class="o">[</span><span class="n">cnt</span><span class="o">]</span> <span class="o">=</span> <span class="n">line</span>

      <span class="n">h</span><span class="o">[</span><span class="n">line</span><span class="o">[</span><span class="mi">0</span><span class="o">.</span><span class="n">.</span><span class="mi">1</span><span class="o">]]</span> <span class="o">=</span> <span class="o">[]</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">h</span><span class="o">[</span><span class="n">line</span><span class="o">[</span><span class="mi">0</span><span class="o">.</span><span class="n">.</span><span class="mi">1</span><span class="o">]]</span>
      <span class="n">h</span><span class="o">[</span><span class="n">line</span><span class="o">[</span><span class="mi">0</span><span class="o">.</span><span class="n">.</span><span class="mi">1</span><span class="o">]]</span> <span class="o">&lt;&lt;</span> <span class="n">cnt</span> <span class="c1">#--- head</span>

      <span class="n">t</span><span class="o">[</span><span class="n">cnt</span><span class="o">]</span> <span class="o">=</span> <span class="n">line</span><span class="o">[</span><span class="mi">6</span><span class="o">.</span><span class="n">.</span><span class="mi">7</span><span class="o">]</span> <span class="c1">#--- tail</span>
      <span class="n">cnt</span><span class="o">+=</span><span class="mi">1</span>
    <span class="k">end</span>
  <span class="p">}</span>
  <span class="n">t</span><span class="o">.</span><span class="n">each</span><span class="p">{</span><span class="o">|</span><span class="n">c</span><span class="p">,</span><span class="n">i</span><span class="o">|</span>
    <span class="k">next</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">h</span><span class="o">[</span><span class="n">i</span><span class="o">]</span>
    
    <span class="n">hh</span> <span class="o">=</span> <span class="n">a</span><span class="o">[</span><span class="n">c</span><span class="o">][</span><span class="mi">0</span><span class="o">.</span><span class="n">.</span><span class="mi">1</span><span class="o">]</span>
    <span class="n">h</span><span class="o">[</span><span class="n">i</span><span class="o">].</span><span class="n">each</span><span class="p">{</span><span class="o">|</span><span class="n">k</span><span class="o">|</span>
      <span class="n">tt</span> <span class="o">=</span> <span class="n">a</span><span class="o">[</span><span class="n">k</span><span class="o">][</span><span class="mi">6</span><span class="o">.</span><span class="n">.</span><span class="mi">7</span><span class="o">]</span>
      <span class="k">next</span> <span class="k">if</span> <span class="n">hh</span> <span class="o">==</span> <span class="n">tt</span>
      <span class="n">hhtt</span> <span class="o">=</span> <span class="n">hh</span><span class="o">+</span><span class="n">tt</span>
      <span class="n">ht</span><span class="o">[</span><span class="n">hhtt</span><span class="o">]</span> <span class="o">=</span> <span class="o">[]</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">ht</span><span class="o">[</span><span class="n">hhtt</span><span class="o">]</span>

      <span class="n">ht</span><span class="o">[</span><span class="n">hhtt</span><span class="o">].</span><span class="n">each</span> <span class="p">{</span><span class="o">|</span><span class="n">m</span><span class="o">|</span>
        <span class="n">mm</span> <span class="o">=</span> <span class="o">[</span><span class="n">a</span><span class="o">[</span><span class="n">m</span><span class="o">[</span><span class="mi">0</span><span class="o">]]</span><span class="p">,</span> <span class="n">a</span><span class="o">[</span><span class="n">m</span><span class="o">[</span><span class="mi">1</span><span class="o">]]</span><span class="p">,</span> <span class="n">a</span><span class="o">[</span><span class="n">c</span><span class="o">]</span><span class="p">,</span> <span class="n">a</span><span class="o">[</span><span class="n">k</span><span class="o">]].</span><span class="n">flatten</span><span class="o">.</span><span class="n">sort</span>
        <span class="n">r</span><span class="o">[</span><span class="nb">sprintf</span><span class="p">(</span><span class="s2">&quot;%s</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span><span class="n">mm</span><span class="p">)</span><span class="o">]</span> <span class="o">=</span> <span class="kp">true</span> <span class="k">if</span> <span class="n">mm</span><span class="o">.</span><span class="n">uniq</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">4</span>
      <span class="p">}</span>
      <span class="n">ht</span><span class="o">[</span><span class="n">hhtt</span><span class="o">]</span> <span class="o">&lt;&lt;</span> <span class="o">[</span><span class="n">c</span><span class="p">,</span> <span class="n">k</span><span class="o">]</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="n">r</span><span class="o">.</span><span class="n">each</span> <span class="p">{</span><span class="o">|</span><span class="n">i</span><span class="o">|</span><span class="nb">puts</span> <span class="n">i</span><span class="p">}</span>
<span class="k">end</span>

<span class="n">jukugo</span><span class="p">(</span><span class="no">ARGV</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="p">)</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20081202141836/http://ja.doukaku.org/comment/3662/addtag/" class="addtag" id="addtag_3662">Tags</a>:
	
    
    <a href="/web/20081202141836/http://ja.doukaku.org/tag/Ruby1.8.5/">Ruby1.8.5</a>
    
	&nbsp;

	
      [<a href="/web/20081202141836/http://ja.doukaku.org/lang/ruby/">
		Ruby
      </a>]
	  
      [<a href="/web/20081202141836/http://ja.doukaku.org/comment/3662/download/">
		download code
      </a>]
	  [<a href="/web/20081202141836/http://ja.doukaku.org/comment/3662/download_html/">
		get code as html
      </a>]<p>
	

  
  <span class="rating">
  Rating<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3662"
  >-</span><span
  class="button yellow"
  id="rating_z_3662"
  >0</span><span 
  class="button green"
  id="rating_p_3662"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20081202141836/http://ja.doukaku.org/comment/3662/">
    1
    reply
  </a>

  [<a href="/web/20081202141836/http://ja.doukaku.org/75/reply_to/3662/">
  reply
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment3663">
  <p class="banner"><a href="/web/20081202141836/http://ja.doukaku.org/user/1/" target="_top">にしお</a><a href="/web/20081202141836/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20081202141836/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20081202141836/http://ja.doukaku.org/comment/3663/">#3663</a>(<script language="JavaScript">print_time(new Date("2007/11/02 10:40 GMT"));</script><noscript>2007/11/02 10:40 GMT</noscript>)
	
	
	
	[<a href="/web/20081202141836/http://ja.doukaku.org/lang/python/">
	  Python
	</a>]
	
	
	
	&nbsp;

<span class="rating">Rating<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>なぜ4人とも結果が違うのかがむしろ新たな問題になっちゃうかも(笑
ソースコードは公開されていますし。

とりあえず僕のコードも公開することにします。
変数dataにユニコード文字列のリストが入っています。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37</pre></td><td class="code"><div class="highlight"><pre><span class="n">starts</span> <span class="o">=</span> <span class="n">set</span><span class="p">(</span><span class="n">w</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">data</span><span class="p">)</span>
<span class="n">ends</span> <span class="o">=</span> <span class="n">set</span><span class="p">(</span><span class="n">w</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">data</span><span class="p">)</span>

<span class="k">from</span> <span class="nn">collections</span> <span class="k">import</span> <span class="n">defaultdict</span>
<span class="n">start_dict</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
<span class="n">end_dict</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>

<span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
    <span class="n">start_dict</span><span class="p">[</span><span class="n">w</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
    <span class="n">end_dict</span><span class="p">[</span><span class="n">w</span><span class="p">[</span><span class="mi">3</span><span class="p">]]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>

<span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">start_dict</span><span class="p">:</span>
    <span class="n">starts</span> <span class="o">=</span> <span class="n">start_dict</span><span class="p">[</span><span class="n">s</span><span class="p">]</span>
    <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">starts</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span> <span class="k">continue</span>
    <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">end_dict</span><span class="p">:</span>
        <span class="n">ends</span> <span class="o">=</span> <span class="n">end_dict</span><span class="p">[</span><span class="n">e</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">ends</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span> <span class="k">continue</span>
        <span class="n">heads</span> <span class="o">=</span> <span class="p">[</span><span class="n">w</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">ends</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
            <span class="n">w</span> <span class="o">=</span> <span class="n">starts</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">tail</span> <span class="o">=</span> <span class="n">w</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">tail</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">heads</span><span class="p">:</span> <span class="k">continue</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
                <span class="n">w2</span> <span class="o">=</span> <span class="n">starts</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
                <span class="n">tail2</span> <span class="o">=</span> <span class="n">w2</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">tail</span> <span class="o">==</span> <span class="n">tail2</span><span class="p">:</span> <span class="k">continue</span>
                <span class="k">if</span> <span class="n">tail2</span> <span class="ow">in</span> <span class="n">heads</span><span class="p">:</span>
                    <span class="n">w3</span> <span class="o">=</span> <span class="n">ends</span><span class="p">[</span><span class="n">heads</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">tail</span><span class="p">)]</span>
                    <span class="n">w4</span> <span class="o">=</span> <span class="n">ends</span><span class="p">[</span><span class="n">heads</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">tail2</span><span class="p">)]</span>
                    <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="k">print</span> <span class="n">w</span>
                    <span class="k">print</span> <span class="s">u&quot;</span><span class="si">%s</span><span class="s">　　</span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">w2</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">w3</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> 
                    <span class="k">print</span> <span class="s">u&quot;</span><span class="si">%s</span><span class="s">　　</span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">w2</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">w3</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> 
                    <span class="k">print</span> <span class="n">w4</span>
                    <span class="k">print</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20081202141836/http://ja.doukaku.org/comment/3663/addtag/" class="addtag" id="addtag_3663">Tags</a>:
	
	No tags
	&nbsp;

	
      [<a href="/web/20081202141836/http://ja.doukaku.org/lang/python/">
		Python
      </a>]
	  
      [<a href="/web/20081202141836/http://ja.doukaku.org/comment/3663/download/">
		download code
      </a>]
	  [<a href="/web/20081202141836/http://ja.doukaku.org/comment/3663/download_html/">
		get code as html
      </a>]<p>
	

  
  <span class="rating">
  Rating<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3663"
  >-</span><span
  class="button yellow"
  id="rating_z_3663"
  >0</span><span 
  class="button green"
  id="rating_p_3663"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20081202141836/http://ja.doukaku.org/comment/3662/"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20081202141836/http://ja.doukaku.org/comment/3663/root/"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  <a href="/web/20081202141836/http://ja.doukaku.org/comment/3663/">
    1
    reply
  </a>

  [<a href="/web/20081202141836/http://ja.doukaku.org/75/reply_to/3663/">
  reply
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment3664">
  <p class="banner"><a href="/web/20081202141836/http://ja.doukaku.org/user/1/" target="_top">にしお</a><a href="/web/20081202141836/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20081202141836/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20081202141836/http://ja.doukaku.org/comment/3664/">#3664</a>(<script language="JavaScript">print_time(new Date("2007/11/02 10:55 GMT"));</script><noscript>2007/11/02 10:55 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">Rating<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>僕のコードも30～31行目あたり手抜きなので
もう一度きちんと考える必要がありそうだ…
</pre>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20081202141836/http://ja.doukaku.org/comment/3664/addtag/" class="addtag" id="addtag_3664">Tags</a>:
	
	No tags
	&nbsp;

	

  
  <span class="rating">
  Rating<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3664"
  >-</span><span
  class="button yellow"
  id="rating_z_3664"
  >0</span><span 
  class="button green"
  id="rating_p_3664"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20081202141836/http://ja.doukaku.org/comment/3663/"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20081202141836/http://ja.doukaku.org/comment/3664/root/"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20081202141836/http://ja.doukaku.org/75/reply_to/3664/">
  reply
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment3665">
  <p class="banner"><a href="/web/20081202141836/http://ja.doukaku.org/user/504/" target="_top">あにす</a><a href="/web/20081202141836/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20081202141836/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20081202141836/http://ja.doukaku.org/comment/3665/">#3665</a>(<script language="JavaScript">print_time(new Date("2007/11/02 11:06 GMT"));</script><noscript>2007/11/02 11:06 GMT</noscript>)
	
	
	
	[<a href="/web/20081202141836/http://ja.doukaku.org/lang/vbnet/">
	  VB.net
	</a>]
	
	
	
	&nbsp;

<span class="rating">Rating<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  　コマンドライン引数に、四字熟語を改行で区切って列挙したファイルのパスを指定したものとします。ファイルのパスは複数指定可です。文字コードはUnicodeです。<br/>出力例に含まれる四字熟語を列挙したファイルでは一瞬で例と同じ出力結果が得られました。<br/>　今、ダウンロードしたサンプルを上記形式に加工したファイルを読み込ませて実行しているのですが、待てど暮らせど終わりません。もう1時間程経ってます。<br/>　VB.net一番乗り狙って投稿します。
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63</pre></td><td class="code"><div class="highlight"><pre><span class="k">Module</span> <span class="n">Module1</span>

    <span class="k">Sub</span> <span class="n">Main</span><span class="p">(</span><span class="k">ByVal</span> <span class="n">args</span><span class="p">()</span> <span class="ow">As</span> <span class="kt">String</span><span class="p">)</span> <span class="c">&#39;引数に四字熟語をCRLFで区切り列挙したテキストファイルを指定。文字コードはUnicode。ファイルは複数指定可能。</span>
        <span class="k">Dim</span> <span class="n">Ticks</span> <span class="ow">As</span> <span class="kt">Long</span> <span class="o">=</span> <span class="n">Now</span><span class="p">.</span><span class="n">Ticks</span>
        <span class="k">Dim</span> <span class="n">JukugoList</span> <span class="ow">As</span> <span class="k">New</span> <span class="n">List</span><span class="p">(</span><span class="k">Of</span> <span class="kt">String</span><span class="p">)</span> <span class="c">&#39;四字熟語のリスト  </span>
        <span class="c">&#39;四字熟語リストの読み込みループ</span>
        <span class="k">For</span> <span class="k">Each</span> <span class="n">CmdLine</span> <span class="ow">As</span> <span class="kt">String</span> <span class="ow">In</span> <span class="n">args</span>
            <span class="n">JukugoList</span><span class="p">.</span><span class="n">AddRange</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">IO</span><span class="p">.</span><span class="n">File</span><span class="p">.</span><span class="n">ReadAllLines</span><span class="p">(</span><span class="n">CmdLine</span><span class="p">))</span>
        <span class="k">Next</span>
        <span class="n">JukugoPuzul</span><span class="p">(</span><span class="n">JukugoList</span><span class="p">)</span>
        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">Now</span><span class="p">.</span><span class="n">Ticks</span> <span class="o">-</span> <span class="n">Ticks</span><span class="p">)</span>
        <span class="n">Console</span><span class="p">.</span><span class="n">ReadKey</span><span class="p">()</span>
    <span class="k">End</span> <span class="k">Sub</span>

    <span class="k">Private</span> <span class="k">Sub</span> <span class="n">JukugoPuzul</span><span class="p">(</span><span class="k">ByVal</span> <span class="n">JukugoList</span> <span class="ow">As</span> <span class="n">List</span><span class="p">(</span><span class="k">Of</span> <span class="kt">String</span><span class="p">))</span>
        <span class="k">Dim</span> <span class="n">Kouho</span> <span class="ow">As</span> <span class="k">New</span> <span class="n">List</span><span class="p">(</span><span class="k">Of</span> <span class="kt">String</span><span class="p">())</span>
        <span class="k">For</span> <span class="k">Each</span> <span class="n">JukugoTop</span> <span class="ow">As</span> <span class="kt">String</span> <span class="ow">In</span> <span class="n">JukugoList</span> <span class="c">&#39;上</span>
            <span class="k">For</span> <span class="k">Each</span> <span class="n">JukugoRight</span> <span class="ow">As</span> <span class="kt">String</span> <span class="ow">In</span> <span class="n">JukugoList</span> <span class="c">&#39;右</span>
                <span class="k">For</span> <span class="k">Each</span> <span class="n">JukugoBottom</span> <span class="ow">As</span> <span class="kt">String</span> <span class="ow">In</span> <span class="n">JukugoList</span> <span class="c">&#39;下</span>
                    <span class="k">For</span> <span class="k">Each</span> <span class="n">JukugoLeft</span> <span class="ow">As</span> <span class="kt">String</span> <span class="ow">In</span> <span class="n">JukugoList</span> <span class="c">&#39;左</span>
                        <span class="k">If</span> <span class="n">JukugoTop</span><span class="p">.</span><span class="n">Substring</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="n">JukugoRight</span><span class="p">.</span><span class="n">Substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">AndAlso</span> <span class="n">_</span>
                        <span class="n">JukugoRight</span><span class="p">.</span><span class="n">Substring</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="n">JukugoBottom</span><span class="p">.</span><span class="n">Substring</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">AndAlso</span> <span class="n">_</span>
                        <span class="n">JukugoBottom</span><span class="p">.</span><span class="n">Substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="n">JukugoLeft</span><span class="p">.</span><span class="n">Substring</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">AndAlso</span> <span class="n">_</span>
                        <span class="n">JukugoLeft</span><span class="p">.</span><span class="n">Substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="n">JukugoTop</span><span class="p">.</span><span class="n">Substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="k">Then</span>
                            <span class="k">If</span> <span class="n">JukugoTop</span><span class="p">.</span><span class="n">Substring</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&lt;&gt;</span> <span class="n">JukugoBottom</span><span class="p">.</span><span class="n">Substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="k">Then</span> <span class="c">&#39;右上隅の漢字と左下隅の漢字は異なるものでなければいけません。</span>
                                <span class="k">Dim</span> <span class="n">Group</span><span class="p">()</span> <span class="ow">As</span> <span class="kt">String</span> <span class="o">=</span> <span class="p">{</span><span class="n">JukugoTop</span><span class="p">,</span> <span class="n">JukugoRight</span><span class="p">,</span> <span class="n">JukugoBottom</span><span class="p">,</span> <span class="n">JukugoLeft</span><span class="p">}</span>
                                <span class="k">If</span> <span class="n">ChofukuCheck</span><span class="p">(</span><span class="n">Kouho</span><span class="p">,</span> <span class="n">Group</span><span class="p">)</span> <span class="k">Then</span>
                                    <span class="n">OutPut</span><span class="p">(</span><span class="n">Group</span><span class="p">)</span>
                                    <span class="n">Kouho</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">Group</span><span class="p">)</span>
                                <span class="k">End</span> <span class="k">If</span>
                            <span class="k">End</span> <span class="k">If</span>
                        <span class="k">End</span> <span class="k">If</span>
                    <span class="k">Next</span>
                <span class="k">Next</span>
            <span class="k">Next</span>
        <span class="k">Next</span>
    <span class="k">End</span> <span class="k">Sub</span>

    <span class="k">Private</span> <span class="k">Function</span> <span class="n">ChofukuCheck</span><span class="p">(</span><span class="k">ByVal</span> <span class="n">List</span> <span class="ow">As</span> <span class="n">List</span><span class="p">(</span><span class="k">Of</span> <span class="kt">String</span><span class="p">()),</span> <span class="k">ByVal</span> <span class="n">Kouho</span> <span class="ow">As</span> <span class="kt">String</span><span class="p">())</span> <span class="ow">As</span> <span class="kt">Boolean</span>
        <span class="k">For</span> <span class="k">Each</span> <span class="n">Group</span> <span class="ow">As</span> <span class="kt">String</span><span class="p">()</span> <span class="ow">In</span> <span class="n">List</span>
            <span class="k">Dim</span> <span class="n">Count</span> <span class="ow">As</span> <span class="kt">Integer</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">For</span> <span class="k">Each</span> <span class="n">Jukugo</span> <span class="ow">As</span> <span class="kt">String</span> <span class="ow">In</span> <span class="n">Group</span>
                <span class="k">For</span> <span class="k">Each</span> <span class="n">Jukugo1</span> <span class="ow">As</span> <span class="kt">String</span> <span class="ow">In</span> <span class="n">Kouho</span>
                    <span class="k">If</span> <span class="n">Jukugo</span> <span class="o">=</span> <span class="n">Jukugo1</span> <span class="k">Then</span>
                        <span class="n">Count</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="k">End</span> <span class="k">If</span>
                <span class="k">Next</span>
            <span class="k">Next</span>
            <span class="k">If</span> <span class="n">Count</span> <span class="o">=</span> <span class="mi">4</span> <span class="k">Then</span>
                <span class="k">Return</span> <span class="k">False</span>
            <span class="k">End</span> <span class="k">If</span>
        <span class="k">Next</span>
        <span class="k">Return</span> <span class="k">True</span>
    <span class="k">End</span> <span class="k">Function</span>

    <span class="k">Private</span> <span class="k">Sub</span> <span class="n">OutPut</span><span class="p">(</span><span class="k">ByVal</span> <span class="n">Group</span><span class="p">()</span> <span class="ow">As</span> <span class="kt">String</span><span class="p">)</span>
        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">Group</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">Group</span><span class="p">(</span><span class="mi">3</span><span class="p">).</span><span class="n">Substring</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&amp;</span> <span class="s">&quot;　　&quot;</span> <span class="o">&amp;</span> <span class="n">Group</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="n">Substring</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">Group</span><span class="p">(</span><span class="mi">3</span><span class="p">).</span><span class="n">Substring</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&amp;</span> <span class="s">&quot;　　&quot;</span> <span class="o">&amp;</span> <span class="n">Group</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="n">Substring</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">Group</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">vbCrLf</span><span class="p">)</span>
    <span class="k">End</span> <span class="k">Sub</span>

<span class="k">End</span> <span class="k">Module</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20081202141836/http://ja.doukaku.org/comment/3665/addtag/" class="addtag" id="addtag_3665">Tags</a>:
	
    
    <a href="/web/20081202141836/http://ja.doukaku.org/tag/VB.NET2005/">VB.NET2005</a>
    
    <a href="/web/20081202141836/http://ja.doukaku.org/tag/VB2005/">VB2005</a>
    
	&nbsp;

	
      [<a href="/web/20081202141836/http://ja.doukaku.org/lang/vbnet/">
		VB.net
      </a>]
	  
      [<a href="/web/20081202141836/http://ja.doukaku.org/comment/3665/download/">
		download code
      </a>]
	  [<a href="/web/20081202141836/http://ja.doukaku.org/comment/3665/download_html/">
		get code as html
      </a>]<p>
	

  
  <span class="rating">
  Rating<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3665"
  >-</span><span
  class="button yellow"
  id="rating_z_3665"
  >0</span><span 
  class="button green"
  id="rating_p_3665"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20081202141836/http://ja.doukaku.org/comment/3665/">
    1
    reply
  </a>

  [<a href="/web/20081202141836/http://ja.doukaku.org/75/reply_to/3665/">
  reply
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment3666">
  <p class="banner"><a href="/web/20081202141836/http://ja.doukaku.org/user/504/" target="_top">あにす</a><a href="/web/20081202141836/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20081202141836/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20081202141836/http://ja.doukaku.org/comment/3666/">#3666</a>(<script language="JavaScript">print_time(new Date("2007/11/02 11:17 GMT"));</script><noscript>2007/11/02 11:17 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">Rating<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>やっぱりガチムチにFor Eachの4重ネストで総当り判定してるのが遅い原因でしょうか…。
まだ終わりません…。CPUは2GHz、デバッグモードで実行してます。</pre>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20081202141836/http://ja.doukaku.org/comment/3666/addtag/" class="addtag" id="addtag_3666">Tags</a>:
	
	No tags
	&nbsp;

	

  
  <span class="rating">
  Rating<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3666"
  >-</span><span
  class="button yellow"
  id="rating_z_3666"
  >0</span><span 
  class="button green"
  id="rating_p_3666"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20081202141836/http://ja.doukaku.org/comment/3665/"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20081202141836/http://ja.doukaku.org/comment/3666/root/"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20081202141836/http://ja.doukaku.org/75/reply_to/3666/">
  reply
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment3667">
  <p class="banner"><a href="/web/20081202141836/http://ja.doukaku.org/user/504/" target="_top">あにす</a><a href="/web/20081202141836/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20081202141836/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20081202141836/http://ja.doukaku.org/comment/3667/">#3667</a>(<script language="JavaScript">print_time(new Date("2007/11/02 12:53 GMT"));</script><noscript>2007/11/02 12:53 GMT</noscript>)
	
	
	
	[<a href="/web/20081202141836/http://ja.doukaku.org/lang/vbnet/">
	  VB.net
	</a>]
	
	
	
	&nbsp;

<span class="rating">Rating<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  　高速化しました。<br/>サンプル(重複あり)8,582件<br/>結果12,117件<br/>CPU2.0GHz　610秒orz
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70</pre></td><td class="code"><div class="highlight"><pre><span class="k">Module</span> <span class="n">Module1</span>

    <span class="k">Sub</span> <span class="n">Main</span><span class="p">(</span><span class="k">ByVal</span> <span class="n">args</span><span class="p">()</span> <span class="ow">As</span> <span class="kt">String</span><span class="p">)</span> <span class="c">&#39;引数に四字熟語をCRLFで区切り列挙したテキストファイルを指定。文字コードはUnicode。ファイルは複数指定可能。</span>
        <span class="k">Dim</span> <span class="n">Ticks</span> <span class="ow">As</span> <span class="kt">Long</span> <span class="o">=</span> <span class="n">Now</span><span class="p">.</span><span class="n">Ticks</span>
        <span class="k">Dim</span> <span class="n">JukugoList</span> <span class="ow">As</span> <span class="k">New</span> <span class="n">List</span><span class="p">(</span><span class="k">Of</span> <span class="kt">String</span><span class="p">)</span> <span class="c">&#39;四字熟語のリスト  </span>
        <span class="c">&#39;四字熟語リストの読み込みループ</span>
        <span class="k">For</span> <span class="k">Each</span> <span class="n">CmdLine</span> <span class="ow">As</span> <span class="kt">String</span> <span class="ow">In</span> <span class="n">args</span>
            <span class="n">JukugoList</span><span class="p">.</span><span class="n">AddRange</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">IO</span><span class="p">.</span><span class="n">File</span><span class="p">.</span><span class="n">ReadAllLines</span><span class="p">(</span><span class="n">CmdLine</span><span class="p">))</span>
        <span class="k">Next</span>
        <span class="n">JukugoPuzul</span><span class="p">(</span><span class="n">JukugoList</span><span class="p">)</span>
        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">((</span><span class="n">Now</span><span class="p">.</span><span class="n">Ticks</span> <span class="o">-</span> <span class="n">Ticks</span><span class="p">)</span> <span class="o">/</span> <span class="mi">10000000L</span> <span class="o">&amp;</span> <span class="s">&quot;秒&quot;</span><span class="p">)</span>
        <span class="n">Console</span><span class="p">.</span><span class="n">ReadKey</span><span class="p">()</span>
    <span class="k">End</span> <span class="k">Sub</span>

    <span class="k">Private</span> <span class="k">Sub</span> <span class="n">JukugoPuzul</span><span class="p">(</span><span class="k">ByVal</span> <span class="n">JukugoList</span> <span class="ow">As</span> <span class="n">List</span><span class="p">(</span><span class="k">Of</span> <span class="kt">String</span><span class="p">))</span>
        <span class="k">Dim</span> <span class="n">Kouho</span> <span class="ow">As</span> <span class="k">New</span> <span class="n">List</span><span class="p">(</span><span class="k">Of</span> <span class="kt">String</span><span class="p">())</span>
        <span class="k">For</span> <span class="k">Each</span> <span class="n">JukugoTop</span> <span class="ow">As</span> <span class="kt">String</span> <span class="ow">In</span> <span class="n">JukugoList</span> <span class="c">&#39;上</span>
            <span class="k">Dim</span> <span class="n">Top</span><span class="p">()</span> <span class="ow">As</span> <span class="kt">Char</span> <span class="o">=</span> <span class="n">JukugoTop</span><span class="p">.</span><span class="n">ToCharArray</span>
            <span class="k">For</span> <span class="k">Each</span> <span class="n">JukugoRight</span> <span class="ow">As</span> <span class="kt">String</span> <span class="ow">In</span> <span class="n">JukugoList</span> <span class="c">&#39;右</span>
                <span class="k">Dim</span> <span class="n">Right</span><span class="p">()</span> <span class="ow">As</span> <span class="kt">Char</span> <span class="o">=</span> <span class="n">JukugoRight</span><span class="p">.</span><span class="n">ToCharArray</span>
                <span class="k">If</span> <span class="n">Top</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">=</span> <span class="n">Right</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="k">Then</span>
                    <span class="k">For</span> <span class="k">Each</span> <span class="n">JukugoBottom</span> <span class="ow">As</span> <span class="kt">String</span> <span class="ow">In</span> <span class="n">JukugoList</span> <span class="c">&#39;下</span>
                        <span class="k">Dim</span> <span class="n">Bottom</span><span class="p">()</span> <span class="ow">As</span> <span class="kt">Char</span> <span class="o">=</span> <span class="n">JukugoBottom</span><span class="p">.</span><span class="n">ToCharArray</span>
                        <span class="k">If</span> <span class="n">Right</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">=</span> <span class="n">Bottom</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="k">Then</span>
                            <span class="k">For</span> <span class="k">Each</span> <span class="n">JukugoLeft</span> <span class="ow">As</span> <span class="kt">String</span> <span class="ow">In</span> <span class="n">JukugoList</span> <span class="c">&#39;左</span>
                                <span class="k">Dim</span> <span class="n">Left</span><span class="p">()</span> <span class="ow">As</span> <span class="kt">Char</span> <span class="o">=</span> <span class="n">JukugoLeft</span><span class="p">.</span><span class="n">ToCharArray</span>
                                <span class="k">If</span> <span class="n">Bottom</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="n">Left</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="ow">AndAlso</span> <span class="n">_</span>
                                <span class="n">Left</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">=</span> <span class="n">Top</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="k">Then</span>
                                    <span class="k">If</span> <span class="n">Top</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">&lt;&gt;</span> <span class="n">Bottom</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="k">Then</span> <span class="c">&#39;右上隅の漢字と左下隅の漢字は異なるものでなければいけません。</span>
                                        <span class="k">Dim</span> <span class="n">Group</span><span class="p">()</span> <span class="ow">As</span> <span class="kt">String</span> <span class="o">=</span> <span class="p">{</span><span class="n">JukugoTop</span><span class="p">,</span> <span class="n">JukugoRight</span><span class="p">,</span> <span class="n">JukugoBottom</span><span class="p">,</span> <span class="n">JukugoLeft</span><span class="p">}</span>
                                        <span class="k">If</span> <span class="n">ChofukuCheck</span><span class="p">(</span><span class="n">Kouho</span><span class="p">,</span> <span class="n">Group</span><span class="p">)</span> <span class="k">Then</span>
                                            <span class="n">OutPut</span><span class="p">(</span><span class="n">Group</span><span class="p">)</span>
                                            <span class="n">Kouho</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">Group</span><span class="p">)</span>
                                        <span class="k">End</span> <span class="k">If</span>
                                    <span class="k">End</span> <span class="k">If</span>
                                <span class="k">End</span> <span class="k">If</span>
                            <span class="k">Next</span>
                        <span class="k">End</span> <span class="k">If</span>
                    <span class="k">Next</span>
                <span class="k">End</span> <span class="k">If</span>
            <span class="k">Next</span>
        <span class="k">Next</span>
        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">Kouho</span><span class="p">.</span><span class="n">Count</span> <span class="o">&amp;</span> <span class="s">&quot;組の組み合わせがありました。&quot;</span><span class="p">)</span>
    <span class="k">End</span> <span class="k">Sub</span>

    <span class="k">Private</span> <span class="k">Function</span> <span class="n">ChofukuCheck</span><span class="p">(</span><span class="k">ByVal</span> <span class="n">List</span> <span class="ow">As</span> <span class="n">List</span><span class="p">(</span><span class="k">Of</span> <span class="kt">String</span><span class="p">()),</span> <span class="k">ByVal</span> <span class="n">Kouho</span> <span class="ow">As</span> <span class="kt">String</span><span class="p">())</span> <span class="ow">As</span> <span class="kt">Boolean</span>
        <span class="k">For</span> <span class="k">Each</span> <span class="n">Group</span> <span class="ow">As</span> <span class="kt">String</span><span class="p">()</span> <span class="ow">In</span> <span class="n">List</span>
            <span class="k">Dim</span> <span class="n">Count</span> <span class="ow">As</span> <span class="kt">Integer</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">For</span> <span class="k">Each</span> <span class="n">Jukugo</span> <span class="ow">As</span> <span class="kt">String</span> <span class="ow">In</span> <span class="n">Group</span>
                <span class="k">For</span> <span class="k">Each</span> <span class="n">Jukugo1</span> <span class="ow">As</span> <span class="kt">String</span> <span class="ow">In</span> <span class="n">Kouho</span>
                    <span class="k">If</span> <span class="n">Jukugo</span> <span class="o">=</span> <span class="n">Jukugo1</span> <span class="k">Then</span>
                        <span class="n">Count</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="k">End</span> <span class="k">If</span>
                <span class="k">Next</span>
            <span class="k">Next</span>
            <span class="k">If</span> <span class="n">Count</span> <span class="o">=</span> <span class="mi">4</span> <span class="k">Then</span>
                <span class="k">Return</span> <span class="k">False</span>
            <span class="k">End</span> <span class="k">If</span>
        <span class="k">Next</span>
        <span class="k">Return</span> <span class="k">True</span>
    <span class="k">End</span> <span class="k">Function</span>

    <span class="k">Private</span> <span class="k">Sub</span> <span class="n">OutPut</span><span class="p">(</span><span class="k">ByVal</span> <span class="n">Group</span><span class="p">()</span> <span class="ow">As</span> <span class="kt">String</span><span class="p">)</span>
        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">Group</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">Group</span><span class="p">(</span><span class="mi">3</span><span class="p">).</span><span class="n">Substring</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&amp;</span> <span class="s">&quot;　　&quot;</span> <span class="o">&amp;</span> <span class="n">Group</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="n">Substring</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">Group</span><span class="p">(</span><span class="mi">3</span><span class="p">).</span><span class="n">Substring</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&amp;</span> <span class="s">&quot;　　&quot;</span> <span class="o">&amp;</span> <span class="n">Group</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="n">Substring</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">Group</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">vbCrLf</span><span class="p">)</span>
    <span class="k">End</span> <span class="k">Sub</span>

<span class="k">End</span> <span class="k">Module</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20081202141836/http://ja.doukaku.org/comment/3667/addtag/" class="addtag" id="addtag_3667">Tags</a>:
	
    
    <a href="/web/20081202141836/http://ja.doukaku.org/tag/VB.net/">VB.net</a>
    
    <a href="/web/20081202141836/http://ja.doukaku.org/tag/VB2005/">VB2005</a>
    
	&nbsp;

	
      [<a href="/web/20081202141836/http://ja.doukaku.org/lang/vbnet/">
		VB.net
      </a>]
	  
      [<a href="/web/20081202141836/http://ja.doukaku.org/comment/3667/download/">
		download code
      </a>]
	  [<a href="/web/20081202141836/http://ja.doukaku.org/comment/3667/download_html/">
		get code as html
      </a>]<p>
	

  
  <span class="rating">
  Rating<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3667"
  >-</span><span
  class="button yellow"
  id="rating_z_3667"
  >0</span><span 
  class="button green"
  id="rating_p_3667"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20081202141836/http://ja.doukaku.org/comment/3667/">
    1
    reply
  </a>

  [<a href="/web/20081202141836/http://ja.doukaku.org/75/reply_to/3667/">
  reply
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment3668">
  <p class="banner"><a href="/web/20081202141836/http://ja.doukaku.org/user/82/" target="_top">yuin</a><a href="/web/20081202141836/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/star_bronze.png" border=0/></a><a href="/web/20081202141836/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20081202141836/http://ja.doukaku.org/comment/3668/">#3668</a>(<script language="JavaScript">print_time(new Date("2007/11/02 13:09 GMT"));</script><noscript>2007/11/02 13:09 GMT</noscript>)
	
	
	
	[<a href="/web/20081202141836/http://ja.doukaku.org/lang/scala/">
	  Scala
	</a>]
	
	
	
	&nbsp;

<span class="rating">Rating<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>12107件でした。kozimaさんと近いですね。
Athlon64 3000,メモリ1G,WinXPで出力含め１５秒ほどでした。

ちなみに、Scalaのforはモナドのための記法として扱えます。
HashMap#getはOptionといういわゆるMaybeモナドですのでシンプルに書けます。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36</pre></td><td class="code"><div class="highlight"><pre>import scala.io.Source.fromFile
import scala.collection.mutable.{HashMap,LinkedHashSet}

object JukugoPazzule {
  type S = LinkedHashSet[String]
  val jukugos = fromFile(&quot;kanji_uniq.txt&quot;).getLines.toList
  val headMap = (new HashMap[Char, S]() /: jukugos){(map, jukugo) =&gt; 
    map.getOrElseUpdate(jukugo(0), new S) += jukugo; map
  }

  def solve = {
    var i = 0
    var uniqChekMap = new S
    for(j1 &lt;- jukugos;
        jlst2 &lt;- headMap.get(j1(0));
        j2 &lt;- jlst2 if j2 != j1;
        jlst3 &lt;- headMap.get(j1(3));
        j3 &lt;- jlst3 if j3!=j2 &amp;&amp; j3!=j1 &amp;&amp; j1(3)!=j2(3);
        jlst4 &lt;- headMap.get(j2(3));
        j4 &lt;- jlst4 if j4!=j3 &amp;&amp; j4!=j2 &amp;&amp; j4!=j1 &amp;&amp; j4(3)==j3(3)
    ) {
      var all = List(j1,j2,j3,j4).sort(_&lt;_).mkString(&quot;&quot;)
      if(!uniqChekMap.contains(all)) {
        print(j1)
        (1 to 2).foreach{i =&gt; println(j2(i)+&quot;    &quot;+j3(i))}
        println(j4)
        println(&quot;-----------------------&quot;)
        i = i+1
        uniqChekMap += all
      }
    }
    println(i)
  }
}

JukugoPazzule.solve
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20081202141836/http://ja.doukaku.org/comment/3668/addtag/" class="addtag" id="addtag_3668">Tags</a>:
	
	No tags
	&nbsp;

	
      [<a href="/web/20081202141836/http://ja.doukaku.org/lang/scala/">
		Scala
      </a>]
	  
      [<a href="/web/20081202141836/http://ja.doukaku.org/comment/3668/download/">
		download code
      </a>]
	  [<a href="/web/20081202141836/http://ja.doukaku.org/comment/3668/download_html/">
		get code as html
      </a>]<p>
	

  
  <span class="rating">
  Rating<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3668"
  >-</span><span
  class="button yellow"
  id="rating_z_3668"
  >0</span><span 
  class="button green"
  id="rating_p_3668"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20081202141836/http://ja.doukaku.org/75/reply_to/3668/">
  reply
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment3669">
  <p class="banner"><a href="/web/20081202141836/http://ja.doukaku.org/user/110/" target="_top">shin</a><a href="/web/20081202141836/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20081202141836/http://ja.doukaku.org/comment/3669/">#3669</a>(<script language="JavaScript">print_time(new Date("2007/11/02 13:38 GMT"));</script><noscript>2007/11/02 13:38 GMT</noscript>)
	
	
	
	[<a href="/web/20081202141836/http://ja.doukaku.org/lang/perl/">
	  Perl
	</a>]
	
	
	
	&nbsp;

<span class="rating">Rating<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>熟語データはeuc-jpのin.txt

Celeron2.4GHzで8.6秒ほどかかって12118件でした。

40行目は鏡像のチェックです</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52</pre></td><td class="code"><div class="highlight"><pre><span class="c1">#!/usr/local/bin/perl</span>

<span class="k">use</span> <span class="n">strict</span><span class="p">;</span>
<span class="k">use</span> <span class="n">warnings</span><span class="p">;</span>

<span class="k">use</span> <span class="n">encoding</span> <span class="s">&#39;euc-jp&#39;</span><span class="p">;</span>

<span class="nb">open</span><span class="p">(</span> <span class="k">my</span> <span class="nv">$file</span><span class="p">,</span> <span class="s">&quot;&lt;:encoding(euc-jp)&quot;</span><span class="p">,</span> <span class="s">&quot;in.txt&quot;</span> <span class="p">)</span> <span class="ow">or</span> <span class="nb">die</span><span class="p">;</span>
<span class="k">my</span> <span class="nv">@words</span><span class="p">;</span>
<span class="k">my</span> <span class="nv">%left_right_list</span><span class="p">;</span>    <span class="c1">#1文字目をキーにしたテーブル</span>
<span class="k">my</span> <span class="nv">%bottom_list</span><span class="p">;</span>        <span class="c1">#1,4文字目をキーにしたテーブル</span>
<span class="k">for</span> <span class="k">my</span> <span class="nv">$word</span> <span class="p">(</span><span class="o">&lt;</span><span class="nv">$file</span><span class="o">&gt;</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nb">chomp</span> <span class="nv">$word</span><span class="p">;</span>
    <span class="nb">push</span> <span class="nv">@words</span><span class="p">,</span> <span class="nv">$word</span><span class="p">;</span>
    <span class="k">my</span> <span class="p">(</span> <span class="nv">$char_0</span><span class="p">,</span> <span class="nv">$char_3</span> <span class="p">)</span> <span class="o">=</span> <span class="p">(</span> <span class="nb">split</span> <span class="sr">//</span><span class="p">,</span> <span class="nv">$word</span> <span class="p">)[</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span> <span class="p">];</span>
    <span class="nb">push</span> <span class="nv">@</span><span class="p">{</span> <span class="nv">$left_right_list</span><span class="p">{</span><span class="nv">$char_0</span><span class="p">}</span> <span class="p">},</span> <span class="nv">$word</span><span class="p">;</span>
    <span class="nb">push</span> <span class="nv">@</span><span class="p">{</span> <span class="nv">$bottom_list</span><span class="p">{</span><span class="s">&quot;$char_0$char_3&quot;</span><span class="p">}</span> <span class="p">},</span> <span class="nv">$word</span><span class="p">;</span>
<span class="p">}</span>
<span class="nb">close</span> <span class="nv">$file</span><span class="p">;</span>

<span class="k">my</span> <span class="nv">$counter</span><span class="p">;</span>
<span class="k">my</span> <span class="nv">%seen</span><span class="p">;</span>
<span class="k">for</span> <span class="k">my</span> <span class="nv">$top</span> <span class="p">(</span><span class="nv">@words</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">my</span> <span class="p">(</span> <span class="nv">$top_char_0</span><span class="p">,</span> <span class="nv">$top_char_3</span> <span class="p">)</span> <span class="o">=</span> <span class="p">(</span> <span class="nb">split</span> <span class="sr">//</span><span class="p">,</span> <span class="nv">$top</span> <span class="p">)[</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span> <span class="p">];</span>

    <span class="k">for</span> <span class="k">my</span> <span class="nv">$left</span> <span class="p">(</span> <span class="nv">@</span><span class="p">{</span> <span class="nv">$left_right_list</span><span class="p">{</span><span class="nv">$top_char_0</span><span class="p">}</span> <span class="p">}</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="k">next</span> <span class="k">if</span> <span class="nv">$top</span> <span class="ow">eq</span> <span class="nv">$left</span><span class="p">;</span>
        <span class="k">my</span> <span class="nv">$left_char_3</span> <span class="o">=</span> <span class="nb">substr</span> <span class="nv">$left</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">;</span>
        <span class="k">next</span> <span class="k">if</span> <span class="nv">$top_char_3</span> <span class="ow">eq</span> <span class="nv">$left_char_3</span><span class="p">;</span>

        <span class="k">for</span> <span class="k">my</span> <span class="nv">$right</span> <span class="p">(</span> <span class="nv">@</span><span class="p">{</span> <span class="nv">$left_right_list</span><span class="p">{</span><span class="nv">$top_char_3</span><span class="p">}</span> <span class="p">}</span> <span class="p">)</span>
        <span class="p">{</span>
            <span class="k">my</span> <span class="nv">$right_char_3</span> <span class="o">=</span> <span class="nb">substr</span> <span class="nv">$right</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">;</span>

            <span class="k">for</span> <span class="k">my</span> <span class="nv">$bottom</span> <span class="p">(</span> <span class="nv">@</span><span class="p">{</span> <span class="nv">$bottom_list</span><span class="p">{</span><span class="s">&quot;$left_char_3$right_char_3&quot;</span><span class="p">}</span> <span class="p">}</span> <span class="p">)</span>
            <span class="p">{</span>
                <span class="k">next</span> <span class="k">if</span> <span class="nv">$seen</span><span class="p">{</span><span class="s">&quot;$left$top$bottom$right&quot;</span><span class="p">};</span>
                <span class="nv">$seen</span><span class="p">{</span><span class="s">&quot;$top$left$right$bottom&quot;</span><span class="p">}</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
                <span class="k">print</span> <span class="s">&quot;$top $left $right $bottom\n&quot;</span><span class="p">;</span>
                <span class="k">print</span> <span class="nb">substr</span><span class="p">(</span> <span class="nv">$left</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span> <span class="p">),</span> <span class="s">&quot;　&quot;</span><span class="p">,</span> <span class="s">&quot;　&quot;</span><span class="p">,</span> <span class="nb">substr</span><span class="p">(</span> <span class="nv">$right</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span> <span class="p">),</span> <span class="s">&quot;\n&quot;</span><span class="p">;</span>
                <span class="k">print</span> <span class="nb">substr</span><span class="p">(</span> <span class="nv">$left</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span> <span class="p">),</span> <span class="s">&quot;　&quot;</span><span class="p">,</span> <span class="s">&quot;　&quot;</span><span class="p">,</span> <span class="nb">substr</span><span class="p">(</span> <span class="nv">$right</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span> <span class="p">),</span> <span class="s">&quot;\n&quot;</span><span class="p">;</span>
                <span class="k">print</span> <span class="s">&quot;$bottom\n&quot;</span><span class="p">;</span>
                <span class="k">print</span> <span class="s">&quot;--------\n&quot;</span><span class="p">;</span>
                <span class="nv">$counter</span><span class="o">++</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="k">print</span> <span class="s">&quot;$counter\n&quot;</span><span class="p">;</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20081202141836/http://ja.doukaku.org/comment/3669/addtag/" class="addtag" id="addtag_3669">Tags</a>:
	
	No tags
	&nbsp;

	
      [<a href="/web/20081202141836/http://ja.doukaku.org/lang/perl/">
		Perl
      </a>]
	  
      [<a href="/web/20081202141836/http://ja.doukaku.org/comment/3669/download/">
		download code
      </a>]
	  [<a href="/web/20081202141836/http://ja.doukaku.org/comment/3669/download_html/">
		get code as html
      </a>]<p>
	

  
  <span class="rating">
  Rating<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3669"
  >-</span><span
  class="button yellow"
  id="rating_z_3669"
  >0</span><span 
  class="button green"
  id="rating_p_3669"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20081202141836/http://ja.doukaku.org/comment/3669/">
    1
    reply
  </a>

  [<a href="/web/20081202141836/http://ja.doukaku.org/75/reply_to/3669/">
  reply
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment3670">
  <p class="banner"><a href="/web/20081202141836/http://ja.doukaku.org/user/88/" target="_top">sumim</a><a href="/web/20081202141836/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20081202141836/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20081202141836/http://ja.doukaku.org/comment/3670/">#3670</a>(<script language="JavaScript">print_time(new Date("2007/11/02 15:48 GMT"));</script><noscript>2007/11/02 15:48 GMT</noscript>)
	
	
	
	[<a href="/web/20081202141836/http://ja.doukaku.org/lang/diff/">
	  diff
	</a>]
	
	
	
	&nbsp;

<span class="rating">Rating<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  数が食い違う原因はまだ分からないのですが、とりあえずひとつ明らかなバグが見つかったので修正。結果、少し増えて&nbsp;12109&nbsp;件でした。多数派の数にちょっと近づいたか？(^_^;)
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></td><td class="code"><div class="highlight"><pre><span class="gu">@@ -8,7 +8,7 @@</span>
 timeToRun := [
     firstCharDict := yojis
         groupBy: [:each | each first]
<span class="gd">-        having: [:group | group size &gt; 1].</span>
<span class="gi">+        having: [:group | true].</span>

     pairs := OrderedCollection new.
     yojis do: [:first |
<span class="gu">@@ -37,4 +37,4 @@</span>
     out nextPutAll: quartet last; cr; cr].
 out edit.

<span class="gd">-^{results size. timeToRun}   &quot;=&gt; #(11712 13835) &quot;</span>
<span class="gi">+^{results size. timeToRun}   &quot;=&gt; #(12109 13792) &quot;</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20081202141836/http://ja.doukaku.org/comment/3670/addtag/" class="addtag" id="addtag_3670">Tags</a>:
	
	No tags
	&nbsp;

	
      [<a href="/web/20081202141836/http://ja.doukaku.org/lang/diff/">
		diff
      </a>]
	  
      [<a href="/web/20081202141836/http://ja.doukaku.org/comment/3670/download/">
		download code
      </a>]
	  [<a href="/web/20081202141836/http://ja.doukaku.org/comment/3670/download_html/">
		get code as html
      </a>]<p>
	

  
  <span class="rating">
  Rating<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3670"
  >-</span><span
  class="button yellow"
  id="rating_z_3670"
  >0</span><span 
  class="button green"
  id="rating_p_3670"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20081202141836/http://ja.doukaku.org/comment/3661/"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20081202141836/http://ja.doukaku.org/comment/3670/root/"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  <a href="/web/20081202141836/http://ja.doukaku.org/comment/3670/">
    1
    reply
  </a>

  [<a href="/web/20081202141836/http://ja.doukaku.org/75/reply_to/3670/">
  reply
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment3671">
  <p class="banner"><a href="/web/20081202141836/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20081202141836/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20081202141836/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20081202141836/http://ja.doukaku.org/comment/3671/">#3671</a>(<script language="JavaScript">print_time(new Date("2007/11/02 15:49 GMT"));</script><noscript>2007/11/02 15:49 GMT</noscript>)
	
	
	
	[<a href="/web/20081202141836/http://ja.doukaku.org/lang/python/">
	  Python
	</a>]
	
	
	
	&nbsp;

<span class="rating">Rating<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>set()で重複を除いて、12118件の組み合わせ
となりました。shift_jisコーデックだとデコード
エラーになったので、cp932でデコード。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31</pre></td><td class="code"><div class="highlight"><pre><span class="k">import</span> <span class="nn">codecs</span>

<span class="k">def</span> <span class="nf">count</span><span class="p">(</span><span class="n">words</span><span class="p">):</span>
    <span class="n">table</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">words</span><span class="p">:</span>
        <span class="n">table</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">word</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="p">[])</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
    <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">words</span> <span class="ow">in</span> <span class="n">table</span><span class="o">.</span><span class="n">itervalues</span><span class="p">():</span>
        <span class="k">for</span> <span class="n">i1</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">words</span><span class="p">)):</span>
            <span class="k">for</span> <span class="n">i2</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="n">i1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">words</span><span class="p">)):</span>
                <span class="n">c1</span> <span class="o">=</span> <span class="n">words</span><span class="p">[</span><span class="n">i1</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">c2</span> <span class="o">=</span> <span class="n">words</span><span class="p">[</span><span class="n">i2</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">c1</span> <span class="o">==</span> <span class="n">c2</span><span class="p">:</span>
                    <span class="k">continue</span>
                <span class="k">for</span> <span class="n">word1</span> <span class="ow">in</span> <span class="n">table</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">c1</span><span class="p">,</span> <span class="p">[]):</span>
                    <span class="k">for</span> <span class="n">word2</span> <span class="ow">in</span> <span class="n">table</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">c2</span><span class="p">,</span> <span class="p">[]):</span>
                        <span class="k">if</span> <span class="n">word1</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">word2</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
                            <span class="n">ans</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">ans</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">words</span> <span class="o">=</span> <span class="n">set</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">codecs</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s">&quot;a.txt&quot;</span><span class="p">,</span> <span class="s">&quot;r&quot;</span><span class="p">,</span> <span class="s">&quot;cp932&quot;</span><span class="p">):</span>
        <span class="n">word</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">4</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s">&quot;not 4 length word: &quot;</span> <span class="o">+</span> <span class="n">word</span><span class="p">)</span>
        <span class="n">words</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
    <span class="k">print</span> <span class="n">count</span><span class="p">(</span><span class="n">words</span><span class="p">)</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20081202141836/http://ja.doukaku.org/comment/3671/addtag/" class="addtag" id="addtag_3671">Tags</a>:
	
	No tags
	&nbsp;

	
      [<a href="/web/20081202141836/http://ja.doukaku.org/lang/python/">
		Python
      </a>]
	  
      [<a href="/web/20081202141836/http://ja.doukaku.org/comment/3671/download/">
		download code
      </a>]
	  [<a href="/web/20081202141836/http://ja.doukaku.org/comment/3671/download_html/">
		get code as html
      </a>]<p>
	

  
  <span class="rating">
  Rating<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3671"
  >-</span><span
  class="button yellow"
  id="rating_z_3671"
  >0</span><span 
  class="button green"
  id="rating_p_3671"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20081202141836/http://ja.doukaku.org/comment/3671/">
    1
    reply
  </a>

  [<a href="/web/20081202141836/http://ja.doukaku.org/75/reply_to/3671/">
  reply
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment3672">
  <p class="banner"><a href="/web/20081202141836/http://ja.doukaku.org/user/177/" target="_top">ocean</a><a href="/web/20081202141836/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20081202141836/http://ja.doukaku.org/comment/3672/">#3672</a>(<script language="JavaScript">print_time(new Date("2007/11/02 15:51 GMT"));</script><noscript>2007/11/02 15:51 GMT</noscript>)
	
	
	
	[<a href="/web/20081202141836/http://ja.doukaku.org/lang/python/">
	  Python
	</a>]
	
	
	
	&nbsp;

<span class="rating">Rating<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>ログインしてなかったので改めて投稿。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31</pre></td><td class="code"><div class="highlight"><pre><span class="k">import</span> <span class="nn">codecs</span>

<span class="k">def</span> <span class="nf">count</span><span class="p">(</span><span class="n">words</span><span class="p">):</span>
    <span class="n">table</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">words</span><span class="p">:</span>
        <span class="n">table</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">word</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="p">[])</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
    <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">words</span> <span class="ow">in</span> <span class="n">table</span><span class="o">.</span><span class="n">itervalues</span><span class="p">():</span>
        <span class="k">for</span> <span class="n">i1</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">words</span><span class="p">)):</span>
            <span class="k">for</span> <span class="n">i2</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="n">i1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">words</span><span class="p">)):</span>
                <span class="n">c1</span> <span class="o">=</span> <span class="n">words</span><span class="p">[</span><span class="n">i1</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">c2</span> <span class="o">=</span> <span class="n">words</span><span class="p">[</span><span class="n">i2</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">c1</span> <span class="o">==</span> <span class="n">c2</span><span class="p">:</span>
                    <span class="k">continue</span>
                <span class="k">for</span> <span class="n">word1</span> <span class="ow">in</span> <span class="n">table</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">c1</span><span class="p">,</span> <span class="p">[]):</span>
                    <span class="k">for</span> <span class="n">word2</span> <span class="ow">in</span> <span class="n">table</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">c2</span><span class="p">,</span> <span class="p">[]):</span>
                        <span class="k">if</span> <span class="n">word1</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">word2</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
                            <span class="n">ans</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">ans</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">words</span> <span class="o">=</span> <span class="n">set</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">codecs</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s">&quot;a.txt&quot;</span><span class="p">,</span> <span class="s">&quot;r&quot;</span><span class="p">,</span> <span class="s">&quot;cp932&quot;</span><span class="p">):</span>
        <span class="n">word</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">4</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s">&quot;not 4 length word: &quot;</span> <span class="o">+</span> <span class="n">word</span><span class="p">)</span>
        <span class="n">words</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
    <span class="k">print</span> <span class="n">count</span><span class="p">(</span><span class="n">words</span><span class="p">)</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20081202141836/http://ja.doukaku.org/comment/3672/addtag/" class="addtag" id="addtag_3672">Tags</a>:
	
	No tags
	&nbsp;

	
      [<a href="/web/20081202141836/http://ja.doukaku.org/lang/python/">
		Python
      </a>]
	  
      [<a href="/web/20081202141836/http://ja.doukaku.org/comment/3672/download/">
		download code
      </a>]
	  [<a href="/web/20081202141836/http://ja.doukaku.org/comment/3672/download_html/">
		get code as html
      </a>]<p>
	

  
  <span class="rating">
  Rating<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3672"
  >-</span><span
  class="button yellow"
  id="rating_z_3672"
  >0</span><span 
  class="button green"
  id="rating_p_3672"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20081202141836/http://ja.doukaku.org/comment/3671/"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20081202141836/http://ja.doukaku.org/comment/3672/root/"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20081202141836/http://ja.doukaku.org/75/reply_to/3672/">
  reply
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment3673">
  <p class="banner"><a href="/web/20081202141836/http://ja.doukaku.org/user/88/" target="_top">sumim</a><a href="/web/20081202141836/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20081202141836/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20081202141836/http://ja.doukaku.org/comment/3673/">#3673</a>(<script language="JavaScript">print_time(new Date("2007/11/02 15:59 GMT"));</script><noscript>2007/11/02 15:59 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">Rating<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  Unicode&nbsp;の扱いが分かる言語が&nbsp;Python&nbsp;だけだったので&nbsp;にしおさんの結果と差分をとってみたところ、にしおさんのにあって私のになかったのは次の７個でした。<br/><br/>#('一切即一'&nbsp;'一期四相'&nbsp;'一期四相'&nbsp;'相門有相')<br/>#('一場春夢'&nbsp;'夢中説夢'&nbsp;'一切即一'&nbsp;'一場春夢')<br/>#('一念通天'&nbsp;'天下第一'&nbsp;'一切即一'&nbsp;'一切即一')<br/>#('一了百当'&nbsp;'当代第一'&nbsp;'一切即一'&nbsp;'一切即一')<br/>#('一期一会'&nbsp;'会三帰一'&nbsp;'一切即一'&nbsp;'一切即一')<br/>#('一文不知'&nbsp;'知行合一'&nbsp;'一切即一'&nbsp;'一切即一')<br/>#('一読三嘆'&nbsp;'嘆息嗟嘆'&nbsp;'一切即一'&nbsp;'一読三嘆')<br/><br/>とりあえずこれらについては、私のほうではセットを使って重複を外す手続きをしているのでその関係かと思われます。<br/><br/>これと別に、同じ組み合わせでも順序が違うときに省くかどうかという判断も影響しそうです。
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20081202141836/http://ja.doukaku.org/comment/3673/addtag/" class="addtag" id="addtag_3673">Tags</a>:
	
	No tags
	&nbsp;

	

  
  <span class="rating">
  Rating<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3673"
  >-</span><span
  class="button yellow"
  id="rating_z_3673"
  >0</span><span 
  class="button green"
  id="rating_p_3673"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20081202141836/http://ja.doukaku.org/comment/3670/"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20081202141836/http://ja.doukaku.org/comment/3673/root/"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  <a href="/web/20081202141836/http://ja.doukaku.org/comment/3673/">
    1
    reply
  </a>

  [<a href="/web/20081202141836/http://ja.doukaku.org/75/reply_to/3673/">
  reply
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment3675">
  <p class="banner"><a href="/web/20081202141836/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20081202141836/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20081202141836/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20081202141836/http://ja.doukaku.org/comment/3675/">#3675</a>(<script language="JavaScript">print_time(new Date("2007/11/02 16:49 GMT"));</script><noscript>2007/11/02 16:49 GMT</noscript>)
	
	
	
	[<a href="/web/20081202141836/http://ja.doukaku.org/lang/r/">
	  R
	</a>]
	
	
	
	&nbsp;

<span class="rating">Rating<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>重複なしの8312単語，utf-8 でソートしたもの

9080個の解が見つかったというのだが（少ない?）

1.33GH PowerPC G4

&gt; system.time(foo())
1 1 180 一上一下 一期四相 相利共生 下化衆生 
2 1 300 一上一下 一貧一富 富貴利達 下学上達 
3 2 175 一世一度 一朝之忿 忿忿之心 度衆生心 
4 2 245 一世一度 一筆啓上 上下一心 度衆生心 
5 2 268 一世一度 一草一木 木人石心 度衆生心 
6 4 21 一世之雄 一入再入 入室升堂 雄気堂堂 
　　　途中省略
071 8153 8158 鬼手仏心 鬼面仏心 心煩意乱 心狂意乱 
9072 8153 8158 鬼手仏心 鬼面仏心 心融神会 心領意会 
9073 8153 8158 鬼手仏心 鬼面仏心 心融神会 心領神会 
9074 8153 8158 鬼手仏心 鬼面仏心 心領意会 心領神会 
9075 8153 8159 鬼手仏心 鬼面嚇人 人人具足 心満意足 
9076 8157 8158 鬼臉嚇人 鬼面仏心 心満意足 人給家足 
9077 8157 8159 鬼臉嚇人 鬼面嚇人 人人具足 人給家足 
9078 8158 8159 鬼面仏心 鬼面嚇人 人人具足 心満意足 
9079 8185 8186 魯魚帝虎 魯魚烏焉 焉馬之誤 虎虚之誤 
9080 8223 8225 鴻門玉斗 鴻鵠之志 志士仁人 斗南一人 
m = 9080 
   ユーザ   システム       経過  
  1676.849    582.988   2544.118 
</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34</pre></td><td class="code"><div class="highlight"><pre>foo &lt;- function() {
    x &lt;- read.table(&quot;yojijukugo.txt&quot;, header=FALSE, as.is=TRUE)
    y &lt;- unique(sort(x[,2]))
    n &lt;- length(y)
    w &lt;- sapply(y, function(i) unlist(strsplit(i, &quot;&quot;)))
    h &lt;- w[1,]
    t &lt;- w[4,]
    head &lt;- unique(h)
    nh &lt;- length(head)
    m &lt;- 0
    for (i0 in 1:nh) { # for (i0 in 1:nh)
        h12 &lt;- which(h == head[i0])
        lh12 &lt;- length(h12)
        if (lh12 == 1) next
        a &lt;- combn(lh12, 2)
        for (ia in 1:ncol(a)) {
            i1 &lt;- h12[a[1,ia]]
            i2 &lt;- h12[a[2,ia]]
            ki3 &lt;- which(h == t[i2])
            ki4 &lt;- which(h == t[i1])
            x &lt;- outer(t[ki3], t[ki4], &quot;==&quot;)
            x[lower.tri(x, diag=TRUE)] &lt;- FALSE
            x &lt;- which(x, arr.ind=TRUE)
            if (nrow(x) == 0) next
            for (ib in 1:nrow(x)) {
                i3 &lt;- ki3[x[ib, 1]]
                i4 &lt;- ki4[x[ib, 2]]
                m &lt;- m+1
                cat(m, i1, i2, y[c(i1, i2, i3, i4)], &quot;\n&quot;)
            }
        }
    }
    cat(&quot;m =&quot;,m,&quot;\n&quot;)
}
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20081202141836/http://ja.doukaku.org/comment/3675/addtag/" class="addtag" id="addtag_3675">Tags</a>:
	
	No tags
	&nbsp;

	
      [<a href="/web/20081202141836/http://ja.doukaku.org/lang/r/">
		R
      </a>]
	  
      [<a href="/web/20081202141836/http://ja.doukaku.org/comment/3675/download/">
		download code
      </a>]
	  [<a href="/web/20081202141836/http://ja.doukaku.org/comment/3675/download_html/">
		get code as html
      </a>]<p>
	

  
  <span class="rating">
  Rating<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3675"
  >-</span><span
  class="button yellow"
  id="rating_z_3675"
  >0</span><span 
  class="button green"
  id="rating_p_3675"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20081202141836/http://ja.doukaku.org/comment/3675/">
    1
    reply
  </a>

  [<a href="/web/20081202141836/http://ja.doukaku.org/75/reply_to/3675/">
  reply
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment3677">
  <p class="banner"><a href="/web/20081202141836/http://ja.doukaku.org/user/88/" target="_top">sumim</a><a href="/web/20081202141836/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20081202141836/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20081202141836/http://ja.doukaku.org/comment/3677/">#3677</a>(<script language="JavaScript">print_time(new Date("2007/11/02 17:12 GMT"));</script><noscript>2007/11/02 17:12 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">Rating<span style="background-color: #dfffdf;">2/2=1.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  ocean&nbsp;さんの&nbsp;Python&nbsp;版&nbsp;12118&nbsp;個と比較したところ、先の&nbsp;7&nbsp;個に加えて次の２点が私のでははじかれていました。やはり、４組のうちの重複要素の扱いに起因する違いのようです。<br/><br/>#('一唱三嘆'&nbsp;'嘆息嗟嘆'&nbsp;'一切即一'&nbsp;'一唱三嘆')<br/>#('一切即一'&nbsp;'一炊之夢'&nbsp;'一炊之夢'&nbsp;'夢中説夢')<br/><br/><br/>あと、以下の並びの異なる２セットをそれぞれ区別するかで&nbsp;12109&nbsp;と&nbsp;12107&nbsp;の差が出ることも分かりました。<br/><br/>#('一切即一'&nbsp;'一読三嘆'&nbsp;'一唱三嘆'&nbsp;'嘆息嗟嘆')<br/>#('一切即一'&nbsp;'一唱三嘆'&nbsp;'一読三嘆'&nbsp;'嘆息嗟嘆')<br/><br/>#('一炊之夢'&nbsp;'夢中説夢'&nbsp;'一切即一'&nbsp;'一場春夢')<br/>#('一場春夢'&nbsp;'夢中説夢'&nbsp;'一切即一'&nbsp;'一炊之夢')
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20081202141836/http://ja.doukaku.org/comment/3677/addtag/" class="addtag" id="addtag_3677">Tags</a>:
	
	No tags
	&nbsp;

	

  
  <span class="rating">
  Rating<span style="background-color: #dfffdf;"
  >2/2=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3677"
  >-</span><span
  class="button yellow"
  id="rating_z_3677"
  >0</span><span 
  class="button green"
  id="rating_p_3677"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20081202141836/http://ja.doukaku.org/comment/3673/"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20081202141836/http://ja.doukaku.org/comment/3677/root/"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20081202141836/http://ja.doukaku.org/75/reply_to/3677/">
  reply
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment3679">
  <p class="banner"><a href="/web/20081202141836/http://ja.doukaku.org/user/448/" target="_top">naranja</a><a href="/web/20081202141836/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/star_bronze.png" border=0/></a><a href="/web/20081202141836/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20081202141836/http://ja.doukaku.org/comment/3679/">#3679</a>(<script language="JavaScript">print_time(new Date("2007/11/02 20:47 GMT"));</script><noscript>2007/11/02 20:47 GMT</noscript>)
	
	
	
	[<a href="/web/20081202141836/http://ja.doukaku.org/lang/d/">
	  D
	</a>]
	
	
	
	&nbsp;

<span class="rating">Rating<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>12109 個でした。

四字熟語データは重複を除いたものを改行区切りで UTF-8 で
words.txt に保存してあります。

Pentium4 3GHz、メモリ 2GB 下では 0.38 秒程度でした。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41</pre></td><td class="code"><div class="highlight"><pre><span class="k">import</span> <span class="n">std</span>.<span class="n">stdio</span>;
<span class="k">import</span> <span class="n">std</span>.<span class="n">file</span>;
<span class="k">import</span> <span class="n">std</span>.<span class="n">string</span>;
<span class="k">import</span> <span class="n">std</span>.<span class="n">utf</span>;

<span class="kt">void</span> <span class="n">main</span>(){
    <span class="kt">wchar</span>[][][<span class="kt">wchar</span>] <span class="n">hash</span>;
    <span class="k">foreach</span>(<span class="n">word</span>; <span class="n">splitlines</span>(<span class="k">cast</span>(<span class="n">string</span>)<span class="n">read</span>(<span class="s">&quot;words.txt&quot;</span>))){
        <span class="kt">wchar</span>[] <span class="n">convedWord</span> = <span class="n">word</span>.<span class="n">toUTF16</span>();
        <span class="n">hash</span>[<span class="n">convedWord</span>[<span class="mi">0</span>]] ~= <span class="n">convedWord</span>;
    }
    <span class="kt">bool</span>[<span class="kt">wchar</span>[]] <span class="n">checked</span>;
    <span class="kt">int</span> <span class="n">count</span>;
    <span class="k">foreach</span>(<span class="n">arr</span>; <span class="n">hash</span>){
        <span class="k">foreach</span>(<span class="n">top</span>; <span class="n">arr</span>){
            <span class="k">if</span>(<span class="n">top</span>[<span class="mi">0</span>] <span class="k">in</span> <span class="n">hash</span>){
                <span class="k">foreach</span>(<span class="n">left</span>; <span class="n">hash</span>[<span class="n">top</span>[<span class="mi">0</span>]]){
                    <span class="k">if</span>(!(<span class="n">left</span> <span class="k">in</span> <span class="n">checked</span>) &amp;&amp; <span class="n">top</span>[<span class="mi">3</span>] <span class="k">in</span> <span class="n">hash</span>){
                        <span class="k">foreach</span>(<span class="n">right</span>; <span class="n">hash</span>[<span class="n">top</span>[<span class="mi">3</span>]]){
                            <span class="k">if</span>(<span class="n">left</span>[<span class="mi">3</span>] <span class="k">in</span> <span class="n">hash</span> &amp;&amp; <span class="n">right</span> != <span class="n">top</span> &amp;&amp; <span class="n">right</span> != <span class="n">left</span>){
                                <span class="k">foreach</span>(<span class="n">bottom</span>; <span class="n">hash</span>[<span class="n">left</span>[<span class="mi">3</span>]]){
                                    <span class="k">if</span>(<span class="n">bottom</span>[<span class="mi">3</span>] == <span class="n">right</span>[<span class="mi">3</span>] &amp;&amp; <span class="n">bottom</span>[<span class="mi">0</span>] != <span class="n">top</span>[<span class="mi">3</span>]
                                       &amp;&amp; <span class="n">bottom</span> != <span class="n">top</span> &amp;&amp; <span class="n">bottom</span> != <span class="n">left</span> &amp;&amp; <span class="n">bottom</span> != <span class="n">right</span>){
                                        <span class="n">writefln</span>(<span class="n">top</span>);
                                        <span class="n">writefln</span>(<span class="n">left</span>[<span class="mi">1</span>], <span class="s">&quot;　　&quot;</span>, <span class="n">right</span>[<span class="mi">1</span>]);
                                        <span class="n">writefln</span>(<span class="n">left</span>[<span class="mi">2</span>], <span class="s">&quot;　　&quot;</span>, <span class="n">right</span>[<span class="mi">2</span>]);
                                        <span class="n">writefln</span>(<span class="n">bottom</span>);
                                        <span class="n">writefln</span>(<span class="s">&quot;-------&quot;</span>);
                                        <span class="n">count</span>++;
                                    }
                                }
                            }
                        }
                    }
                }
            }
            <span class="n">checked</span>[<span class="n">top</span>] = <span class="kc">true</span>;
        }
    }
    <span class="n">writefln</span>(<span class="n">count</span>);
}
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20081202141836/http://ja.doukaku.org/comment/3679/addtag/" class="addtag" id="addtag_3679">Tags</a>:
	
	No tags
	&nbsp;

	
      [<a href="/web/20081202141836/http://ja.doukaku.org/lang/d/">
		D
      </a>]
	  
      [<a href="/web/20081202141836/http://ja.doukaku.org/comment/3679/download/">
		download code
      </a>]
	  [<a href="/web/20081202141836/http://ja.doukaku.org/comment/3679/download_html/">
		get code as html
      </a>]<p>
	

  
  <span class="rating">
  Rating<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3679"
  >-</span><span
  class="button yellow"
  id="rating_z_3679"
  >0</span><span 
  class="button green"
  id="rating_p_3679"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20081202141836/http://ja.doukaku.org/75/reply_to/3679/">
  reply
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment3680">
  <p class="banner"><a href="/web/20081202141836/http://ja.doukaku.org/user/343/" target="_top">matyr</a><a href="/web/20081202141836/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20081202141836/http://ja.doukaku.org/comment/3680/">#3680</a>(<script language="JavaScript">print_time(new Date("2007/11/02 21:24 GMT"));</script><noscript>2007/11/02 21:24 GMT</noscript>)
	
	
	
	[<a href="/web/20081202141836/http://ja.doukaku.org/lang/javascript/">
	  JavaScript
	</a>]
	
	
	
	&nbsp;

<span class="rating">Rating<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  &nbsp;100秒程(@Turion64x2&nbsp;1.8GHz)かかって，8312件&nbsp;→&nbsp;24236通り。<br/>&nbsp;「可能な四角を全て出力」と解釈して鏡像・重複共に許したため，他の人の約二倍量になりました。
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></td><td class="code"><div class="highlight"><pre><span class="k">function</span> <span class="nx">doukaku75</span><span class="p">(</span><span class="nx">y</span><span class="p">){</span>
  <span class="k">for</span><span class="p">(</span><span class="k">var</span> <span class="nx">h</span> <span class="o">=</span> <span class="p">{}</span><span class="o">,</span> <span class="nx">i</span> <span class="o">=</span> <span class="nx">y</span><span class="p">.</span><span class="nx">length</span><span class="o">,</span> <span class="nx">c</span><span class="o">;</span> <span class="nx">i</span><span class="o">--;</span><span class="p">)</span>
    <span class="p">(</span><span class="nx">h</span><span class="p">[</span><span class="nx">c</span> <span class="o">=</span> <span class="nx">y</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">0</span><span class="p">)]</span> <span class="o">||</span> <span class="p">(</span><span class="nx">h</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}))[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">y</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
  <span class="k">var</span> <span class="nx">o</span> <span class="o">=</span> <span class="p">[]</span><span class="o">,</span> <span class="nx">s</span> <span class="o">=</span> <span class="s1">&#39;　　&#39;</span><span class="o">,</span> <span class="nx">n</span> <span class="o">=</span> <span class="s1">&#39;\n&#39;</span><span class="o">,</span> <span class="nx">t</span><span class="o">,</span> <span class="nx">l</span><span class="o">,</span> <span class="nx">r</span><span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">tl</span><span class="o">,</span> <span class="nx">tr</span><span class="o">,</span> <span class="nx">bl</span><span class="o">,</span> <span class="nx">htl</span><span class="o">,</span> <span class="nx">htr</span><span class="o">,</span> <span class="nx">hbl</span><span class="o">;</span>
  <span class="k">for</span><span class="p">(</span><span class="nx">tl</span> <span class="k">in</span> <span class="nx">h</span><span class="p">)</span> <span class="k">for</span><span class="p">(</span><span class="nx">t</span> <span class="k">in</span> <span class="nx">htl</span> <span class="o">=</span> <span class="nx">h</span><span class="p">[</span><span class="nx">tl</span><span class="p">])</span> <span class="k">for</span><span class="p">(</span><span class="nx">l</span> <span class="k">in</span> <span class="nx">htl</span><span class="p">)</span> <span class="k">if</span><span class="p">((</span><span class="nx">tr</span> <span class="o">=</span> <span class="nx">htl</span><span class="p">[</span><span class="nx">t</span><span class="p">])</span> <span class="o">!=</span> <span class="p">(</span><span class="nx">bl</span> <span class="o">=</span> <span class="nx">htl</span><span class="p">[</span><span class="nx">l</span><span class="p">]))</span> <span class="c">// 右上隅 != 左下隅</span>
    <span class="k">for</span><span class="p">(</span><span class="nx">r</span> <span class="k">in</span> <span class="nx">htr</span> <span class="o">=</span> <span class="nx">h</span><span class="p">[</span><span class="nx">tr</span><span class="p">])</span> <span class="k">for</span><span class="p">(</span><span class="nx">b</span> <span class="k">in</span> <span class="nx">hbl</span> <span class="o">=</span> <span class="nx">h</span><span class="p">[</span><span class="nx">bl</span><span class="p">])</span> <span class="k">if</span><span class="p">(</span><span class="nx">htr</span><span class="p">[</span><span class="nx">r</span><span class="p">]</span> <span class="o">==</span> <span class="nx">hbl</span><span class="p">[</span><span class="nx">b</span><span class="p">])</span>
      <span class="nx">o</span><span class="p">[</span><span class="o">++</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nx">y</span><span class="p">[</span><span class="nx">t</span><span class="p">]</span><span class="o">,</span> <span class="nx">n</span><span class="o">,</span>
                <span class="nx">y</span><span class="p">[</span><span class="nx">l</span><span class="p">].</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">,</span> <span class="nx">s</span><span class="o">,</span> <span class="nx">y</span><span class="p">[</span><span class="nx">r</span><span class="p">].</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">,</span> <span class="nx">n</span><span class="o">,</span>
                <span class="nx">y</span><span class="p">[</span><span class="nx">l</span><span class="p">].</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">,</span> <span class="nx">s</span><span class="o">,</span> <span class="nx">y</span><span class="p">[</span><span class="nx">r</span><span class="p">].</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">,</span> <span class="nx">n</span><span class="o">,</span>
                <span class="nx">y</span><span class="p">[</span><span class="nx">b</span><span class="p">]].</span><span class="nx">join</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span>
  <span class="k">return</span> <span class="nx">o</span><span class="o">;</span>
<span class="p">}</span>

<span class="k">with</span><span class="p">(</span><span class="nx">WSH</span><span class="p">.</span><span class="nx">stdIn</span><span class="p">)</span> <span class="k">for</span><span class="p">(</span><span class="k">var</span> <span class="nx">lst</span> <span class="o">=</span> <span class="p">[]</span><span class="o">,</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="o">!</span><span class="nx">atEndOfStream</span><span class="o">;</span><span class="p">)</span> <span class="nx">lst</span><span class="p">[</span><span class="nx">i</span><span class="o">++</span><span class="p">]</span> <span class="o">=</span> <span class="nx">readLine</span><span class="p">();</span>
<span class="k">var</span> <span class="nx">start</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="o">,</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">doukaku75</span><span class="p">(</span><span class="nx">lst</span><span class="p">);</span>
<span class="nx">WSH</span><span class="p">.</span><span class="nx">echo</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">length</span><span class="o">,</span> <span class="p">(</span><span class="k">new</span> <span class="nb">Date</span> <span class="o">-</span> <span class="nx">start</span><span class="p">)</span> <span class="o">+</span><span class="s1">&#39;[ms]\n\n&#39;</span><span class="o">+</span> <span class="nx">result</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s1">&#39;\n\n&#39;</span><span class="p">));</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20081202141836/http://ja.doukaku.org/comment/3680/addtag/" class="addtag" id="addtag_3680">Tags</a>:
	
    
    <a href="/web/20081202141836/http://ja.doukaku.org/tag/WSH/">WSH</a>
    
	&nbsp;

	
      [<a href="/web/20081202141836/http://ja.doukaku.org/lang/javascript/">
		JavaScript
      </a>]
	  
      [<a href="/web/20081202141836/http://ja.doukaku.org/comment/3680/download/">
		download code
      </a>]
	  [<a href="/web/20081202141836/http://ja.doukaku.org/comment/3680/download_html/">
		get code as html
      </a>]<p>
	

  
  <span class="rating">
  Rating<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3680"
  >-</span><span
  class="button yellow"
  id="rating_z_3680"
  >0</span><span 
  class="button green"
  id="rating_p_3680"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20081202141836/http://ja.doukaku.org/comment/3680/">
    1
    reply
  </a>

  [<a href="/web/20081202141836/http://ja.doukaku.org/75/reply_to/3680/">
  reply
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment3681">
  <p class="banner"><a href="/web/20081202141836/http://ja.doukaku.org/user/504/" target="_top">あにす</a><a href="/web/20081202141836/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20081202141836/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20081202141836/http://ja.doukaku.org/comment/3681/">#3681</a>(<script language="JavaScript">print_time(new Date("2007/11/02 22:47 GMT"));</script><noscript>2007/11/02 22:47 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">Rating<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  重複無しの8312件を食わせて走らせてみました。<br/>OS:Windows&nbsp;XP&nbsp;Home&nbsp;SP2<br/>CPU:AMD&nbsp;Sempron&nbsp;3400+&nbsp;1.99GHz<br/>メモリ:480MB<br/>処理時間:507.078125秒<br/>件数:12117件<br/><br/>　組み合わせた後に重複チェックをしているので、元データの重複は件数に影響しないようです。<br/>　僕は<br/>&gt;四角く配置することのできる熟語の組み合わせを探すプログラム<br/>と言うところに着目して、同じ熟語の組み合わせなら、四角に組む順番が違っても同一の組み合わせと判断して結果から除いています。<br/>　もっと厳密に定義をすれば件数が揃うんじゃないでしょうか。<br/>　それよりも、この桁違いの遅さは何なんでしょうorz&nbsp;.NETだからって極端に遅いって事も無いと思うのですが…。
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20081202141836/http://ja.doukaku.org/comment/3681/addtag/" class="addtag" id="addtag_3681">Tags</a>:
	
	No tags
	&nbsp;

	

  
  <span class="rating">
  Rating<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3681"
  >-</span><span
  class="button yellow"
  id="rating_z_3681"
  >0</span><span 
  class="button green"
  id="rating_p_3681"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20081202141836/http://ja.doukaku.org/comment/3667/"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20081202141836/http://ja.doukaku.org/comment/3681/root/"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  <a href="/web/20081202141836/http://ja.doukaku.org/comment/3681/">
    1
    reply
  </a>

  [<a href="/web/20081202141836/http://ja.doukaku.org/75/reply_to/3681/">
  reply
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment3687">
  <p class="banner"><a href="/web/20081202141836/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20081202141836/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20081202141836/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20081202141836im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20081202141836/http://ja.doukaku.org/comment/3687/">#3687</a>(<script language="JavaScript">print_time(new Date("2007/11/03 03:32 GMT"));</script><noscript>2007/11/03 03:32 GMT</noscript>)
	
	
	
	[<a href="/web/20081202141836/http://ja.doukaku.org/lang/java/">
	  Java
	</a>]
	
	
	
	&nbsp;

<span class="rating">Rating<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  四字熟語のリストは標準入力から１行１エントリの形式で与えます。<br/>出題で参考に与えられたリストを重複排除したもの(8312個)を使用したところ、12118個の組み合わせが見つかりました（単純に縦横を入れ替えて同じになるのは除外しています）。例として「阿」で始まる組み合わせを示します。<br/><br/>阿衡之才&nbsp;阿付雷同&nbsp;才子佳人&nbsp;同行二人<br/>阿衡之才&nbsp;阿附迎合&nbsp;才弁縦横&nbsp;合従連横<br/>阿衡之才&nbsp;阿諛迎合&nbsp;才弁縦横&nbsp;合従連横<br/>阿衡之才&nbsp;阿諛苟合&nbsp;才弁縦横&nbsp;合従連横<br/>阿付雷同&nbsp;阿諛追随&nbsp;同心同徳&nbsp;随喜功徳<br/>阿爺下頷&nbsp;阿諛追随&nbsp;頷下之珠&nbsp;随侯之珠<br/>阿諛取容&nbsp;阿諛奉承&nbsp;容貌顔色&nbsp;承顔候色<br/><br/>上記データの場合、1.67&nbsp;GHz&nbsp;PowerPC&nbsp;G4&nbsp;で&nbsp;10秒程度かかりました。
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48</pre></td><td class="code"><div class="highlight"><pre><span class="k">import</span> <span class="nn">java.util.*</span><span class="o">;</span>
<span class="k">import</span> <span class="nn">java.io.*</span><span class="o">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">Sample</span> <span class="o">{</span>
    <span class="k">public</span> <span class="k">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="k">throws</span> <span class="n">IOException</span> <span class="o">{</span>
        <span class="n">BufferedReader</span> <span class="n">r</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">in</span><span class="o">));</span>
        <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">jukugoList</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;();</span>
        <span class="n">LinkedHashMap</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">,</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;&gt;</span> <span class="n">startMap</span> <span class="o">=</span> <span class="k">new</span> <span class="n">LinkedHashMap</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">,</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;&gt;();</span>
        <span class="n">String</span> <span class="n">jukugo</span><span class="o">;</span>
        <span cl>




<!--
     FILE ARCHIVED ON 14:18:36 Dec 2, 2008 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 13:37:06 Nov 16, 2013.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
