
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja"> 
  <head>

<script type="text/javascript" src="/static/js/analytics.js" ></script>
<link type="text/css" rel="stylesheet" href="/static/css/banner-styles.css"/>




    <meta http-equiv="Content-type" content="text/html; charset=UTF-8" />
    <title>
コインを減らす払い方
どう書く？org </title>

    <link rel="stylesheet" type="text/css"
	href="/web/20080406171116cs_/http://ja.doukaku.org/static/style/reset-fonts-grids.css" />
    <link rel="stylesheet" type="text/css"
	href="/web/20080406171116cs_/http://ja.doukaku.org/static/style/style.css?20071211?20071207" />
	
    <link rel="stylesheet" type="text/css"
	href="/web/20080406171116cs_/http://ja.doukaku.org/static/style/pygments.css" />


	
<meta name="robots" content="noindex,nofollow">

    <!--<script src="/web/20080406171116/http://ja.doukaku.org/static/js/ieerbug/ieerbug.js" type="text/javascript"></script>-->


<!--<script src="/web/20080406171116/http://ja.doukaku.org/static/js/ieerbug/ieerbug.js" type="text/javascript"></script>-->
<script src="/web/20080406171116js_/http://ja.doukaku.org/static/js/jquery-1.1.3.1.js" type="text/javascript"></script>
<script src="/web/20080406171116js_/http://ja.doukaku.org/static/js/rating.js" type="text/javascript"></script>
<script src="/web/20080406171116js_/http://ja.doukaku.org/static/js/addtag.js?20071129" type="text/javascript"></script>

<script type="text/javascript">
is_key_navigation_enable = true;
</script>
<script src="/web/20080406171116js_/http://ja.doukaku.org/static/js/utils.js?~~~" type="text/javascript"></script>

</head>


<body id="doukaku_org">
<!-- BEGIN WAYBACK TOOLBAR INSERT -->
<script> if (window.archive_analytics) { window.archive_analytics.values['server_name']="wwwb-app3.us.archive.org";}; </script>

<script type="text/javascript" src="/static/js/disclaim-element.js" ></script>
<script type="text/javascript" src="/static/js/graph-calc.js" ></script>
<script type="text/javascript" src="/static/jflot/jquery.min.js" ></script>
<script type="text/javascript">
//<![CDATA[
var firstDate = 820454400000;
var lastDate = 1388534399999;
var wbPrefix = "/web/";
var wbCurrentUrl = "http:\/\/ja.doukaku.org\/3\/flatten\/";

var curYear = -1;
var curMonth = -1;
var yearCount = 18;
var firstYear = 1996;
var imgWidth = 450;
var yearImgWidth = 25;
var monthImgWidth = 2;
var trackerVal = "none";
var displayDay = "6";
var displayMonth = "Apr";
var displayYear = "2008";
var prettyMonths = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];

function showTrackers(val) {
	if(val == trackerVal) {
		return;
	}
	if(val == "inline") {
		document.getElementById("displayYearEl").style.color = "#ec008c";
		document.getElementById("displayMonthEl").style.color = "#ec008c";
		document.getElementById("displayDayEl").style.color = "#ec008c";		
	} else {
		document.getElementById("displayYearEl").innerHTML = displayYear;
		document.getElementById("displayYearEl").style.color = "#ff0";
		document.getElementById("displayMonthEl").innerHTML = displayMonth;
		document.getElementById("displayMonthEl").style.color = "#ff0";
		document.getElementById("displayDayEl").innerHTML = displayDay;
		document.getElementById("displayDayEl").style.color = "#ff0";
	}
   document.getElementById("wbMouseTrackYearImg").style.display = val;
   document.getElementById("wbMouseTrackMonthImg").style.display = val;
   trackerVal = val;
}
function getElementX2(obj) {
	var thing = jQuery(obj);
	if((thing == undefined) 
			|| (typeof thing == "undefined") 
			|| (typeof thing.offset == "undefined")) {
		return getElementX(obj);
	}
	return Math.round(thing.offset().left);
}
function trackMouseMove(event,element) {

   var eventX = getEventX(event);
   var elementX = getElementX2(element);
   var xOff = eventX - elementX;
	if(xOff < 0) {
		xOff = 0;
	} else if(xOff > imgWidth) {
		xOff = imgWidth;
	}
   var monthOff = xOff % yearImgWidth;

   var year = Math.floor(xOff / yearImgWidth);
	var yearStart = year * yearImgWidth;
   var monthOfYear = Math.floor(monthOff / monthImgWidth);
   if(monthOfYear > 11) {
       monthOfYear = 11;
   }
   // 1 extra border pixel at the left edge of the year:
   var month = (year * 12) + monthOfYear;
   var day = 1;
	if(monthOff % 2 == 1) {
		day = 15;
	}
	var dateString = 
		zeroPad(year + firstYear) + 
		zeroPad(monthOfYear+1,2) +
		zeroPad(day,2) + "000000";

	var monthString = prettyMonths[monthOfYear];
	document.getElementById("displayYearEl").innerHTML = year + 1996;
	document.getElementById("displayMonthEl").innerHTML = monthString;
	// looks too jarring when it changes..
	//document.getElementById("displayDayEl").innerHTML = zeroPad(day,2);

	var url = wbPrefix + dateString + '/' +  wbCurrentUrl;
	document.getElementById('wm-graph-anchor').href = url;

   //document.getElementById("wmtbURL").value="evX("+eventX+") elX("+elementX+") xO("+xOff+") y("+year+") m("+month+") monthOff("+monthOff+") DS("+dateString+") Moy("+monthOfYear+") ms("+monthString+")";
   if(curYear != year) {
       var yrOff = year * yearImgWidth;
       document.getElementById("wbMouseTrackYearImg").style.left = yrOff + "px";
       curYear = year;
   }
   if(curMonth != month) {
       var mtOff = year + (month * monthImgWidth) + 1;
       document.getElementById("wbMouseTrackMonthImg").style.left = mtOff + "px";
       curMonth = month;
   }
}
//]]>
</script>

<style type="text/css">body{margin-top:0!important;padding-top:0!important;min-width:800px!important;}#wm-ipp a:hover{text-decoration:underline!important;}</style>
<div id="wm-ipp" lang="en" class="__wb_banner_div" style="display:none; position:relative;padding:0 5px;min-height:70px;min-width:800px">


<div id="wm-ipp-inside" class="__wb_banner_div" style="position:fixed;padding:0!important;margin:0!important;width:97%;min-width:780px;border:5px solid #000;border-top:none;background-image:url(/static/images/toolbar/wm_tb_bk_trns.png);text-align:center;-moz-box-shadow:1px 1px 3px #333;-webkit-box-shadow:1px 1px 3px #333;box-shadow:1px 1px 3px #333;font-size:11px!important;font-family:'Lucida Grande','Arial',sans-serif!important;">
   <table style="border-collapse:collapse;margin:0;padding:0;width:100%;"><tbody><tr>
   <td style="padding:10px;vertical-align:top;min-width:110px;">
   <a href="/web/" title="Wayback Machine home page" style="background-color:transparent;border:none;"><img src="/static/images/toolbar/wayback-toolbar-logo.png" alt="Wayback Machine" width="110" height="39" border="0"/></a>
   </td>
   <td style="padding:0!important;text-align:center;vertical-align:top;width:100%;">

       <table style="border-collapse:collapse;margin:0 auto;padding:0;width:570px;"><tbody><tr>
       <td style="padding:3px 0;" colspan="2">
       <form target="_top" method="get" action="/web/form-submit.jsp" name="wmtb" id="wmtb" style="margin:0!important;padding:0!important;"><input type="text" name="url" id="wmtbURL" value="http://ja.doukaku.org/3/flatten/" style="width:400px;font-size:11px;font-family:'Lucida Grande','Arial',sans-serif;" onfocus="javascript:this.focus();this.select();" /><input type="hidden" name="type" value="replay" /><input type="hidden" name="date" value="20080406171116" /><input type="submit" value="Go" style="font-size:11px;font-family:'Lucida Grande','Arial',sans-serif;margin-left:5px;width: inherit !important" /><span id="wm_tb_options" style="display:block;"></span></form>
       </td>
       <td style="vertical-align:bottom;padding:5px 0 0 0!important;" rowspan="2">
           <table style="border-collapse:collapse;width:110px;color:#99a;font-family:'Helvetica','Lucida Grande','Arial',sans-serif;"><tbody>
			
           <!-- NEXT/PREV MONTH NAV AND MONTH INDICATOR -->
           <tr style="width:110px;height:16px;font-size:10px!important;">
           	<td style="padding-right:9px;font-size:11px!important;font-weight:bold;text-transform:uppercase;text-align:right;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
		                <a href="/web/20080205094054/http://ja.doukaku.org/3/flatten/" style="text-decoration:none;color:#33f;font-weight:bold;background-color:transparent;border:none;" title="5 Feb 2008"><strong>FEB</strong></a>
		                
               </td>
               <td id="displayMonthEl" style="background:#000;color:#ff0;font-size:11px!important;font-weight:bold;text-transform:uppercase;width:34px;height:15px;padding-top:1px;text-align:center;" title="You are here: 17:11:16 Apr 6, 2008">APR</td>
				<td style="padding-left:9px;font-size:11px!important;font-weight:bold;text-transform:uppercase;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       May
                       
               </td>
           </tr>

           <!-- NEXT/PREV CAPTURE NAV AND DAY OF MONTH INDICATOR -->
           <tr>
               <td style="padding-right:9px;white-space:nowrap;overflow:visible;text-align:right!important;vertical-align:middle!important;" nowrap="nowrap">
               
		                <a href="/web/20080205094054/http://ja.doukaku.org/3/flatten/" title="9:40:54 Feb 5, 2008" style="background-color:transparent;border:none;"><img src="/static/images/toolbar/wm_tb_prv_on.png" alt="Previous capture" width="14" height="16" border="0" /></a>
		                
               </td>
               <td id="displayDayEl" style="background:#000;color:#ff0;width:34px;height:24px;padding:2px 0 0 0;text-align:center;font-size:24px;font-weight: bold;" title="You are here: 17:11:16 Apr 6, 2008">6</td>
				<td style="padding-left:9px;white-space:nowrap;overflow:visible;text-align:left!important;vertical-align:middle!important;" nowrap="nowrap">
               
                       <img src="/static/images/toolbar/wm_tb_nxt_off.png" alt="Next capture" width="14" height="16" border="0"/>
                       
			    </td>
           </tr>

           <!-- NEXT/PREV YEAR NAV AND YEAR INDICATOR -->
           <tr style="width:110px;height:13px;font-size:9px!important;">
				<td style="padding-right:9px;font-size:11px!important;font-weight: bold;text-align:right;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       2007
                       
               </td>
               <td id="displayYearEl" style="background:#000;color:#ff0;font-size:11px!important;font-weight: bold;padding-top:1px;width:34px;height:13px;text-align:center;" title="You are here: 17:11:16 Apr 6, 2008">2008</td>
				<td style="padding-left:9px;font-size:11px!important;font-weight: bold;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       2009
                       
				</td>
           </tr>
           </tbody></table>
       </td>

       </tr>
       <tr>
       <td style="vertical-align:middle;padding:0!important;">
           <a href="/web/20080406171116*/http://ja.doukaku.org/3/flatten/" style="color:#33f;font-size:11px;font-weight:bold;background-color:transparent;border:none;" title="See a list of every capture for this URL"><strong>5 captures</strong></a>
           <div class="__wb_banner_div" style="margin:0!important;padding:0!important;color:#666;font-size:9px;padding-top:2px!important;white-space:nowrap;" title="Timespan for captures of this URL">13 May 07 - 6 Apr 08</div>
       </td>
       <td style="padding:0!important;">
       <a style="position:relative; white-space:nowrap; width:450px;height:27px;" href="" id="wm-graph-anchor">
       <div class="__wb_banner_div" id="wm-ipp-sparkline" style="position:relative; white-space:nowrap; width:450px;height:27px;background-color:#fff;cursor:pointer;border-right:1px solid #ccc;" title="Explore captures for this URL">
			<img id="sparklineImgId" style="position:absolute; z-index:9012; top:0px; left:0px;"
				onmouseover="showTrackers('inline');" 
				onmouseout="showTrackers('none');"
				onmousemove="trackMouseMove(event,this)"
				alt="sparklines"
				width="450"
				height="27"
				border="0"
				src="/web/jsp/graph.jsp?graphdata=450_27_1996:-1:000000000000_1997:-1:000000000000_1998:-1:000000000000_1999:-1:000000000000_2000:-1:000000000000_2001:-1:000000000000_2002:-1:000000000000_2003:-1:000000000000_2004:-1:000000000000_2005:-1:000000000000_2006:-1:000000000000_2007:-1:000010100100_2008:3:010100000000_2009:-1:000000000000_2010:-1:000000000000_2011:-1:000000000000_2012:-1:000000000000_2013:-1:000000000000"></img>
			<img id="wbMouseTrackYearImg" 
				style="display:none; position:absolute; z-index:9010;"
				width="25" 
				height="27"
				border="0"
				src="/static/images/toolbar/transp-yellow-pixel.png"></img>
			<img id="wbMouseTrackMonthImg"
				style="display:none; position:absolute; z-index:9011; " 
				width="2"
				height="27" 
				border="0"
				src="/static/images/toolbar/transp-red-pixel.png"></img>
       </div>
		</a>

       </td>
       </tr></tbody></table>
   </td>
   <td style="text-align:right;padding:5px;width:65px;font-size:11px!important;">
       <a href="javascript:;" onclick="document.getElementById('wm-ipp').style.display='none';" style="display:block;padding-right:18px;background:url(/static/images/toolbar/wm_tb_close.png) no-repeat 100% 0;color:#33f;font-family:'Lucida Grande','Arial',sans-serif;margin-bottom:23px;background-color:transparent;border:none;" title="Close the toolbar">Close</a>
       <a href="http://faq.web.archive.org/" style="display:block;padding-right:18px;background:url(/static/images/toolbar/wm_tb_help.png) no-repeat 100% 0;color:#33f;font-family:'Lucida Grande','Arial',sans-serif;background-color:transparent;border:none;" title="Get some help using the Wayback Machine">Help</a>
   </td>
   </tr></tbody></table>

</div>
</div>
<script type="text/javascript">
 var wmDisclaimBanner = document.getElementById("wm-ipp");
 if(wmDisclaimBanner != null) {
   disclaimElement(wmDisclaimBanner);
 }
</script>
<!-- END WAYBACK TOOLBAR INSERT -->


<div id="page_head" class="compact">
  <h1 class="compact">
    <a href="/web/20080406171116/http://ja.doukaku.org/">どう書く？org</a><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/beta.png" alt="beta">
  </h1>
</div>

<div id="page_body" class="compact">
<div id="content" class="compact">




<h2 class="compact">
<img src='/web/20080406171116im_/http://ja.doukaku.org/static/image/star_gold.png' alt=お題(出題済み)>
<a href="/web/20080406171116/http://ja.doukaku.org/3/">コインを減らす払い方</a>
</h2>

    





<div class="comment" id="comment3359">
  <p class="banner"><a href="/web/20080406171116/http://ja.doukaku.org/user/1/" target="_top">にしお</a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/3359/">#3359</a>(<script language="JavaScript">print_time(new Date("2007/07/03 13:03 GMT"));</script><noscript>2007/07/03 13:03 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  いま、あなたの財布の中にはコインがたくさん入っています。これを少しでも減らしたいと思います。
<p>
支払うべき金額と持っているコインの種類と数を与えられたときに、どのコインを何枚出せばおつりを受け取った後のコインの数が最も少なくなるか返す関数を作ってください。おつりは最も枚数が少なくなる方法で渡されます。
<p>
例えば、1円玉2枚、10円玉4枚、100円玉3枚を持っていて、147円支払う場合、 1円玉2枚と100円玉2枚を渡して50円玉1枚と5円玉1枚を受け取るのが2枚減で最も枚数を減らせます。Pythonで表現するならば下のような挙動をする関数を作ってください。
<pre>
>>> pay(147, {1: 2, 10: 4, 100: 3})
{1: 2, 100: 2}
</pre>
2007-07-01追記：　　minkeさんの指摘通り、「手元にある全てのコインを渡せば、結果としてもっとも枚数が少なくなる」
ので、「渡した硬貨がおつりで返ってくるような渡し方は禁止」と条件を追加します。
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/3359/addtag/" class="addtag" id="addtag_3359">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3359"
  >-</span><span
  class="button yellow"
  id="rating_z_3359"
  >0</span><span 
  class="button green"
  id="rating_p_3359"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20080406171116/http://ja.doukaku.org/3/reply_to/3359/">
  返信
  </a>]
  </div>
</div>
</div>




  



<div class="indent">
<a href="/web/20080406171116/http://ja.doukaku.org/3/post_comment/">
投稿する
</a>
</div>


<h2>投稿されたコメント - フラット表示</h2>
<a href="/web/20080406171116/http://ja.doukaku.org/3/nested/">ネスト表示</a>
<a href="/web/20080406171116/http://ja.doukaku.org/3/">非表示</a> 


  
  




<div class="comment" id="comment21">
  <p class="banner"><a href="/web/20080406171116/http://ja.doukaku.org/user/28/" target="_top">minke</a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/star_silver.png" border=0/></a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/21/">#21</a>(<script language="JavaScript">print_time(new Date("2007/06/30 18:15 GMT"));</script><noscript>2007/06/30 18:15 GMT</noscript>)
	
	
	
	[<a href="/web/20080406171116/http://ja.doukaku.org/lang/ruby/">
	  Ruby
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  結局のところ、手元にある全てのコインを渡せば、結果としてもっとも枚数が少なくなるように返ってくるわけですよね。

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43</pre></td><td class="code"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Wallet</span>
  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">h</span><span class="p">)</span>
    <span class="n">h</span><span class="o">.</span><span class="n">default</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="vc">@@coins</span> <span class="o">=</span> <span class="o">[</span><span class="mi">500</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="o">]</span>
    <span class="vi">@cont</span> <span class="o">=</span> <span class="no">Hash</span><span class="o">.</span><span class="n">new</span>
    <span class="vc">@@coins</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">i</span><span class="o">|</span>
      <span class="vi">@cont</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">h</span><span class="o">[</span><span class="n">i</span><span class="o">]</span>
    <span class="k">end</span>
  <span class="k">end</span>
  <span class="k">def</span> <span class="nf">total</span>
    <span class="n">sum</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="vi">@cont</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="o">|</span>
      <span class="n">sum</span> <span class="o">+=</span> <span class="n">k</span> <span class="o">*</span> <span class="n">v</span>
    <span class="k">end</span>
    <span class="n">sum</span>
  <span class="k">end</span>
  <span class="k">def</span> <span class="nf">calc</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="n">h</span> <span class="o">=</span> <span class="no">Hash</span><span class="o">.</span><span class="n">new</span>
    <span class="vc">@@coins</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">c</span><span class="o">|</span>
      <span class="n">h</span><span class="o">[</span><span class="n">c</span><span class="o">]</span> <span class="o">=</span> <span class="n">n</span> <span class="o">/</span> <span class="n">c</span>
      <span class="n">n</span> <span class="sx">%= c</span>
<span class="sx">    end</span>
<span class="sx">    h</span>
<span class="sx">  end</span>
<span class="sx">  def diff(after)</span>
<span class="sx">    ret =</span> <span class="no">Hash</span><span class="o">.</span><span class="n">new</span>
    <span class="vc">@@coins</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">c</span><span class="o">|</span>
      <span class="k">if</span> <span class="vi">@cont</span><span class="o">[</span><span class="n">c</span><span class="o">]</span> <span class="o">&gt;</span> <span class="n">after</span><span class="o">[</span><span class="n">c</span><span class="o">]</span>
        <span class="n">ret</span><span class="o">[</span><span class="n">c</span><span class="o">]</span> <span class="o">=</span> <span class="vi">@cont</span><span class="o">[</span><span class="n">c</span><span class="o">]</span> <span class="o">-</span> <span class="n">after</span><span class="o">[</span><span class="n">c</span><span class="o">]</span>
      <span class="k">end</span>
    <span class="k">end</span>
    <span class="n">ret</span>
  <span class="k">end</span>
  <span class="k">def</span> <span class="nf">pay</span><span class="p">(</span><span class="n">expense</span><span class="p">)</span>
    <span class="k">raise</span> <span class="k">if</span> <span class="n">total</span> <span class="o">&lt;</span> <span class="n">expense</span>
    <span class="n">after</span> <span class="o">=</span> <span class="n">calc</span><span class="p">(</span><span class="n">total</span> <span class="o">-</span> <span class="n">expense</span><span class="p">)</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="n">diff</span><span class="p">(</span><span class="n">after</span><span class="p">)</span>
    <span class="vi">@cont</span> <span class="o">=</span> <span class="n">after</span>
    <span class="n">ret</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="nb">p</span> <span class="no">Wallet</span><span class="o">.</span><span class="n">new</span><span class="p">({</span><span class="mi">1</span><span class="o">=&gt;</span><span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="o">=&gt;</span><span class="mi">4</span><span class="p">,</span> <span class="mi">100</span><span class="o">=&gt;</span><span class="mi">3</span><span class="p">})</span><span class="o">.</span><span class="n">pay</span><span class="p">(</span><span class="mi">147</span><span class="p">)</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/21/addtag/" class="addtag" id="addtag_21">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20080406171116/http://ja.doukaku.org/lang/ruby/">
		Ruby
      </a>]
	  
      [<a href="/web/20080406171116/http://ja.doukaku.org/comment/21/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20080406171116/http://ja.doukaku.org/comment/21/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_21"
  >-</span><span
  class="button yellow"
  id="rating_z_21"
  >0</span><span 
  class="button green"
  id="rating_p_21"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20080406171116/http://ja.doukaku.org/comment/21/">
    1
    reply
  </a>

  [<a href="/web/20080406171116/http://ja.doukaku.org/3/reply_to/21/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment22">
  <p class="banner"><a href="/web/20080406171116/http://ja.doukaku.org/user/1/" target="_top">にしお</a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/22/">#22</a>(<script language="JavaScript">print_time(new Date("2007/06/30 18:21 GMT"));</script><noscript>2007/06/30 18:21 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>&gt;結局のところ、手元にある全てのコインを渡せば、
&gt;結果としてもっとも枚数が少なくなるように返ってくるわけですよね。

orz。その通りです。
「渡した硬貨がおつりで返ってくるような渡し方は禁止」と追記しておきます。
ご指摘ありがとうございます。</pre>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/22/addtag/" class="addtag" id="addtag_22">タグ</a>:
	
    
    <a href="/web/20080406171116/http://ja.doukaku.org/tag/shusei/">修正情報</a>
    
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_22"
  >-</span><span
  class="button yellow"
  id="rating_z_22"
  >0</span><span 
  class="button green"
  id="rating_p_22"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20080406171116/http://ja.doukaku.org/comment/21/"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20080406171116/http://ja.doukaku.org/comment/22/root/"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20080406171116/http://ja.doukaku.org/3/reply_to/22/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment29">
  <p class="banner"><a href="/web/20080406171116/http://ja.doukaku.org/user/41/" target="_top">shiro</a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/29/">#29</a>(<script language="JavaScript">print_time(new Date("2007/06/30 21:26 GMT"));</script><noscript>2007/06/30 21:26 GMT</noscript>)
	
	
	
	[<a href="/web/20080406171116/http://ja.doukaku.org/lang/scheme/">
	  Scheme
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>Scheme (Gauche) で。
愚直に、総当たりで調べるコードです。
実行例：

gosh&gt; (pay 147 '((1 2) (10 4) (100 3)))
((1 2) (100 2))
</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36</pre></td><td class="code"><div class="highlight"><pre><span class="p">(</span><span class="nf">use</span> <span class="nv">srfi-1</span><span class="p">)</span>
<span class="p">(</span><span class="nf">use</span> <span class="nv">util</span><span class="o">.</span><span class="nv">combinations</span><span class="p">)</span>

<span class="p">(</span><span class="k">define </span><span class="nv">*coins*</span> <span class="o">&#39;</span><span class="p">(</span><span class="mi">500</span> <span class="mi">100</span> <span class="mi">50</span> <span class="mi">10</span> <span class="mi">5</span> <span class="mi">1</span><span class="p">))</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">changes</span> <span class="nv">due</span><span class="p">)</span>
  <span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">rec</span> <span class="nv">r</span> <span class="nv">c</span><span class="p">)</span>
    <span class="p">(</span><span class="k">cond </span><span class="p">((</span><span class="nb">zero? </span><span class="nv">r</span><span class="p">)</span> <span class="o">&#39;</span><span class="p">())</span>
          <span class="p">((</span><span class="nb">&lt;= </span><span class="p">(</span><span class="nb">car </span><span class="nv">c</span><span class="p">)</span> <span class="nv">r</span><span class="p">)</span> <span class="p">(</span><span class="nb">cons </span><span class="p">(</span><span class="nb">car </span><span class="nv">c</span><span class="p">)</span> <span class="p">(</span><span class="nf">rec</span> <span class="p">(</span><span class="nb">- </span><span class="nv">r</span> <span class="p">(</span><span class="nb">car </span><span class="nv">c</span><span class="p">))</span> <span class="nv">c</span><span class="p">)))</span>
          <span class="p">(</span><span class="k">else </span><span class="p">(</span><span class="nf">rec</span> <span class="nv">r</span> <span class="p">(</span><span class="nb">cdr </span><span class="nv">c</span><span class="p">)))))</span>
  <span class="p">(</span><span class="nf">rec</span> <span class="nv">due</span> <span class="nv">*coins*</span><span class="p">))</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">score</span> <span class="nv">coins</span> <span class="nv">price</span><span class="p">)</span>
  <span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="nf">ch</span> <span class="p">(</span><span class="nf">changes</span> <span class="p">(</span><span class="nb">- </span><span class="p">(</span><span class="nb">apply </span><span class="nv">+</span> <span class="nv">coins</span><span class="p">)</span> <span class="nv">price</span><span class="p">))))</span>
    <span class="p">(</span><span class="k">and </span><span class="p">(</span><span class="nb">null? </span><span class="p">(</span><span class="nf">lset-intersection</span> <span class="nv">=</span> <span class="nv">coins</span> <span class="nv">ch</span><span class="p">))</span>
         <span class="p">(</span><span class="nb">- </span><span class="p">(</span><span class="nb">length </span><span class="nv">coins</span><span class="p">)</span> <span class="p">(</span><span class="nb">length </span><span class="nv">ch</span><span class="p">)))))</span>

<span class="c1">;; ((1 2) (10 4) (100 3)) =&gt; (1 1 10 10 10 10 100 100 100) etc.</span>
<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">expand</span> <span class="nv">coin-list</span><span class="p">)</span>
  <span class="p">(</span><span class="nf">append-map</span> <span class="p">(</span><span class="k">lambda </span><span class="p">(</span><span class="nf">p</span><span class="p">)</span> <span class="p">(</span><span class="nf">make-list</span> <span class="p">(</span><span class="nb">cadr </span><span class="nv">p</span><span class="p">)</span> <span class="p">(</span><span class="nb">car </span><span class="nv">p</span><span class="p">)))</span> <span class="nv">coin-list</span><span class="p">))</span>

<span class="c1">;; (1 1 10 10 10 10 100 100 100) =&gt; ((1 2) (10 4) (100 3)) etc.</span>
<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">condense</span> <span class="nv">coins</span><span class="p">)</span>
  <span class="p">(</span><span class="nb">map </span><span class="p">(</span><span class="k">lambda </span><span class="p">(</span><span class="nf">g</span><span class="p">)</span> <span class="p">(</span><span class="nb">list </span><span class="p">(</span><span class="nb">car </span><span class="nv">g</span><span class="p">)</span> <span class="p">(</span><span class="nb">length </span><span class="nv">g</span><span class="p">)))</span> <span class="p">(</span><span class="nf">group-collection</span> <span class="nv">coins</span><span class="p">)))</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">pay</span> <span class="nv">price</span> <span class="nv">coin-list</span><span class="p">)</span>
  <span class="p">(</span><span class="nf">condense</span>
   <span class="p">(</span><span class="nf">values-ref</span> <span class="p">(</span><span class="nf">fold2</span> <span class="p">(</span><span class="k">lambda </span><span class="p">(</span><span class="nf">payment</span> <span class="nv">max-score</span> <span class="nv">answer</span><span class="p">)</span>
                        <span class="p">(</span><span class="k">or </span><span class="p">(</span><span class="nf">and-let*</span> <span class="p">((</span> <span class="p">(</span><span class="nb">&gt;= </span><span class="p">(</span><span class="nb">apply </span><span class="nv">+</span> <span class="nv">payment</span><span class="p">)</span> <span class="nv">price</span><span class="p">)</span> <span class="p">)</span>
                                       <span class="p">(</span><span class="nf">s</span> <span class="p">(</span><span class="nf">score</span> <span class="nv">payment</span> <span class="nv">price</span><span class="p">))</span>
                                       <span class="p">(</span> <span class="p">(</span><span class="nb">&gt; </span><span class="nv">s</span> <span class="nv">max-score</span><span class="p">)</span> <span class="p">))</span>
                              <span class="p">(</span><span class="nb">values </span><span class="nv">s</span> <span class="nv">payment</span><span class="p">))</span>
                            <span class="p">(</span><span class="nb">values </span><span class="nv">max-score</span> <span class="nv">answer</span><span class="p">)))</span>
                      <span class="o">#</span><span class="nv">i-1/0</span> <span class="o">&#39;</span><span class="p">()</span>
                      <span class="p">(</span><span class="nf">power-set*</span> <span class="p">(</span><span class="nf">expand</span> <span class="nv">coin-list</span><span class="p">)))</span>
               <span class="mi">1</span><span class="p">)))</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/29/addtag/" class="addtag" id="addtag_29">タグ</a>:
	
    
    <a href="/web/20080406171116/http://ja.doukaku.org/tag/gauche/">gauche</a>
    
	&nbsp;

	
      [<a href="/web/20080406171116/http://ja.doukaku.org/lang/scheme/">
		Scheme
      </a>]
	  
      [<a href="/web/20080406171116/http://ja.doukaku.org/comment/29/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20080406171116/http://ja.doukaku.org/comment/29/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_29"
  >-</span><span
  class="button yellow"
  id="rating_z_29"
  >0</span><span 
  class="button green"
  id="rating_p_29"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20080406171116/http://ja.doukaku.org/3/reply_to/29/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment59">
  <p class="banner"><a href="/web/20080406171116/http://ja.doukaku.org/user/69/" target="_top">PHO</a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/59/">#59</a>(<script language="JavaScript">print_time(new Date("2007/07/02 09:21 GMT"));</script><noscript>2007/07/02 09:21 GMT</noscript>)
	
	
	
	[<a href="/web/20080406171116/http://ja.doukaku.org/lang/haskell/">
	  Haskell
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  総当たり、効率悪し。
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59</pre></td><td class="code"><div class="highlight"><pre><span class="kr">import</span> <span class="n">Data</span><span class="o">.</span><span class="n">Maybe</span>
<span class="kr">import</span> <span class="n">Data</span><span class="o">.</span><span class="n">List</span>

<span class="nv">coins</span> <span class="o">::</span> <span class="p">[</span><span class="n">Int</span><span class="p">]</span>
<span class="nv">coins</span> <span class="o">=</span> <span class="p">[</span><span class="mi">500</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>

<span class="nv">numToCoins</span> <span class="o">::</span> <span class="n">Int</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="n">Int</span><span class="p">]</span>
<span class="nv">numToCoins</span> <span class="mi">0</span> <span class="o">=</span> <span class="p">[]</span>
<span class="nv">numToCoins</span> <span class="nv">n</span> <span class="o">=</span> <span class="kr">let</span> <span class="nv">coin</span> <span class="o">=</span> <span class="nv">whichCoinToUse</span> <span class="nv">n</span>
               <span class="kr">in</span>
                 <span class="nv">coin</span> <span class="o">:</span> <span class="nv">numToCoins</span> <span class="p">(</span><span class="nv">n</span> <span class="o">-</span> <span class="nv">coin</span><span class="p">)</span>
    <span class="kr">where</span>
      <span class="nv">whichCoinToUse</span> <span class="o">::</span> <span class="n">Int</span> <span class="o">-&gt;</span> <span class="n">Int</span>
      <span class="nv">whichCoinToUse</span> <span class="nv">n</span> <span class="o">=</span> <span class="nv">fromJust</span> <span class="o">$</span> <span class="nv">find</span> <span class="p">(</span><span class="o">&lt;=</span> <span class="nv">n</span><span class="p">)</span> <span class="nv">coins</span>

<span class="nv">expand</span> <span class="o">::</span> <span class="p">[(</span><span class="n">Int</span><span class="p">,</span> <span class="n">Int</span><span class="p">)]</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="n">Int</span><span class="p">]</span>
<span class="nv">expand</span> <span class="p">[]</span>                   <span class="o">=</span> <span class="p">[]</span>
<span class="nv">expand</span> <span class="p">((</span><span class="nv">coin</span><span class="p">,</span> <span class="nv">quant</span><span class="p">)</span> <span class="o">:</span> <span class="nv">xs</span><span class="p">)</span> <span class="o">=</span> <span class="nv">replicate</span> <span class="nv">quant</span> <span class="nv">coin</span> <span class="o">++</span> <span class="nv">expand</span> <span class="nv">xs</span>

<span class="nv">collapse</span> <span class="o">::</span> <span class="p">[</span><span class="n">Int</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="p">[(</span><span class="n">Int</span><span class="p">,</span> <span class="n">Int</span><span class="p">)]</span>
<span class="nv">collapse</span> <span class="nv">coins</span> <span class="o">=</span> <span class="p">[(</span><span class="nv">head</span> <span class="nv">grp</span><span class="p">,</span> <span class="nv">length</span> <span class="nv">grp</span><span class="p">)</span> <span class="o">|</span> <span class="nv">grp</span> <span class="o">&lt;-</span> <span class="nv">group</span> <span class="o">$</span> <span class="nv">sort</span> <span class="nv">coins</span><span class="p">]</span>

<span class="nv">score</span> <span class="o">::</span> <span class="n">Int</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="n">Int</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="n">Maybe</span> <span class="n">Int</span>
<span class="nv">score</span> <span class="nv">total</span> <span class="nv">coinsToUse</span>
    <span class="o">|</span> <span class="nv">total</span> <span class="o">&gt;</span> <span class="nv">sum</span> <span class="nv">coinsToUse</span>  <span class="c1">-- お金が足りない</span>
        <span class="o">=</span> <span class="n">Nothing</span>
    <span class="o">|</span> <span class="nv">otherwise</span>               <span class="c1">-- 減った枚数を返す</span>
        <span class="o">=</span> <span class="kr">let</span> <span class="nv">changes</span> <span class="o">=</span> <span class="nv">numToCoins</span> <span class="o">$</span> <span class="nv">abs</span> <span class="o">$</span> <span class="nv">total</span> <span class="o">-</span> <span class="nv">sum</span> <span class="nv">coinsToUse</span>
          <span class="kr">in</span> 
            <span class="n">Just</span> <span class="o">$</span> <span class="nv">length</span> <span class="nv">coinsToUse</span> <span class="o">-</span> <span class="nv">length</span> <span class="nv">changes</span>

<span class="nv">powerSet</span> <span class="o">::</span> <span class="p">[</span><span class="nv">a</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="p">[[</span><span class="nv">a</span><span class="p">]]</span>
<span class="nv">powerSet</span> <span class="p">[]</span>     <span class="o">=</span> <span class="p">[[]]</span>
<span class="nv">powerSet</span> <span class="p">(</span><span class="nv">x</span><span class="o">:</span><span class="nv">xs</span><span class="p">)</span> <span class="o">=</span> <span class="kr">let</span> <span class="nv">xss</span> <span class="o">=</span> <span class="nv">powerSet</span> <span class="nv">xs</span>
                  <span class="kr">in</span>
                    <span class="nv">map</span> <span class="p">(</span><span class="nv">x</span><span class="o">:</span><span class="p">)</span> <span class="nv">xss</span> <span class="o">++</span> <span class="nv">xss</span>

<span class="nv">pay</span> <span class="o">::</span> <span class="n">Int</span> <span class="o">-&gt;</span> <span class="p">[(</span><span class="n">Int</span><span class="p">,</span> <span class="n">Int</span><span class="p">)]</span> <span class="o">-&gt;</span> <span class="p">[(</span><span class="n">Int</span><span class="p">,</span> <span class="n">Int</span><span class="p">)]</span>
<span class="nv">pay</span> <span class="nv">total</span> <span class="nv">wallet</span>
    <span class="o">=</span> <span class="kr">let</span> <span class="nv">challenges</span> <span class="o">=</span> <span class="nv">powerSet</span> <span class="o">$</span> <span class="nv">expand</span> <span class="nv">wallet</span>
          <span class="nv">possibles</span>  <span class="o">=</span> <span class="nv">catMaybes</span> <span class="o">$</span> <span class="nv">map</span> <span class="nv">bindScore</span> <span class="nv">challenges</span>
          <span class="nv">bestWay</span>    <span class="o">=</span> <span class="nv">last</span> <span class="o">$</span> <span class="nv">sortBy</span> <span class="nv">cmp</span> <span class="nv">possibles</span>
      <span class="kr">in</span>
        <span class="nv">collapse</span> <span class="o">$</span> <span class="nv">snd</span> <span class="nv">bestWay</span>
    <span class="kr">where</span>
      <span class="nv">bindScore</span> <span class="o">::</span> <span class="p">[</span><span class="n">Int</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="n">Maybe</span> <span class="p">(</span><span class="n">Int</span><span class="p">,</span> <span class="p">[</span><span class="n">Int</span><span class="p">])</span>
      <span class="nv">bindScore</span> <span class="nv">challenge</span>
          <span class="o">=</span> <span class="kr">do</span> <span class="nv">s</span> <span class="o">&lt;-</span> <span class="nv">score</span> <span class="nv">total</span> <span class="nv">challenge</span>
               <span class="nv">return</span> <span class="p">(</span><span class="nv">s</span><span class="p">,</span> <span class="nv">challenge</span><span class="p">)</span>

      <span class="nv">cmp</span> <span class="o">::</span> <span class="p">(</span><span class="n">Int</span><span class="p">,</span> <span class="p">[</span><span class="n">Int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="n">Int</span><span class="p">,</span> <span class="p">[</span><span class="n">Int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Ordering</span>
      <span class="nv">cmp</span> <span class="p">(</span><span class="nv">a</span><span class="p">,</span> <span class="nv">as</span><span class="p">)</span> <span class="p">(</span><span class="nv">b</span><span class="p">,</span> <span class="nv">bs</span><span class="p">)</span>
          <span class="o">|</span> <span class="nv">a</span> <span class="o">&lt;</span> <span class="nv">b</span>                 <span class="o">=</span> <span class="n">LT</span>
          <span class="o">|</span> <span class="nv">a</span> <span class="o">&gt;</span> <span class="nv">b</span>                 <span class="o">=</span> <span class="n">GT</span>
          <span class="o">|</span> <span class="nv">length</span> <span class="nv">as</span> <span class="o">&lt;</span> <span class="nv">length</span> <span class="nv">bs</span> <span class="o">=</span> <span class="n">GT</span> <span class="c1">-- 差分枚数が同じならば</span>
          <span class="o">|</span> <span class="nv">length</span> <span class="nv">as</span> <span class="o">&gt;</span> <span class="nv">length</span> <span class="nv">bs</span> <span class="o">=</span> <span class="n">LT</span> <span class="c1">-- 払う枚数が少ない方を優先</span>
          <span class="o">|</span> <span class="nv">otherwise</span>             <span class="o">=</span> <span class="n">EQ</span>

<span class="nv">main</span> <span class="o">=</span> <span class="nv">print</span> <span class="o">$</span> <span class="nv">pay</span> <span class="mi">147</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">3</span><span class="p">)]</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/59/addtag/" class="addtag" id="addtag_59">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20080406171116/http://ja.doukaku.org/lang/haskell/">
		Haskell
      </a>]
	  
      [<a href="/web/20080406171116/http://ja.doukaku.org/comment/59/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20080406171116/http://ja.doukaku.org/comment/59/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_59"
  >-</span><span
  class="button yellow"
  id="rating_z_59"
  >0</span><span 
  class="button green"
  id="rating_p_59"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20080406171116/http://ja.doukaku.org/3/reply_to/59/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment60">
  <p class="banner"><a href="/web/20080406171116/http://ja.doukaku.org/user/28/" target="_top">minke</a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/star_silver.png" border=0/></a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/60/">#60</a>(<script language="JavaScript">print_time(new Date("2007/07/02 10:20 GMT"));</script><noscript>2007/07/02 10:20 GMT</noscript>)
	
	
	
	[<a href="/web/20080406171116/http://ja.doukaku.org/lang/ruby/">
	  Ruby
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>短くしてみた。
%= のところでハイライトがおかしくなるのが悲しい。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">pay</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="n">h</span><span class="p">)</span>
  <span class="n">h</span><span class="o">.</span><span class="n">default</span> <span class="o">=</span> <span class="mi">0</span>
  <span class="n">h</span><span class="o">.</span><span class="n">each</span> <span class="p">{</span><span class="o">|</span><span class="n">c</span><span class="p">,</span><span class="n">n</span><span class="o">|</span> <span class="n">e</span> <span class="o">-=</span> <span class="n">c</span><span class="o">*</span><span class="n">n</span> <span class="p">}</span>
  <span class="k">raise</span> <span class="s2">&quot;Money!&quot;</span> <span class="k">if</span> <span class="p">(</span><span class="n">e</span> <span class="o">*=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">0</span>
  <span class="o">[</span><span class="mi">500</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="o">].</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">c</span><span class="o">|</span>
    <span class="n">h</span><span class="o">[</span><span class="n">c</span><span class="o">]</span> <span class="o">-=</span> <span class="n">e</span><span class="o">/</span><span class="n">c</span>
    <span class="n">e</span> <span class="sx">%= c</span>
<span class="sx">  end</span>
<span class="sx">  h.reject {|c,n| n &lt;=</span> <span class="mi">0</span><span class="p">}</span>
<span class="k">end</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/60/addtag/" class="addtag" id="addtag_60">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20080406171116/http://ja.doukaku.org/lang/ruby/">
		Ruby
      </a>]
	  
      [<a href="/web/20080406171116/http://ja.doukaku.org/comment/60/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20080406171116/http://ja.doukaku.org/comment/60/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_60"
  >-</span><span
  class="button yellow"
  id="rating_z_60"
  >0</span><span 
  class="button green"
  id="rating_p_60"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20080406171116/http://ja.doukaku.org/comment/60/">
    1
    reply
  </a>

  [<a href="/web/20080406171116/http://ja.doukaku.org/3/reply_to/60/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment61">
  <p class="banner"><a href="/web/20080406171116/http://ja.doukaku.org/user/76/" target="_top">satyri</a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/61/">#61</a>(<script language="JavaScript">print_time(new Date("2007/07/02 13:00 GMT"));</script><noscript>2007/07/02 13:00 GMT</noscript>)
	
	
	
	[<a href="/web/20080406171116/http://ja.doukaku.org/lang/php/">
	  PHP
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>PHPで書いてみる。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30</pre></td><td class="code"><div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="k">function</span> <span class="nf">payment</span><span class="p">(</span><span class="nv">$price</span><span class="p">,</span> <span class="nv">$wallet</span><span class="p">){</span>
	<span class="nv">$coins</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;500&#39;</span> <span class="o">=&gt;</span> <span class="m">0</span><span class="p">,</span> <span class="s1">&#39;100&#39;</span> <span class="o">=&gt;</span> <span class="m">0</span><span class="p">,</span> <span class="s1">&#39;50&#39;</span> <span class="o">=&gt;</span> <span class="m">0</span><span class="p">,</span> <span class="s1">&#39;10&#39;</span> <span class="o">=&gt;</span> <span class="m">0</span><span class="p">,</span> <span class="s1">&#39;5&#39;</span> <span class="o">=&gt;</span> <span class="m">0</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span> <span class="o">=&gt;</span> <span class="m">0</span><span class="p">);</span>
	<span class="nv">$payment</span> <span class="o">=</span> <span class="nx">pay</span><span class="p">(</span><span class="nv">$price</span><span class="p">,</span> <span class="nv">$wallet</span><span class="p">,</span> <span class="nv">$coins</span><span class="p">);</span>
	<span class="k">foreach</span><span class="p">(</span><span class="nv">$coins</span> <span class="k">as</span> <span class="nv">$coin</span><span class="o">=&gt;</span><span class="nv">$value</span><span class="p">){</span>
		<span class="k">while</span><span class="p">(</span><span class="nv">$coin</span> <span class="o">&lt;=</span> <span class="nv">$payment</span><span class="p">[</span><span class="s1">&#39;change&#39;</span><span class="p">]){</span>
			<span class="nv">$payment</span><span class="p">[</span><span class="s1">&#39;change&#39;</span><span class="p">]</span> <span class="o">-=</span> <span class="nv">$coin</span><span class="p">;</span>
			<span class="k">if</span><span class="p">(</span><span class="nv">$payment</span><span class="p">[</span><span class="s1">&#39;coins&#39;</span><span class="p">][</span><span class="nv">$coin</span><span class="p">]){</span>
				<span class="nv">$payment</span><span class="p">[</span><span class="s1">&#39;coins&#39;</span><span class="p">][</span><span class="nv">$coin</span><span class="p">]</span><span class="o">--</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="nv">$payment</span><span class="p">[</span><span class="s1">&#39;coins&#39;</span><span class="p">];</span>
<span class="p">}</span>

<span class="k">function</span> <span class="nf">pay</span><span class="p">(</span><span class="nv">$price</span><span class="p">,</span> <span class="nv">$wallet</span><span class="p">,</span> <span class="nv">$coins</span><span class="p">){</span>
	<span class="k">foreach</span><span class="p">(</span><span class="nv">$wallet</span> <span class="k">as</span> <span class="nv">$coin</span><span class="o">=&gt;</span><span class="nv">$value</span><span class="p">){</span>
		<span class="k">for</span><span class="p">(</span><span class="nv">$i</span> <span class="o">=</span> <span class="m">0</span><span class="p">;</span> <span class="nv">$i</span> <span class="o">&lt;</span> <span class="nv">$value</span><span class="p">;</span><span class="nv">$i</span><span class="o">++</span><span class="p">){</span>
			<span class="nv">$price</span> <span class="o">-=</span> <span class="nv">$coin</span><span class="p">;</span>
			<span class="nv">$coins</span><span class="p">[</span><span class="nv">$coin</span><span class="p">]</span><span class="o">++</span><span class="p">;</span>
			<span class="k">if</span><span class="p">(</span><span class="nv">$price</span> <span class="o">&lt;=</span><span class="m">0</span><span class="p">){</span>
				<span class="k">return</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;coins&#39;</span><span class="o">=&gt;</span><span class="nv">$coins</span><span class="p">,</span><span class="s1">&#39;change&#39;</span><span class="o">=&gt;</span> <span class="o">-</span> <span class="nv">$price</span><span class="p">);</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="k">echo</span><span class="p">(</span><span class="s2">&quot;お金が足りません&quot;</span><span class="p">);</span>
<span class="p">}</span>
<span class="nv">$wallet</span> <span class="o">=</span> <span class="nx">payment</span><span class="p">(</span><span class="m">147</span><span class="p">,</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="o">=&gt;</span><span class="m">2</span><span class="p">,</span><span class="s1">&#39;10&#39;</span><span class="o">=&gt;</span><span class="m">4</span><span class="p">,</span><span class="s1">&#39;100&#39;</span><span class="o">=&gt;</span><span class="m">3</span><span class="p">));</span>
<span class="nf">print_r</span><span class="p">(</span><span class="nv">$wallet</span><span class="p">);</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/61/addtag/" class="addtag" id="addtag_61">タグ</a>:
	
    
    <a href="/web/20080406171116/http://ja.doukaku.org/tag/PHP/">PHP</a>
    
	&nbsp;

	
      [<a href="/web/20080406171116/http://ja.doukaku.org/lang/php/">
		PHP
      </a>]
	  
      [<a href="/web/20080406171116/http://ja.doukaku.org/comment/61/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20080406171116/http://ja.doukaku.org/comment/61/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_61"
  >-</span><span
  class="button yellow"
  id="rating_z_61"
  >0</span><span 
  class="button green"
  id="rating_p_61"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20080406171116/http://ja.doukaku.org/3/reply_to/61/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment63">
  <p class="banner"><a href="/web/20080406171116/http://ja.doukaku.org/user/19/" target="_top">jmuk</a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/63/">#63</a>(<script language="JavaScript">print_time(new Date("2007/07/02 14:58 GMT"));</script><noscript>2007/07/02 14:58 GMT</noscript>)
	
	
	
	[<a href="/web/20080406171116/http://ja.doukaku.org/lang/ruby/">
	  Ruby
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  いろんな状況を考えてみたんですが、たぶん、可能なかぎり少額のコインを使うようにすると題意を満たすと思います。つまり、10円を払うとき、1円玉が10枚あるなら、10円玉があっても1円玉を使った方がよい。

失敗するような意地悪な例題をもとむ。
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37</pre></td><td class="code"><div class="highlight"><pre><span class="vg">$coins</span> <span class="o">=</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">500</span><span class="o">]</span>

<span class="k">def</span> <span class="nf">changes</span><span class="p">(</span><span class="n">total</span><span class="p">)</span>
  <span class="n">ret</span> <span class="o">=</span> <span class="p">{}</span>
  <span class="vg">$coins</span><span class="o">.</span><span class="n">sort_by</span><span class="p">{</span><span class="o">|</span><span class="n">a</span><span class="o">|</span> <span class="o">-</span><span class="n">a</span><span class="p">}</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">coin</span><span class="o">|</span>
    <span class="k">if</span> <span class="n">total</span> <span class="o">&gt;=</span> <span class="n">coin</span>
      <span class="n">num</span> <span class="o">=</span> <span class="n">total</span> <span class="o">/</span> <span class="n">coin</span>
      <span class="n">total</span> <span class="o">=</span> <span class="n">total</span> <span class="o">-</span> <span class="n">coin</span> <span class="o">*</span> <span class="n">num</span>
      <span class="n">ret</span><span class="o">[</span><span class="n">coin</span><span class="o">]</span> <span class="o">=</span> <span class="n">num</span>
    <span class="k">end</span>
  <span class="k">end</span>
  <span class="n">ret</span>
<span class="k">end</span>

<span class="k">def</span> <span class="nf">pay</span><span class="p">(</span><span class="n">expence</span><span class="p">,</span> <span class="n">wallet</span><span class="p">)</span>
  <span class="n">total</span> <span class="o">=</span> <span class="mi">0</span>
  <span class="n">payment</span> <span class="o">=</span> <span class="p">{}</span>
  <span class="vg">$coins</span><span class="o">.</span><span class="n">sort</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">coin</span><span class="o">|</span>
    <span class="k">next</span>  <span class="k">unless</span> <span class="n">wallet</span><span class="o">[</span><span class="n">coin</span><span class="o">]</span>
    <span class="n">num</span> <span class="o">=</span> <span class="o">[</span><span class="p">(</span><span class="n">expence</span> <span class="o">-</span> <span class="n">total</span><span class="p">)</span> <span class="o">/</span> <span class="n">coin</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">wallet</span><span class="o">[</span><span class="n">coin</span><span class="o">]].</span><span class="n">min</span>
    <span class="n">payment</span><span class="o">[</span><span class="n">coin</span><span class="o">]</span> <span class="o">=</span> <span class="n">num</span>
    <span class="n">total</span> <span class="o">+=</span> <span class="n">coin</span> <span class="o">*</span> <span class="n">num</span>
    <span class="k">break</span>  <span class="k">if</span> <span class="n">total</span> <span class="o">&gt;=</span> <span class="n">expence</span>
  <span class="k">end</span>
  <span class="k">if</span> <span class="n">total</span> <span class="o">&gt;</span> <span class="n">expence</span>
    <span class="n">change</span> <span class="o">=</span> <span class="n">changes</span><span class="p">(</span><span class="n">total</span> <span class="o">-</span> <span class="n">expence</span><span class="p">)</span>
    <span class="n">change</span><span class="o">.</span><span class="n">each_pair</span> <span class="k">do</span> <span class="o">|</span><span class="n">coin</span><span class="p">,</span> <span class="n">num</span><span class="o">|</span>
      <span class="k">if</span> <span class="n">payment</span><span class="o">.</span><span class="n">has_key?</span><span class="p">(</span><span class="n">coin</span><span class="p">)</span>
        <span class="n">payment</span><span class="o">[</span><span class="n">coin</span><span class="o">]</span> <span class="o">-=</span> <span class="n">num</span>
        <span class="n">payment</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">coin</span><span class="p">)</span> <span class="k">if</span> <span class="n">payment</span><span class="o">[</span><span class="n">coin</span><span class="o">]</span> <span class="o">&lt;=</span> <span class="mi">0</span>
      <span class="k">end</span>
    <span class="k">end</span>
  <span class="k">end</span>
  <span class="n">payment</span>
<span class="k">end</span>

<span class="c1"># p pay(147, {1 =&gt; 2, 10 =&gt; 4, 100 =&gt; 3})</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/63/addtag/" class="addtag" id="addtag_63">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20080406171116/http://ja.doukaku.org/lang/ruby/">
		Ruby
      </a>]
	  
      [<a href="/web/20080406171116/http://ja.doukaku.org/comment/63/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20080406171116/http://ja.doukaku.org/comment/63/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_63"
  >-</span><span
  class="button yellow"
  id="rating_z_63"
  >0</span><span 
  class="button green"
  id="rating_p_63"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20080406171116/http://ja.doukaku.org/3/reply_to/63/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment72">
  <p class="banner"><a href="/web/20080406171116/http://ja.doukaku.org/user/84/" target="_top">shuyo</a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/star_silver.png" border=0/></a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/72/">#72</a>(<script language="JavaScript">print_time(new Date("2007/07/03 06:13 GMT"));</script><noscript>2007/07/03 06:13 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>おお、短い。すばらしい！
でも……

pay(147, {1=&gt; 2, 5=&gt;300, 10=&gt; 4, 100=&gt; 3})
=&gt; {5=&gt;299, 1=&gt;2, 100=&gt;2}

すいません、意地悪で（苦笑</pre>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/72/addtag/" class="addtag" id="addtag_72">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_72"
  >-</span><span
  class="button yellow"
  id="rating_z_72"
  >0</span><span 
  class="button green"
  id="rating_p_72"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20080406171116/http://ja.doukaku.org/comment/60/"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20080406171116/http://ja.doukaku.org/comment/72/root/"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  <a href="/web/20080406171116/http://ja.doukaku.org/comment/72/">
    1
    reply
  </a>

  [<a href="/web/20080406171116/http://ja.doukaku.org/3/reply_to/72/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment73">
  <p class="banner"><a href="/web/20080406171116/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/star_bronze.png" border=0/></a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/73/">#73</a>(<script language="JavaScript">print_time(new Date("2007/07/03 06:19 GMT"));</script><noscript>2007/07/03 06:19 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  コード無しで質問なのですが、財布の中身が
{100:10, 1:1}
で支払うべき金額が
1
であった場合、期待される結果は

{100 : 10} or {500 : 2}

のどちらですか?
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/73/addtag/" class="addtag" id="addtag_73">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_73"
  >-</span><span
  class="button yellow"
  id="rating_z_73"
  >0</span><span 
  class="button green"
  id="rating_p_73"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20080406171116/http://ja.doukaku.org/3/reply_to/73/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment74">
  <p class="banner"><a href="/web/20080406171116/http://ja.doukaku.org/user/82/" target="_top">yuin</a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/star_bronze.png" border=0/></a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/74/">#74</a>(<script language="JavaScript">print_time(new Date("2007/07/03 07:22 GMT"));</script><noscript>2007/07/03 07:22 GMT</noscript>)
	
	
	
	[<a href="/web/20080406171116/http://ja.doukaku.org/lang/python/">
	  Python
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>pay(147, {1=&gt; 2, 5=&gt;300, 10=&gt; 4, 100=&gt; 3})
=&gt; {5=&gt;299, 1=&gt;2, 100=&gt;2}

これあってますよね。
たぶん#73の方と同じ疑問点なのだと思いますが、

5 * 299 + 1 * 2 + 100 * 2 = 1697
1697 - 147 = 1550

でおつりは500 * 3, 50 * 1。確かに一番減ります。こんなお金の出され方したら怒りますけど（笑

Pythonでも同じアルゴリズムで書いてみました。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5
6
7
8
9</pre></td><td class="code"><div class="highlight"><pre><span class="k">from</span> <span class="nn">operator</span> <span class="k">import</span> <span class="o">*</span>
<span class="k">def</span> <span class="nf">pay</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">w</span><span class="p">):</span>
  <span class="n">r</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
  <span class="n">m</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">((</span><span class="n">k</span><span class="o">*</span><span class="n">w</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">w</span><span class="p">))</span> <span class="o">-</span> <span class="n">m</span>
  <span class="k">if</span> <span class="n">m</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="s">&quot;money&quot;</span>
  <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">500</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">):</span>
    <span class="n">r</span><span class="p">[</span><span class="n">c</span><span class="p">]</span> <span class="o">=</span> <span class="n">w</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-</span> <span class="n">m</span> <span class="o">/</span> <span class="n">c</span>
    <span class="n">m</span> <span class="o">%=</span> <span class="n">c</span>
  <span class="k">return</span> <span class="nb">dict</span><span class="p">(((</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">r</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">v</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">))</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/74/addtag/" class="addtag" id="addtag_74">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20080406171116/http://ja.doukaku.org/lang/python/">
		Python
      </a>]
	  
      [<a href="/web/20080406171116/http://ja.doukaku.org/comment/74/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20080406171116/http://ja.doukaku.org/comment/74/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_74"
  >-</span><span
  class="button yellow"
  id="rating_z_74"
  >0</span><span 
  class="button green"
  id="rating_p_74"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20080406171116/http://ja.doukaku.org/comment/72/"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20080406171116/http://ja.doukaku.org/comment/74/root/"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  <a href="/web/20080406171116/http://ja.doukaku.org/comment/74/">
    1
    reply
  </a>

  [<a href="/web/20080406171116/http://ja.doukaku.org/3/reply_to/74/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment76">
  <p class="banner"><a href="/web/20080406171116/http://ja.doukaku.org/user/1/" target="_top">にしお</a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/76/">#76</a>(<script language="JavaScript">print_time(new Date("2007/07/03 12:58 GMT"));</script><noscript>2007/07/03 12:58 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>なるほど、端的に言うと例えば100円支払う時に100円玉を101枚渡せば
「店員は最も枚数が少なくなる返し方でおつりを返す」という条件から
1万円札が返ってくるわけですね。

問題条件にそう書いてある以上、
結果がいくら常識に反していても
「100円玉を101枚出す」が正解です。

出題が甘かったですね～(^^;</pre>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/76/addtag/" class="addtag" id="addtag_76">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_76"
  >-</span><span
  class="button yellow"
  id="rating_z_76"
  >0</span><span 
  class="button green"
  id="rating_p_76"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20080406171116/http://ja.doukaku.org/comment/74/"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20080406171116/http://ja.doukaku.org/comment/76/root/"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  <a href="/web/20080406171116/http://ja.doukaku.org/comment/76/">
    1
    reply
  </a>

  [<a href="/web/20080406171116/http://ja.doukaku.org/3/reply_to/76/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment149">
  <p class="banner"><a href="/web/20080406171116/http://ja.doukaku.org/user/88/" target="_top">sumim</a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/149/">#149</a>(<script language="JavaScript">print_time(new Date("2007/07/04 18:04 GMT"));</script><noscript>2007/07/04 18:04 GMT</noscript>)
	
	
	
	[<a href="/web/20080406171116/http://ja.doukaku.org/lang/smalltalk/">
	  Smalltalk
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'></pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></td><td class="code"><div class="highlight"><pre>| 支払額 手持ち 支払 残高 |
支払額 := 147.
手持ち := 支払 := {1-&gt;2. 10-&gt;4. 100-&gt;3}
   inject: Bag new
   into: [:bag :assc | bag add: assc key withOccurrences: assc value; yourself].

残高 := 手持ち sum - 支払額.
#(500 100 50 10 5 1) do: [:コイン |
   | 枚数 |
   (枚数 := 残高 // コイン) &gt; 0 ifTrue: [
      残高 := 残高 \\ (コイン * 枚数).
      枚数 timesRepeat: [支払 remove: コイン ifAbsent: []]]].
^支払 sortedElements asArray

&quot;=&gt; {1-&gt;2 . 100-&gt;2} &quot;
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/149/addtag/" class="addtag" id="addtag_149">タグ</a>:
	
    
    <a href="/web/20080406171116/http://ja.doukaku.org/tag/Squeak_Smalltalk/">Squeak_Smalltalk</a>
    
	&nbsp;

	
      [<a href="/web/20080406171116/http://ja.doukaku.org/lang/smalltalk/">
		Smalltalk
      </a>]
	  
      [<a href="/web/20080406171116/http://ja.doukaku.org/comment/149/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20080406171116/http://ja.doukaku.org/comment/149/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_149"
  >-</span><span
  class="button yellow"
  id="rating_z_149"
  >0</span><span 
  class="button green"
  id="rating_p_149"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20080406171116/http://ja.doukaku.org/3/reply_to/149/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment430">
  <p class="banner"><a href="/web/20080406171116/http://ja.doukaku.org/user/172/" target="_top">cats</a>

	
	&nbsp;
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/430/">#430</a>(<script language="JavaScript">print_time(new Date("2007/07/10 04:38 GMT"));</script><noscript>2007/07/10 04:38 GMT</noscript>)
	
	
	
	[<a href="/web/20080406171116/http://ja.doukaku.org/lang/csharp/">
	  C#
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  差額に対する最小のコイン枚数を引いて出しています。あっているのか不明。
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31</pre></td><td class="code"><div class="highlight"><pre><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">class</span> <span class="nc">Program</span>
<span class="k">{</span>
  <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">()</span>
  <span class="k">{</span>
    <span class="kt">int</span><span class="p">[]</span> <span class="n">coins</span> <span class="p">=</span> <span class="k">{</span> <span class="m">1</span><span class="p">,</span> <span class="m">5</span><span class="p">,</span> <span class="m">10</span><span class="p">,</span> <span class="m">50</span><span class="p">,</span> <span class="m">100</span><span class="p">,</span> <span class="m">500</span> <span class="k">}</span><span class="p">;</span>
    <span class="kt">int</span><span class="p">[]</span> <span class="n">res</span> <span class="p">=</span> <span class="n">GetChange</span><span class="p">(</span><span class="n">coins</span><span class="p">,</span> <span class="s">&quot;1:2,10:4,100:3&quot;</span><span class="p">,</span> <span class="m">147</span><span class="p">);</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">res</span><span class="p">.</span><span class="n">Length</span><span class="p">;</span> <span class="p">++</span><span class="n">i</span><span class="p">)</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">res</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">&gt;</span> <span class="m">0</span><span class="p">)</span> <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;{0}:{1}&quot;</span><span class="p">,</span> <span class="n">coins</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">res</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
  <span class="k">}</span>
  <span class="k">static</span> <span class="kt">int</span><span class="p">[]</span> <span class="n">GetChange</span><span class="p">(</span><span class="kt">int</span><span class="p">[]</span> <span class="n">coins</span><span class="p">,</span> <span class="kt">string</span> <span class="n">data</span><span class="p">,</span> <span class="kt">int</span> <span class="n">amo</span><span class="p">)</span>
  <span class="k">{</span>
    <span class="kt">int</span><span class="p">[]</span> <span class="n">nums</span> <span class="p">=</span> <span class="k">new</span> <span class="kt">int</span><span class="p">[</span><span class="n">coins</span><span class="p">.</span><span class="n">Length</span><span class="p">];</span>
    <span class="kt">int</span> <span class="n">total</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="kt">string</span> <span class="n">s</span> <span class="k">in</span> <span class="n">data</span><span class="p">.</span><span class="n">Split</span><span class="p">(</span><span class="sc">&#39;,&#39;</span><span class="p">))</span>
    <span class="k">{</span>
      <span class="kt">string</span><span class="p">[]</span> <span class="n">ss</span> <span class="p">=</span> <span class="n">s</span><span class="p">.</span><span class="n">Split</span><span class="p">(</span><span class="sc">&#39;:&#39;</span><span class="p">);</span>
      <span class="kt">int</span> <span class="n">p</span> <span class="p">=</span> <span class="kt">int</span><span class="p">.</span><span class="n">Parse</span><span class="p">(</span><span class="n">ss</span><span class="p">[</span><span class="m">0</span><span class="p">]);</span>
      <span class="kt">int</span> <span class="n">n</span> <span class="p">=</span> <span class="kt">int</span><span class="p">.</span><span class="n">Parse</span><span class="p">(</span><span class="n">ss</span><span class="p">[</span><span class="m">1</span><span class="p">]);</span>
      <span class="n">nums</span><span class="p">[(</span><span class="kt">int</span><span class="p">)</span><span class="n">Math</span><span class="p">.</span><span class="n">Log</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="m">3</span><span class="p">)]</span> <span class="p">=</span> <span class="n">n</span><span class="p">;</span>
      <span class="n">total</span> <span class="p">+=</span> <span class="n">p</span> <span class="p">*</span> <span class="n">n</span><span class="p">;</span>
    <span class="k">}</span>
    <span class="kt">int</span> <span class="n">rem</span> <span class="p">=</span> <span class="n">total</span> <span class="p">-</span> <span class="n">amo</span><span class="p">;</span>
    <span class="kt">int</span><span class="p">[]</span> <span class="n">res</span> <span class="p">=</span> <span class="k">new</span> <span class="kt">int</span><span class="p">[</span><span class="n">coins</span><span class="p">.</span><span class="n">Length</span><span class="p">];</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="n">res</span><span class="p">.</span><span class="n">Length</span> <span class="p">-</span> <span class="m">1</span><span class="p">;</span> <span class="n">i</span> <span class="p">&gt;=</span> <span class="m">0</span><span class="p">;</span> <span class="p">--</span><span class="n">i</span><span class="p">)</span>
      <span class="k">while</span> <span class="p">(</span><span class="n">rem</span> <span class="p">&gt;=</span> <span class="n">coins</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="k">{</span> <span class="n">rem</span> <span class="p">-=</span> <span class="n">coins</span><span class="p">[</span><span class="n">i</span><span class="p">];</span> <span class="p">++</span><span class="n">res</span><span class="p">[</span><span class="n">i</span><span class="p">];</span> <span class="k">}</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">res</span><span class="p">.</span><span class="n">Length</span><span class="p">;</span> <span class="p">++</span><span class="n">i</span><span class="p">)</span>
      <span class="n">res</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="n">Math</span><span class="p">.</span><span class="n">Max</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">-</span> <span class="n">res</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
    <span class="k">return</span> <span class="n">res</span><span class="p">;</span>
  <span class="k">}</span>
<span class="k">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/430/addtag/" class="addtag" id="addtag_430">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20080406171116/http://ja.doukaku.org/lang/csharp/">
		C#
      </a>]
	  
      [<a href="/web/20080406171116/http://ja.doukaku.org/comment/430/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20080406171116/http://ja.doukaku.org/comment/430/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_430"
  >-</span><span
  class="button yellow"
  id="rating_z_430"
  >0</span><span 
  class="button green"
  id="rating_p_430"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20080406171116/http://ja.doukaku.org/3/reply_to/430/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment434">
  <p class="banner"><a href="/web/20080406171116/http://ja.doukaku.org/user/1/" target="_top">にしお</a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/434/">#434</a>(<script language="JavaScript">print_time(new Date("2007/07/10 05:22 GMT"));</script><noscript>2007/07/10 05:22 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  「やりとりする枚数が最小になるように」という条件にすればよかったのかもしれませんね…。
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/434/addtag/" class="addtag" id="addtag_434">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_434"
  >-</span><span
  class="button yellow"
  id="rating_z_434"
  >0</span><span 
  class="button green"
  id="rating_p_434"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20080406171116/http://ja.doukaku.org/comment/76/"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20080406171116/http://ja.doukaku.org/comment/434/root/"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20080406171116/http://ja.doukaku.org/3/reply_to/434/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment510">
  <p class="banner"><a href="/web/20080406171116/http://ja.doukaku.org/user/105/" target="_top">rubikitch</a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/510/">#510</a>(<script language="JavaScript">print_time(new Date("2007/07/10 20:27 GMT"));</script><noscript>2007/07/10 20:27 GMT</noscript>)
	
	
	
	[<a href="/web/20080406171116/http://ja.doukaku.org/lang/commonlisp/">
	  Common Lisp
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  iterate萌え。
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48</pre></td><td class="code"><div class="highlight"><pre>(require :iterate)
(in-package :iterate)
(defparameter *coins* &#39;(500 100 50 10 5 1))

;; DRY *coins*
(defun combinations (wallet)
  (labels ((cnt (coin) (or (cdr (assoc coin wallet)) 0)))
    (iter (for c0 from 0 to (cnt 500)) (appending
         (iter (for c1 from 0 to (cnt 100)) (appending
              (iter (for c2 from 0 to (cnt 50)) (appending
                   (iter (for c3 from 0 to (cnt 10)) (appending
                        (iter (for c4 from 0 to (cnt 5)) (appending
                             (iter (for c5 from 0 to (cnt 1)) (collecting
                                  (delete-if (lambda (cons) (zerop (cdr cons)))
                                             `((500 . ,c0) (100 . ,c1) (50 . ,c2) (10 . ,c3) (5 . ,c4) (1 . ,c5)))))))))))))))))

(defun amount (wallet)
  (iter (for (coin . cnt) in wallet) (sum (* coin cnt))))

(defun change (amount)
  (iter (for coin in *coins*)
        (with cnt)
        (unless (zerop (setf cnt (floor (/ amount coin))))
          (decf amount (* coin cnt))
          (collect (cons coin cnt)))))

(defun ways-to-pay (amount wallet)
  (let (changed-coins)
    (iter (for combination in (combinations wallet))
          (if (let ((change-amount (- (amount combination) amount)))
                (and (&lt;= 0 change-amount)
                     (iter (for (c-coin . c-cnt) in (setf changed-coins (change change-amount)))
                           (always (null (assoc c-coin combination))))))
              (collect (list :pay combination :change changed-coins))))))

(defun count-coins (wallet)
  (iter (for (coin . cnt) in wallet) (sum cnt)))

;; wallet: alist
(defun pay (amount wallet)
  (iter (with coins-in-wallet = (count-coins wallet))
        (for way in (ways-to-pay amount wallet))
        (finding way minimizing (+ (- coins-in-wallet
                                      (count-coins (getf way :pay)))
                                   (count-coins (getf way :change))) into min)
        (finally (return (getf min :pay)))))

(pay 147 &#39;((1 . 2) (10 . 4) (100 . 3))) ; =&gt; ((100 . 2) (1 . 2))
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/510/addtag/" class="addtag" id="addtag_510">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20080406171116/http://ja.doukaku.org/lang/commonlisp/">
		Common Lisp
      </a>]
	  
      [<a href="/web/20080406171116/http://ja.doukaku.org/comment/510/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20080406171116/http://ja.doukaku.org/comment/510/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_510"
  >-</span><span
  class="button yellow"
  id="rating_z_510"
  >0</span><span 
  class="button green"
  id="rating_p_510"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20080406171116/http://ja.doukaku.org/3/reply_to/510/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment527">
  <p class="banner"><a href="/web/20080406171116/http://ja.doukaku.org/user/24/" target="_top">ココサブ</a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/527/">#527</a>(<script language="JavaScript">print_time(new Date("2007/07/11 04:04 GMT"));</script><noscript>2007/07/11 04:04 GMT</noscript>)
	
	
	
	[<a href="/web/20080406171116/http://ja.doukaku.org/lang/c/">
	  C
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  http://ja.doukaku.org/comment/63/と同様のアルゴリズムでやってみました。
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59</pre></td><td class="code"><div class="highlight"><pre><span class="cp">#include &lt;stdio.h&gt;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">value</span><span class="p">;</span> <span class="c">/* お金の価値 */</span>
    <span class="kt">int</span> <span class="n">has</span><span class="p">;</span>   <span class="c">/* 何枚持っているか */</span>
<span class="p">}</span> <span class="n">coin_data</span><span class="p">;</span>

<span class="kt">void</span> <span class="n">pay</span><span class="p">(</span><span class="kt">int</span> <span class="n">expense</span><span class="p">,</span> <span class="n">coin_data</span> <span class="o">*</span><span class="n">pay_coin</span><span class="p">,</span> <span class="n">coin_data</span> <span class="o">*</span><span class="n">coin_case</span><span class="p">);</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
    <span class="c">/* 始めに持っているお金 */</span>
    <span class="n">coin_data</span> <span class="n">coin_case</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="p">{</span>  <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">},</span> <span class="p">{</span>  <span class="mi">5</span><span class="p">,</span> <span class="mi">300</span><span class="p">},</span> <span class="p">{</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">4</span><span class="p">},</span>
        <span class="p">{</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span> <span class="p">{</span><span class="mi">100</span><span class="p">,</span> <span class="mi">3</span><span class="p">},</span> <span class="p">{</span><span class="mi">500</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
    <span class="p">};</span>
    <span class="c">/* 払うお金 */</span>
    <span class="n">coin_data</span> <span class="n">pay_coin</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="p">{</span>  <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span> <span class="p">{</span>  <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span> <span class="p">{</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
        <span class="p">{</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span> <span class="p">{</span><span class="mi">100</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span> <span class="p">{</span><span class="mi">500</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
    <span class="p">};</span>

    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">6</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d円玉 : %d枚</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">coin_case</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">value</span><span class="p">,</span> <span class="n">coin_case</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">has</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="n">pay</span><span class="p">(</span><span class="mi">147</span><span class="p">,</span> <span class="n">pay_coin</span><span class="p">,</span> <span class="n">coin_case</span><span class="p">);</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">6</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d円玉 : %d枚</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">pay_coin</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">value</span><span class="p">,</span> <span class="n">pay_coin</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">has</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">pay</span><span class="p">(</span><span class="kt">int</span> <span class="n">expense</span><span class="p">,</span> <span class="n">coin_data</span> <span class="o">*</span><span class="n">pay_coin</span><span class="p">,</span> <span class="n">coin_data</span> <span class="o">*</span><span class="n">coin_case</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">current_total</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">;</span>

    <span class="n">current_total</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">coin_case</span><span class="p">[</span><span class="mi">5</span><span class="p">].</span><span class="n">has</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">current_total</span> <span class="o">+=</span> <span class="n">coin_case</span><span class="p">[</span><span class="mi">5</span><span class="p">].</span><span class="n">value</span><span class="p">;</span>
        <span class="n">coin_case</span><span class="p">[</span><span class="mi">5</span><span class="p">].</span><span class="n">has</span><span class="o">--</span><span class="p">;</span>
        <span class="n">pay_coin</span><span class="p">[</span><span class="mi">5</span><span class="p">].</span><span class="n">has</span><span class="o">++</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">--</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">coin_case</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">has</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">current_total</span> <span class="o">+=</span> <span class="n">coin_case</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">value</span><span class="p">;</span>
            <span class="n">coin_case</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">has</span><span class="o">--</span><span class="p">;</span>
            <span class="n">pay_coin</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">has</span><span class="o">++</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">while</span> <span class="p">((</span><span class="n">current_total</span> <span class="o">-</span> <span class="n">coin_case</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">].</span><span class="n">value</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">expense</span>
            <span class="o">&amp;&amp;</span> <span class="n">pay_coin</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">].</span><span class="n">has</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">current_total</span> <span class="o">-=</span> <span class="n">coin_case</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">].</span><span class="n">value</span><span class="p">;</span>
            <span class="n">coin_case</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">].</span><span class="n">has</span><span class="o">++</span><span class="p">;</span>
            <span class="n">pay_coin</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">].</span><span class="n">has</span><span class="o">--</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/527/addtag/" class="addtag" id="addtag_527">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20080406171116/http://ja.doukaku.org/lang/c/">
		C
      </a>]
	  
      [<a href="/web/20080406171116/http://ja.doukaku.org/comment/527/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20080406171116/http://ja.doukaku.org/comment/527/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_527"
  >-</span><span
  class="button yellow"
  id="rating_z_527"
  >0</span><span 
  class="button green"
  id="rating_p_527"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20080406171116/http://ja.doukaku.org/3/reply_to/527/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment664">
  <p class="banner"><a href="/web/20080406171116/http://ja.doukaku.org/user/82/" target="_top">yuin</a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/star_bronze.png" border=0/></a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/664/">#664</a>(<script language="JavaScript">print_time(new Date("2007/07/12 14:20 GMT"));</script><noscript>2007/07/12 14:20 GMT</noscript>)
	
	
	
	[<a href="/web/20080406171116/http://ja.doukaku.org/lang/scala/">
	  Scala
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>Scalaで。うーん、微妙・・・</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></td><td class="code"><div class="highlight"><pre>import scala.collection.mutable.HashMap
import scala.collection.Map.Projection
def pay(money:Int, wallet:Map[Int, Int]):Projection[Int,Int] = {
  var m = money
  val r = new HashMap[Int,Int]
  m = wallet.keys./:(0){(r,k) =&gt; r+k*wallet(k)} - m
  if(m&lt;0) throw new RuntimeException(&quot;Money!&quot;)
  List(500, 100, 50, 10, 5, 1).foreach(c =&gt; {
    r(c) = wallet.getOrElse(c, 0) - m/c
    m = m%c
  })
  r.filterKeys(k =&gt; r(k)&gt;0)
}
pay(147, Map(1 -&gt; 2, 5 -&gt; 300, 10 -&gt; 4, 100 -&gt; 3)).foreach(p =&gt; print(p._1+&quot;:&quot;+p._2+&quot;,&quot;))
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/664/addtag/" class="addtag" id="addtag_664">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20080406171116/http://ja.doukaku.org/lang/scala/">
		Scala
      </a>]
	  
      [<a href="/web/20080406171116/http://ja.doukaku.org/comment/664/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20080406171116/http://ja.doukaku.org/comment/664/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_664"
  >-</span><span
  class="button yellow"
  id="rating_z_664"
  >0</span><span 
  class="button green"
  id="rating_p_664"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20080406171116/http://ja.doukaku.org/3/reply_to/664/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment1075">
  <p class="banner"><a href="/web/20080406171116/http://ja.doukaku.org/user/232/" target="_top">kkobayashi</a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/1075/">#1075</a>(<script language="JavaScript">print_time(new Date("2007/07/18 14:55 GMT"));</script><noscript>2007/07/18 14:55 GMT</noscript>)
	
	
	
	[<a href="/web/20080406171116/http://ja.doukaku.org/lang/r/">
	  R
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>「手持ちのコインを全て渡す」というのが答えですが、出したコインがそのまま帰ってくるような場合は
出さないようにしています。http://ja.doukaku.org/comment/60/ と同じですね・・・

&gt; purse(pay=147, y1=2, y5=300, y10=4, y100=3)
  1   5 100 
  2 299   2 
&gt; purse(pay=147, y1=2, y10=4, y100=3)
  1 100 
  2   2 </pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5
6
7</pre></td><td class="code"><div class="highlight"><pre>purse &lt;- function(pay=0, y500=0, y100=0, y50=0, y10=0, y5=0, y1=0){
    m   &lt;- c(y500, y100, y50, y10, y5, y1)
    l   &lt;- (names(m) &lt;- c(500, 100, 50, 10, 5, 1))
    ret &lt;- m %*% l - pay
    n   &lt;- m - (ret %% c(ret+1, l[1:(length(l)-1)]) %/% l)
    print(rev(n[n&gt;0]))
}
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/1075/addtag/" class="addtag" id="addtag_1075">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20080406171116/http://ja.doukaku.org/lang/r/">
		R
      </a>]
	  
      [<a href="/web/20080406171116/http://ja.doukaku.org/comment/1075/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20080406171116/http://ja.doukaku.org/comment/1075/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_1075"
  >-</span><span
  class="button yellow"
  id="rating_z_1075"
  >0</span><span 
  class="button green"
  id="rating_p_1075"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20080406171116/http://ja.doukaku.org/3/reply_to/1075/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment1102">
  <p class="banner"><a href="/web/20080406171116/http://ja.doukaku.org/user/117/" target="_top">katsu</a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/star_silver.png" border=0/></a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/1102/">#1102</a>(<script language="JavaScript">print_time(new Date("2007/07/19 12:40 GMT"));</script><noscript>2007/07/19 12:40 GMT</noscript>)
	
	
	
	[<a href="/web/20080406171116/http://ja.doukaku.org/lang/prolog/">
	  Prolog
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>Prologが無いなんて許せません。
当然、全探索です。
制約論理を使えば、もっとスマートに行くのでしょうか…</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55</pre></td><td class="code"><div class="highlight"><pre>coins([500,100,50,10,5,1]).

change(Sum,C):-coins(Coins),change(Coins,Sum,C).
change([],_,[]).
change([Co|Cos],Sum,C):-Co&gt;Sum,change(Cos,Sum,C),!.
change([Co|Cos],Sum,[c(Co,C)|Cs]):-C is Sum // Co,Sums is Sum mod Co, change(Cos,Sums,Cs).

takeout([],[],[]).
takeout([c(Co,C)|Pos],Pa,R):-countUp(C,C1),plus(C2,C1,C),C1&gt;=0,C2&gt;=0,
                             (C1==0-&gt;Pa=Pas;Pa=[c(Co,C1)|Pas]),
                             (C2==0-&gt;R=Rs;R=[c(Co,C2)|Rs]),
                             takeout(Pos,Pas,Rs).

countUp(N,I):-countUp(N,0,I).
countUp(N,S,S):-S=&lt;N.
countUp(N,S,I):-S&lt;N,Ss is S + 1,countUp(N,Ss,I).

minCoin([A],[A]):-!.
minCoin([a(Ca,Pa)|As], B) :-
        minCoin(As, [a(C,P)|Ps]),
        (Ca&lt;C-&gt;B=[a(C,P)];
               (Ca==C-&gt;B=[a(C,P),a(Ca,Pa)|Ps];
                       B=[a(C,P)|Ps])).

total([],0).
total([c(Co,C)|Cs],X):-total(Cs, Xs), X is Xs + Co * C.

try(Sum, Pocket, Pay, Rest, C) :-
        takeout(Pocket, Pay, Rest0),
        total(Pay, Total),
        Total &gt;= Sum,
        plus(Change, Sum, Total),
        change(Change, Change0),
        diffCoin(Pay,Change0),
        appendCoin(Rest0,Change0,Rest),
        countCoin(Rest,C).

coinNumber(c(_,N),N).
coinName(c(N,_),N).

appendCoin([],X,X).
appendCoin([c(C,N)|Cs],R0,R):-appendCoinSub(C,N,R0,R1),appendCoin(Cs,R1,R).

appendCoinSub(C,N,[],[c(C,N)]).
appendCoinSub(C,N,[c(C,M)|Cs],[c(C,L)|Cs]):-L is N + M,!.
appendCoinSub(C,N,[Cx|Cs],[Cx|Rs]):-appendCoinSub(C,N,Cs,Rs).

diffCoin(X,Y):-maplist(coinName,X,Xn),maplist(coinName,Y,Yn),intersection(Xn,Yn,[]).

countCoin([],0).
countCoin([c(_,C)|Cs],X) :- countCoin(Cs,Xs), X is Xs + C.

findAns(Sum,Before,As):-findall(a(C,Pay),try(Sum,Before,Pay,_,C),As0),minCoin(As0,As).

:-findAns(147,[c(1,2),c(10,4),c(100,3)],A),writeln(A),halt.
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/1102/addtag/" class="addtag" id="addtag_1102">タグ</a>:
	
    
    <a href="/web/20080406171116/http://ja.doukaku.org/tag/SWI-Prolog/">SWI-Prolog</a>
    
	&nbsp;

	
      [<a href="/web/20080406171116/http://ja.doukaku.org/lang/prolog/">
		Prolog
      </a>]
	  
      [<a href="/web/20080406171116/http://ja.doukaku.org/comment/1102/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20080406171116/http://ja.doukaku.org/comment/1102/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_1102"
  >-</span><span
  class="button yellow"
  id="rating_z_1102"
  >0</span><span 
  class="button green"
  id="rating_p_1102"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20080406171116/http://ja.doukaku.org/3/reply_to/1102/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment1172">
  <p class="banner"><a href="/web/20080406171116/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/star_bronze.png" border=0/></a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/1172/">#1172</a>(<script language="JavaScript">print_time(new Date("2007/07/20 15:19 GMT"));</script><noscript>2007/07/20 15:19 GMT</noscript>)
	
	
	
	[<a href="/web/20080406171116/http://ja.doukaku.org/lang/javascript/">
	  JavaScript
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>頭の体操にとJavaScriptで。
アルゴリズムが正しいかどうかは正直自信ありません……。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="highlight"><pre><span class="nx">javascript</span><span class="o">:</span><span class="k">function</span><span class="o">%</span><span class="mi">20</span><span class="nx">pay</span><span class="p">(</span><span class="nx">pr</span><span class="o">,</span><span class="nx">pu</span><span class="p">){</span><span class="k">var</span><span class="o">%</span><span class="mi">20</span><span class="nx">su</span><span class="o">=</span><span class="mi">0</span><span class="o">,</span><span class="nx">st</span><span class="o">=</span><span class="p">[]</span><span class="o">,</span><span class="nx">tk</span><span class="o">,</span><span class="nx">ci</span><span class="o">;</span><span class="k">for</span><span class="p">(</span><span class="nx">tk</span><span class="o">%</span><span class="mi">20</span><span class="k">in</span><span class="o">%</span><span class="mi">20</span><span class="nx">pu</span><span class="p">)</span><span class="nx">su</span><span class="o">+=</span><span class="nx">tk</span><span class="o">*</span><span class="nx">pu</span><span class="p">[</span><span class="nx">tk</span><span class="p">];</span><span class="nx">su</span><span class="o">=</span><span class="nx">su</span><span class="o">-</span><span class="nx">pr</span><span class="o">;</span><span class="k">if</span><span class="p">(</span><span class="nx">su</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">)</span><span class="k">return</span><span class="s1">&#39;short&#39;</span><span class="o">;</span><span class="k">for</span><span class="p">(</span><span class="nx">ci</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="nx">tk</span><span class="o">=</span><span class="p">[</span><span class="mi">500</span><span class="o">,</span><span class="mi">100</span><span class="o">,</span><span class="mi">50</span><span class="o">,</span><span class="mi">10</span><span class="o">,</span><span class="mi">5</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">0</span><span class="p">][</span><span class="nx">ci</span><span class="p">];</span><span class="nx">ci</span><span class="o">++</span><span class="p">){</span><span class="k">var</span><span class="o">%</span><span class="mi">20</span><span class="nx">tc</span><span class="o">=</span><span class="nx">pu</span><span class="p">[</span><span class="nx">tk</span><span class="p">]</span><span class="o">,</span><span class="nx">nm</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">su</span><span class="o">/</span><span class="nx">tk</span><span class="p">)</span><span class="o">,</span><span class="nx">tp</span><span class="o">=</span><span class="nx">tc</span><span class="o">-</span><span class="nx">nm</span><span class="o">;</span><span class="k">if</span><span class="p">(</span><span class="mi">0</span><span class="o">&lt;</span><span class="nx">tp</span><span class="p">)</span><span class="nx">st</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span><span class="nx">tk</span><span class="o">+</span><span class="s1">&#39;:&#39;</span><span class="o">+</span><span class="nx">tp</span><span class="p">);</span><span class="nx">su</span><span class="o">-=</span><span class="nx">tk</span><span class="o">*</span><span class="nx">nm</span><span class="o">;</span><span class="p">}</span><span class="k">return</span><span class="s1">&#39;{&#39;</span><span class="o">+</span><span class="nx">st</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s1">&#39;,%20&#39;</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;}&#39;</span><span class="o">;</span><span class="p">}</span><span class="nx">pay</span><span class="p">(</span><span class="mi">147</span><span class="o">,</span><span class="p">{</span><span class="mi">1</span><span class="o">:</span><span class="mi">2</span><span class="o">,</span><span class="mi">10</span><span class="o">:</span><span class="mi">4</span><span class="o">,</span><span class="mi">100</span><span class="o">:</span><span class="mi">3</span><span class="p">})</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/1172/addtag/" class="addtag" id="addtag_1172">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20080406171116/http://ja.doukaku.org/lang/javascript/">
		JavaScript
      </a>]
	  
      [<a href="/web/20080406171116/http://ja.doukaku.org/comment/1172/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20080406171116/http://ja.doukaku.org/comment/1172/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_1172"
  >-</span><span
  class="button yellow"
  id="rating_z_1172"
  >0</span><span 
  class="button green"
  id="rating_p_1172"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20080406171116/http://ja.doukaku.org/3/reply_to/1172/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment1700">
  <p class="banner"><a href="/web/20080406171116/http://ja.doukaku.org/user/323/" target="_top">tomatsu</a>

	
	&nbsp;
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/1700/">#1700</a>(<script language="JavaScript">print_time(new Date("2007/08/02 12:18 GMT"));</script><noscript>2007/08/02 12:18 GMT</noscript>)
	
	
	
	[<a href="/web/20080406171116/http://ja.doukaku.org/lang/pnuts/">
	  Pnuts
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'></pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></td><td class="code"><div class="highlight"><pre>function pay(m, w){
  function integer(a) if (a == null) 0 else int(a)
  r = map()
  n = 0
  for (k,v : w) n += k*v
  m = n - m
  if (m &lt; 0) throw(&quot;not enough&quot;)
  for (c : [500, 100, 50, 10, 5, 1]){
     r[c] = integer(w[c]) - m/c
     m %= c
  }
  filter(r, {k,v -&gt; v&gt;0})
}
println(pay(147, {1=&gt;2, 5=&gt;300, 10=&gt;4, 100=&gt;3}))
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/1700/addtag/" class="addtag" id="addtag_1700">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20080406171116/http://ja.doukaku.org/lang/pnuts/">
		Pnuts
      </a>]
	  
      [<a href="/web/20080406171116/http://ja.doukaku.org/comment/1700/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20080406171116/http://ja.doukaku.org/comment/1700/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_1700"
  >-</span><span
  class="button yellow"
  id="rating_z_1700"
  >0</span><span 
  class="button green"
  id="rating_p_1700"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20080406171116/http://ja.doukaku.org/3/reply_to/1700/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment1955">
  <p class="banner"><a href="/web/20080406171116/http://ja.doukaku.org/user/354/" target="_top">Felio</a>

	
	&nbsp;
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/1955/">#1955</a>(<script language="JavaScript">print_time(new Date("2007/08/06 20:30 GMT"));</script><noscript>2007/08/06 20:30 GMT</noscript>)
	
	
	
	[<a href="/web/20080406171116/http://ja.doukaku.org/lang/groovy/">
	  Groovy
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  全額渡してから、引き算してます。ずるい?

お金が足りないときには、全額つき返されます。想定外。
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33</pre></td><td class="code"><div class="highlight"><pre>def pay(price, wallet_coins) {
  def wallet = wallet_coins.collect { key, value -&gt;
    key * value
  }.inject(0) { sum, value -&gt;
    sum + value
  }

  def diff_coins = coins(wallet - price)
  subtract_coins(wallet_coins, diff_coins).findAll { key, value -&gt; value &gt; 0 }
}

def coins(price) {
  coins = [500,100,50,10,5,1].inject([:]) { sum, coin -&gt;
    if(price &gt;= coin) {
      def count = (price / coin).toBigInteger()
      price = price - coin*count
      sum[coin] = count
    }
    sum
  }
}

def subtract_coins(xs,ys) {
  [500,100,50,10,5,1].inject([:]) { result, coin -&gt;
    xcount = xs[coin] == null ? 0 : xs[coin]
    ycount = ys[coin] == null ? 0 : ys[coin]
    result[coin] = xcount - ycount
    result
  }
}

println pay(147, [1:2, 10:4, 100:3])
println pay(147, [1:2, 10:4, 100:1])
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/1955/addtag/" class="addtag" id="addtag_1955">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20080406171116/http://ja.doukaku.org/lang/groovy/">
		Groovy
      </a>]
	  
      [<a href="/web/20080406171116/http://ja.doukaku.org/comment/1955/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20080406171116/http://ja.doukaku.org/comment/1955/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_1955"
  >-</span><span
  class="button yellow"
  id="rating_z_1955"
  >0</span><span 
  class="button green"
  id="rating_p_1955"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20080406171116/http://ja.doukaku.org/3/reply_to/1955/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment2044">
  <p class="banner"><a href="/web/20080406171116/http://ja.doukaku.org/user/348/" target="_top">naoya_t</a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/2044/">#2044</a>(<script language="JavaScript">print_time(new Date("2007/08/09 12:06 GMT"));</script><noscript>2007/08/09 12:06 GMT</noscript>)
	
	
	
	[<a href="/web/20080406171116/http://ja.doukaku.org/lang/awk/">
	  awk
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>同じ種類の硬貨を20枚以上指定しても、20枚までしか使わないように制限してあります。
関数 pay(amount, coins, result) は金額(amount)と所持する硬貨の枚数の配列(coins)を受け取り、おつりを受け取った後のコインの数が最も少なくなる組み合わせ(result)を返します。

% awk -f otsuri.awk
147 0 3 0 4 0 2
100x2 1x2 (2枚減)
147 1 1 1 1 1 147
100x1 50x1 1x17 (17枚減)※同じ種類の硬貨を一度に使えるのは20枚まで
147 0 0 0 0 0 0
持ち金不足
</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156</pre></td><td class="code"><div class="highlight"><pre>{
	amount = $1

	coins[500] = $2
	coins[100] = $3
	coins[50] = $4
	coins[10] = $5
	coins[5] = $6
	coins[1] = $7

	if (amount &gt; coins[1] + 5*coins[5] + 10*coins[10] + 50*coins[50] + 100*coins[100] + 500*coins[500]) {
		print &quot;持ち金不足&quot;
		next
	}

	limitted = 0
	if (coins[500] &gt; 20 || coins[100] &gt; 20 || coins[50] &gt; 20 || coins[10] &gt; 20 || coins[5] &gt; 20 || coins[1] &gt; 20) {
		limitted = 1
		if (coins[500] &gt; 20) coins[500] = 20
		if (coins[100] &gt; 20) coins[100] = 20
		if (coins[50] &gt; 20) coins[50] = 20
		if (coins[10] &gt; 20) coins[10] = 20
		if (coins[5] &gt; 20) coins[5] = 20
		if (coins[1] &gt; 20) coins[1] = 20
	}

	# 計算〜結果表示
	pay(amount,coins, result)

	if (result[500]) printf(&quot;500x%d &quot;, result[500])
	if (result[100]) printf(&quot;100x%d &quot;, result[100])
	if (result[50]) printf(&quot;50x%d &quot;, result[50])
	if (result[10]) printf(&quot;10x%d &quot;, result[10])
	if (result[5]) printf(&quot;5x%d &quot;, result[5])
	if (result[1]) printf(&quot;1x%d &quot;, result[1])

	if (result[&quot;diff&quot;] == 0) printf(&quot;(枚数の増減なし)&quot;)
	else if (result[&quot;diff&quot;] &lt; 0) printf(&quot;(%d枚減)&quot;, -result[&quot;diff&quot;])
	else printf(&quot;(%d枚増)&quot;, result[&quot;diff&quot;])

	if (limitted) print &quot;※同じ種類の硬貨を一度に使えるのは20枚まで&quot;
	else printf &quot;¥n&quot;
}

function pay(amount,coins,result, i,j,k,l,m,n,
			 coins_out,coins_out_amount,change,
			 coins_in,coins_diff,coins_diff_minimum,coins_diff_minimum_at)
{
	coins_diff_minimum = 999999
	coins_diff_minimum_at = &quot;&quot;

	if (coins[1] &lt; 1) coins[1] = 0
	if (coins[5] &lt; 1) coins[5] = 0
	if (coins[10] &lt; 1) coins[10] = 0
	if (coins[50] &lt; 1) coins[50] = 0
	if (coins[100] &lt; 1) coins[100] = 0
	if (coins[500] &lt; 1) coins[500] = 0

	for (i=0; i&lt;=coins[1]; i++) {
		for (j=0; j&lt;=coins[5]; j++) {
			for (k=0; k&lt;=coins[10]; k++) {
				for (l=0; l&lt;=coins[50]; l++) {
					for (m=0; m&lt;=+coins[100]; m++) {
						for (n=0; n&lt;=coins[500]; n++) {
							# 出て行く枚数
							coins_out = i + j + k + l + m + n
							# 出て行く金額
							coins_out_amount = i + j*5 + k*10 + l*50 + m*100 + n*500
							if (coins_out_amount &lt; amount) continue

							# お釣り
							change = coins_out_amount - amount
							# お釣りの枚数を数える
							coins_in = count_coins(change,change_coins)
							# 枚数の差分
							coins_diff = coins_in - coins_out

							# 支払額が異常に多いケースを排除
							if (n == 0) { # 500円玉を使っていない
								if (change_coins[500] &gt; 0) continue # のに釣り銭に500円玉が入っている
								else if (m == 0) { # 100円玉も使っていない
									if (change_coins[100] &gt; 0) continue # のに釣り銭に100円以上の硬貨が入っている
									else if (l == 0) { # 50円玉も使っていない
										if (change_coins[50] &gt; 0) continue # のに釣り銭に50円以上の硬貨が入っている
										else if (k == 0) { # 10円玉も使っていない
											if (change_coins[10] &gt; 0) continue # のに釣り銭に10円以上の硬貨が入っている
											else if (j == 0) { # 5円玉も使っていない
												if (change_coins[5] &gt; 0) continue # のに釣り銭に5円以上の硬貨が入っている
											}
										}
									}
								}
							}

							# 自分が払ったのと同種のコインが戻って来る組み合わせは排除
							if (i &gt; 0 &amp;&amp; change_coins[1] &gt; 0) continue
							if (j &gt; 0 &amp;&amp; change_coins[5] &gt; 0) continue
							if (k &gt; 0 &amp;&amp; change_coins[10] &gt; 0) continue
							if (l &gt; 0 &amp;&amp; change_coins[50] &gt; 0) continue
							if (m &gt; 0 &amp;&amp; change_coins[100] &gt; 0) continue
							if (n &gt; 0 &amp;&amp; change_coins[500] &gt; 0) continue

							# 新記録。同値の場合は最初に現れた組み合わせが記録される
							if (coins_diff &lt; coins_diff_minimum) {
								coins_diff_minimum = coins_diff
								coins_diff_minimum_at = i &quot;,&quot; j &quot;,&quot; k &quot;,&quot; l &quot;,&quot; m &quot;,&quot; n
							}
						}
					}
				}
			}
		}
	}

	# 結果を result[] に収める
	delete result
	split(coins_diff_minimum_at, ar, &quot;,&quot;)
	if (ar[1] &gt; 0) result[1] = ar[1]
	if (ar[2] &gt; 0) result[5] = ar[2]
	if (ar[3] &gt; 0) result[10] = ar[3]
	if (ar[4] &gt; 0) result[50] = ar[4]
	if (ar[5] &gt; 0) result[100] = ar[5]
	if (ar[6] &gt; 0) result[500] = ar[6]
	
	result[&quot;diff&quot;] = coins_diff_minimum # 枚数の増減（減ったら負）
}

function count_coins(amount,change_coins)
{
	delete change_coins

	if (amount &gt;= 500) { 
		change_coins[500] = int(amount / 500)
		amount -= 500 * change_coins[500]
	}
	if (amount &gt;= 100) {
		change_coins[100] = int(amount / 100)
		amount -= 100 * change_coins[100]
	}
	if (amount &gt;= 50) {
		change_coins[50] = int(amount / 50)
		amount -= 50 * change_coins[50]
	}
	if (amount &gt;= 10) {
		change_coins[10] = int(amount / 10)
		amount -= 10 * change_coins[10]
	}
	if (amount &gt;= 5) {
		change_coins[5] = int(amount / 5)
		amount -= 5 * change_coins[5]
	}
	if (amount &gt;= 1)
		change_coins[1] = amount

	return change_coins[500] + change_coins[100] + change_coins[50] + change_coins[10] + change_coins[5] + change_coins[1]
}
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/2044/addtag/" class="addtag" id="addtag_2044">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20080406171116/http://ja.doukaku.org/lang/awk/">
		awk
      </a>]
	  
      [<a href="/web/20080406171116/http://ja.doukaku.org/comment/2044/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20080406171116/http://ja.doukaku.org/comment/2044/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2044"
  >-</span><span
  class="button yellow"
  id="rating_z_2044"
  >0</span><span 
  class="button green"
  id="rating_p_2044"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20080406171116/http://ja.doukaku.org/3/reply_to/2044/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment2072">
  <p class="banner"><a href="/web/20080406171116/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/star_bronze.png" border=0/></a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/2072/">#2072</a>(<script language="JavaScript">print_time(new Date("2007/08/11 23:43 GMT"));</script><noscript>2007/08/11 23:43 GMT</noscript>)
	
	
	
	[<a href="/web/20080406171116/http://ja.doukaku.org/lang/c/">
	  C
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffefef;">-1/1=-1.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>この問題は、実際にお店で行われるやり取りを想定したものですよね？ということで
「渡した硬貨がおつりで返ってくるような渡し方は禁止」を
「渡した硬貨が両替されて返ってくるような渡し方は禁止」と読み替えてやってみました☆
C言語は不慣れなのでごちゃごちゃですが題意は満たしていると思います☆</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37</pre></td><td class="code"><div class="highlight"><pre><span class="cp">#include&lt;stdio.h&gt;</span>
<span class="kt">void</span> <span class="n">pay</span><span class="p">(</span><span class="kt">int</span> <span class="n">price</span><span class="p">,</span><span class="kt">int</span> <span class="n">y0</span><span class="p">,</span><span class="kt">int</span> <span class="n">y1</span><span class="p">,</span><span class="kt">int</span> <span class="n">y2</span><span class="p">,</span><span class="kt">int</span> <span class="n">y3</span><span class="p">,</span><span class="kt">int</span> <span class="n">y4</span><span class="p">,</span><span class="kt">int</span> <span class="n">y5</span><span class="p">,</span><span class="kt">int</span> <span class="n">y6</span><span class="p">,</span><span class="kt">int</span> <span class="n">y7</span><span class="p">,</span><span class="kt">int</span> <span class="n">y8</span><span class="p">){</span>
  <span class="kt">int</span> <span class="n">possession</span><span class="p">[]</span><span class="o">=</span><span class="p">{</span><span class="n">y0</span><span class="p">,</span><span class="n">y1</span><span class="p">,</span><span class="n">y2</span><span class="p">,</span><span class="n">y3</span><span class="p">,</span><span class="n">y4</span><span class="p">,</span><span class="n">y5</span><span class="p">,</span><span class="n">y6</span><span class="p">,</span><span class="n">y7</span><span class="p">,</span><span class="n">y8</span><span class="p">},</span>
      <span class="n">denomination</span><span class="p">[]</span><span class="o">=</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">500</span><span class="p">,</span><span class="mi">1000</span><span class="p">,</span><span class="mi">5000</span><span class="p">,</span><span class="mi">10000</span><span class="p">},</span>
      <span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">;</span>
      <span class="c">//表示。</span>
      <span class="n">printf</span><span class="p">(</span><span class="s">&quot;支払額 = %d</span><span class="se">\n</span><span class="s">金種　　&quot;</span><span class="p">,</span><span class="n">price</span><span class="p">);</span>
      <span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="mi">9</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%6d&quot;</span><span class="p">,</span><span class="n">denomination</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
      <span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">所持枚数&quot;</span><span class="p">);</span>
      <span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="mi">9</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%6d&quot;</span><span class="p">,</span><span class="n">possession</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
      <span class="c">//所持枚数を元に支払額を補正（繰上げ）。</span>
      <span class="k">for</span><span class="p">(</span><span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="mi">9</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
        <span class="n">j</span><span class="o">+=</span><span class="n">denomination</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">possession</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
        <span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="o">&lt;</span><span class="mi">8</span><span class="o">&amp;&amp;</span><span class="n">price</span><span class="o">%</span><span class="n">denomination</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="o">&gt;</span><span class="n">j</span><span class="p">)</span>
          <span class="n">price</span><span class="o">=</span><span class="n">price</span><span class="o">-</span><span class="n">price</span><span class="o">%</span><span class="n">denomination</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">price</span><span class="o">%</span><span class="n">denomination</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="n">denomination</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">];</span>
      <span class="p">}</span>
      <span class="c">//補正された支払額を元に支払枚数を算出。</span>
      <span class="k">for</span><span class="p">(</span><span class="n">price</span><span class="o">=</span><span class="n">j</span><span class="o">-</span><span class="n">price</span><span class="p">,</span><span class="n">i</span><span class="o">=</span><span class="mi">8</span><span class="p">;</span><span class="n">i</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">--</span><span class="p">)</span>
        <span class="k">if</span><span class="p">(</span><span class="n">possession</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="n">price</span><span class="o">&gt;=</span><span class="n">denomination</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
          <span class="n">possession</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">--</span><span class="p">,</span>
          <span class="n">price</span><span class="o">-=</span><span class="n">denomination</span><span class="p">[</span><span class="n">i</span><span class="p">],</span>
          <span class="n">i</span><span class="o">++</span><span class="p">;</span>
      <span class="c">//表示。</span>
      <span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">支払枚数&quot;</span><span class="p">);</span>
      <span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="mi">9</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
        <span class="k">if</span><span class="p">(</span><span class="n">price</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">)</span>
          <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%6d&quot;</span><span class="p">,</span><span class="n">possession</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
        <span class="k">else</span>
          <span class="n">printf</span><span class="p">(</span><span class="s">&quot; -----&quot;</span><span class="p">);</span>
      <span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="n">main</span><span class="p">(</span><span class="kt">void</span><span class="p">){</span>
  <span class="n">pay</span><span class="p">(</span>  <span class="mi">147</span><span class="p">,</span>  <span class="mi">3</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">5</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">);</span>
  <span class="n">pay</span><span class="p">(</span>  <span class="mi">147</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span><span class="mi">300</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">3</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/2072/addtag/" class="addtag" id="addtag_2072">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20080406171116/http://ja.doukaku.org/lang/c/">
		C
      </a>]
	  
      [<a href="/web/20080406171116/http://ja.doukaku.org/comment/2072/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20080406171116/http://ja.doukaku.org/comment/2072/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffefef;"
  >-1/1=-1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2072"
  >-</span><span
  class="button yellow"
  id="rating_z_2072"
  >0</span><span 
  class="button green"
  id="rating_p_2072"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20080406171116/http://ja.doukaku.org/3/reply_to/2072/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment2556">
  <p class="banner"><a href="/web/20080406171116/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/star_bronze.png" border=0/></a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/2556/">#2556</a>(<script language="JavaScript">print_time(new Date("2007/08/27 16:12 GMT"));</script><noscript>2007/08/27 16:12 GMT</noscript>)
	
	
	
	[<a href="/web/20080406171116/http://ja.doukaku.org/lang/java/">
	  Java
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>#1700 のコメントの方法をそのまま移植しました。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36</pre></td><td class="code"><div class="highlight"><pre><span class="k">import</span> <span class="nn">java.util.TreeMap</span><span class="o">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">Sample</span> <span class="o">{</span>
    <span class="k">public</span> <span class="k">static</span> <span class="kt">void</span> <span class="n">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">TreeMap</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">,</span> <span class="n">Integer</span><span class="o">&gt;</span> <span class="n">purse</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TreeMap</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">,</span> <span class="n">Integer</span><span class="o">&gt;();</span>
        <span class="n">purse</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">);</span>
        <span class="n">purse</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="mi">10</span><span class="o">,</span> <span class="mi">4</span><span class="o">);</span>
        <span class="n">purse</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="mi">100</span><span class="o">,</span> <span class="mi">3</span><span class="o">);</span>
        <span class="n">purse</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="mi">500</span><span class="o">,</span> <span class="mi">5</span><span class="o">);</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">pay</span><span class="o">(</span><span class="mi">147</span><span class="o">,</span> <span class="n">purse</span><span class="o">));</span>
    <span class="o">}</span>

    <span class="k">public</span> <span class="k">static</span> <span class="n">TreeMap</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">,</span> <span class="n">Integer</span><span class="o">&gt;</span> <span class="n">pay</span><span class="o">(</span><span class="kt">int</span> <span class="n">price</span><span class="o">,</span>
            <span class="n">TreeMap</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">,</span> <span class="n">Integer</span><span class="o">&gt;</span> <span class="n">purse</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">TreeMap</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">,</span> <span class="n">Integer</span><span class="o">&gt;</span> <span class="n">pay</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TreeMap</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">,</span> <span class="n">Integer</span><span class="o">&gt;();</span>
        <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">coin</span> <span class="o">:</span> <span class="n">purse</span><span class="o">.</span><span class="na">keySet</span><span class="o">())</span> <span class="o">{</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="n">coin</span> <span class="o">*</span> <span class="n">purse</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">coin</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="n">price</span> <span class="o">=</span> <span class="n">n</span> <span class="o">-</span> <span class="n">price</span><span class="o">;</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">price</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="n">IllegalArgumentException</span><span class="o">(</span><span class="s">&quot;Not enough&quot;</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">coin</span> <span class="o">:</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[]{</span><span class="mi">500</span><span class="o">,</span> <span class="mi">100</span><span class="o">,</span> <span class="mi">50</span><span class="o">,</span> <span class="mi">10</span><span class="o">,</span> <span class="mi">5</span><span class="o">,</span> <span class="mi">1</span><span class="o">})</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="o">(</span><span class="n">purse</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">coin</span><span class="o">)</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">?</span> <span class="n">purse</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">coin</span><span class="o">)</span> <span class="o">:</span> <span class="mi">0</span><span class="o">;</span>
            <span class="n">pay</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">coin</span><span class="o">,</span> <span class="n">m</span> <span class="o">-</span> <span class="n">price</span> <span class="o">/</span> <span class="n">coin</span><span class="o">);</span>
            <span class="n">price</span> <span class="o">%=</span> <span class="n">coin</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">coin</span> <span class="o">:</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[]{</span><span class="mi">500</span><span class="o">,</span> <span class="mi">100</span><span class="o">,</span> <span class="mi">50</span><span class="o">,</span> <span class="mi">10</span><span class="o">,</span> <span class="mi">5</span><span class="o">,</span> <span class="mi">1</span><span class="o">})</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">pay</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">coin</span><span class="o">)</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">pay</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="n">coin</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">pay</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/2556/addtag/" class="addtag" id="addtag_2556">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20080406171116/http://ja.doukaku.org/lang/java/">
		Java
      </a>]
	  
      [<a href="/web/20080406171116/http://ja.doukaku.org/comment/2556/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20080406171116/http://ja.doukaku.org/comment/2556/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2556"
  >-</span><span
  class="button yellow"
  id="rating_z_2556"
  >0</span><span 
  class="button green"
  id="rating_p_2556"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20080406171116/http://ja.doukaku.org/comment/2556/">
    1
    reply
  </a>

  [<a href="/web/20080406171116/http://ja.doukaku.org/3/reply_to/2556/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment2570">
  <p class="banner"><a href="/web/20080406171116/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/star_bronze.png" border=0/></a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/2570/">#2570</a>(<script language="JavaScript">print_time(new Date("2007/08/28 13:08 GMT"));</script><noscript>2007/08/28 13:08 GMT</noscript>)
	
	
	
	[<a href="/web/20080406171116/http://ja.doukaku.org/lang/java/">
	  Java
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #dfffdf;">2/2=1.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  #2566(#1700)の方法は、以下のような非常に巧みなやり方です。<br/>支払い後の金額を正規化（コインの枚数が最少に）するため、正規化した枚数から現在所持している枚数を引くと正の枚数が支払い枚数、負の枚数がお釣りの枚数になる。<br/><br/>これはほとんどの場合うまくいくのですが、元々の所持金の枚数が著しく偏っていた場合、10円を20枚出して100円を2枚釣りにもらうという普通はやらないような支払い方を行ってしまいます（このような支払い方法を仮に両替的支払いと呼びます）。もちろん、支払い後の枚数を強制的に正規化しようとするのが原因です。<br/><br/>この払い方でも題意は満たしていると思えるのですが、気になったので両替的支払いを行わないように修正してみました。<br/><br/>両替的支払いを以下のように定義します。<br/>・支払ったコインの最高額が釣りの金額を超える支払い方法<br/><br/>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48</pre></td><td class="code"><div class="highlight"><pre><span class="k">import</span> <span class="nn">java.util.TreeMap</span><span class="o">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">Sample</span> <span class="o">{</span>
    <span class="k">public</span> <span class="k">static</span> <span class="kt">void</span> <span class="n">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">TreeMap</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">,</span> <span class="n">Integer</span><span class="o">&gt;</span> <span class="n">purse</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TreeMap</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">,</span> <span class="n">Integer</span><span class="o">&gt;();</span>
        <span class="n">purse</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">4</span><span class="o">);</span>
        <span class="n">purse</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="mi">10</span><span class="o">,</span> <span class="mi">4</span><span class="o">);</span>
        <span class="n">purse</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="mi">100</span><span class="o">,</span> <span class="mi">3</span><span class="o">);</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">pay</span><span class="o">(</span><span class="mi">147</span><span class="o">,</span> <span class="n">purse</span><span class="o">));</span>
    <span class="o">}</span>

    <span class="k">public</span> <span class="k">static</span> <span class="n">TreeMap</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">,</span> <span class="n">Integer</span><span class="o">&gt;</span> <span class="n">pay</span><span class="o">(</span><span class="kt">int</span> <span class="n">price</span><span class="o">,</span> 
            <span class="n">TreeMap</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">,</span> <span class="n">Integer</span><span class="o">&gt;</span> <span class="n">purse</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">TreeMap</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">,</span> <span class="n">Integer</span><span class="o">&gt;</span> <span class="n">pay</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TreeMap</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">,</span> <span class="n">Integer</span><span class="o">&gt;();</span>
        <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">coin</span> <span class="o">:</span> <span class="n">purse</span><span class="o">.</span><span class="na">keySet</span><span class="o">())</span> <span class="o">{</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="n">coin</span> <span class="o">*</span> <span class="n">purse</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">coin</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="n">price</span> <span class="o">=</span> <span class="n">n</span> <span class="o">-</span> <span class="n">price</span><span class="o">;</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">price</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="n">IllegalArgumentException</span><span class="o">(</span><span class="s">&quot;Not enough&quot;</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="kt">int</span> <span class="n">changeVal</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="kt">boolean</span> <span class="n">change</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">coin</span> <span class="o">:</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[]{</span><span class="mi">500</span><span class="o">,</span> <span class="mi">100</span><span class="o">,</span> <span class="mi">50</span><span class="o">,</span> <span class="mi">10</span><span class="o">,</span> <span class="mi">5</span><span class="o">,</span> <span class="mi">1</span><span class="o">})</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="o">(</span><span class="n">purse</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">coin</span><span class="o">)</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">?</span> <span class="n">purse</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">coin</span><span class="o">)</span> <span class="o">:</span> <span class="mi">0</span><span class="o">;</span>
            <span class="n">m</span> <span class="o">-=</span> <span class="n">price</span> <span class="o">/</span> <span class="n">coin</span><span class="o">;</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">change</span> <span class="o">&amp;&amp;</span> <span class="n">m</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">changeVal</span> <span class="o">-=</span> <span class="n">m</span> <span class="o">*</span> <span class="n">coin</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">m</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">changeVal</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">m</span> <span class="o">*</span> <span class="n">coin</span> <span class="o">&gt;=</span> <span class="n">changeVal</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">m</span> <span class="o">-=</span> <span class="n">changeVal</span> <span class="o">/</span> <span class="n">coin</span><span class="o">;</span>
                    <span class="n">changeVal</span> <span class="o">%=</span> <span class="n">coin</span><span class="o">;</span>
                <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                    <span class="n">changeVal</span> <span class="o">-=</span> <span class="n">m</span> <span class="o">*</span> <span class="n">coin</span><span class="o">;</span>
                    <span class="n">m</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
                <span class="o">}</span>
            <span class="o">}</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">m</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">pay</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">coin</span><span class="o">,</span> <span class="n">m</span><span class="o">);</span>
                <span class="n">change</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="n">price</span> <span class="o">%=</span> <span class="n">coin</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">pay</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/2570/addtag/" class="addtag" id="addtag_2570">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20080406171116/http://ja.doukaku.org/lang/java/">
		Java
      </a>]
	  
      [<a href="/web/20080406171116/http://ja.doukaku.org/comment/2570/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20080406171116/http://ja.doukaku.org/comment/2570/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #dfffdf;"
  >2/2=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2570"
  >-</span><span
  class="button yellow"
  id="rating_z_2570"
  >0</span><span 
  class="button green"
  id="rating_p_2570"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20080406171116/http://ja.doukaku.org/comment/2556/"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20080406171116/http://ja.doukaku.org/comment/2570/root/"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  <a href="/web/20080406171116/http://ja.doukaku.org/comment/2570/">
    2
    replies
  </a>

  [<a href="/web/20080406171116/http://ja.doukaku.org/3/reply_to/2570/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment2571">
  <p class="banner"><a href="/web/20080406171116/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/star_bronze.png" border=0/></a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/2571/">#2571</a>(<script language="JavaScript">print_time(new Date("2007/08/28 13:15 GMT"));</script><noscript>2007/08/28 13:15 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  両替的支払いの定義が間違っていました。もちろん<br/>・釣りの金額が支払ったコインの最高額を超える支払い方法<br/>が正しいです。<br/>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/2571/addtag/" class="addtag" id="addtag_2571">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2571"
  >-</span><span
  class="button yellow"
  id="rating_z_2571"
  >0</span><span 
  class="button green"
  id="rating_p_2571"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20080406171116/http://ja.doukaku.org/comment/2570/"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20080406171116/http://ja.doukaku.org/comment/2571/root/"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20080406171116/http://ja.doukaku.org/3/reply_to/2571/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment2871">
  <p class="banner"><a href="/web/20080406171116/http://ja.doukaku.org/user/388/" target="_top">drop</a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/star_bronze.png" border=0/></a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/2871/">#2871</a>(<script language="JavaScript">print_time(new Date("2007/09/03 12:47 GMT"));</script><noscript>2007/09/03 12:47 GMT</noscript>)
	
	
	
	[<a href="/web/20080406171116/http://ja.doukaku.org/lang/haskell/">
	  Haskell
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffdf;">0/2=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>Java の処理系が入ってないから実行してないけど、そのコードおかしいよ。
むしろバグバグになったようにしか見えない。

#2556(#1700)で直すべきなのは

1. 26行目 m - price / coin (9行目 r[c] = integer(w[c]) - m/c)
2. 27行目 price %= coin (10行目 m %= c)
3. 29-33行目(12行目 filter(r, {k,v -&gt; v&gt;0}))

の3箇所で、それぞれ (k = min {m, price/coin} として)

1. m - k
2. price -= coin * k
3. 削除

に置き換えるべきなんだと思うぞ。

というわけでそれを Haskell で書いてみた。
ついでにこのお題に投稿されてるコードはバグってるのだらけ
(両替的支払いがいいならそんなことないか)のようなので、説明してみる:

大きい価格のコインから順に、払う枚数を必要最小限になるように決めていく。

なにをもって必要最小限と判断するかというと、
余分(extra (#2556, #1700 ではそれぞれ price と m))、
つまり必要の無い支払いというのを考え、余分の範囲内で、
できるだけ払うコインを減らす。

最初の時点では

余分 = 財布の中身全額 - 支払い

となっている。余分の範囲で(減らそうとしてる)できるだけ多い枚数ってのが
extra `div` c (price / coin や m / c)。

しかし、これだと例えば100円玉を100毎ぐらい持ってて、余分な額が1万近いときに、
500円玉を3枚しか持ってないのに500円玉18枚ぐらい余分とか言われてしまう。そして

払う枚数 (n-k や m - price / coin や integer(w[c]) - m/c)
= 必要な枚数 = 持ってる枚数 - 余分な枚数

なのでそのままではマイナス枚払うことになる。つまり受け取る。
その分小さいコインを払う。両替的支払い。

だから、持ってる枚数以上を余分な枚数としないように

余分な枚数 (k) = min {持ってる枚数, さっき言ってた余分な枚数}

とする。これで、

支払う枚数 = 持ってる枚数 - k

とし、また余分な k 枚だけ c 円のコインの支払いを減らしたわけだから

新しい余分な額 = 余分な額 - k * c

として、より小額のコインに対し今やったのを繰り返していけばよい。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></td><td class="code"><div class="highlight"><pre><span class="kr">import</span> <span class="n">Data</span><span class="o">.</span><span class="n">List</span> <span class="p">(</span><span class="nv">sortBy</span><span class="p">)</span>

<span class="nv">amount</span> <span class="o">::</span> <span class="p">[(</span><span class="n">Int</span><span class="p">,</span><span class="n">Int</span><span class="p">)]</span> <span class="o">-&gt;</span> <span class="n">Int</span>
<span class="nv">amount</span> <span class="o">=</span> <span class="nv">sum</span> <span class="o">.</span> <span class="nv">map</span> <span class="p">(</span><span class="nv">uncurry</span> <span class="p">(</span><span class="o">*</span><span class="p">))</span>

<span class="nv">pay</span> <span class="o">::</span> <span class="n">Int</span> <span class="o">-&gt;</span> <span class="p">[(</span><span class="n">Int</span><span class="p">,</span><span class="n">Int</span><span class="p">)]</span> <span class="o">-&gt;</span> <span class="p">[(</span><span class="n">Int</span><span class="p">,</span><span class="n">Int</span><span class="p">)]</span>
<span class="nv">pay</span> <span class="nv">expense</span> <span class="nv">wallet</span>
 <span class="o">|</span> <span class="nv">extra</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">=</span> <span class="nv">error</span> <span class="s">&quot;you need more money!&quot;</span>
 <span class="o">|</span> <span class="nv">otherwise</span> <span class="o">=</span> <span class="nv">adjust</span> <span class="nv">extra</span> <span class="p">(</span><span class="nv">descend</span> <span class="nv">wallet</span><span class="p">)</span>
 <span class="kr">where</span>
  <span class="nv">extra</span> <span class="o">=</span> <span class="nv">amount</span> <span class="nv">wallet</span> <span class="o">-</span> <span class="nv">expense</span>
  <span class="nv">descend</span> <span class="o">=</span> <span class="nv">sortBy</span> <span class="p">(</span><span class="nv">flip</span> <span class="nv">compare</span><span class="p">)</span>
  <span class="nv">adjust</span> <span class="kr">_</span> <span class="p">[]</span> <span class="o">=</span> <span class="p">[]</span>
  <span class="nv">adjust</span> <span class="nv">extra</span> <span class="p">((</span><span class="nv">c</span><span class="p">,</span><span class="nv">n</span><span class="p">)</span><span class="o">:</span><span class="nv">w</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="nv">c</span><span class="p">,</span><span class="nv">n</span><span class="o">-</span><span class="nv">k</span><span class="p">)</span> <span class="o">:</span> <span class="nv">adjust</span> <span class="p">(</span><span class="nv">extra</span><span class="o">-</span><span class="nv">k</span><span class="o">*</span><span class="nv">c</span><span class="p">)</span> <span class="nv">w</span>
   <span class="kr">where</span> <span class="nv">k</span> <span class="o">=</span> <span class="nv">min</span> <span class="nv">n</span> <span class="p">(</span><span class="nv">extra</span> <span class="p">`</span><span class="nv">div</span><span class="p">`</span> <span class="nv">c</span><span class="p">)</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/2871/addtag/" class="addtag" id="addtag_2871">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20080406171116/http://ja.doukaku.org/lang/haskell/">
		Haskell
      </a>]
	  
      [<a href="/web/20080406171116/http://ja.doukaku.org/comment/2871/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20080406171116/http://ja.doukaku.org/comment/2871/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffdf;"
  >0/2=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2871"
  >-</span><span
  class="button yellow"
  id="rating_z_2871"
  >0</span><span 
  class="button green"
  id="rating_p_2871"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20080406171116/http://ja.doukaku.org/comment/2570/"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20080406171116/http://ja.doukaku.org/comment/2871/root/"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  <a href="/web/20080406171116/http://ja.doukaku.org/comment/2871/">
    2
    replies
  </a>

  [<a href="/web/20080406171116/http://ja.doukaku.org/3/reply_to/2871/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment2874">
  <p class="banner"><a href="/web/20080406171116/http://ja.doukaku.org/user/98/" target="_top">nobsun</a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/2874/">#2874</a>(<script language="JavaScript">print_time(new Date("2007/09/03 13:35 GMT"));</script><noscript>2007/09/03 13:35 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>あれ？お題で示されている例題を食わせると
*Main&gt; pay 147  [(1,2),(10,4),(100,3)]
[(100,2),(10,0),(1,0)]
となりますが、これが意図した解でしょうか？</pre>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/2874/addtag/" class="addtag" id="addtag_2874">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2874"
  >-</span><span
  class="button yellow"
  id="rating_z_2874"
  >0</span><span 
  class="button green"
  id="rating_p_2874"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20080406171116/http://ja.doukaku.org/comment/2871/"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20080406171116/http://ja.doukaku.org/comment/2874/root/"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  <a href="/web/20080406171116/http://ja.doukaku.org/comment/2874/">
    1
    reply
  </a>

  [<a href="/web/20080406171116/http://ja.doukaku.org/3/reply_to/2874/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment2884">
  <p class="banner"><a href="/web/20080406171116/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/star_bronze.png" border=0/></a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/2884/">#2884</a>(<script language="JavaScript">print_time(new Date("2007/09/04 03:11 GMT"));</script><noscript>2007/09/04 03:11 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  バグっているというよりは、「両替的支払い」を正しく定義できていないのです。正しい定義をして作り直すつもりなのですが、まだ途中なので発表できていません。もう少しお待ちください。<br/><br/>ちなみに正しい定義は、今のところ、次のようになるのではないかと考えています。<br/><br/>両替的支払い：小額のコインを多数支払う事によって高額のコインをお釣りにもらうような支払い方法
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/2884/addtag/" class="addtag" id="addtag_2884">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2884"
  >-</span><span
  class="button yellow"
  id="rating_z_2884"
  >0</span><span 
  class="button green"
  id="rating_p_2884"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20080406171116/http://ja.doukaku.org/comment/2871/"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20080406171116/http://ja.doukaku.org/comment/2884/root/"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  <a href="/web/20080406171116/http://ja.doukaku.org/comment/2884/">
    1
    reply
  </a>

  [<a href="/web/20080406171116/http://ja.doukaku.org/3/reply_to/2884/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment2885">
  <p class="banner"><a href="/web/20080406171116/http://ja.doukaku.org/user/98/" target="_top">nobsun</a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/2885/">#2885</a>(<script language="JavaScript">print_time(new Date("2007/09/04 03:31 GMT"));</script><noscript>2007/09/04 03:31 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>「支払ったコイン一式があったとき、お釣りを両替できてはいけない」
という条件でよさそうですが、どうでしょうか。(あんまり深く考えてないけど。。。)</pre>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/2885/addtag/" class="addtag" id="addtag_2885">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2885"
  >-</span><span
  class="button yellow"
  id="rating_z_2885"
  >0</span><span 
  class="button green"
  id="rating_p_2885"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20080406171116/http://ja.doukaku.org/comment/2884/"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20080406171116/http://ja.doukaku.org/comment/2885/root/"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  <a href="/web/20080406171116/http://ja.doukaku.org/comment/2885/">
    1
    reply
  </a>

  [<a href="/web/20080406171116/http://ja.doukaku.org/3/reply_to/2885/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment2886">
  <p class="banner"><a href="/web/20080406171116/http://ja.doukaku.org/user/98/" target="_top">nobsun</a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/2886/">#2886</a>(<script language="JavaScript">print_time(new Date("2007/09/04 03:36 GMT"));</script><noscript>2007/09/04 03:36 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>先の条件を満して手持ちのコイン数が最小になる支払い。

うーん。美しさがない定義ですね。だめか。。。</pre>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/2886/addtag/" class="addtag" id="addtag_2886">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2886"
  >-</span><span
  class="button yellow"
  id="rating_z_2886"
  >0</span><span 
  class="button green"
  id="rating_p_2886"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20080406171116/http://ja.doukaku.org/comment/2885/"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20080406171116/http://ja.doukaku.org/comment/2886/root/"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  <a href="/web/20080406171116/http://ja.doukaku.org/comment/2886/">
    1
    reply
  </a>

  [<a href="/web/20080406171116/http://ja.doukaku.org/3/reply_to/2886/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment2887">
  <p class="banner"><a href="/web/20080406171116/http://ja.doukaku.org/user/388/" target="_top">drop</a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/star_bronze.png" border=0/></a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/2887/">#2887</a>(<script language="JavaScript">print_time(new Date("2007/09/04 03:45 GMT"));</script><noscript>2007/09/04 03:45 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>あー、なんかそれも変ですね。

前にこの問題考えたとき、結局よくわからなかったんだけど、
やっぱり今回もわかってなかったか…。バカ…。</pre>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/2887/addtag/" class="addtag" id="addtag_2887">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2887"
  >-</span><span
  class="button yellow"
  id="rating_z_2887"
  >0</span><span 
  class="button green"
  id="rating_p_2887"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20080406171116/http://ja.doukaku.org/comment/2874/"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20080406171116/http://ja.doukaku.org/comment/2887/root/"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20080406171116/http://ja.doukaku.org/3/reply_to/2887/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment2888">
  <p class="banner"><a href="/web/20080406171116/http://ja.doukaku.org/user/1/" target="_top">にしお</a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/2888/">#2888</a>(<script language="JavaScript">print_time(new Date("2007/09/04 05:04 GMT"));</script><noscript>2007/09/04 05:04 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>支払ったコインの集合をxs、受け取ったコインの集合をysとした時、
「ysの任意の部分集合(空でない)と同じ金額になるxsの部分集合があってはいけない」
というのではどうでしょう。</pre>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/2888/addtag/" class="addtag" id="addtag_2888">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2888"
  >-</span><span
  class="button yellow"
  id="rating_z_2888"
  >0</span><span 
  class="button green"
  id="rating_p_2888"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20080406171116/http://ja.doukaku.org/comment/2886/"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20080406171116/http://ja.doukaku.org/comment/2888/root/"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20080406171116/http://ja.doukaku.org/3/reply_to/2888/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  <br/>

  
  




<div class="comment" id="comment3786">
  <p class="banner"><a href="/web/20080406171116/http://ja.doukaku.org/user/26/" target="_top">dankogai</a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/3786/">#3786</a>(<script language="JavaScript">print_time(new Date("2007/11/09 23:58 GMT"));</script><noscript>2007/11/09 23:58 GMT</noscript>)
	
	
	
	[<a href="/web/20080406171116/http://ja.doukaku.org/lang/perl/">
	  Perl
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #dfffdf;">2/2=1.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>基本的に

http://ja.doukaku.org/comment/63/

のport.

Dan the Perl Monger</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42</pre></td><td class="code"><div class="highlight"><pre>#!/usr/local/bin/perl
use strict;
use warnings;
my @coins = qw/1 5 10 50 100 500/;

sub changes{
    my $total = shift;
    my %ret;
    for my $coin (reverse @coins){
        next unless $total &gt;= $coin;
        my $num = int($total/$coin);
        $total = $total - $coin * $num;
        $ret{$coin} = $num;
    }
    \%ret;
}

sub min{ $_[0] &lt; $_[1] ? $_[0] : $_[1] };

sub pay{
    my ($expense, $wallet) = @_;
    my $total = 0;
    my %payment;
    for my $coin (@coins){
        next unless $wallet-&gt;{$coin};
        my $num = min(int(($expense-$total)/$coin + 1), $wallet-&gt;{$coin});
        $payment{$coin} = $num;
        $total += $coin * $num;
        last if $total &gt;= $expense;
    }
    return \%payment unless $total &gt; $expense;
    my $change = changes($total - $expense);
    while(my ($coin, $num) = each %$change){
        next unless $payment{$coin};
        $payment{$coin} -= $num;
        delete $payment{$coin} if $payment{$coin} &lt;= 0;
    }
    \%payment;
}

use Data::Dumper;
print Dumper (pay(147, {1 =&gt; 2, 10 =&gt; 4, 100 =&gt; 3}))
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/3786/addtag/" class="addtag" id="addtag_3786">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20080406171116/http://ja.doukaku.org/lang/perl/">
		Perl
      </a>]
	  
      [<a href="/web/20080406171116/http://ja.doukaku.org/comment/3786/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20080406171116/http://ja.doukaku.org/comment/3786/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #dfffdf;"
  >2/2=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3786"
  >-</span><span
  class="button yellow"
  id="rating_z_3786"
  >0</span><span 
  class="button green"
  id="rating_p_3786"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20080406171116/http://ja.doukaku.org/comment/3786/">
    1
    reply
  </a>

  [<a href="/web/20080406171116/http://ja.doukaku.org/3/reply_to/3786/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment3900">
  <p class="banner"><a href="/web/20080406171116/http://ja.doukaku.org/user/202/" target="_top">Kiske</a>

	
	&nbsp;
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/3900/">#3900</a>(<script language="JavaScript">print_time(new Date("2007/11/12 08:54 GMT"));</script><noscript>2007/11/12 08:54 GMT</noscript>)
	
	
	
	[<a href="/web/20080406171116/http://ja.doukaku.org/lang/php/">
	  PHP
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>Perl、Rubyで投稿されてるのをPHPに移植してみましたバージョン。
foreachが使えるところはPHPが便利だけど、delete, next unless処理はPHPだとダサいような。。</pre>
	</div>
	
	<p class="link">
	  参考: <a href="/web/20080406171116/http://ja.doukaku.org/comment/63/">http://ja.doukaku.org/comment/63/</a>
	</p>  
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43</pre></td><td class="code"><div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="nv">$coins</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">5</span><span class="p">,</span> <span class="m">10</span><span class="p">,</span> <span class="m">50</span><span class="p">,</span> <span class="m">100</span><span class="p">,</span> <span class="m">500</span><span class="p">);</span>

<span class="k">function</span> <span class="nf">changes</span><span class="p">(</span><span class="nv">$total</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">global</span> <span class="nv">$coins</span><span class="p">;</span>
    <span class="nv">$ret</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>
    <span class="k">foreach</span><span class="p">(</span><span class="nf">array_reverse</span><span class="p">(</span><span class="nv">$coins</span><span class="p">)</span> <span class="k">as</span> <span class="nv">$coin</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="nv">$total</span> <span class="o">&gt;=</span> <span class="nv">$coin</span><span class="p">)</span> <span class="p">{</span>
            <span class="nv">$num</span> <span class="o">=</span> <span class="nf">intval</span><span class="p">(</span><span class="nv">$total</span> <span class="o">/</span> <span class="nv">$coin</span><span class="p">);</span>
            <span class="nv">$total</span> <span class="o">=</span> <span class="nv">$total</span> <span class="o">-</span> <span class="nv">$coin</span> <span class="o">*</span> <span class="nv">$num</span><span class="p">;</span>
            <span class="nv">$ret</span><span class="p">[</span><span class="nv">$coin</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$num</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nv">$ret</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">function</span> <span class="nf">pay</span><span class="p">(</span><span class="nv">$price</span><span class="p">,</span> <span class="nv">$wallet</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">global</span> <span class="nv">$coins</span><span class="p">;</span>
    <span class="nv">$total</span> <span class="o">=</span> <span class="m">0</span><span class="p">;</span>
    <span class="nv">$payment</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="nv">$coins</span> <span class="k">as</span> <span class="nv">$coin</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="k">empty</span><span class="p">(</span><span class="nv">$wallet</span><span class="p">[</span><span class="nv">$coin</span><span class="p">]))</span> <span class="p">{</span>
            <span class="nv">$num</span> <span class="o">=</span> <span class="nf">min</span><span class="p">(</span><span class="nf">intval</span><span class="p">(</span><span class="nv">$price</span><span class="o">-</span><span class="nv">$total</span><span class="o">/</span><span class="nv">$coin</span><span class="o">+</span><span class="m">1</span><span class="p">),</span> <span class="nv">$wallet</span><span class="p">[</span><span class="nv">$coin</span><span class="p">]);</span>
            <span class="nv">$payment</span><span class="p">[</span><span class="nv">$coin</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$num</span><span class="p">;</span>
            <span class="nv">$total</span> <span class="o">+=</span> <span class="nv">$coin</span> <span class="o">*</span> <span class="nv">$num</span><span class="p">;</span>
            <span class="k">if</span><span class="p">(</span> <span class="nv">$total</span> <span class="o">&gt;=</span> <span class="nv">$price</span><span class="p">){</span> <span class="k">break</span><span class="p">;</span> <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">if</span><span class="p">(</span><span class="nv">$total</span> <span class="o">&gt;</span> <span class="nv">$price</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$change</span> <span class="o">=</span> <span class="nx">changes</span><span class="p">(</span><span class="nv">$total</span> <span class="o">-</span> <span class="nv">$price</span><span class="p">);</span>
        <span class="k">foreach</span><span class="p">(</span><span class="nv">$change</span> <span class="k">as</span> <span class="nv">$coin</span> <span class="o">=&gt;</span> <span class="nv">$num</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="k">empty</span><span class="p">(</span><span class="nv">$payment</span><span class="p">[</span><span class="nv">$coin</span><span class="p">]))</span> <span class="p">{</span>
                <span class="nv">$payment</span><span class="p">[</span><span class="nv">$coin</span><span class="p">]</span> <span class="o">-=</span> <span class="nv">$num</span><span class="p">;</span>
                <span class="k">if</span><span class="p">(</span><span class="nv">$payment</span><span class="p">[</span><span class="nv">$coin</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="m">0</span><span class="p">)</span> <span class="p">{</span> <span class="nf">unset</span><span class="p">(</span><span class="nv">$payment</span><span class="p">[</span><span class="nv">$coin</span><span class="p">]);</span> <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nv">$payment</span><span class="p">;</span>
<span class="p">}</span>
<span class="c">//pay( 147, array(&quot;1&quot; =&gt; 2, &quot;10&quot; =&gt; 4, &quot;100&quot; =&gt; 3));</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/3900/addtag/" class="addtag" id="addtag_3900">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20080406171116/http://ja.doukaku.org/lang/php/">
		PHP
      </a>]
	  
      [<a href="/web/20080406171116/http://ja.doukaku.org/comment/3900/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20080406171116/http://ja.doukaku.org/comment/3900/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3900"
  >-</span><span
  class="button yellow"
  id="rating_z_3900"
  >0</span><span 
  class="button green"
  id="rating_p_3900"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20080406171116/http://ja.doukaku.org/3/reply_to/3900/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment5730">
  <p class="banner"><a href="/web/20080406171116/http://ja.doukaku.org/user/711/" target="_top">まさぽん</a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/5730/">#5730</a>(<script language="JavaScript">print_time(new Date("2008/02/11 08:35 GMT"));</script><noscript>2008/02/11 08:35 GMT</noscript>)
	
	
	
	[<a href="/web/20080406171116/http://ja.doukaku.org/lang/scheme/">
	  Scheme
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>金額の小さいお金から、できるだけ多く払うようにしています。
どうでしょうか？
エラーチェックは最小限です。
以下実行例:
gosh&gt; (pay-smart 147 '((1 . 2) (10 . 4) (100 . 3)))
((100 . 2) (1 . 2))

内容解説:
6 - 8: 手持ちのお金で払えるかをチェック
10～: 支払い関数 引数: 支払い金額、手持ちのお金(硬貨の額、枚数のペア のリスト)、払う硬貨入れ
12: m &lt;- 硬貨の額
13: n &lt;- 硬貨の枚数
14: b &lt;- 次の硬貨の金額になる枚数(1 円なら 5 枚で 5 円、5 円なら 2 枚で 10 円)
15: pay2 &lt;- この硬貨にとっての端数を埋める(10 円玉の支払い順の時に、支払残高が 15 円になっている場合に 5 円埋めて 残高を 20 円にする)
16: amari &lt;- この硬貨を支払い後、何枚余るか(支払残高 14 円に対して 1 円を 7 枚持っている場合、4 枚払って 3 枚余り。この 3 という数字)
17-18: 硬貨が実在するものかをチェック。53 円玉なんて存在しない
20: 残高 &lt;= 金額 * 枚数 -&gt; 全額支払い終了
21-23: 余り &lt; 枚数 -&gt; 支払い可能。"枚数 - 余り" の枚数の硬貨を支払って(支払い残高から引いて)次の硬貨の処理へ
24: 余り &gt; 枚数 -&gt; 支払い不可。そのまま次の硬貨の処理へ

amari の算出方法はもっとどうにかならんものか。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></td><td class="code"><div class="highlight"><pre><span class="p">(</span><span class="k">define </span><span class="nv">pay-smart</span>
  <span class="p">(</span><span class="k">lambda </span><span class="p">(</span><span class="nf">pay</span> <span class="nv">money</span><span class="p">)</span>
    <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nb">not </span><span class="p">(</span><span class="nf">canpay?</span> <span class="nv">pay</span> <span class="nv">money</span><span class="p">))</span> <span class="p">(</span><span class="nf">error</span> <span class="s">&quot;お金足りてません&quot;</span><span class="p">))</span>
    <span class="p">(</span><span class="nf">do-paying</span> <span class="nv">pay</span> <span class="p">(</span><span class="nf">sort</span> <span class="nv">money</span> <span class="p">(</span><span class="k">lambda </span><span class="p">(</span><span class="nf">x</span> <span class="nv">y</span><span class="p">)</span> <span class="p">(</span><span class="nb">&lt; </span><span class="p">(</span><span class="nb">car </span><span class="nv">x</span><span class="p">)</span> <span class="p">(</span><span class="nb">car </span><span class="nv">y</span><span class="p">))))</span> <span class="o">&#39;</span><span class="p">())))</span>

<span class="p">(</span><span class="k">define </span><span class="nv">canpay?</span> 
  <span class="p">(</span><span class="k">lambda </span><span class="p">(</span><span class="nf">pay</span> <span class="nv">money</span><span class="p">)</span>
    <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nb">&lt;= </span><span class="nv">pay</span> <span class="p">(</span><span class="nb">apply </span><span class="nv">+</span> <span class="p">(</span><span class="nb">map </span><span class="p">(</span><span class="k">lambda </span><span class="p">(</span><span class="nf">ls</span><span class="p">)</span> <span class="p">(</span><span class="nb">* </span><span class="p">(</span><span class="nb">car </span><span class="nv">ls</span><span class="p">)</span> <span class="p">(</span><span class="nb">cdr </span><span class="nv">ls</span><span class="p">)))</span> <span class="nv">money</span><span class="p">)))</span> <span class="no">#t</span> <span class="no">#f</span><span class="p">)))</span>

<span class="p">(</span><span class="k">define </span><span class="nv">do-paying</span>
  <span class="p">(</span><span class="k">lambda </span><span class="p">(</span><span class="nf">pay</span> <span class="nv">money</span> <span class="nv">ls</span><span class="p">)</span>
    <span class="p">(</span><span class="k">let* </span><span class="p">((</span><span class="nf">m</span> <span class="p">(</span><span class="nb">caar </span><span class="nv">money</span><span class="p">))</span>
           <span class="p">(</span><span class="nf">n</span> <span class="p">(</span><span class="nb">cdar </span><span class="nv">money</span><span class="p">))</span>
           <span class="p">(</span><span class="nf">b</span> <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nb">memq </span><span class="nv">m</span> <span class="o">&#39;</span><span class="p">(</span><span class="mi">5</span> <span class="mi">50</span> <span class="mi">500</span><span class="p">))</span> <span class="mi">2</span> <span class="mi">5</span><span class="p">))</span>
           <span class="p">(</span><span class="nf">pay2</span> <span class="p">(</span><span class="nf">let1</span> <span class="nv">tmp</span> <span class="p">(</span><span class="nb">modulo </span><span class="nv">pay</span> <span class="nv">m</span><span class="p">)</span> <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="k">or </span><span class="p">(</span><span class="nb">= </span><span class="nv">m</span> <span class="mi">1</span><span class="p">)</span> <span class="p">(</span><span class="nb">= </span><span class="mi">0</span> <span class="nv">tmp</span><span class="p">))</span> <span class="nv">pay</span> <span class="p">(</span><span class="nb">+ </span><span class="nv">pay</span> <span class="p">(</span><span class="nb">- </span><span class="nv">m</span> <span class="nv">tmp</span><span class="p">)))))</span>
           <span class="p">(</span><span class="nf">amari</span> <span class="p">(</span><span class="nb">modulo </span><span class="p">(</span><span class="nb">- </span><span class="nv">b</span> <span class="p">(</span><span class="nb">modulo </span><span class="p">(</span><span class="nb">- </span><span class="p">(</span><span class="nb">/ </span><span class="nv">pay2</span> <span class="nv">m</span><span class="p">)</span> <span class="nv">n</span><span class="p">)</span> <span class="nv">b</span><span class="p">))</span> <span class="nv">b</span><span class="p">)))</span>
      <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nb">not </span><span class="p">(</span><span class="nb">memq </span><span class="nv">m</span> <span class="o">&#39;</span><span class="p">(</span><span class="mi">1</span> <span class="mi">5</span> <span class="mi">10</span> <span class="mi">50</span> <span class="mi">100</span> <span class="mi">500</span><span class="p">)))</span>
          <span class="p">(</span><span class="nf">error</span> <span class="p">(</span><span class="nf">format</span> <span class="no">#f</span> <span class="s">&quot;~d 円という硬貨はありません&quot;</span> <span class="nv">m</span><span class="p">))</span>
      <span class="p">(</span><span class="k">cond </span>
       <span class="p">((</span><span class="nb">&lt;= </span><span class="nv">pay2</span> <span class="p">(</span><span class="nb">* </span><span class="nv">m</span> <span class="nv">n</span><span class="p">))</span> <span class="p">(</span><span class="nb">cons </span><span class="p">(</span><span class="nb">cons </span><span class="nv">m</span> <span class="p">(</span><span class="nb">/ </span><span class="nv">pay2</span> <span class="nv">m</span><span class="p">))</span> <span class="nv">ls</span><span class="p">))</span>
       <span class="p">((</span><span class="nb">&gt; </span><span class="nv">n</span> <span class="nv">amari</span><span class="p">)</span> <span class="p">(</span><span class="nf">do-paying</span> <span class="p">(</span><span class="nb">- </span><span class="nv">pay2</span> <span class="p">(</span><span class="nb">* </span><span class="nv">m</span> <span class="p">(</span><span class="nb">- </span><span class="nv">n</span> <span class="nv">amari</span><span class="p">)))</span>
                               <span class="p">(</span><span class="nb">cdr </span><span class="nv">money</span><span class="p">)</span> 
                               <span class="p">(</span><span class="nb">cons </span><span class="p">(</span><span class="nb">cons </span><span class="nv">m</span> <span class="p">(</span><span class="nb">- </span><span class="nv">n</span> <span class="nv">amari</span><span class="p">))</span> <span class="nv">ls</span><span class="p">)))</span>
       <span class="p">(</span><span class="k">else </span><span class="p">(</span><span class="nf">do-paying</span> <span class="nv">pay2</span> <span class="p">(</span><span class="nb">cdr </span><span class="nv">money</span><span class="p">)</span> <span class="nv">ls</span><span class="p">)))))))</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/5730/addtag/" class="addtag" id="addtag_5730">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20080406171116/http://ja.doukaku.org/lang/scheme/">
		Scheme
      </a>]
	  
      [<a href="/web/20080406171116/http://ja.doukaku.org/comment/5730/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20080406171116/http://ja.doukaku.org/comment/5730/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5730"
  >-</span><span
  class="button yellow"
  id="rating_z_5730"
  >0</span><span 
  class="button green"
  id="rating_p_5730"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20080406171116/http://ja.doukaku.org/comment/5730/">
    1
    reply
  </a>

  [<a href="/web/20080406171116/http://ja.doukaku.org/3/reply_to/5730/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment6104">
  <p class="banner"><a href="/web/20080406171116/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/star_bronze.png" border=0/></a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/6104/">#6104</a>(<script language="JavaScript">print_time(new Date("2008/03/29 14:54 GMT"));</script><noscript>2008/03/29 14:54 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>http://codepad.org/DKipsErM
pay(147, {1=&gt; 11, 5=&gt; 2, 10=&gt; 1, 100=&gt; 3})
結果:
$VAR1 = {
          '1' =&gt; 7,
          '100' =&gt; 2,
          '5' =&gt; 2
        };</pre>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/6104/addtag/" class="addtag" id="addtag_6104">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_6104"
  >-</span><span
  class="button yellow"
  id="rating_z_6104"
  >0</span><span 
  class="button green"
  id="rating_p_6104"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20080406171116/http://ja.doukaku.org/comment/3786/"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20080406171116/http://ja.doukaku.org/comment/6104/root/"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20080406171116/http://ja.doukaku.org/3/reply_to/6104/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment6108">
  <p class="banner"><a href="/web/20080406171116/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/star_bronze.png" border=0/></a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/6108/">#6108</a>(<script language="JavaScript">print_time(new Date("2008/03/29 19:09 GMT"));</script><noscript>2008/03/29 19:09 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  gosh&gt;&nbsp;(pay-smart&nbsp;14&nbsp;'((1&nbsp;.&nbsp;12)&nbsp;(10&nbsp;1)))<br/>((10&nbsp;.&nbsp;1)&nbsp;(1&nbsp;.&nbsp;9))<br/><br/>(1&nbsp;.&nbsp;4)&nbsp;であってほしい。
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/6108/addtag/" class="addtag" id="addtag_6108">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_6108"
  >-</span><span
  class="button yellow"
  id="rating_z_6108"
  >0</span><span 
  class="button green"
  id="rating_p_6108"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20080406171116/http://ja.doukaku.org/comment/5730/"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20080406171116/http://ja.doukaku.org/comment/6108/root/"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20080406171116/http://ja.doukaku.org/3/reply_to/6108/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment6125">
  <p class="banner"><a href="/web/20080406171116/http://ja.doukaku.org/user/774/" target="_top">reeya2007</a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/6125/">#6125</a>(<script language="JavaScript">print_time(new Date("2008/03/31 15:02 GMT"));</script><noscript>2008/03/31 15:02 GMT</noscript>)
	
	
	
	[<a href="/web/20080406171116/http://ja.doukaku.org/lang/perl/">
	  Perl
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32</pre></td><td class="code"><div class="highlight"><pre><span class="c1">#!/usr/bin/perl</span>
<span class="k">use</span> <span class="n">strict</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">Data::</span><span class="n">Dumper</span><span class="p">;</span>

<span class="k">print</span> <span class="n">Dumper</span><span class="p">(</span><span class="n">pay</span><span class="p">(</span><span class="mi">147</span><span class="p">,(</span><span class="mi">1</span> <span class="o">=&gt;</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span> <span class="o">=&gt;</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">100</span> <span class="o">=&gt;</span> <span class="mi">3</span><span class="p">)));</span>

<span class="k">sub </span><span class="nf">pay</span><span class="p">{</span>
        <span class="k">my</span> <span class="p">(</span><span class="nv">$pay</span><span class="p">,</span><span class="nv">%input</span><span class="p">)</span> <span class="o">=</span> <span class="nv">@_</span><span class="p">;</span>
        <span class="k">my</span> <span class="nv">@money</span> <span class="o">=</span> <span class="sx">qw(1 5 10 50 100 500)</span><span class="p">;</span>
        <span class="k">my</span> <span class="nv">$total</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">my</span> <span class="nv">%rtn</span> <span class="o">=</span> <span class="p">();</span>

        <span class="n">TOTAL:</span>
        <span class="k">for</span> <span class="k">my</span> <span class="nv">$key</span> <span class="p">(</span><span class="nv">@money</span><span class="p">){</span>
                <span class="k">for</span> <span class="p">(</span><span class="mi">1</span> <span class="o">..</span> <span class="nv">$input</span><span class="p">{</span><span class="nv">$key</span><span class="p">}){</span>
                        <span class="nv">$total</span> <span class="o">+=</span> <span class="nv">$key</span><span class="p">;</span>
                        <span class="nv">$rtn</span><span class="p">{</span><span class="nv">$key</span><span class="p">}</span><span class="o">++</span><span class="p">;</span>
                        <span class="k">last</span> <span class="n">TOTAL</span> <span class="k">if</span><span class="p">(</span><span class="nv">$total</span> <span class="o">&gt;=</span> <span class="nv">$pay</span><span class="p">);</span>
                <span class="p">}</span>
        <span class="p">}</span>

        <span class="n">CHANGE:</span>
        <span class="k">for</span> <span class="k">my</span> <span class="nv">$key</span> <span class="p">(</span><span class="nb">reverse</span> <span class="nv">@money</span><span class="p">){</span>
                <span class="k">while</span><span class="p">(</span><span class="nv">$total</span> <span class="o">-</span> <span class="nv">$pay</span> <span class="o">&gt;=</span> <span class="nv">$key</span><span class="p">){</span>
                        <span class="nv">$total</span> <span class="o">-=</span> <span class="nv">$key</span><span class="p">;</span>
                        <span class="nb">delete</span><span class="p">(</span><span class="nv">$rtn</span><span class="p">{</span><span class="nv">$key</span><span class="p">})</span> <span class="k">if</span><span class="p">(</span><span class="o">--</span><span class="nv">$rtn</span><span class="p">{</span><span class="nv">$key</span><span class="p">}</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">);</span>
                        <span class="k">last</span> <span class="n">CHANGE</span> <span class="k">if</span><span class="p">(</span><span class="nv">$total</span> <span class="o">&lt;=</span> <span class="nv">$pay</span><span class="p">);</span>
                <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="o">\</span><span class="nv">%rtn</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/6125/addtag/" class="addtag" id="addtag_6125">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20080406171116/http://ja.doukaku.org/lang/perl/">
		Perl
      </a>]
	  
      [<a href="/web/20080406171116/http://ja.doukaku.org/comment/6125/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20080406171116/http://ja.doukaku.org/comment/6125/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_6125"
  >-</span><span
  class="button yellow"
  id="rating_z_6125"
  >0</span><span 
  class="button green"
  id="rating_p_6125"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20080406171116/http://ja.doukaku.org/comment/6125/">
    1
    reply
  </a>

  [<a href="/web/20080406171116/http://ja.doukaku.org/3/reply_to/6125/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment6133">
  <p class="banner"><a href="/web/20080406171116/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/star_bronze.png" border=0/></a><a href="/web/20080406171116/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/6133/">#6133</a>(<script language="JavaScript">print_time(new Date("2008/04/02 22:12 GMT"));</script><noscript>2008/04/02 22:12 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  print&nbsp;Dumper(pay(147,(1&nbsp;=&gt;&nbsp;13,&nbsp;100&nbsp;=&gt;&nbsp;2)));<br/>$VAR1&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'1'&nbsp;=&gt;&nbsp;12,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'100'&nbsp;=&gt;&nbsp;2<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};<br/><br/>7枚が正しいのでは。
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20080406171116/http://ja.doukaku.org/comment/6133/addtag/" class="addtag" id="addtag_6133">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_6133"
  >-</span><span
  class="button yellow"
  id="rating_z_6133"
  >0</span><span 
  class="button green"
  id="rating_p_6133"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20080406171116/http://ja.doukaku.org/comment/6125/"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20080406171116/http://ja.doukaku.org/comment/6133/root/"><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20080406171116/http://ja.doukaku.org/3/reply_to/6133/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>







</div>

<div id="side_menu" class="compact">

<iframe src="/web/20080406171116if_/http://ja.doukaku.org/login_info/" frameborder=0 width=100% id="login_info">
iframe required
</iframe>

<h4 class="semi_compact">一覧</h4>

<ul>
<!--<li><a href="/web/20080406171116/http://ja.doukaku.org/user/">ユーザ</a>-->
<li><a href="/web/20080406171116/http://ja.doukaku.org/lang/">言語</a>
<li><a href="/web/20080406171116/http://ja.doukaku.org/challenge/">お題</a>
<li><a href="/web/20080406171116/http://ja.doukaku.org/topic/">トピック</a>
<li><a href="/web/20080406171116/http://ja.doukaku.org/comment/">投稿</a>
<li><a href="/web/20080406171116/http://ja.doukaku.org/good_comments/">評価の高い投稿</a>
<li><a href="/web/20080406171116/http://ja.doukaku.org/tag/">タグ</a>
</ul>

<h4 class="compact">フィード</h4>
<ul>
<li><a href="/web/20080406171116/http://ja.doukaku.org/feeds/challenges/">最新のお題</a><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/feed_icon.png">
<li><a href="/web/20080406171116/http://ja.doukaku.org/feeds/topics/">最新のトピック</a><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/feed_icon.png">
<li><a href="/web/20080406171116/http://ja.doukaku.org/feeds/comments/">新着投稿</a><img src="/web/20080406171116im_/http://ja.doukaku.org/static/image/feed_icon.png">
</ul>







<h4 class="compact">その他</h4>
<ul>
<li><a href="/web/20080406171116/http://ja.doukaku.org/qa/">Q&A</a>
<li><a href="/web/20080406171116/http://ja.doukaku.org/feedback/">フィードバック</a>
<!--<li><a href="/web/20080406171116/http://ja.doukaku.org/terms">用語集</a>-->
</ul>


<h4 class="compact">リンク</h4>
<ul>
<li><a href="/web/20080406171116/http://www.lingr.com/room/doukaku_ja">チャットルーム(Lingr)</a>
<li><a href="/web/20080406171116/http://labs.cybozu.co.jp/">サイボウズ・ラボ</a>
<li><a href="/web/20080406171116/http://www.djangoproject.com/">Django</a>
</ul>

<h4 id="pathtraq" class="compact"><a href="/web/20080406171116/http://pathtraq.com/analytics?url=http%3A%2F%2Fja.doukaku.org%2Fcomment%2F*%2F%20desc%3A%E3%81%A9%E3%81%86%E6%9B%B8%E3%81%8Forg&m=popular">Pathtraq</a></h4>
<div class="indent">
<span id="pathtraq_sentinel">loading...</span>
</div>


</div>
</div>


<div id="page_foot" class="bordered">

<a rel="license" href="/web/20080406171116/http://creativecommons.org/licenses/by/2.1/jp/">
<img alt="Creative Commons License" style="border-width:0" src="/web/20080406171116im_/http://i.creativecommons.org/l/by/2.1/jp/88x31.png" /></a>
このサイトの内容は、
<a rel="license" href="/web/20080406171116/http://creativecommons.org/licenses/by/2.1/jp/">クリエイティブ・コモンズ・ライセンス</a>の下でライセンスされています。
<a href="/web/20080406171116/http://ja.doukaku.org/qa/#licence">[詳細]</a>

</div>

</body>




<script type="text/javascript">
$(document).ready(function(){$("#doukaku_org").after("<script src='/web/20080406171116/http://api.pathtraq.com/pages?url=http%3A%2F%2Fja.doukaku.org%2Fcomment%2F*%2F%20desc%3A%E3%81%A9%E3%81%86%E6%9B%B8%E3%81%8Forg&api=json&callback=addPathtraq'><" + "/script>")});
</script>

<script src="/web/20080406171116js_/http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-2136157-1";
urchinTracker();
</script>




</html>





<!--
     FILE ARCHIVED ON 17:11:16 Apr 6, 2008 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 14:05:41 Nov 16, 2013.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
