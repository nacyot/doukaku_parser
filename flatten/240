
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja"> 
  <head>

<script type="text/javascript" src="/static/js/analytics.js" ></script>
<link type="text/css" rel="stylesheet" href="/static/css/banner-styles.css"/>




    <meta http-equiv="Content-type" content="text/html; charset=UTF-8" />
    <title>
キッチンタイマー
どう書く？org </title>

    <link rel="stylesheet" type="text/css"
	href="/web/20100628133901cs_/http://ja.doukaku.org/static/style/reset-fonts-grids.css" />
    <link rel="stylesheet" type="text/css"
	href="/web/20100628133901cs_/http://ja.doukaku.org/static/style/style.css?20071211?20071207" />
	
    <link rel="stylesheet" type="text/css"
	href="/web/20100628133901cs_/http://ja.doukaku.org/static/style/pygments.css" />


	
<meta name="robots" content="noindex,nofollow">

    <!--<script src="/web/20100628133901/http://ja.doukaku.org/static/js/ieerbug/ieerbug.js" type="text/javascript"></script>-->


<!--<script src="/web/20100628133901/http://ja.doukaku.org/static/js/ieerbug/ieerbug.js" type="text/javascript"></script>-->
<script src="/web/20100628133901js_/http://ja.doukaku.org/static/js/jquery-1.1.3.1.js" type="text/javascript"></script>
<script src="/web/20100628133901js_/http://ja.doukaku.org/static/js/rating.js" type="text/javascript"></script>
<script src="/web/20100628133901js_/http://ja.doukaku.org/static/js/addtag.js?20071129" type="text/javascript"></script>

<script type="text/javascript">
is_key_navigation_enable = true;
</script>
<script src="/web/20100628133901js_/http://ja.doukaku.org/static/js/utils.js?~~~" type="text/javascript"></script>

</head>


<body id="doukaku_org">
<!-- BEGIN WAYBACK TOOLBAR INSERT -->
<script> if (window.archive_analytics) { window.archive_analytics.values['server_name']="wwwb-app14.us.archive.org";}; </script>

<script type="text/javascript" src="/static/js/disclaim-element.js" ></script>
<script type="text/javascript" src="/static/js/graph-calc.js" ></script>
<script type="text/javascript" src="/static/jflot/jquery.min.js" ></script>
<script type="text/javascript">
//<![CDATA[
var firstDate = 820454400000;
var lastDate = 1388534399999;
var wbPrefix = "/web/";
var wbCurrentUrl = "http:\/\/ja.doukaku.org\/240\/flatten\/";

var curYear = -1;
var curMonth = -1;
var yearCount = 18;
var firstYear = 1996;
var imgWidth = 450;
var yearImgWidth = 25;
var monthImgWidth = 2;
var trackerVal = "none";
var displayDay = "28";
var displayMonth = "Jun";
var displayYear = "2010";
var prettyMonths = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];

function showTrackers(val) {
	if(val == trackerVal) {
		return;
	}
	if(val == "inline") {
		document.getElementById("displayYearEl").style.color = "#ec008c";
		document.getElementById("displayMonthEl").style.color = "#ec008c";
		document.getElementById("displayDayEl").style.color = "#ec008c";		
	} else {
		document.getElementById("displayYearEl").innerHTML = displayYear;
		document.getElementById("displayYearEl").style.color = "#ff0";
		document.getElementById("displayMonthEl").innerHTML = displayMonth;
		document.getElementById("displayMonthEl").style.color = "#ff0";
		document.getElementById("displayDayEl").innerHTML = displayDay;
		document.getElementById("displayDayEl").style.color = "#ff0";
	}
   document.getElementById("wbMouseTrackYearImg").style.display = val;
   document.getElementById("wbMouseTrackMonthImg").style.display = val;
   trackerVal = val;
}
function getElementX2(obj) {
	var thing = jQuery(obj);
	if((thing == undefined) 
			|| (typeof thing == "undefined") 
			|| (typeof thing.offset == "undefined")) {
		return getElementX(obj);
	}
	return Math.round(thing.offset().left);
}
function trackMouseMove(event,element) {

   var eventX = getEventX(event);
   var elementX = getElementX2(element);
   var xOff = eventX - elementX;
	if(xOff < 0) {
		xOff = 0;
	} else if(xOff > imgWidth) {
		xOff = imgWidth;
	}
   var monthOff = xOff % yearImgWidth;

   var year = Math.floor(xOff / yearImgWidth);
	var yearStart = year * yearImgWidth;
   var monthOfYear = Math.floor(monthOff / monthImgWidth);
   if(monthOfYear > 11) {
       monthOfYear = 11;
   }
   // 1 extra border pixel at the left edge of the year:
   var month = (year * 12) + monthOfYear;
   var day = 1;
	if(monthOff % 2 == 1) {
		day = 15;
	}
	var dateString = 
		zeroPad(year + firstYear) + 
		zeroPad(monthOfYear+1,2) +
		zeroPad(day,2) + "000000";

	var monthString = prettyMonths[monthOfYear];
	document.getElementById("displayYearEl").innerHTML = year + 1996;
	document.getElementById("displayMonthEl").innerHTML = monthString;
	// looks too jarring when it changes..
	//document.getElementById("displayDayEl").innerHTML = zeroPad(day,2);

	var url = wbPrefix + dateString + '/' +  wbCurrentUrl;
	document.getElementById('wm-graph-anchor').href = url;

   //document.getElementById("wmtbURL").value="evX("+eventX+") elX("+elementX+") xO("+xOff+") y("+year+") m("+month+") monthOff("+monthOff+") DS("+dateString+") Moy("+monthOfYear+") ms("+monthString+")";
   if(curYear != year) {
       var yrOff = year * yearImgWidth;
       document.getElementById("wbMouseTrackYearImg").style.left = yrOff + "px";
       curYear = year;
   }
   if(curMonth != month) {
       var mtOff = year + (month * monthImgWidth) + 1;
       document.getElementById("wbMouseTrackMonthImg").style.left = mtOff + "px";
       curMonth = month;
   }
}
//]]>
</script>

<style type="text/css">body{margin-top:0!important;padding-top:0!important;min-width:800px!important;}#wm-ipp a:hover{text-decoration:underline!important;}</style>
<div id="wm-ipp" lang="en" class="__wb_banner_div" style="display:none; position:relative;padding:0 5px;min-height:70px;min-width:800px">


<div id="wm-ipp-inside" class="__wb_banner_div" style="position:fixed;padding:0!important;margin:0!important;width:97%;min-width:780px;border:5px solid #000;border-top:none;background-image:url(/static/images/toolbar/wm_tb_bk_trns.png);text-align:center;-moz-box-shadow:1px 1px 3px #333;-webkit-box-shadow:1px 1px 3px #333;box-shadow:1px 1px 3px #333;font-size:11px!important;font-family:'Lucida Grande','Arial',sans-serif!important;">
   <table style="border-collapse:collapse;margin:0;padding:0;width:100%;"><tbody><tr>
   <td style="padding:10px;vertical-align:top;min-width:110px;">
   <a href="/web/" title="Wayback Machine home page" style="background-color:transparent;border:none;"><img src="/static/images/toolbar/wayback-toolbar-logo.png" alt="Wayback Machine" width="110" height="39" border="0"/></a>
   </td>
   <td style="padding:0!important;text-align:center;vertical-align:top;width:100%;">

       <table style="border-collapse:collapse;margin:0 auto;padding:0;width:570px;"><tbody><tr>
       <td style="padding:3px 0;" colspan="2">
       <form target="_top" method="get" action="/web/form-submit.jsp" name="wmtb" id="wmtb" style="margin:0!important;padding:0!important;"><input type="text" name="url" id="wmtbURL" value="http://ja.doukaku.org/240/flatten/" style="width:400px;font-size:11px;font-family:'Lucida Grande','Arial',sans-serif;" onfocus="javascript:this.focus();this.select();" /><input type="hidden" name="type" value="replay" /><input type="hidden" name="date" value="20100628133901" /><input type="submit" value="Go" style="font-size:11px;font-family:'Lucida Grande','Arial',sans-serif;margin-left:5px;width: inherit !important" /><span id="wm_tb_options" style="display:block;"></span></form>
       </td>
       <td style="vertical-align:bottom;padding:5px 0 0 0!important;" rowspan="2">
           <table style="border-collapse:collapse;width:110px;color:#99a;font-family:'Helvetica','Lucida Grande','Arial',sans-serif;"><tbody>
			
           <!-- NEXT/PREV MONTH NAV AND MONTH INDICATOR -->
           <tr style="width:110px;height:16px;font-size:10px!important;">
           	<td style="padding-right:9px;font-size:11px!important;font-weight:bold;text-transform:uppercase;text-align:right;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
		                <a href="/web/20090413130559/http://ja.doukaku.org/240/flatten/" style="text-decoration:none;color:#33f;font-weight:bold;background-color:transparent;border:none;" title="13 Apr 2009"><strong>APR</strong></a>
		                
               </td>
               <td id="displayMonthEl" style="background:#000;color:#ff0;font-size:11px!important;font-weight:bold;text-transform:uppercase;width:34px;height:15px;padding-top:1px;text-align:center;" title="You are here: 13:39:01 Jun 28, 2010">JUN</td>
				<td style="padding-left:9px;font-size:11px!important;font-weight:bold;text-transform:uppercase;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       Jul
                       
               </td>
           </tr>

           <!-- NEXT/PREV CAPTURE NAV AND DAY OF MONTH INDICATOR -->
           <tr>
               <td style="padding-right:9px;white-space:nowrap;overflow:visible;text-align:right!important;vertical-align:middle!important;" nowrap="nowrap">
               
		                <a href="/web/20090413130559/http://ja.doukaku.org/240/flatten/" title="13:05:59 Apr 13, 2009" style="background-color:transparent;border:none;"><img src="/static/images/toolbar/wm_tb_prv_on.png" alt="Previous capture" width="14" height="16" border="0" /></a>
		                
               </td>
               <td id="displayDayEl" style="background:#000;color:#ff0;width:34px;height:24px;padding:2px 0 0 0;text-align:center;font-size:24px;font-weight: bold;" title="You are here: 13:39:01 Jun 28, 2010">28</td>
				<td style="padding-left:9px;white-space:nowrap;overflow:visible;text-align:left!important;vertical-align:middle!important;" nowrap="nowrap">
               
                       <img src="/static/images/toolbar/wm_tb_nxt_off.png" alt="Next capture" width="14" height="16" border="0"/>
                       
			    </td>
           </tr>

           <!-- NEXT/PREV YEAR NAV AND YEAR INDICATOR -->
           <tr style="width:110px;height:13px;font-size:9px!important;">
				<td style="padding-right:9px;font-size:11px!important;font-weight: bold;text-align:right;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
		                <a href="/web/20090413130559/http://ja.doukaku.org/240/flatten/" style="text-decoration:none;color:#33f;font-weight:bold;background-color:transparent;border:none;" title="13 Apr 2009"><strong>2009</strong></a>
		                
               </td>
               <td id="displayYearEl" style="background:#000;color:#ff0;font-size:11px!important;font-weight: bold;padding-top:1px;width:34px;height:13px;text-align:center;" title="You are here: 13:39:01 Jun 28, 2010">2010</td>
				<td style="padding-left:9px;font-size:11px!important;font-weight: bold;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       2011
                       
				</td>
           </tr>
           </tbody></table>
       </td>

       </tr>
       <tr>
       <td style="vertical-align:middle;padding:0!important;">
           <a href="/web/20100628133901*/http://ja.doukaku.org/240/flatten/" style="color:#33f;font-size:11px;font-weight:bold;background-color:transparent;border:none;" title="See a list of every capture for this URL"><strong>2 captures</strong></a>
           <div class="__wb_banner_div" style="margin:0!important;padding:0!important;color:#666;font-size:9px;padding-top:2px!important;white-space:nowrap;" title="Timespan for captures of this URL">13 Apr 09 - 28 Jun 10</div>
       </td>
       <td style="padding:0!important;">
       <a style="position:relative; white-space:nowrap; width:450px;height:27px;" href="" id="wm-graph-anchor">
       <div class="__wb_banner_div" id="wm-ipp-sparkline" style="position:relative; white-space:nowrap; width:450px;height:27px;background-color:#fff;cursor:pointer;border-right:1px solid #ccc;" title="Explore captures for this URL">
			<img id="sparklineImgId" style="position:absolute; z-index:9012; top:0px; left:0px;"
				onmouseover="showTrackers('inline');" 
				onmouseout="showTrackers('none');"
				onmousemove="trackMouseMove(event,this)"
				alt="sparklines"
				width="450"
				height="27"
				border="0"
				src="/web/jsp/graph.jsp?graphdata=450_27_1996:-1:000000000000_1997:-1:000000000000_1998:-1:000000000000_1999:-1:000000000000_2000:-1:000000000000_2001:-1:000000000000_2002:-1:000000000000_2003:-1:000000000000_2004:-1:000000000000_2005:-1:000000000000_2006:-1:000000000000_2007:-1:000000000000_2008:-1:000000000000_2009:-1:000100000000_2010:5:000001000000_2011:-1:000000000000_2012:-1:000000000000_2013:-1:000000000000"></img>
			<img id="wbMouseTrackYearImg" 
				style="display:none; position:absolute; z-index:9010;"
				width="25" 
				height="27"
				border="0"
				src="/static/images/toolbar/transp-yellow-pixel.png"></img>
			<img id="wbMouseTrackMonthImg"
				style="display:none; position:absolute; z-index:9011; " 
				width="2"
				height="27" 
				border="0"
				src="/static/images/toolbar/transp-red-pixel.png"></img>
       </div>
		</a>

       </td>
       </tr></tbody></table>
   </td>
   <td style="text-align:right;padding:5px;width:65px;font-size:11px!important;">
       <a href="javascript:;" onclick="document.getElementById('wm-ipp').style.display='none';" style="display:block;padding-right:18px;background:url(/static/images/toolbar/wm_tb_close.png) no-repeat 100% 0;color:#33f;font-family:'Lucida Grande','Arial',sans-serif;margin-bottom:23px;background-color:transparent;border:none;" title="Close the toolbar">Close</a>
       <a href="http://faq.web.archive.org/" style="display:block;padding-right:18px;background:url(/static/images/toolbar/wm_tb_help.png) no-repeat 100% 0;color:#33f;font-family:'Lucida Grande','Arial',sans-serif;background-color:transparent;border:none;" title="Get some help using the Wayback Machine">Help</a>
   </td>
   </tr></tbody></table>

</div>
</div>
<script type="text/javascript">
 var wmDisclaimBanner = document.getElementById("wm-ipp");
 if(wmDisclaimBanner != null) {
   disclaimElement(wmDisclaimBanner);
 }
</script>
<!-- END WAYBACK TOOLBAR INSERT -->


<div id="page_head" class="compact">
  <h1 class="compact">
    <a href="/web/20100628133901/http://ja.doukaku.org/">どう書く？org</a><img src="/web/20100628133901im_/http://ja.doukaku.org/static/image/beta.png" alt="beta">
  </h1>
</div>

<div id="page_body" class="compact">
<div id="content" class="compact">




<h2 class="compact">
<img src='/web/20100628133901im_/http://ja.doukaku.org/static/image/star_gold.png' alt=お題(出題済み)>
<a href="/web/20100628133901/http://ja.doukaku.org/240/">キッチンタイマー</a>
</h2>

    





<div class="comment" id="comment8582">
  <p class="banner"><a href="/web/20100628133901/http://ja.doukaku.org/user/166/" target="_top">ところてん</a><a href="/web/20100628133901/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100628133901im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100628133901/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100628133901im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/8582/">#8582</a>(<script language="JavaScript">print_time(new Date("2009/03/06 02:29 GMT"));</script><noscript>2009/03/06 02:29 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>キッチンタイマーを作ってください。
要件は以下のとおりです。

・タイマーが鳴るまでの時間を入力可能
・残り時間を表示
・タイマーが切れたら音がなる</pre>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/8582/addtag/" class="addtag" id="addtag_8582">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8582"
  >-</span><span
  class="button yellow"
  id="rating_z_8582"
  >0</span><span 
  class="button green"
  id="rating_p_8582"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100628133901/http://ja.doukaku.org/240/reply_to/8582/">
  返信
  </a>]
  </div>
</div>
</div>




  



<div class="indent">
<a href="/web/20100628133901/http://ja.doukaku.org/240/post_comment/">
投稿する
</a>
</div>


<h2>投稿されたコメント - フラット表示</h2>
<a href="/web/20100628133901/http://ja.doukaku.org/240/nested/">ネスト表示</a>
<a href="/web/20100628133901/http://ja.doukaku.org/240/">非表示</a> 


  
  <br/>

  
  




<div class="comment" id="comment8612">
  <p class="banner"><a href="/web/20100628133901/http://ja.doukaku.org/user/760/" target="_top">turugina</a><a href="/web/20100628133901/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100628133901im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/8612/">#8612</a>(<script language="JavaScript">print_time(new Date("2009/03/10 02:39 GMT"));</script><noscript>2009/03/10 02:39 GMT</noscript>)
	
	
	
	[<a href="/web/20100628133901/http://ja.doukaku.org/lang/perl/">
	  Perl
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>TkとWin32::Soundで。</p>
<p>Win32::Soundを使っているので、Windows環境限定です。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56</pre></td><td class="code"><div class="highlight"><pre><span class="k">use</span> <span class="n">strict</span><span class="p">;</span>
<span class="k">use</span> <span class="n">warnings</span><span class="p">;</span>

<span class="k">use</span> <span class="n">Tk</span><span class="p">;</span>

<span class="k">BEGIN</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span> <span class="vg">$^O</span> <span class="o">!~</span> <span class="sr">/Win32/</span> <span class="p">)</span> <span class="p">{</span>
    <span class="nb">die</span> <span class="n">q</span><span class="sr">/ごめん、無理/</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="nb">eval</span> <span class="n">q</span><span class="sr">/use Win32::Sound/</span><span class="p">;</span>
  <span class="nb">die</span> <span class="vg">$@</span> <span class="k">if</span> <span class="vg">$@</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">my</span> <span class="nv">$mw</span> <span class="o">=</span> <span class="nn">Tk::</span><span class="n">MainWindow</span><span class="o">-&gt;</span><span class="k">new</span><span class="p">(</span>
  <span class="o">-</span><span class="n">title</span> <span class="o">=&gt;</span> <span class="n">q</span><span class="sr">/KitchenTimer/</span><span class="p">,</span>
<span class="p">);</span>
<span class="k">my</span> <span class="nv">$count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="nv">$mw</span><span class="o">-&gt;</span><span class="n">Entry</span><span class="p">(</span>
  <span class="o">-</span><span class="n">textvariable</span> <span class="o">=&gt;</span> <span class="o">\</span><span class="nv">$count</span><span class="p">,</span>
<span class="p">)</span><span class="o">-&gt;</span><span class="nb">pack</span><span class="p">;</span>
<span class="k">my</span> <span class="nv">$start</span> <span class="o">=</span> <span class="nv">$mw</span><span class="o">-&gt;</span><span class="n">Button</span><span class="p">(</span>
  <span class="o">-</span><span class="n">text</span> <span class="o">=&gt;</span> <span class="n">q</span><span class="sr">/start/</span><span class="p">,</span>
  <span class="o">-</span><span class="n">command</span> <span class="o">=&gt;</span> <span class="o">\&amp;</span><span class="n">start_timer</span><span class="p">,</span>
<span class="p">);</span>
<span class="nv">$start</span><span class="o">-&gt;</span><span class="nb">pack</span><span class="p">;</span>
<span class="k">my</span> <span class="nv">$stop</span> <span class="o">=</span> <span class="nv">$mw</span><span class="o">-&gt;</span><span class="n">Button</span><span class="p">(</span>
  <span class="o">-</span><span class="n">text</span> <span class="o">=&gt;</span> <span class="n">q</span><span class="sr">/stop/</span><span class="p">,</span>
  <span class="o">-</span><span class="n">command</span> <span class="o">=&gt;</span> <span class="o">\&amp;</span><span class="n">stop_timer</span><span class="p">,</span>
  <span class="o">-</span><span class="n">state</span> <span class="o">=&gt;</span> <span class="n">q</span><span class="sr">/disabled/</span><span class="p">,</span>
<span class="p">);</span>
<span class="nv">$stop</span><span class="o">-&gt;</span><span class="nb">pack</span><span class="p">;</span>

<span class="nv">$mw</span><span class="o">-&gt;</span><span class="n">MainLoop</span><span class="p">;</span>

<span class="k">my</span> <span class="nv">$timer</span><span class="p">;</span>
<span class="k">sub </span><span class="nf">start_timer</span>
<span class="p">{</span>
  <span class="k">return</span> <span class="k">if</span> <span class="nv">$count</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="nv">$timer</span> <span class="o">=</span> <span class="nv">$mw</span><span class="o">-&gt;</span><span class="n">repeat</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="o">\&amp;</span><span class="n">process_timer</span><span class="p">);</span>
  <span class="nv">$start</span><span class="o">-&gt;</span><span class="n">configure</span><span class="p">(</span><span class="o">-</span><span class="n">state</span> <span class="o">=&gt;</span> <span class="n">q</span><span class="sr">/disabled/</span><span class="p">);</span>
  <span class="nv">$stop</span><span class="o">-&gt;</span><span class="n">configure</span><span class="p">(</span><span class="o">-</span><span class="n">state</span> <span class="o">=&gt;</span> <span class="n">q</span><span class="sr">/normal/</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">sub </span><span class="nf">stop_timer</span>
<span class="p">{</span>
  <span class="nv">$timer</span><span class="o">-&gt;</span><span class="n">cancel</span> <span class="k">if</span> <span class="nv">$timer</span><span class="p">;</span>
  <span class="nv">$timer</span> <span class="o">=</span> <span class="nb">undef</span><span class="p">;</span>
  <span class="nv">$start</span><span class="o">-&gt;</span><span class="n">configure</span><span class="p">(</span><span class="o">-</span><span class="n">state</span> <span class="o">=&gt;</span> <span class="n">q</span><span class="sr">/normal/</span><span class="p">);</span>
  <span class="nv">$stop</span><span class="o">-&gt;</span><span class="n">configure</span><span class="p">(</span><span class="o">-</span><span class="n">state</span> <span class="o">=&gt;</span> <span class="n">q</span><span class="sr">/disabled/</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">sub </span><span class="nf">process_timer</span>
<span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span> <span class="o">--</span><span class="nv">$count</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">{</span>
    <span class="nn">Win32::Sound::</span><span class="n">Play</span><span class="p">(</span><span class="n">q</span><span class="sr">/ding.wav/</span><span class="p">);</span>
    <span class="n">stop_timer</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/8612/addtag/" class="addtag" id="addtag_8612">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100628133901/http://ja.doukaku.org/lang/perl/">
		Perl
      </a>]
	  
      [<a href="/web/20100628133901/http://ja.doukaku.org/comment/8612/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100628133901/http://ja.doukaku.org/comment/8612/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8612"
  >-</span><span
  class="button yellow"
  id="rating_z_8612"
  >0</span><span 
  class="button green"
  id="rating_p_8612"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100628133901/http://ja.doukaku.org/240/reply_to/8612/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8615">
  <p class="banner"><a href="/web/20100628133901/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20100628133901/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100628133901im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100628133901/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100628133901im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/8615/">#8615</a>(<script language="JavaScript">print_time(new Date("2009/03/10 03:07 GMT"));</script><noscript>2009/03/10 03:07 GMT</noscript>)
	
	
	
	[<a href="/web/20100628133901/http://ja.doukaku.org/lang/python/">
	  Python
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></td><td class="code"><div class="highlight"><pre><span class="c">#!/usr/bin/env python</span>
<span class="k">import</span> <span class="nn">sys</span><span class="o">,</span> <span class="nn">time</span><span class="o">,</span> <span class="nn">math</span>

<span class="k">def</span> <span class="nf">timeseq</span><span class="p">(</span><span class="n">limit</span><span class="p">):</span>
    <span class="n">now</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="k">while</span> <span class="n">now</span> <span class="o">&lt;=</span> <span class="n">limit</span><span class="p">:</span>
        <span class="k">yield</span> <span class="n">math</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">limit</span> <span class="o">-</span> <span class="n">now</span><span class="p">)</span>
        <span class="n">now</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">print</span> <span class="s">&#39;usage: </span><span class="si">%s</span><span class="s"> MM:SS&#39;</span> <span class="o">%</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">m</span><span class="p">,</span> <span class="n">s</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;:&#39;</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">timeseq</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">+</span> <span class="n">m</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">+</span> <span class="n">s</span><span class="p">):</span>
            <span class="k">print</span> <span class="s">&#39;</span><span class="si">%s</span><span class="se">\r</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">&#39;%M:%S&#39;</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">gmtime</span><span class="p">(</span><span class="n">t</span><span class="p">)),</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="o">.</span><span class="mi">2</span><span class="p">)</span>
        <span class="k">print</span> <span class="s">&#39;</span><span class="se">\a</span><span class="s">&#39;</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/8615/addtag/" class="addtag" id="addtag_8615">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100628133901/http://ja.doukaku.org/lang/python/">
		Python
      </a>]
	  
      [<a href="/web/20100628133901/http://ja.doukaku.org/comment/8615/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100628133901/http://ja.doukaku.org/comment/8615/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8615"
  >-</span><span
  class="button yellow"
  id="rating_z_8615"
  >0</span><span 
  class="button green"
  id="rating_p_8615"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20100628133901/http://ja.doukaku.org/comment/8615/">
    1
    reply
  </a>

  [<a href="/web/20100628133901/http://ja.doukaku.org/240/reply_to/8615/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8616">
  <p class="banner"><a href="/web/20100628133901/http://ja.doukaku.org/user/88/" target="_top">sumim</a><a href="/web/20100628133901/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100628133901im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100628133901/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100628133901im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/8616/">#8616</a>(<script language="JavaScript">print_time(new Date("2009/03/10 04:24 GMT"));</script><noscript>2009/03/10 04:24 GMT</noscript>)
	
	
	
	[<a href="/web/20100628133901/http://ja.doukaku.org/lang/smalltalk/">
	  Smalltalk
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>Squeak Smalltalk で。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></td><td class="code"><div class="highlight"><pre>| timer |

timer := [:limit |
    | start remain |
    start := DateAndTime now.
    [(remain := DateAndTime now - start) &lt;= limit] whileTrue: [
        (limit - remain) printString displayAt: Display center.
        (Delay forSeconds: 0.2) wait].
    BaseSoundSystem beep].

timer value: 5 minutes + 10 seconds
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/8616/addtag/" class="addtag" id="addtag_8616">タグ</a>:
	
    
    <a href="/web/20100628133901/http://ja.doukaku.org/tag/Squeak_Smalltalk/">Squeak_Smalltalk</a>
    
	&nbsp;

	
      [<a href="/web/20100628133901/http://ja.doukaku.org/lang/smalltalk/">
		Smalltalk
      </a>]
	  
      [<a href="/web/20100628133901/http://ja.doukaku.org/comment/8616/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100628133901/http://ja.doukaku.org/comment/8616/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8616"
  >-</span><span
  class="button yellow"
  id="rating_z_8616"
  >0</span><span 
  class="button green"
  id="rating_p_8616"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100628133901/http://ja.doukaku.org/240/reply_to/8616/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8618">
  <p class="banner"><a href="/web/20100628133901/http://ja.doukaku.org/user/1013/" target="_top">selpo</a>

	
	&nbsp;
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/8618/">#8618</a>(<script language="JavaScript">print_time(new Date("2009/03/10 07:48 GMT"));</script><noscript>2009/03/10 07:48 GMT</noscript>)
	
	
	
	[<a href="/web/20100628133901/http://ja.doukaku.org/lang/csharp/">
	  C#
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>台所に置いとくと便利かもしれません。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35</pre></td><td class="code"><div class="highlight"><pre><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.IO</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Threading</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Media</span><span class="p">;</span>
<span class="k">static</span> <span class="k">class</span> <span class="nc">P</span>
<span class="k">{</span>
    <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">()</span>
    <span class="k">{</span>
        <span class="c">// アラーム音は、カレントディレクトリの</span>
        <span class="c">// alarm.wav とする。ない場合は、ビープ音。</span>
        <span class="kt">int</span> <span class="n">limit</span><span class="p">;</span>
        <span class="n">Console</span><span class="p">.</span><span class="n">Write</span><span class="p">(</span><span class="s">&quot;何秒間？\n&gt; &quot;</span><span class="p">);</span>
        <span class="n">limit</span> <span class="p">=</span> <span class="kt">int</span><span class="p">.</span><span class="n">Parse</span><span class="p">(</span><span class="n">Console</span><span class="p">.</span><span class="n">ReadLine</span><span class="p">());</span>
        <span class="n">Console</span><span class="p">.</span><span class="n">Clear</span><span class="p">();</span>
        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;残り : &quot;</span> <span class="p">+</span> <span class="n">limit</span> <span class="p">+</span> <span class="s">&quot;秒&quot;</span><span class="p">);</span>
        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;Enter で開始。&quot;</span><span class="p">);</span>
        <span class="n">TimerCallback</span> <span class="n">countDown</span> <span class="p">=</span> <span class="p">(</span><span class="n">o</span><span class="p">)</span> <span class="p">=&gt;</span>
        <span class="k">{</span>
            <span class="n">Console</span><span class="p">.</span><span class="n">Clear</span><span class="p">();</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">limit</span> <span class="p">&gt;=</span> <span class="m">0</span><span class="p">)</span>
                <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;残り : &quot;</span> <span class="p">+</span> <span class="n">limit</span><span class="p">--</span> <span class="p">+</span> <span class="s">&quot;秒&quot;</span><span class="p">);</span>
        <span class="k">}</span><span class="p">;</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">Console</span><span class="p">.</span><span class="n">ReadKey</span><span class="p">(</span><span class="k">false</span><span class="p">).</span><span class="n">Key</span> <span class="p">!=</span> <span class="n">ConsoleKey</span><span class="p">.</span><span class="n">Enter</span><span class="p">)</span>
            <span class="p">;</span>
        <span class="n">var</span> <span class="n">tm</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Timer</span><span class="p">(</span><span class="n">countDown</span><span class="p">,</span> <span class="k">null</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">1000</span><span class="p">);</span>
        <span class="n">Thread</span><span class="p">.</span><span class="n">Sleep</span><span class="p">(</span><span class="n">limit</span> <span class="p">*</span> <span class="m">1000</span><span class="p">);</span>
        <span class="n">tm</span><span class="p">.</span><span class="n">Dispose</span><span class="p">();</span>
        <span class="n">Console</span><span class="p">.</span><span class="n">Clear</span><span class="p">();</span>
        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;時間です。&quot;</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">File</span><span class="p">.</span><span class="n">Exists</span><span class="p">(</span><span class="s">&quot;alarm.wav&quot;</span><span class="p">))</span>
            <span class="k">new</span> <span class="n">SoundPlayer</span><span class="p">(</span><span class="s">&quot;alarm.wav&quot;</span><span class="p">).</span><span class="n">Play</span><span class="p">();</span>
        <span class="k">else</span>
            <span class="n">Console</span><span class="p">.</span><span class="n">Beep</span><span class="p">();</span>
    <span class="k">}</span>
<span class="k">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/8618/addtag/" class="addtag" id="addtag_8618">タグ</a>:
	
    
    <a href="/web/20100628133901/http://ja.doukaku.org/tag/C%233.0/">C#3.0</a>
    
	&nbsp;

	
      [<a href="/web/20100628133901/http://ja.doukaku.org/lang/csharp/">
		C#
      </a>]
	  
      [<a href="/web/20100628133901/http://ja.doukaku.org/comment/8618/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100628133901/http://ja.doukaku.org/comment/8618/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8618"
  >-</span><span
  class="button yellow"
  id="rating_z_8618"
  >0</span><span 
  class="button green"
  id="rating_p_8618"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100628133901/http://ja.doukaku.org/240/reply_to/8618/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8623">
  <p class="banner"><a href="/web/20100628133901/http://ja.doukaku.org/user/504/" target="_top">あにす</a><a href="/web/20100628133901/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100628133901im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100628133901/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100628133901im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/8623/">#8623</a>(<script language="JavaScript">print_time(new Date("2009/03/10 10:27 GMT"));</script><noscript>2009/03/10 10:27 GMT</noscript>)
	
	
	
	[<a href="/web/20100628133901/http://ja.doukaku.org/lang/python/">
	  Python
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  僕が普段から実用しているものです。<br/>PythonはPythonでもIronPythonです。<br/>System.Windows.FromsのGUIを持ってます。<br/>動かす際には<br/>時間が来たときに鳴る：alarm1.wav<br/>ボタンを押したときに鳴る：pi.wav<br/>の2つの音声ファイルを用意して下さい。
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187</pre></td><td class="code"><div class="highlight"><pre><span class="k">import</span> <span class="nn">sys</span>
<span class="k">import</span> <span class="nn">clr</span>
<span class="n">clr</span><span class="o">.</span><span class="n">AddReference</span><span class="p">(</span><span class="s">&quot;System&quot;</span><span class="p">)</span>
<span class="n">clr</span><span class="o">.</span><span class="n">AddReference</span><span class="p">(</span><span class="s">&quot;System.Drawing&quot;</span><span class="p">)</span>
<span class="n">clr</span><span class="o">.</span><span class="n">AddReference</span><span class="p">(</span><span class="s">&quot;System.Windows.Forms&quot;</span><span class="p">)</span>
<span class="k">from</span> <span class="nn">sys</span> <span class="k">import</span> <span class="n">argv</span>
<span class="k">from</span> <span class="nn">System</span> <span class="k">import</span> <span class="n">DateTime</span><span class="p">,</span> <span class="n">TimeSpan</span>
<span class="k">from</span> <span class="nn">System.Drawing</span> <span class="k">import</span> <span class="n">Font</span><span class="p">,</span> <span class="n">FontStyle</span><span class="p">,</span> <span class="n">GraphicsUnit</span><span class="p">,</span> <span class="n">Rectangle</span><span class="p">,</span> <span class="n">Size</span>
<span class="k">from</span> <span class="nn">System.Media</span> <span class="k">import</span> <span class="n">SoundPlayer</span>
<span class="k">from</span> <span class="nn">System.Windows.Forms</span> <span class="k">import</span> <span class="n">Application</span><span class="p">,</span> <span class="n">Button</span><span class="p">,</span> <span class="n">CheckBox</span><span class="p">,</span> <span class="n">Form</span><span class="p">,</span> <span class="n">FormBorderStyle</span><span class="p">,</span> <span class="n">Label</span><span class="p">,</span> <span class="n">Timer</span>

<span class="n">form</span> <span class="o">=</span> <span class="n">Form</span><span class="p">()</span>

<span class="c">#コントロール、コンポーネント</span>
<span class="n">label1</span> <span class="o">=</span> <span class="n">Label</span><span class="p">()</span>
<span class="n">button10m</span> <span class="o">=</span> <span class="n">Button</span><span class="p">()</span>
<span class="n">button1m</span> <span class="o">=</span> <span class="n">Button</span><span class="p">()</span>
<span class="n">button10s</span> <span class="o">=</span> <span class="n">Button</span><span class="p">()</span>
<span class="n">button1s</span> <span class="o">=</span> <span class="n">Button</span><span class="p">()</span>
<span class="n">buttonReset</span> <span class="o">=</span> <span class="n">Button</span><span class="p">()</span>
<span class="n">buttonStart</span> <span class="o">=</span> <span class="n">Button</span><span class="p">()</span>
<span class="n">checkBox1</span> <span class="o">=</span> <span class="n">CheckBox</span><span class="p">()</span>
<span class="n">timer1</span> <span class="o">=</span> <span class="n">Timer</span><span class="p">()</span>

<span class="c">#フィールド</span>
<span class="n">pi</span> <span class="o">=</span> <span class="n">alarm1</span> <span class="o">=</span> <span class="bp">None</span>
<span class="n">timeSpan</span> <span class="o">=</span> <span class="n">TimeSpan</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">dateTime</span> <span class="o">=</span> <span class="n">DateTime</span><span class="o">.</span><span class="n">Now</span>

<span class="k">def</span> <span class="nf">update</span><span class="p">():</span>
    <span class="k">if</span><span class="p">(</span><span class="n">timer1</span><span class="o">.</span><span class="n">Enabled</span><span class="p">):</span>
        <span class="n">timer1_Tick</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span><span class="bp">None</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">label1</span><span class="o">.</span><span class="n">Text</span> <span class="o">=</span> <span class="n">timeSpan</span><span class="o">.</span><span class="n">ToString</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">soundInit</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">pi</span><span class="p">,</span><span class="n">alarm1</span>
    <span class="k">if</span><span class="p">(</span><span class="n">pi</span> <span class="o">==</span> <span class="bp">None</span> <span class="ow">or</span> <span class="n">alarm1</span> <span class="o">==</span> <span class="bp">None</span><span class="p">):</span>
        <span class="n">pi</span> <span class="o">=</span> <span class="n">SoundPlayer</span><span class="p">(</span><span class="s">&quot;pi.wav&quot;</span><span class="p">)</span>
        <span class="n">alarm1</span> <span class="o">=</span> <span class="n">SoundPlayer</span><span class="p">(</span><span class="s">&quot;alarm1.wav&quot;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">end</span><span class="p">():</span>
    <span class="n">soundInit</span><span class="p">()</span>
    <span class="n">timer1</span><span class="o">.</span><span class="n">Stop</span><span class="p">()</span>
    <span class="n">buttonReset_Click</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span><span class="bp">None</span><span class="p">)</span>
    <span class="n">Application</span><span class="o">.</span><span class="n">DoEvents</span><span class="p">()</span>
    <span class="n">alarm1</span><span class="o">.</span><span class="n">PlayLooping</span><span class="p">()</span>

<span class="c">#▼イベントプロシージャ</span>
<span class="c">#ボタンクリック時にビープ音を鳴らす</span>
<span class="k">def</span> <span class="nf">beepPi</span><span class="p">(</span><span class="n">sender</span><span class="p">,</span><span class="n">e</span><span class="p">):</span>
    <span class="n">soundInit</span><span class="p">()</span>
    <span class="n">alarm1</span><span class="o">.</span><span class="n">Stop</span><span class="p">()</span>
    <span class="n">pi</span><span class="o">.</span><span class="n">Play</span><span class="p">()</span>
    
<span class="k">def</span> <span class="nf">button_Click</span><span class="p">(</span><span class="n">sender</span><span class="p">,</span><span class="n">e</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">timeSpan</span>
    <span class="n">timeSpan</span> <span class="o">+=</span> <span class="n">TimeSpan</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">sender</span><span class="o">.</span><span class="n">Tag</span><span class="p">)</span>
    <span class="n">update</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">buttonReset_Click</span><span class="p">(</span><span class="n">sender</span><span class="p">,</span><span class="n">e</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">timeSpan</span>
    <span class="n">timeSpan</span> <span class="o">=</span> <span class="n">TimeSpan</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">timer1</span><span class="o">.</span><span class="n">Stop</span><span class="p">()</span>
    <span class="n">update</span><span class="p">()</span>
    
<span class="k">def</span> <span class="nf">buttonStart_Click</span><span class="p">(</span><span class="n">sender</span><span class="p">,</span><span class="n">e</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">dateTime</span>
    <span class="n">dateTime</span> <span class="o">=</span> <span class="n">DateTime</span><span class="o">.</span><span class="n">Now</span>
    
    <span class="k">if</span><span class="p">(</span><span class="n">timeSpan</span> <span class="o">&lt;=</span> <span class="n">TimeSpan</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">)):</span>
        <span class="n">timer1</span><span class="o">.</span><span class="n">Interval</span> <span class="o">=</span> <span class="mi">100</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">timer1</span><span class="o">.</span><span class="n">Interval</span> <span class="o">=</span> <span class="mi">1000</span>
    
    <span class="n">timer1</span><span class="o">.</span><span class="n">Start</span><span class="p">()</span>
    <span class="n">timer1_Tick</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span><span class="bp">None</span><span class="p">)</span>
    
<span class="k">def</span> <span class="nf">checkBox1_CheckedChanged</span><span class="p">(</span><span class="n">sender</span><span class="p">,</span><span class="n">e</span><span class="p">):</span>
    <span class="n">form</span><span class="o">.</span><span class="n">TopMost</span> <span class="o">=</span> <span class="n">sender</span><span class="o">.</span><span class="n">Checked</span>
    
<span class="k">def</span> <span class="nf">timer1_Tick</span><span class="p">(</span><span class="n">sender</span><span class="p">,</span><span class="n">e</span><span class="p">):</span>
    <span class="n">ts</span> <span class="o">=</span> <span class="n">timeSpan</span> <span class="o">-</span> <span class="p">(</span><span class="n">DateTime</span><span class="o">.</span><span class="n">Now</span> <span class="o">-</span> <span class="n">dateTime</span><span class="p">)</span>
    <span class="k">if</span><span class="p">(</span><span class="n">ts</span><span class="o">.</span><span class="n">Milliseconds</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">):</span>
        <span class="n">ts</span> <span class="o">+=</span> <span class="n">TimeSpan</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    
    <span class="k">if</span><span class="p">(</span><span class="n">ts</span> <span class="o">&lt;=</span> <span class="n">TimeSpan</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">)):</span>
        <span class="n">timer1</span><span class="o">.</span><span class="n">Interval</span> <span class="o">=</span> <span class="mi">100</span>
    
    <span class="n">label1</span><span class="o">.</span><span class="n">Text</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">ToString</span><span class="p">()</span><span class="o">.</span><span class="n">Substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">8</span><span class="p">)</span>
    
    <span class="k">if</span><span class="p">(</span><span class="n">ts</span> <span class="o">&lt;=</span> <span class="n">TimeSpan</span><span class="p">()):</span>
        <span class="n">end</span><span class="p">()</span>
    
<span class="k">def</span> <span class="nf">Form1_Load</span><span class="p">(</span><span class="n">sender</span><span class="p">,</span><span class="n">e</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">argv</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">:</span>
        <span class="k">global</span> <span class="n">timeSpan</span>
        <span class="n">timeSpan</span> <span class="o">=</span> <span class="n">TimeSpan</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">int</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span><span class="nb">int</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">]));</span>
        <span class="n">buttonStart_Click</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span><span class="bp">None</span><span class="p">)</span>
    <span class="n">update</span><span class="p">()</span>    
<span class="c">#▲イベントプロシージャ</span>

<span class="c">#フォームにコントロールを配置する</span>
<span class="k">def</span> <span class="nf">initialize</span><span class="p">():</span>
    <span class="c">#▼label1</span>
    <span class="n">label1</span><span class="o">.</span><span class="n">Bounds</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">184</span><span class="p">,</span><span class="mi">48</span><span class="p">)</span>
    <span class="n">label1</span><span class="o">.</span><span class="n">Text</span> <span class="o">=</span> <span class="s">&quot;00:00:00&quot;</span>
    <span class="n">label1</span><span class="o">.</span><span class="n">Font</span> <span class="o">=</span> <span class="n">Font</span><span class="p">(</span><span class="s">&quot;MS UI Gothic&quot;</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="n">FontStyle</span><span class="o">.</span><span class="n">Regular</span><span class="p">,</span> <span class="n">GraphicsUnit</span><span class="o">.</span><span class="n">Point</span><span class="p">,</span> <span class="mi">128</span><span class="p">)</span>
    <span class="c">#▲label1</span>
    
    <span class="c">#▼button10m</span>
    <span class="n">button10m</span><span class="o">.</span><span class="n">Bounds</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">48</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mi">23</span><span class="p">)</span>
    <span class="n">button10m</span><span class="o">.</span><span class="n">Text</span> <span class="o">=</span> <span class="s">&quot;10分&quot;</span>
    <span class="n">button10m</span><span class="o">.</span><span class="n">Tag</span> <span class="o">=</span> <span class="mi">600</span>
    <span class="c">#▲button10m</span>
    
    <span class="c">#▼button1m</span>
    <span class="n">button1m</span><span class="o">.</span><span class="n">Bounds</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span><span class="mi">48</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mi">23</span><span class="p">)</span>
    <span class="n">button1m</span><span class="o">.</span><span class="n">Text</span> <span class="o">=</span> <span class="s">&quot;1分&quot;</span>
    <span class="n">button1m</span><span class="o">.</span><span class="n">Tag</span> <span class="o">=</span> <span class="mi">60</span>
    <span class="c">#▲button1m</span>
    
    <span class="c">#▼button10s</span>
    <span class="n">button10s</span><span class="o">.</span><span class="n">Bounds</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">80</span><span class="p">,</span><span class="mi">48</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mi">23</span><span class="p">)</span>
    <span class="n">button10s</span><span class="o">.</span><span class="n">Text</span> <span class="o">=</span> <span class="s">&quot;10秒&quot;</span>
    <span class="n">button10s</span><span class="o">.</span><span class="n">Tag</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="c">#▲button10s</span>
    
    <span class="c">#▼button1s</span>
    <span class="n">button1s</span><span class="o">.</span><span class="n">Bounds</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">120</span><span class="p">,</span><span class="mi">48</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mi">23</span><span class="p">)</span>
    <span class="n">button1s</span><span class="o">.</span><span class="n">Text</span> <span class="o">=</span> <span class="s">&quot;1秒&quot;</span>
    <span class="n">button1s</span><span class="o">.</span><span class="n">Tag</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="c">#▲button1s</span>
    
    <span class="c">#▼buttonReset</span>
    <span class="n">buttonReset</span><span class="o">.</span><span class="n">Bounds</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">160</span><span class="p">,</span><span class="mi">48</span><span class="p">,</span><span class="mi">48</span><span class="p">,</span><span class="mi">23</span><span class="p">)</span>
    <span class="n">buttonReset</span><span class="o">.</span><span class="n">Text</span> <span class="o">=</span> <span class="s">&quot;リセット&quot;</span>
    <span class="c">#▲buttonReset</span>
    
    <span class="c">#▼buttonStart</span>
    <span class="n">buttonStart</span><span class="o">.</span><span class="n">Bounds</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">212</span><span class="p">,</span><span class="mi">48</span><span class="p">,</span><span class="mi">53</span><span class="p">,</span><span class="mi">23</span><span class="p">)</span>
    <span class="n">buttonStart</span><span class="o">.</span><span class="n">Text</span> <span class="o">=</span> <span class="s">&quot;スタート&quot;</span>
    <span class="c">#▲buttonStart</span>
    
    <span class="c">#▼checkBox1</span>
    <span class="n">checkBox1</span><span class="o">.</span><span class="n">Bounds</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">186</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">84</span><span class="p">,</span><span class="mi">16</span><span class="p">)</span>
    <span class="n">checkBox1</span><span class="o">.</span><span class="n">Text</span> <span class="o">=</span> <span class="s">&quot;TopMost&quot;</span>
    <span class="c">#▲checkBox1</span>

    <span class="c">#▼Form1</span>
    <span class="n">form</span><span class="o">.</span><span class="n">Size</span> <span class="o">=</span> <span class="n">Size</span><span class="p">(</span><span class="mi">272</span><span class="p">,</span><span class="mi">93</span><span class="p">)</span>
    <span class="n">form</span><span class="o">.</span><span class="n">Text</span> <span class="o">=</span> <span class="s">&quot;焼き弁タイマー2py&quot;</span>
    <span class="n">form</span><span class="o">.</span><span class="n">FormBorderStyle</span> <span class="o">=</span> <span class="n">FormBorderStyle</span><span class="o">.</span><span class="n">FixedToolWindow</span>
    <span class="c">#▲Form1</span>
    
    <span class="c">#▼フォームへ追加</span>
    <span class="n">form</span><span class="o">.</span><span class="n">Controls</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">checkBox1</span><span class="p">)</span>
    <span class="n">form</span><span class="o">.</span><span class="n">Controls</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">label1</span><span class="p">)</span>
    <span class="n">form</span><span class="o">.</span><span class="n">Controls</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">button10m</span><span class="p">)</span>
    <span class="n">form</span><span class="o">.</span><span class="n">Controls</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">button1m</span><span class="p">)</span>
    <span class="n">form</span><span class="o">.</span><span class="n">Controls</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">button10s</span><span class="p">)</span>
    <span class="n">form</span><span class="o">.</span><span class="n">Controls</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">button1s</span><span class="p">)</span>
    <span class="n">form</span><span class="o">.</span><span class="n">Controls</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">buttonReset</span><span class="p">)</span>
    <span class="n">form</span><span class="o">.</span><span class="n">Controls</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">buttonStart</span><span class="p">)</span>
    <span class="c">#▲フォームへ追加</span>

    <span class="c">#▼イベントハンドラ登録</span>
    <span class="n">button10m</span><span class="o">.</span><span class="n">Click</span> <span class="o">+=</span> <span class="n">button_Click</span>
    <span class="n">button1m</span><span class="o">.</span><span class="n">Click</span> <span class="o">+=</span> <span class="n">button_Click</span>
    <span class="n">button10s</span><span class="o">.</span><span class="n">Click</span> <span class="o">+=</span> <span class="n">button_Click</span>
    <span class="n">button1s</span><span class="o">.</span><span class="n">Click</span> <span class="o">+=</span> <span class="n">button_Click</span>
    <span class="n">buttonReset</span><span class="o">.</span><span class="n">Click</span> <span class="o">+=</span> <span class="n">buttonReset_Click</span>
    <span class="n">buttonStart</span><span class="o">.</span><span class="n">Click</span> <span class="o">+=</span> <span class="n">buttonStart_Click</span>
    <span class="n">form</span><span class="o">.</span><span class="n">Load</span> <span class="o">+=</span> <span class="n">Form1_Load</span>
    <span class="n">timer1</span><span class="o">.</span><span class="n">Tick</span> <span class="o">+=</span> <span class="n">timer1_Tick</span>
    <span class="n">checkBox1</span><span class="o">.</span><span class="n">CheckedChanged</span> <span class="o">+=</span> <span class="n">checkBox1_CheckedChanged</span>
    <span class="k">for</span> <span class="n">ctrl</span> <span class="ow">in</span> <span class="n">form</span><span class="o">.</span><span class="n">Controls</span><span class="p">:</span>                <span class="c">#フォームとラベル以外(操作対象)</span>
        <span class="k">if</span><span class="p">(</span><span class="n">ctrl</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">form</span> <span class="ow">and</span> <span class="n">ctrl</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">label1</span><span class="p">):</span>    <span class="c">#のみクリックで音が出る様に</span>
            <span class="n">ctrl</span><span class="o">.</span><span class="n">Click</span> <span class="o">+=</span> <span class="n">beepPi</span>            <span class="c">#イベント追加</span>
    <span class="c">#▲イベントハンドラ登録</span>

<span class="n">form</span><span class="o">.</span><span class="n">SuspendLayout</span><span class="p">()</span>
<span class="n">initialize</span><span class="p">()</span>
<span class="n">form</span><span class="o">.</span><span class="n">ResumeLayout</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
<span class="n">form</span><span class="o">.</span><span class="n">PerformLayout</span><span class="p">()</span>

<span class="n">Application</span><span class="o">.</span><span class="n">Run</span><span class="p">(</span><span class="n">form</span><span class="p">)</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/8623/addtag/" class="addtag" id="addtag_8623">タグ</a>:
	
    
    <a href="/web/20100628133901/http://ja.doukaku.org/tag/IronPython/">IronPython</a>
    
    <a href="/web/20100628133901/http://ja.doukaku.org/tag/System.Windows.Forms/">System.Windows.Forms</a>
    
	&nbsp;

	
      [<a href="/web/20100628133901/http://ja.doukaku.org/lang/python/">
		Python
      </a>]
	  
      [<a href="/web/20100628133901/http://ja.doukaku.org/comment/8623/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100628133901/http://ja.doukaku.org/comment/8623/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8623"
  >-</span><span
  class="button yellow"
  id="rating_z_8623"
  >0</span><span 
  class="button green"
  id="rating_p_8623"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100628133901/http://ja.doukaku.org/240/reply_to/8623/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8627">
  <p class="banner"><a href="/web/20100628133901/http://ja.doukaku.org/user/766/" target="_top">syat</a><a href="/web/20100628133901/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100628133901im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/8627/">#8627</a>(<script language="JavaScript">print_time(new Date("2009/03/10 07:42 GMT"));</script><noscript>2009/03/10 07:42 GMT</noscript>)
	
	
	
	[<a href="/web/20100628133901/http://ja.doukaku.org/lang/bat/">
	  Batchfile
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffdf;">0/2=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  
	</div>
	
	<p class="link">
	  参考: <a href="/web/20100628133901/http://www.lifehacker.jp/2009/02/eggtimer.html">簡単に使えるWebベースのシンプルタイマー「E.ggTimer」</a>
	</p>  
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="highlight"><pre>start http://e.ggtimer.com/%1%%20seconds
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/8627/addtag/" class="addtag" id="addtag_8627">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100628133901/http://ja.doukaku.org/lang/bat/">
		Batchfile
      </a>]
	  
      [<a href="/web/20100628133901/http://ja.doukaku.org/comment/8627/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100628133901/http://ja.doukaku.org/comment/8627/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffdf;"
  >0/2=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8627"
  >-</span><span
  class="button yellow"
  id="rating_z_8627"
  >0</span><span 
  class="button green"
  id="rating_p_8627"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20100628133901/http://ja.doukaku.org/comment/8627/">
    1
    reply
  </a>

  [<a href="/web/20100628133901/http://ja.doukaku.org/240/reply_to/8627/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8634">
  <p class="banner"><a href="/web/20100628133901/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20100628133901/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100628133901im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100628133901/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100628133901im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/8634/">#8634</a>(<script language="JavaScript">print_time(new Date("2009/03/10 11:43 GMT"));</script><noscript>2009/03/10 11:43 GMT</noscript>)
	
	
	
	[<a href="/web/20100628133901/http://ja.doukaku.org/lang/python/">
	  Python
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>特にnowとか使う必要無いと思います。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></td><td class="code"><div class="highlight"><pre><span class="c">#!/usr/bin/env python</span>
<span class="k">import</span> <span class="nn">sys</span><span class="o">,</span> <span class="nn">time</span>

<span class="k">def</span> <span class="nf">timeseq</span><span class="p">(</span><span class="n">limit</span><span class="p">):</span>
  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">limit</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span> 
    <span class="k">yield</span> <span class="n">i</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">print</span> <span class="s">&#39;usage: </span><span class="si">%s</span><span class="s"> MM:SS&#39;</span> <span class="o">%</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">m</span><span class="p">,</span> <span class="n">s</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;:&#39;</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">timeseq</span><span class="p">(</span><span class="n">m</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">+</span> <span class="n">s</span><span class="p">):</span>
            <span class="k">print</span> <span class="s">&#39;</span><span class="si">%02d</span><span class="s">:</span><span class="si">%02d</span><span class="se">\r</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">t</span> <span class="o">/</span> <span class="mi">60</span><span class="p">,</span> <span class="n">t</span> <span class="o">%</span> <span class="mi">60</span><span class="p">)</span>
        <span class="k">print</span> <span class="s">&#39;</span><span class="se">\a</span><span class="s">&#39;</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/8634/addtag/" class="addtag" id="addtag_8634">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100628133901/http://ja.doukaku.org/lang/python/">
		Python
      </a>]
	  
      [<a href="/web/20100628133901/http://ja.doukaku.org/comment/8634/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100628133901/http://ja.doukaku.org/comment/8634/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8634"
  >-</span><span
  class="button yellow"
  id="rating_z_8634"
  >0</span><span 
  class="button green"
  id="rating_p_8634"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20100628133901/http://ja.doukaku.org/comment/8615/"><img src="/web/20100628133901im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20100628133901/http://ja.doukaku.org/comment/8634/root/"><img src="/web/20100628133901im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  <a href="/web/20100628133901/http://ja.doukaku.org/comment/8634/">
    1
    reply
  </a>

  [<a href="/web/20100628133901/http://ja.doukaku.org/240/reply_to/8634/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8636">
  <p class="banner"><a href="/web/20100628133901/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20100628133901/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100628133901im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100628133901/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100628133901im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/8636/">#8636</a>(<script language="JavaScript">print_time(new Date("2009/03/10 22:01 GMT"));</script><noscript>2009/03/10 22:01 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>コメントありがとうございます。</p>
<p>sleep()のような関数は厳密に1秒寝てくれるとは限らないので、sleep()に頼ると誤差が集積していきますので、あのような書き方を致しました。</p>

	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/8636/addtag/" class="addtag" id="addtag_8636">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8636"
  >-</span><span
  class="button yellow"
  id="rating_z_8636"
  >0</span><span 
  class="button green"
  id="rating_p_8636"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20100628133901/http://ja.doukaku.org/comment/8634/"><img src="/web/20100628133901im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20100628133901/http://ja.doukaku.org/comment/8636/root/"><img src="/web/20100628133901im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20100628133901/http://ja.doukaku.org/240/reply_to/8636/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8640">
  <p class="banner"><a href="/web/20100628133901/http://ja.doukaku.org/user/1024/" target="_top">rennos</a><a href="/web/20100628133901/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100628133901im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/8640/">#8640</a>(<script language="JavaScript">print_time(new Date("2009/03/11 13:21 GMT"));</script><noscript>2009/03/11 13:21 GMT</noscript>)
	
	
	
	[<a href="/web/20100628133901/http://ja.doukaku.org/lang/hsp/">
	  HSP
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  長くなってしまった……。
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73</pre></td><td class="code"><div class="highlight"><pre>#uselib &quot;user32.dll&quot;
#func MessageBeep  &quot;MessageBeep&quot;  int
#func EnableWindow &quot;EnableWindow&quot; int,int

#define true 1
#define false 0

goto *main

// グローバル定義
#deffunc ObjEnableAll int bEnable
    EnableWindow infBtn, bEnable
    foreach timer
        EnableWindow infInput(0, cnt), bEnable
    loop
    return
    
#deffunc timetick int idx
    timer(idx) --
    if ( idx &gt; 0 ) {        // &#39;時&#39;ではない
        if ( timer(idx) &lt; 0 ) {
            timer(idx) ++
            timer(idx - 1) --
            if ( timer(idx - 1) &gt;= 0 ) {
                timer(idx) = 59
            } else {
                timetick idx - 1
            }
        }
    }
    return
    
#defcfunc IsTimerLasting local bLast
    bLast = false
    foreach timer
        if ( timer(cnt) != 0 ) { bLast = true : break }
    loop
    return bLast
    
*main
    dim infInput, 2, 3
    dim timer, 3        // 時、分、秒
    gosub *LSetWindow
    stop
    
*LTimerLoop
    ObjEnableAll false
    while ( IsTimerLasting() )
        wait 100                    // 1秒
        timetick length(timer) - 1    // 刻む
        
        // 内容を更新
        foreach timer
            objprm infInput(1, cnt), timer(cnt)
        loop
    wend
    ObjEnableAll true
    MessageBeep -1
    return
    
*LSetWindow
    width 180, 60 : title &quot;台所時計&quot;
        objmode 2
        timestr = &quot;時&quot;, &quot;分&quot;, &quot;秒&quot;
        foreach timer
            pos  5 + 55 * cnt, 5 : input timer(cnt), 30, 22
            infInput(0, cnt) = objinfo(stat, 2), stat
            pos 37 + 55 * cnt, 7 : mes timestr(cnt)
        loop
        pos  5, 30 : button gosub &quot;開始&quot;, *LTimerLoop
        infBtn = objinfo(stat, 2), stat
        
    return
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/8640/addtag/" class="addtag" id="addtag_8640">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100628133901/http://ja.doukaku.org/lang/hsp/">
		HSP
      </a>]
	  
      [<a href="/web/20100628133901/http://ja.doukaku.org/comment/8640/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100628133901/http://ja.doukaku.org/comment/8640/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8640"
  >-</span><span
  class="button yellow"
  id="rating_z_8640"
  >0</span><span 
  class="button green"
  id="rating_p_8640"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100628133901/http://ja.doukaku.org/240/reply_to/8640/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8642">
  <p class="banner"><a href="/web/20100628133901/http://ja.doukaku.org/user/852/" target="_top">emasaka</a>

	
	&nbsp;
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/8642/">#8642</a>(<script language="JavaScript">print_time(new Date("2009/03/11 13:52 GMT"));</script><noscript>2009/03/11 13:52 GMT</noscript>)
	
	
	
	[<a href="/web/20100628133901/http://ja.doukaku.org/lang/bash/">
	  Bash
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <div class="section">
<p>単にコマンドラインの次の行で、テキスト表示でカウントダウンするだけです。</p>
<p></p>
<p>キー操作：</p>
<p></p>
<ul>
<li>
 SPC: 一時停止/再開
</li>
<li>
 h、l: カーソルを左右（分・秒）に移動
</li>
<li> k、j: カーソル位置の値（分・秒）を1つ増減</li>
</ul>
</div>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57</pre></td><td class="code"><div class="highlight"><pre><span class="c">#!/bin/bash</span>

<span class="k">function </span>dsp_time<span class="o">()</span> <span class="o">{</span>
    <span class="nb">local </span><span class="nv">t</span><span class="o">=</span><span class="nv">$1</span>
    <span class="nb">echo</span> -ne <span class="s1">&#39;\r&#39;</span>
    <span class="nb">printf</span> <span class="s1">&#39;%02.02d:%02d&#39;</span> <span class="k">$(</span><span class="o">(</span>t / <span class="m">60</span><span class="k">)</span><span class="o">)</span> <span class="k">$(</span><span class="o">(</span>t % <span class="m">60</span><span class="k">)</span><span class="o">)</span>
    <span class="nb">echo</span> -ne <span class="s1">&#39;\r&#39;</span>
    <span class="o">[</span> <span class="s2">&quot;$cur_mode&quot;</span> <span class="o">=</span> SEC <span class="o">]</span> &amp;&amp; tput cuf 3
<span class="o">}</span>

<span class="k">function </span>timer_up<span class="o">()</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">[</span> <span class="s2">&quot;$cur_mode&quot;</span> <span class="o">=</span> MIN <span class="o">]</span>; <span class="k">then</span>
        <span class="o">((</span>t_end +<span class="o">=</span> 60<span class="o">))</span>
    <span class="k">else</span>
        <span class="o">((</span>t_end +<span class="o">=</span> 1<span class="o">))</span>
    <span class="k">fi</span>
<span class="o">}</span>

<span class="k">function </span>timer_down<span class="o">()</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">[</span> <span class="s2">&quot;$cur_mode&quot;</span> <span class="o">=</span> MIN <span class="o">]</span>; <span class="k">then</span>
        <span class="o">(((</span>t_end - SECONDS - offset &gt;<span class="o">=</span> 60<span class="o">)</span> &amp;&amp; <span class="o">(</span>t_end -<span class="o">=</span> 60<span class="o">)))</span>
    <span class="k">else</span>
        <span class="o">(((</span>t_end - SECONDS - offset &gt;<span class="o">=</span> 1<span class="o">)</span> &amp;&amp; <span class="o">(</span>t_end -<span class="o">=</span> 1<span class="o">)))</span>
    <span class="k">fi</span>
<span class="o">}</span>

<span class="k">function </span>key_command<span class="o">()</span> <span class="o">{</span>
    <span class="k">case</span> <span class="s2">&quot;$c&quot;</span> in
    <span class="s1">&#39;h&#39;</span><span class="o">)</span> <span class="nv">cur_mode</span><span class="o">=</span>MIN ;;
    <span class="s1">&#39;l&#39;</span><span class="o">)</span> <span class="nv">cur_mode</span><span class="o">=</span>SEC ;;
    <span class="s1">&#39;k&#39;</span><span class="o">)</span> timer_up ;;
    <span class="s1">&#39;j&#39;</span><span class="o">)</span> timer_down ;;
    <span class="s1">&#39;&#39;</span><span class="o">)</span> <span class="o">((</span><span class="nv">run_mode</span> <span class="o">=</span> <span class="nv">run_mode</span> <span class="o">==</span> <span class="m">1</span> ? <span class="m">0</span> : 1<span class="o">))</span> ;;
    esac
<span class="o">}</span>

<span class="nb">trap</span> <span class="s1">&#39;stty cbreak echo&#39;</span> EXIT
stty -cbreak -echo

<span class="nv">tm</span><span class="o">=</span><span class="m">420</span>                  <span class="c"># 7 min</span>
<span class="nv">run_mode</span><span class="o">=</span>1
<span class="nv">cur_mode</span><span class="o">=</span>MIN
<span class="nv">offset</span><span class="o">=</span><span class="nv">$SECONDS</span>
<span class="nv">t_end</span><span class="o">=</span><span class="k">$(</span><span class="o">(</span>offset + tm<span class="k">)</span><span class="o">)</span>
<span class="k">while</span> <span class="o">((</span>tm &gt; 0<span class="o">))</span>; <span class="k">do</span>
<span class="k">    </span>dsp_time <span class="nv">$tm</span>
    <span class="nb">read</span> -n <span class="m">1</span> -t <span class="m">1</span> c &amp;&amp; key_command <span class="s2">&quot;$c&quot;</span>
    <span class="k">if</span> <span class="o">[</span> <span class="nv">$run_mode</span> <span class="o">=</span> <span class="m">1</span> <span class="o">]</span>; <span class="k">then</span>
        <span class="o">((</span><span class="nv">tm</span> <span class="o">=</span> t_end - SECONDS - offset<span class="o">))</span>
    <span class="k">else</span>
        <span class="o">((</span><span class="nv">offset</span> <span class="o">=</span> t_end - tm - SECONDS<span class="o">))</span>
    <span class="k">fi</span>
<span class="k">done</span>

dsp_time 0
<span class="nb">echo</span>
<span class="nb">echo</span> -ne <span class="s1">&#39;\a&#39;</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/8642/addtag/" class="addtag" id="addtag_8642">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100628133901/http://ja.doukaku.org/lang/bash/">
		Bash
      </a>]
	  
      [<a href="/web/20100628133901/http://ja.doukaku.org/comment/8642/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100628133901/http://ja.doukaku.org/comment/8642/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8642"
  >-</span><span
  class="button yellow"
  id="rating_z_8642"
  >0</span><span 
  class="button green"
  id="rating_p_8642"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100628133901/http://ja.doukaku.org/240/reply_to/8642/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8644">
  <p class="banner"><a href="/web/20100628133901/http://ja.doukaku.org/user/16/" target="_top">kiy0taka</a><a href="/web/20100628133901/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100628133901im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/8644/">#8644</a>(<script language="JavaScript">print_time(new Date("2009/03/11 14:53 GMT"));</script><noscript>2009/03/11 14:53 GMT</noscript>)
	
	
	
	[<a href="/web/20100628133901/http://ja.doukaku.org/lang/bash/">
	  Bash
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2</pre></td><td class="code"><div class="highlight"><pre><span class="k">function </span>timer <span class="o">{</span> <span class="nv">t</span><span class="o">=</span><span class="nv">$1</span>; <span class="k">while</span> <span class="o">[</span> <span class="nv">$t</span> -gt <span class="m">0</span> <span class="o">]</span>; <span class="k">do </span><span class="nb">echo</span> <span class="nv">$t</span>; <span class="nv">t</span><span class="o">=</span><span class="s">`expr $t - 1`</span>; sleep 1; clear; <span class="k">done</span>; <span class="nb">printf</span> <span class="s1">&#39;\a&#39;</span>; <span class="o">}</span>
timer 10
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/8644/addtag/" class="addtag" id="addtag_8644">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100628133901/http://ja.doukaku.org/lang/bash/">
		Bash
      </a>]
	  
      [<a href="/web/20100628133901/http://ja.doukaku.org/comment/8644/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100628133901/http://ja.doukaku.org/comment/8644/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8644"
  >-</span><span
  class="button yellow"
  id="rating_z_8644"
  >0</span><span 
  class="button green"
  id="rating_p_8644"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100628133901/http://ja.doukaku.org/240/reply_to/8644/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8655">
  <p class="banner"><a href="/web/20100628133901/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20100628133901/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100628133901im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100628133901/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100628133901im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/8655/">#8655</a>(<script language="JavaScript">print_time(new Date("2009/03/13 02:40 GMT"));</script><noscript>2009/03/13 02:40 GMT</noscript>)
	
	
	
	[<a href="/web/20100628133901/http://ja.doukaku.org/lang/java/">
	  Java
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></td><td class="code"><div class="highlight"><pre><span class="k">import</span> <span class="nn">java.io.*</span><span class="o">;</span>
<span class="k">public</span> <span class="k">class</span> <span class="nc">KitchenTimer</span> <span class="o">{</span>
    <span class="k">public</span> <span class="k">static</span> <span class="kt">void</span> <span class="n">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="k">throws</span> <span class="n">Exception</span><span class="o">{</span>
        <span class="n">BufferedReader</span> <span class="n">buf</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">in</span><span class="o">));</span>
        <span class="n">String</span> <span class="n">sec</span> <span class="o">=</span> <span class="n">buf</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
        <span class="kt">long</span> <span class="n">nowtime</span> <span class="o">=</span> <span class="n">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">();</span>
        <span class="kt">long</span> <span class="n">stoptime</span> <span class="o">=</span> <span class="n">nowtime</span> <span class="o">+</span> <span class="o">(</span><span class="n">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">sec</span><span class="o">)</span> <span class="o">*</span> <span class="mi">1000</span><span class="o">);</span>
        <span class="k">while</span><span class="o">(</span><span class="n">stoptime</span> <span class="o">&gt;</span> <span class="n">nowtime</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">((</span><span class="n">stoptime</span> <span class="o">-</span> <span class="n">nowtime</span><span class="o">)/</span><span class="mi">1000</span><span class="o">);</span>
            <span class="n">Thread</span><span class="o">.</span><span class="na">sleep</span><span class="o">(</span><span class="mi">1000</span><span class="n">l</span><span class="o">);</span>
            <span class="n">nowtime</span> <span class="o">=</span> <span class="n">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">();</span>
        <span class="o">}</span>
        <span class="n">java</span><span class="o">.</span><span class="na">awt</span><span class="o">.</span><span class="na">Toolkit</span><span class="o">.</span><span class="na">getDefaultToolkit</span><span class="o">().</span><span class="na">beep</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/8655/addtag/" class="addtag" id="addtag_8655">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100628133901/http://ja.doukaku.org/lang/java/">
		Java
      </a>]
	  
      [<a href="/web/20100628133901/http://ja.doukaku.org/comment/8655/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100628133901/http://ja.doukaku.org/comment/8655/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8655"
  >-</span><span
  class="button yellow"
  id="rating_z_8655"
  >0</span><span 
  class="button green"
  id="rating_p_8655"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100628133901/http://ja.doukaku.org/240/reply_to/8655/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8660">
  <p class="banner"><a href="/web/20100628133901/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20100628133901/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100628133901im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100628133901/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100628133901im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/8660/">#8660</a>(<script language="JavaScript">print_time(new Date("2009/03/13 21:44 GMT"));</script><noscript>2009/03/13 21:44 GMT</noscript>)
	
	
	
	[<a href="/web/20100628133901/http://ja.doukaku.org/lang/c/">
	  C
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>locateで表示位置を指定。
myclsで画面をきれいに。
画面に出力させた後にこの二つの関数を呼び出してカーソルを元の位置に戻しまた出力させる。
これを繰り返して最初の入力値と現在の経過時間が等しくなったときビープ音を鳴らして終了。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66</pre></td><td class="code"><div class="highlight"><pre><span class="cp">#include &lt;windows.h&gt;</span>
<span class="cp">#include &lt;stdio.h&gt;</span>
<span class="cp">#include &lt;stdlib.h&gt;</span>
<span class="cp">#include &lt;time.h&gt;</span>
<span class="c">/*------------locate------------*/</span>
<span class="kt">int</span> <span class="nf">locate</span> <span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span><span class="p">)</span>
<span class="p">{</span>
<span class="n">HANDLE</span> <span class="n">handle</span><span class="p">;</span>
<span class="n">COORD</span> <span class="n">position</span><span class="p">;</span>
<span class="n">handle</span> <span class="o">=</span> <span class="n">GetStdHandle</span><span class="p">(</span><span class="n">STD_OUTPUT_HANDLE</span><span class="p">);</span>
<span class="n">position</span><span class="p">.</span><span class="n">X</span> <span class="o">=</span> <span class="p">(</span><span class="n">SHORT</span><span class="p">)</span><span class="n">x</span><span class="p">;</span>
<span class="n">position</span><span class="p">.</span><span class="n">Y</span> <span class="o">=</span> <span class="p">(</span><span class="n">SHORT</span><span class="p">)</span><span class="n">y</span><span class="p">;</span>
<span class="n">SetConsoleCursorPosition</span><span class="p">(</span><span class="n">handle</span><span class="p">,</span><span class="n">position</span><span class="p">);</span>
<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="c">/*------------------------*/</span>

<span class="c">/*------------mycls------------*/</span>
<span class="kt">int</span> <span class="nf">mycls</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
<span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
<span class="k">while</span><span class="p">(</span><span class="n">i</span><span class="o">&lt;=</span><span class="mi">10</span><span class="p">)</span>
    <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;        &quot;</span><span class="p">);</span>
    <span class="n">i</span><span class="o">++</span><span class="p">;</span>
    <span class="p">}</span>
<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="c">/*------------------------*/</span>

<span class="kt">int</span> <span class="nf">main</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
<span class="n">clock_t</span> <span class="n">start</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">intime</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">sec</span><span class="p">;</span>
<span class="kt">char</span> <span class="n">string</span><span class="p">[</span><span class="mi">30</span><span class="p">];</span>
<span class="n">locate</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;時間を秒単位で入力してください</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="n">locate</span><span class="p">(</span><span class="mi">35</span><span class="p">,</span><span class="mi">11</span><span class="p">);</span>
<span class="n">fgets</span><span class="p">(</span><span class="n">string</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="n">stdin</span><span class="p">);</span>
<span class="n">locate</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span>
<span class="n">mycls</span><span class="p">();</span>
<span class="n">locate</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">11</span><span class="p">);</span>
<span class="n">mycls</span><span class="p">();</span>
<span class="n">intime</span><span class="o">=</span><span class="n">atoi</span><span class="p">(</span><span class="n">string</span><span class="p">);</span>
<span class="n">start</span><span class="o">=</span><span class="n">clock</span><span class="p">();</span>
<span class="k">while</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="p">{</span>
    <span class="n">sec</span><span class="o">=</span><span class="n">clock</span><span class="p">()</span><span class="o">-</span><span class="n">start</span><span class="p">;</span>
    <span class="n">sec</span><span class="o">/=</span><span class="n">CLOCKS_PER_SEC</span><span class="p">;</span>
    <span class="n">locate</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span>
    <span class="n">mycls</span><span class="p">();</span>
    <span class="n">locate</span><span class="p">(</span><span class="mi">35</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">sec</span><span class="o">==</span><span class="n">intime</span><span class="p">)</span>
        <span class="p">{</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;時間です.</span><span class="se">\a</span><span class="s">&quot;</span><span class="p">);</span>
        <span class="k">break</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="k">else</span>
        <span class="p">{</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%3d&quot;</span><span class="p">,</span><span class="n">intime</span><span class="o">-</span><span class="n">sec</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="n">Sleep</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span>
    <span class="p">}</span>
<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/8660/addtag/" class="addtag" id="addtag_8660">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100628133901/http://ja.doukaku.org/lang/c/">
		C
      </a>]
	  
      [<a href="/web/20100628133901/http://ja.doukaku.org/comment/8660/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100628133901/http://ja.doukaku.org/comment/8660/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8660"
  >-</span><span
  class="button yellow"
  id="rating_z_8660"
  >0</span><span 
  class="button green"
  id="rating_p_8660"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100628133901/http://ja.doukaku.org/240/reply_to/8660/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8662">
  <p class="banner"><a href="/web/20100628133901/http://ja.doukaku.org/user/840/" target="_top">leque</a><a href="/web/20100628133901/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100628133901im_/http://ja.doukaku.org/static/image/star_silver.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/8662/">#8662</a>(<script language="JavaScript">print_time(new Date("2009/03/15 10:30 GMT"));</script><noscript>2009/03/15 10:30 GMT</noscript>)
	
	
	
	[<a href="/web/20100628133901/http://ja.doukaku.org/lang/scheme/">
	  Scheme
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></td><td class="code"><div class="highlight"><pre><span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">main</span> <span class="nv">args</span><span class="p">)</span>
  <span class="p">(</span><span class="k">let* </span><span class="p">((</span><span class="nf">m</span> <span class="p">(</span><span class="nb">string-&gt;number </span><span class="p">(</span><span class="nb">cadr </span><span class="nv">args</span><span class="p">)))</span>
         <span class="p">(</span><span class="nf">s</span> <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nb">null? </span><span class="p">(</span><span class="nb">cddr </span><span class="nv">args</span><span class="p">))</span> <span class="mi">0</span> <span class="p">(</span><span class="nb">string-&gt;number </span><span class="p">(</span><span class="nb">caddr </span><span class="nv">args</span><span class="p">))))</span>
         <span class="p">(</span><span class="nf">d</span> <span class="p">(</span><span class="nb">+ </span><span class="p">(</span><span class="nb">* </span><span class="nv">m</span> <span class="mi">60</span><span class="p">)</span> <span class="nv">s</span><span class="p">))</span>
         <span class="p">(</span><span class="nf">end</span> <span class="p">(</span><span class="nb">+ </span><span class="p">(</span><span class="nf">sys-time</span><span class="p">)</span> <span class="nv">d</span><span class="p">)))</span>
    <span class="p">(</span><span class="k">do </span><span class="p">((</span><span class="nf">now</span> <span class="p">(</span><span class="nf">sys-time</span><span class="p">)</span> <span class="p">(</span><span class="nf">sys-time</span><span class="p">)))</span>
        <span class="p">((</span><span class="nb">&lt;= </span><span class="p">(</span><span class="nb">- </span><span class="nv">end</span> <span class="nv">now</span><span class="p">)</span> <span class="mi">0</span><span class="p">)</span> <span class="p">(</span><span class="nb">display </span><span class="sc">#\x07</span><span class="p">))</span>
      <span class="p">(</span><span class="nf">receive</span> <span class="p">(</span><span class="nf">m</span> <span class="nv">s</span><span class="p">)</span> <span class="p">(</span><span class="nf">quotient&amp;remainder</span> <span class="p">(</span><span class="nb">- </span><span class="nv">end</span> <span class="nv">now</span><span class="p">)</span> <span class="mi">60</span><span class="p">)</span>
        <span class="p">(</span><span class="nf">format</span> <span class="no">#t</span> <span class="s">&quot;~2,&#39;0D:~2,&#39;0D~%&quot;</span> <span class="nv">m</span> <span class="nv">s</span><span class="p">)</span>
        <span class="p">(</span><span class="nf">sys-sleep</span> <span class="mi">1</span><span class="p">)))))</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/8662/addtag/" class="addtag" id="addtag_8662">タグ</a>:
	
    
    <a href="/web/20100628133901/http://ja.doukaku.org/tag/gauche/">gauche</a>
    
	&nbsp;

	
      [<a href="/web/20100628133901/http://ja.doukaku.org/lang/scheme/">
		Scheme
      </a>]
	  
      [<a href="/web/20100628133901/http://ja.doukaku.org/comment/8662/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100628133901/http://ja.doukaku.org/comment/8662/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8662"
  >-</span><span
  class="button yellow"
  id="rating_z_8662"
  >0</span><span 
  class="button green"
  id="rating_p_8662"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100628133901/http://ja.doukaku.org/240/reply_to/8662/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8749">
  <p class="banner"><a href="/web/20100628133901/http://ja.doukaku.org/user/646/" target="_top">silverwire</a><a href="/web/20100628133901/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100628133901im_/http://ja.doukaku.org/static/image/star_silver.png" border=0/></a><a href="/web/20100628133901/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100628133901im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/8749/">#8749</a>(<script language="JavaScript">print_time(new Date("2009/03/29 07:33 GMT"));</script><noscript>2009/03/29 07:33 GMT</noscript>)
	
	
	
	[<a href="/web/20100628133901/http://ja.doukaku.org/lang/bat/">
	  Batchfile
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>こんな感じでも書けますね。

あまり大きな数を指定されると 1秒を刻めなくなってしまいますが、
そのような場合は 8行目を削除してください。

なお、14行目の行末は BL(Ctrl + G) です。制御コードの一つです
が、 コピー &amp; ペーストで問題無く復元できると思います。

Windows XPで動作を確認しました。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></td><td class="code"><div class="highlight"><pre>@echo off
setlocal enabledelayedexpansion
  if &quot;%~1&quot; == &quot;&quot; (echo usage: %~n0 SECOND) &amp; exit /b 1
  
  for /l %%i in (%~1,-1,1) do (
    cls
    set t=
    for /l %%j in (1,1,%%i) do set t=!t!^|
    echo !t! %%i
    ping -n 2 127.0.0.1 &gt; NUL
  )
  
  cls
  echo 
endlocal
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/8749/addtag/" class="addtag" id="addtag_8749">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100628133901/http://ja.doukaku.org/lang/bat/">
		Batchfile
      </a>]
	  
      [<a href="/web/20100628133901/http://ja.doukaku.org/comment/8749/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100628133901/http://ja.doukaku.org/comment/8749/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8749"
  >-</span><span
  class="button yellow"
  id="rating_z_8749"
  >0</span><span 
  class="button green"
  id="rating_p_8749"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20100628133901/http://ja.doukaku.org/comment/8627/"><img src="/web/20100628133901im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20100628133901/http://ja.doukaku.org/comment/8749/root/"><img src="/web/20100628133901im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20100628133901/http://ja.doukaku.org/240/reply_to/8749/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8831">
  <p class="banner"><a href="/web/20100628133901/http://ja.doukaku.org/user/813/" target="_top">lunlumo</a>

	
	&nbsp;
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/8831/">#8831</a>(<script language="JavaScript">print_time(new Date("2009/04/22 07:58 GMT"));</script><noscript>2009/04/22 07:58 GMT</noscript>)
	
	
	
	[<a href="/web/20100628133901/http://ja.doukaku.org/lang/scala/">
	  Scala
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>　Actorを使って書いてみました。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211</pre></td><td class="code"><div class="highlight"><pre>import    java.io.File
import    javax.sound.sampled.{AudioFormat, AudioInputStream, AudioSystem, DataLine, SourceDataLine}
import    scala.actors.{Actor, TIMEOUT}
import    scala.actors.Actor.loop
import    scala.swing.{Alignment, BorderPanel, Button, FlowPanel, Label, MainFrame, Menu, MenuBar, MenuItem, Panel, Separator, SimpleGUIApplication, TextField}
import    scala.swing.event.{ActionEvent, ButtonClicked}

abstract class Request
case class Start(s:Actor, i:Long, r:Boolean) extends Request
case object Stop extends Request

abstract class Response
case object Timeout extends Response

class Timer extends Actor {
    var    a:Actor = null
    var    i:Long = 100
    var    r:Boolean = false
    var    e:Boolean = false
    start
    def reset:Unit = {
        a = null
        i = 100
        r = false
        e = false
    }
    def act:Unit = loop {
            receiveWithin(i) {
                case Start(a, i, r) =&gt; {
                    this.a = a
                    this.i = i
                    this.r = r
                    e = true
                }
                case Stop =&gt; reset
                case TIMEOUT =&gt;
                    if (e) {
                        a ! Timeout
                        if (!r) reset
                    }
            }
        }
}

class KitchenTimer extends Actor {
    var    s:Long = 0
    var    i:Long = 0
    var    u:(Long)=&gt;Unit = null
    var    p:()=&gt;Unit = null
    var    t:Timer = new Timer
    var    e:Boolean = false
    start
    def this(i:Long, u:(Long)=&gt;Unit, p:()=&gt;Unit) = {
        this()
        this.i = i
        this.u = u
        this.p = p
    }
    def reset:Unit = {
        s = 0
        e = false
    }
    def act:Unit = loop {
        receive {
            case Timeout =&gt;
                if (e) {
                    ((System.currentTimeMillis - s) / 1000) match {
                        case l if (l &lt; i) =&gt; u(i - l)
                        case _ =&gt; {
                            p()
                            reset
                            t ! Stop
                        }
                    }
                }
            case _ =&gt;
        }
    }
    def run:Unit = {
        s = System.currentTimeMillis
        e = true
        t ! Start(this, 100, true)
    }
    def run(i:Long):Unit = {
        this.i = i
        run
    }
    def run(i:Long, u:(Long)=&gt;Unit, p:()=&gt;Unit):Unit = {
        this.u = u
        this.p = p
        run(i)
    }
    def stop:Unit = {
        reset
        t ! Stop
    }
}

object Beep {
    val    s:Int = 256000
    val    p:String = System.getenv(&quot;windir&quot;) + &quot;\\Media\\Windows XP Error.wav&quot;
    def play:Unit = 
        try {
            val    a:AudioInputStream    = AudioSystem.getAudioInputStream(new File(p))
            val    f:AudioFormat = a.getFormat
            val    l:SourceDataLine = AudioSystem.getLine(new DataLine.Info(classOf[SourceDataLine], f)).asInstanceOf[SourceDataLine]
            var    b:Array[Byte] = new Array[Byte](s)
            def read:Unit = a.read(b, 0, s) match {
                    case r if (r &gt;= 0) =&gt; {
                        l.write(b, 0, r)
                        read
                    }
                    case _ =&gt;
                }
            l.open(f)
            l.start
            read
            l.drain
            l.close
        } catch {
            case e =&gt; e.printStackTrace
        }
}

class KitchenTimerFrame extends MainFrame {
    
    val    t:KitchenTimer = new KitchenTimer
    
    title = &quot;Kitchen Timer&quot;
    
    menuBar = new MenuBar
    
    val    menu:Menu = new Menu(&quot;file&quot;)
    val    startMenu:MenuItem = new MenuItem(&quot;start&quot;)
    val    stopMenu:MenuItem = new MenuItem(&quot;stop&quot;)
    val    quitMenu:MenuItem = new MenuItem(&quot;quit&quot;)
    
    menu.contents += startMenu
    menu.contents += stopMenu
    menu.contents += new Separator
    menu.contents += quitMenu
    
    menuBar.contents += menu
    
    val    time:TextField = new TextField(&quot;180&quot;)
    val    left:Label = new Label
    val    start:Button = new Button(&quot;start&quot;)
    val    stop:Button = new Button(&quot;stop&quot;)
    
    contents = new BorderPanel {
        
        import BorderPanel.Position._
        
        layout(new FlowPanel(FlowPanel.Alignment.Left) {
                val    l:Label = new Label(&quot;time:&quot;)
                l.preferredSize = (30, 20)
                l.horizontalAlignment = Alignment.Left
                time.preferredSize = (50, 20)
                contents += l
                contents += time
            }
        ) = North
        
        layout(new FlowPanel(FlowPanel.Alignment.Left) {
                val    l:Label = new Label(&quot;left:&quot;)
                l.preferredSize = (30, 20)
                l.horizontalAlignment = Alignment.Left
                left.preferredSize = (50, 20)
                left.horizontalAlignment = Alignment.Left
                contents += l
                contents += left
            }
        ) = Center
        
        layout(new FlowPanel(FlowPanel.Alignment.Right) {
                contents += start
                contents += stop
            }
        ) = South
    }
    
    listenTo(startMenu, stopMenu, quitMenu, start, stop)
    reactions += {
        case ActionEvent(`startMenu`) | ButtonClicked(`start`) =&gt; startHandler
        case ActionEvent(`stopMenu`) | ButtonClicked(`stop`) =&gt; stopHandler
        case ActionEvent(`quitMenu`) =&gt; quitHandler
    }
    
    peer.setResizable(false)
    pack
    
    def resetInfo:Unit = left.text = time.text
    def startHandler:Unit = {
        resetInfo
        t.run(time.text.toLong, updateHandler _, timeoutHandler _)
    }
    def stopHandler:Unit = {
        resetInfo
        t.stop
    }
    def updateHandler(l:Long):Unit = left.text = l.toString
    def timeoutHandler:Unit = {
        resetInfo
        Beep.play
    }
    def quitHandler:Unit = System.exit(1)
}

object KitchenTimerApplication extends SimpleGUIApplication {
    def top = new KitchenTimerFrame
}
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/8831/addtag/" class="addtag" id="addtag_8831">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100628133901/http://ja.doukaku.org/lang/scala/">
		Scala
      </a>]
	  
      [<a href="/web/20100628133901/http://ja.doukaku.org/comment/8831/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100628133901/http://ja.doukaku.org/comment/8831/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8831"
  >-</span><span
  class="button yellow"
  id="rating_z_8831"
  >0</span><span 
  class="button green"
  id="rating_p_8831"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100628133901/http://ja.doukaku.org/240/reply_to/8831/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8832">
  <p class="banner"><a href="/web/20100628133901/http://ja.doukaku.org/user/813/" target="_top">lunlumo</a>

	
	&nbsp;
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/8832/">#8832</a>(<script language="JavaScript">print_time(new Date("2009/04/22 08:07 GMT"));</script><noscript>2009/04/22 08:07 GMT</noscript>)
	
	
	
	[<a href="/web/20100628133901/http://ja.doukaku.org/lang/scala/">
	  Scala
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>　sleepを使ったシンプルなものも。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></td><td class="code"><div class="highlight"><pre>object KitchenTimer {
    def main(args:Array[String]):Unit =
        if (args.size != 1)
            println(&quot;usage: KitchenTimer TIME&quot;)
        else {
            try {
                val    t:Long = args(0).toLong
                val    s:Long = System.currentTimeMillis
                def loop:Unit = ((System.currentTimeMillis - s) / 1000) match {
                        case p if (p &gt;= t) =&gt; java.awt.Toolkit.getDefaultToolkit.beep
                        case p =&gt; {
                            println((t - p).toString)
                            Thread.sleep(1000)
                            loop
                        }
                    }
                loop
            } catch {
                case e:NumberFormatException =&gt; println(&quot;invlaid time format.&quot;)
                case e =&gt; e.printStackTrace
            }
        }
}
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/8832/addtag/" class="addtag" id="addtag_8832">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100628133901/http://ja.doukaku.org/lang/scala/">
		Scala
      </a>]
	  
      [<a href="/web/20100628133901/http://ja.doukaku.org/comment/8832/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100628133901/http://ja.doukaku.org/comment/8832/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8832"
  >-</span><span
  class="button yellow"
  id="rating_z_8832"
  >0</span><span 
  class="button green"
  id="rating_p_8832"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100628133901/http://ja.doukaku.org/240/reply_to/8832/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8961">
  <p class="banner"><a href="/web/20100628133901/http://ja.doukaku.org/user/497/" target="_top">Otter</a>

	
	&nbsp;
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/8961/">#8961</a>(<script language="JavaScript">print_time(new Date("2009/05/20 07:50 GMT"));</script><noscript>2009/05/20 07:50 GMT</noscript>)
	
	
	
	[<a href="/web/20100628133901/http://ja.doukaku.org/lang/haskell/">
	  Haskell
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>GHC&amp;Win32前提です…</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></td><td class="code"><div class="highlight"><pre><span class="cm">{-# OPTIONS_GHC -fglasgow-exts #-}</span>
 
<span class="kr">module</span> <span class="n">Main</span> <span class="kr">where</span>

<span class="kr">import</span> <span class="n">System</span> <span class="p">(</span><span class="nv">getArgs</span><span class="p">)</span>
<span class="kr">import</span> <span class="n">System</span><span class="o">.</span><span class="n">Win32</span><span class="o">.</span><span class="n">Process</span> <span class="p">(</span><span class="nv">sleep</span><span class="p">)</span>
<span class="kr">import</span> <span class="n">System</span><span class="o">.</span><span class="n">Win32</span><span class="o">.</span><span class="n">Types</span> <span class="p">(</span><span class="n">DWORD</span><span class="p">)</span>

<span class="nv">foreign</span> <span class="kr">import</span> <span class="nv">stdcall</span> <span class="s">&quot;Beep&quot;</span> <span class="nv">beep</span> <span class="o">::</span> <span class="n">DWORD</span> <span class="o">-&gt;</span> <span class="n">DWORD</span> <span class="o">-&gt;</span> <span class="n">IO</span> <span class="p">()</span>

<span class="nv">doTimer</span> <span class="o">::</span> <span class="n">Int</span> <span class="o">-&gt;</span> <span class="n">IO</span> <span class="p">()</span>
<span class="nv">doTimer</span> <span class="mi">0</span> <span class="o">=</span> <span class="nv">putStrLn</span> <span class="s">&quot;It&#39;s time!&quot;</span> <span class="o">&gt;&gt;</span> <span class="nv">beep</span> <span class="mi">800</span> <span class="mi">500</span>
<span class="nv">doTimer</span> <span class="nv">sec</span> <span class="o">=</span> <span class="kr">do</span>
    <span class="nv">putStrLn</span> <span class="o">$</span> <span class="p">(</span><span class="nv">show</span> <span class="nv">sec</span><span class="p">)</span> <span class="o">++</span> <span class="s">&quot; seconds remaining&quot;</span>
    <span class="nv">sleep</span> <span class="mi">1000</span> <span class="c1">-- 1000  msec = 1 sec</span>
    <span class="nv">doTimer</span> <span class="p">(</span><span class="nv">sec</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>    
    
<span class="nv">main</span> <span class="o">=</span> <span class="nv">getArgs</span> <span class="o">&gt;&gt;=</span> <span class="nv">doTimer</span> <span class="o">.</span> <span class="nv">read</span> <span class="o">.</span> <span class="nv">head</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/8961/addtag/" class="addtag" id="addtag_8961">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100628133901/http://ja.doukaku.org/lang/haskell/">
		Haskell
      </a>]
	  
      [<a href="/web/20100628133901/http://ja.doukaku.org/comment/8961/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100628133901/http://ja.doukaku.org/comment/8961/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8961"
  >-</span><span
  class="button yellow"
  id="rating_z_8961"
  >0</span><span 
  class="button green"
  id="rating_p_8961"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100628133901/http://ja.doukaku.org/240/reply_to/8961/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment9001">
  <p class="banner"><a href="/web/20100628133901/http://ja.doukaku.org/user/1045/" target="_top">ワサビ</a>

	
	&nbsp;
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/9001/">#9001</a>(<script language="JavaScript">print_time(new Date("2009/05/23 22:12 GMT"));</script><noscript>2009/05/23 22:12 GMT</noscript>)
	
	
	
	[<a href="/web/20100628133901/http://ja.doukaku.org/lang/ocaml/">
	  OCaml
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  GUIウィンドウ上に、測定時間の入力ボックス・残り時間の表示部・タイマーのスタートボタンを配置しています。<br/>入力ボックスには「分：秒」または「秒」での指定が可能です。<br/>測定可能範囲は0:01～59:59で、範囲外の時間や不正な値を入力をするとエラーアイコンが表示されます。
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41</pre></td><td class="code"><div class="highlight"><pre><span class="k">#</span><span class="n">light</span>

<span class="kr">open</span> <span class="n">System</span>
<span class="kr">open</span> <span class="n">System</span><span class="k">.</span><span class="n">Windows</span><span class="k">.</span><span class="n">Forms</span>
<span class="kr">open</span> <span class="n">System</span><span class="k">.</span><span class="n">Drawing</span>

<span class="kr">let</span> <span class="n">label1</span> <span class="k">=</span> <span class="kr">new</span> <span class="n">Label</span><span class="k">(</span><span class="n">Location</span> <span class="k">=</span> <span class="kr">new</span> <span class="n">Point</span><span class="k">(</span><span class="mi">10</span><span class="k">,</span> <span class="mi">12</span><span class="k">),</span> <span class="n">AutoSize</span> <span class="k">=</span> <span class="kr">true</span><span class="k">,</span> <span class="n">Text</span> <span class="k">=</span> <span class="s2">&quot;測定時間&quot;</span><span class="k">)</span>
<span class="kr">let</span> <span class="n">textBoxTime</span> <span class="k">=</span> <span class="kr">new</span> <span class="n">TextBox</span><span class="k">(</span><span class="n">Location</span> <span class="k">=</span> <span class="kr">new</span> <span class="n">Point</span><span class="k">(</span><span class="mi">100</span><span class="k">,</span> <span class="mi">10</span><span class="k">),</span> <span class="n">Width</span> <span class="k">=</span> <span class="mi">50</span><span class="k">)</span>
<span class="kr">let</span> <span class="n">label2</span> <span class="k">=</span> <span class="kr">new</span> <span class="n">Label</span><span class="k">(</span><span class="n">Location</span> <span class="k">=</span> <span class="kr">new</span> <span class="n">Point</span><span class="k">(</span><span class="mi">10</span><span class="k">,</span> <span class="mi">40</span><span class="k">),</span> <span class="n">AutoSize</span> <span class="k">=</span> <span class="kr">true</span><span class="k">,</span> <span class="n">Text</span> <span class="k">=</span> <span class="s2">&quot;残り時間&quot;</span><span class="k">)</span>
<span class="kr">let</span> <span class="n">labelRest</span> <span class="k">=</span> <span class="kr">new</span> <span class="n">Label</span><span class="k">(</span><span class="n">Location</span> <span class="k">=</span> <span class="kr">new</span> <span class="n">Point</span><span class="k">(</span><span class="mi">100</span><span class="k">,</span> <span class="mi">40</span><span class="k">),</span> <span class="n">AutoSize</span> <span class="k">=</span> <span class="kr">true</span><span class="k">,</span> <span class="n">Text</span> <span class="k">=</span> <span class="s2">&quot;&quot;</span><span class="k">)</span>
<span class="kr">let</span> <span class="n">buttonStart</span> <span class="k">=</span> <span class="kr">new</span> <span class="n">Button</span><span class="k">(</span><span class="n">Location</span> <span class="k">=</span> <span class="kr">new</span> <span class="n">Point</span><span class="k">(</span><span class="mi">10</span><span class="k">,</span> <span class="mi">80</span><span class="k">),</span> <span class="n">AutoSize</span> <span class="k">=</span> <span class="kr">true</span><span class="k">,</span> <span class="n">Text</span> <span class="k">=</span> <span class="s2">&quot;スタート&quot;</span><span class="k">)</span>
<span class="kr">let</span> <span class="n">errorProvider</span> <span class="k">=</span> <span class="kr">new</span> <span class="n">ErrorProvider</span><span class="k">(</span><span class="n">BlinkStyle</span> <span class="k">=</span> <span class="n">ErrorBlinkStyle</span><span class="k">.</span><span class="n">BlinkIfDifferentError</span><span class="k">)</span>
<span class="kr">let</span> <span class="n">timer</span> <span class="k">=</span> <span class="kr">new</span> <span class="n">Timer</span><span class="k">(</span><span class="n">Interval</span> <span class="k">=</span> <span class="mi">1000</span><span class="k">)</span>
<span class="kr">let</span> <span class="n">rest</span> <span class="k">=</span> <span class="kr">new</span> <span class="n">TimeSpan</span><span class="k">()</span> <span class="k">|&gt;</span> <span class="n">ref</span>
<span class="kr">let</span> <span class="n">printRest</span> <span class="k">(</span><span class="n">rest</span> <span class="k">:</span> <span class="n">TimeSpan</span><span class="k">)</span> <span class="k">=</span> <span class="n">labelRest</span><span class="k">.</span><span class="n">Text</span> <span class="k">&lt;-</span> <span class="n">sprintf</span> <span class="s2">&quot;%d:%02d&quot;</span> <span class="n">rest</span><span class="k">.</span><span class="n">Minutes</span> <span class="n">rest</span><span class="k">.</span><span class="n">Seconds</span>
<span class="n">buttonStart</span><span class="k">.</span><span class="n">Click</span><span class="k">.</span><span class="n">Add</span> <span class="k">(</span><span class="kr">fun</span> <span class="k">_</span> <span class="k">-&gt;</span>
    <span class="kr">match</span> <span class="n">Text</span><span class="k">.</span><span class="n">RegularExpressions</span><span class="k">.</span><span class="n">Regex</span><span class="k">.</span><span class="n">Match</span><span class="k">(</span><span class="n">textBoxTime</span><span class="k">.</span><span class="n">Text</span><span class="k">,</span> <span class="o">@</span><span class="s2">&quot;^((</span><span class="err">\</span><span class="s2">d+):)?(</span><span class="err">\</span><span class="s2">d+)$&quot;</span><span class="k">)</span> <span class="kr">with</span>
    <span class="k">|</span> <span class="n">m</span> <span class="kr">when</span> <span class="n">not</span> <span class="n">m</span><span class="k">.</span><span class="n">Success</span> <span class="k">-&gt;</span>
        <span class="n">errorProvider</span><span class="k">.</span><span class="n">SetError</span><span class="k">(</span><span class="n">textBoxTime</span><span class="k">,</span> <span class="s2">&quot;秒 または 分:秒 で指定してください&quot;</span><span class="k">)</span>
    <span class="k">|</span> <span class="n">m</span> <span class="k">-&gt;</span>
        <span class="kr">let</span> <span class="n">min</span> <span class="k">=</span> <span class="kr">if</span> <span class="n">m</span><span class="k">.</span><span class="n">Groups</span><span class="k">.[</span><span class="mi">1</span><span class="k">].</span><span class="n">Success</span> <span class="kr">then</span> <span class="n">int</span> <span class="n">m</span><span class="k">.</span><span class="n">Groups</span><span class="k">.[</span><span class="mi">2</span><span class="k">].</span><span class="n">Value</span> <span class="kr">else</span> <span class="mi">0</span>
        <span class="kr">match</span> <span class="kr">new</span> <span class="n">TimeSpan</span><span class="k">(</span><span class="mi">0</span><span class="k">,</span> <span class="n">min</span><span class="k">,</span> <span class="n">int</span> <span class="n">m</span><span class="k">.</span><span class="n">Groups</span><span class="k">.[</span><span class="mi">3</span><span class="k">].</span><span class="n">Value</span><span class="k">)</span> <span class="kr">with</span>
        <span class="k">|</span> <span class="n">rest&#39;</span> <span class="kr">when</span> <span class="n">rest&#39;</span><span class="k">.</span><span class="n">TotalSeconds</span> <span class="k">=</span> <span class="mi">0</span><span class="k">.</span> <span class="k">-&gt;</span>
            <span class="n">errorProvider</span><span class="k">.</span><span class="n">SetError</span><span class="k">(</span><span class="n">textBoxTime</span><span class="k">,</span> <span class="s2">&quot;1秒以上を指定してください&quot;</span><span class="k">)</span>
        <span class="k">|</span> <span class="n">rest&#39;</span> <span class="kr">when</span> <span class="n">rest&#39;</span><span class="k">.</span><span class="n">TotalHours</span> <span class="k">&gt;=</span> <span class="mi">1</span><span class="k">.</span> <span class="k">-&gt;</span>
            <span class="n">errorProvider</span><span class="k">.</span><span class="n">SetError</span><span class="k">(</span><span class="n">textBoxTime</span><span class="k">,</span> <span class="s2">&quot;1時間未満を指定してください&quot;</span><span class="k">)</span>
        <span class="k">|</span> <span class="n">rest&#39;</span> <span class="k">-&gt;</span>
            <span class="n">errorProvider</span><span class="k">.</span><span class="n">SetError</span><span class="k">(</span><span class="n">textBoxTime</span><span class="k">,</span> <span class="s2">&quot;&quot;</span><span class="k">)</span>
            <span class="n">printRest</span> <span class="n">rest&#39;</span>
            <span class="n">rest</span> <span class="k">:=</span> <span class="n">rest&#39;</span>
            <span class="n">timer</span><span class="k">.</span><span class="n">Start</span><span class="k">())</span>
<span class="n">timer</span><span class="k">.</span><span class="n">Tick</span><span class="k">.</span><span class="n">Add</span> <span class="k">(</span><span class="kr">fun</span> <span class="k">_</span> <span class="k">-&gt;</span>
    <span class="n">rest</span> <span class="k">:=</span> <span class="o">!</span><span class="n">rest</span> <span class="k">-</span> <span class="kr">new</span> <span class="n">TimeSpan</span><span class="k">(</span><span class="mi">0</span><span class="k">,</span> <span class="mi">0</span><span class="k">,</span> <span class="mi">1</span><span class="k">)</span>
    <span class="n">printRest</span> <span class="o">!</span><span class="n">rest</span>
    <span class="kr">if</span> <span class="k">(</span><span class="o">!</span><span class="n">rest</span><span class="k">).</span><span class="n">TotalSeconds</span> <span class="k">=</span> <span class="mi">0</span><span class="k">.</span> <span class="kr">then</span>
        <span class="n">timer</span><span class="k">.</span><span class="n">Stop</span><span class="k">()</span>
        <span class="n">Media</span><span class="k">.</span><span class="n">SystemSounds</span><span class="k">.</span><span class="n">Asterisk</span><span class="k">.</span><span class="n">Play</span><span class="k">())</span>
<span class="kr">let</span> <span class="n">form</span> <span class="k">=</span> <span class="kr">new</span> <span class="n">Form</span><span class="k">(</span><span class="n">Text</span> <span class="k">=</span> <span class="s2">&quot;キッチンタイマー&quot;</span><span class="k">,</span> <span class="n">Size</span> <span class="k">=</span> <span class="kr">new</span> <span class="n">Size</span><span class="k">(</span><span class="mi">200</span><span class="k">,</span> <span class="mi">160</span><span class="k">),</span> <span class="n">AcceptButton</span> <span class="k">=</span> <span class="n">buttonStart</span><span class="k">)</span>
<span class="k">[|(</span><span class="n">label1</span> <span class="k">:&gt;</span> <span class="n">Control</span><span class="k">);</span> <span class="k">(</span><span class="n">textBoxTime</span> <span class="k">:&gt;</span> <span class="n">Control</span><span class="k">);</span> <span class="k">(</span><span class="n">label2</span> <span class="k">:&gt;</span> <span class="n">Control</span><span class="k">);</span> <span class="k">(</span><span class="n">labelRest</span> <span class="k">:&gt;</span> <span class="n">Control</span><span class="k">);</span> <span class="k">(</span><span class="n">buttonStart</span> <span class="k">:&gt;</span> <span class="n">Control</span><span class="k">)|]</span>
<span class="k">|&gt;</span> <span class="n">form</span><span class="k">.</span><span class="n">Controls</span><span class="k">.</span><span class="n">AddRange</span>
<span class="n">form</span><span class="k">.</span><span class="n">ShowDialog</span><span class="k">()</span> <span class="k">|&gt;</span> <span class="n">ignore</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/9001/addtag/" class="addtag" id="addtag_9001">タグ</a>:
	
    
    <a href="/web/20100628133901/http://ja.doukaku.org/tag/F%23/">F#</a>
    
	&nbsp;

	
      [<a href="/web/20100628133901/http://ja.doukaku.org/lang/ocaml/">
		OCaml
      </a>]
	  
      [<a href="/web/20100628133901/http://ja.doukaku.org/comment/9001/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100628133901/http://ja.doukaku.org/comment/9001/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_9001"
  >-</span><span
  class="button yellow"
  id="rating_z_9001"
  >0</span><span 
  class="button green"
  id="rating_p_9001"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100628133901/http://ja.doukaku.org/240/reply_to/9001/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment9021">
  <p class="banner"><a href="/web/20100628133901/http://ja.doukaku.org/user/828/" target="_top">ポケット</a>

	
	&nbsp;
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/9021/">#9021</a>(<script language="JavaScript">print_time(new Date("2009/05/29 21:23 GMT"));</script><noscript>2009/05/29 21:23 GMT</noscript>)
	
	
	
	[<a href="/web/20100628133901/http://ja.doukaku.org/lang/commonlisp/">
	  Common Lisp
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></td><td class="code"><div class="highlight"><pre>(defun second-&gt;minutes (x)
  (let ((minute (floor x 60)))
    (list minute (- x (* minute 60)))))

(defun timer (x y)
  (let ((seconder (+ (* x 60) y)))
    (if (zerop seconder)
          (princ (code-char 7))
    (progn (format t &quot;~A : ~A~%&quot; (car (second-&gt;minutes seconder)) 
               (cadr (second-&gt;minutes seconder)))
           (princ (code-char 13))
           (sleep 1)
           (timer x (1- y))))))
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/9021/addtag/" class="addtag" id="addtag_9021">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100628133901/http://ja.doukaku.org/lang/commonlisp/">
		Common Lisp
      </a>]
	  
      [<a href="/web/20100628133901/http://ja.doukaku.org/comment/9021/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100628133901/http://ja.doukaku.org/comment/9021/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_9021"
  >-</span><span
  class="button yellow"
  id="rating_z_9021"
  >0</span><span 
  class="button green"
  id="rating_p_9021"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100628133901/http://ja.doukaku.org/240/reply_to/9021/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment9025">
  <p class="banner"><a href="/web/20100628133901/http://ja.doukaku.org/user/828/" target="_top">ポケット</a>

	
	&nbsp;
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/9025/">#9025</a>(<script language="JavaScript">print_time(new Date("2009/05/31 11:22 GMT"));</script><noscript>2009/05/31 11:22 GMT</noscript>)
	
	
	
	[<a href="/web/20100628133901/http://ja.doukaku.org/lang/cpp/">
	  C++
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47</pre></td><td class="code"><div class="highlight"><pre><span class="cp">#include &lt;iostream&gt;</span>

<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Timer</span>
<span class="p">{</span>
<span class="k">private</span><span class="o">:</span>
  <span class="kt">int</span> <span class="n">minute</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">second</span><span class="p">;</span>
<span class="k">public</span><span class="o">:</span>
  <span class="n">Timer</span><span class="p">(</span><span class="kt">int</span> <span class="n">m</span><span class="p">,</span><span class="kt">int</span> <span class="n">s</span><span class="p">){</span>
    <span class="n">minute</span> <span class="o">=</span> <span class="n">m</span><span class="p">;</span>
    <span class="n">second</span> <span class="o">=</span> <span class="n">s</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="kt">void</span> <span class="n">count_down</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">while</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">minute</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">second</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;</span><span class="se">\a</span><span class="s">&quot;</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;時間です!!&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="k">break</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="n">cout</span><span class="p">.</span><span class="n">width</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
      <span class="n">cout</span><span class="p">.</span><span class="n">fill</span><span class="p">(</span><span class="sc">&#39;0&#39;</span><span class="p">);</span>
      <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">minute</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;:&quot;</span><span class="p">;</span>
      <span class="n">cout</span><span class="p">.</span><span class="n">width</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
      <span class="n">cout</span><span class="p">.</span><span class="n">fill</span><span class="p">(</span><span class="sc">&#39;0&#39;</span><span class="p">);</span>
      <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">second</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> 
      <span class="k">if</span> <span class="p">(</span><span class="n">second</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">minute</span><span class="o">--</span><span class="p">;</span>
    <span class="n">second</span> <span class="o">=</span> <span class="mi">60</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="n">second</span><span class="o">--</span><span class="p">;</span>
      <span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="kt">int</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="kt">int</span> <span class="n">minute</span><span class="p">,</span><span class="n">second</span><span class="p">;</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;分を指定してください(0 ~ 60) :&quot;</span> <span class="p">;</span>
  <span class="n">cin</span>  <span class="o">&gt;&gt;</span> <span class="n">minute</span><span class="p">;</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;秒を指定してください(0 ~ 59) :&quot;</span> <span class="p">;</span>
  <span class="n">cin</span>  <span class="o">&gt;&gt;</span> <span class="n">second</span><span class="p">;</span>
  <span class="n">Timer</span> <span class="n">timer</span><span class="p">(</span><span class="n">minute</span><span class="p">,</span><span class="n">second</span><span class="p">);</span>
  <span class="n">timer</span><span class="p">.</span><span class="n">count_down</span><span class="p">();</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/9025/addtag/" class="addtag" id="addtag_9025">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100628133901/http://ja.doukaku.org/lang/cpp/">
		C++
      </a>]
	  
      [<a href="/web/20100628133901/http://ja.doukaku.org/comment/9025/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100628133901/http://ja.doukaku.org/comment/9025/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_9025"
  >-</span><span
  class="button yellow"
  id="rating_z_9025"
  >0</span><span 
  class="button green"
  id="rating_p_9025"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100628133901/http://ja.doukaku.org/240/reply_to/9025/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment9029">
  <p class="banner"><a href="/web/20100628133901/http://ja.doukaku.org/user/641/" target="_top">seri</a><a href="/web/20100628133901/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100628133901im_/http://ja.doukaku.org/static/image/star_bronze.png" border=0/></a><a href="/web/20100628133901/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100628133901im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/9029/">#9029</a>(<script language="JavaScript">print_time(new Date("2009/06/01 14:05 GMT"));</script><noscript>2009/06/01 14:05 GMT</noscript>)
	
	
	
	[<a href="/web/20100628133901/http://ja.doukaku.org/lang/ruby/">
	  Ruby
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>cursesをつかってみました。
</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre></td><td class="code"><div class="highlight"><pre><span class="nb">require</span> <span class="s1">&#39;curses&#39;</span>
<span class="kp">include</span> <span class="no">Curses</span>

<span class="n">init_screen</span>
<span class="k">begin</span>
  <span class="n">w</span> <span class="o">=</span> <span class="no">Window</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
  <span class="n">w</span><span class="o">.</span><span class="n">addstr</span><span class="p">(</span><span class="s2">&quot;何秒間?</span><span class="se">\n</span><span class="s2">&gt; &quot;</span><span class="p">)</span>
  <span class="n">sec</span> <span class="o">=</span> <span class="n">w</span><span class="o">.</span><span class="n">getstr</span><span class="o">.</span><span class="n">to_i</span>
  <span class="n">sec</span><span class="o">.</span><span class="n">times</span> <span class="p">{</span> <span class="o">|</span><span class="n">t</span><span class="o">|</span>
    <span class="n">w</span><span class="o">.</span><span class="n">clear</span>
    <span class="n">w</span><span class="o">.</span><span class="n">setpos</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">w</span><span class="o">.</span><span class="n">addstr</span><span class="p">(</span><span class="s2">&quot;残り: </span><span class="si">#{</span><span class="n">sec</span> <span class="o">-</span> <span class="n">t</span><span class="si">}</span><span class="s2"> 秒&quot;</span><span class="p">)</span>
    <span class="n">w</span><span class="o">.</span><span class="n">refresh</span>
    <span class="nb">sleep</span> <span class="mi">1</span>
  <span class="p">}</span>
  <span class="n">beep</span>
  <span class="n">flash</span>
  <span class="n">w</span><span class="o">.</span><span class="n">clear</span>
  <span class="n">w</span><span class="o">.</span><span class="n">setpos</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
  <span class="n">w</span><span class="o">.</span><span class="n">addstr</span><span class="p">(</span><span class="s2">&quot;時間です (何かキーを押して終了)&quot;</span><span class="p">)</span>
  <span class="n">w</span><span class="o">.</span><span class="n">getch</span>
  <span class="n">w</span><span class="o">.</span><span class="n">close</span>
<span class="k">ensure</span>
  <span class="n">close_screen</span>
<span class="k">end</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/9029/addtag/" class="addtag" id="addtag_9029">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100628133901/http://ja.doukaku.org/lang/ruby/">
		Ruby
      </a>]
	  
      [<a href="/web/20100628133901/http://ja.doukaku.org/comment/9029/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100628133901/http://ja.doukaku.org/comment/9029/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_9029"
  >-</span><span
  class="button yellow"
  id="rating_z_9029"
  >0</span><span 
  class="button green"
  id="rating_p_9029"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100628133901/http://ja.doukaku.org/240/reply_to/9029/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment9306">
  <p class="banner"><a href="/web/20100628133901/http://ja.doukaku.org/user/100/" target="_top">konn</a><a href="/web/20100628133901/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100628133901im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/9306/">#9306</a>(<script language="JavaScript">print_time(new Date("2009/07/08 04:21 GMT"));</script><noscript>2009/07/08 04:21 GMT</noscript>)
	
	
	
	[<a href="/web/20100628133901/http://ja.doukaku.org/lang/haskell/">
	  Haskell
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>POSIX 系限定です。
カウントダウンは同じ行でやる様にしみました。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></td><td class="code"><div class="highlight"><pre><span class="kr">module</span> <span class="n">Kitchen</span> <span class="kr">where</span>
<span class="kr">import</span> <span class="n">System</span><span class="o">.</span><span class="n">Environment</span> <span class="p">(</span><span class="nv">getArgs</span><span class="p">,</span> <span class="nv">getProgName</span><span class="p">)</span>
<span class="kr">import</span> <span class="n">System</span><span class="o">.</span><span class="n">IO</span> <span class="p">(</span><span class="nv">hFlush</span><span class="p">,</span> <span class="nv">stdout</span><span class="p">)</span>
<span class="kr">import</span> <span class="n">System</span><span class="o">.</span><span class="n">Posix</span><span class="o">.</span><span class="n">Unistd</span> <span class="p">(</span><span class="nv">sleep</span><span class="p">)</span>

<span class="nv">main</span> <span class="o">=</span> <span class="kr">do</span> <span class="nv">args</span> <span class="o">&lt;-</span> <span class="nv">getArgs</span>
          <span class="nv">pname</span> <span class="o">&lt;-</span> <span class="nv">getProgName</span>
          <span class="kr">case</span> <span class="nv">args</span> <span class="kr">of</span>
            <span class="p">(</span><span class="nv">s</span><span class="o">:</span><span class="kr">_</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nv">timer</span> <span class="o">$</span> <span class="nv">read</span> <span class="nv">s</span>
            <span class="kr">_</span>     <span class="o">-&gt;</span> <span class="nv">putStrLn</span> <span class="p">(</span><span class="s">&quot;usage: &quot;</span> <span class="o">++</span> <span class="nv">pname</span> <span class="o">++</span> <span class="s">&quot; [sec]&quot;</span><span class="p">)</span>
            
<span class="nv">timer</span> <span class="mi">0</span> <span class="o">=</span> <span class="nv">putStrLn</span> <span class="s">&quot;\CRremaining: 0\nFINISH!\BEL\BEL\BEL\BEL\BEL&quot;</span>
<span class="nv">timer</span> <span class="nv">s</span> <span class="o">=</span> <span class="kr">do</span>  <span class="nv">putStr</span> <span class="o">$</span> <span class="s">&quot;\CRremaining: &quot;</span> <span class="o">++</span> <span class="nv">seikei</span> <span class="nv">s</span>
              <span class="nv">hFlush</span> <span class="nv">stdout</span>
              <span class="nv">sleep</span> <span class="mi">1</span>
              <span class="nv">timer</span> <span class="p">(</span><span class="nv">s</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>

<span class="nv">seikei</span> <span class="nv">s</span> <span class="o">=</span> <span class="nv">take</span> <span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="nv">floor</span><span class="p">(</span><span class="nv">logBase</span> <span class="mi">10</span> <span class="p">(</span><span class="nv">fromIntegral</span><span class="o">$</span><span class="nv">s</span><span class="o">+</span><span class="mi">1</span><span class="p">)))</span> <span class="p">(</span><span class="nv">show</span> <span class="nv">s</span> <span class="o">++</span> <span class="nv">repeat</span> <span class="sc">&#39; &#39;</span><span class="p">)</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/9306/addtag/" class="addtag" id="addtag_9306">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100628133901/http://ja.doukaku.org/lang/haskell/">
		Haskell
      </a>]
	  
      [<a href="/web/20100628133901/http://ja.doukaku.org/comment/9306/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100628133901/http://ja.doukaku.org/comment/9306/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_9306"
  >-</span><span
  class="button yellow"
  id="rating_z_9306"
  >0</span><span 
  class="button green"
  id="rating_p_9306"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100628133901/http://ja.doukaku.org/240/reply_to/9306/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment9368">
  <p class="banner"><a href="/web/20100628133901/http://ja.doukaku.org/user/646/" target="_top">silverwire</a><a href="/web/20100628133901/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100628133901im_/http://ja.doukaku.org/static/image/star_silver.png" border=0/></a><a href="/web/20100628133901/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100628133901im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/9368/">#9368</a>(<script language="JavaScript">print_time(new Date("2009/07/14 21:21 GMT"));</script><noscript>2009/07/14 21:21 GMT</noscript>)
	
	
	
	[<a href="/web/20100628133901/http://ja.doukaku.org/lang/javascript/">
	  JavaScript
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>JavaScriptで。

タイマーが鳴るまでの時間はブラウザーのアドレスバーから以下の
ように指定します。

  e.g.
    file:///(パス文字列)/240.html?(秒数)

指定した時間が経過した後に鳴る音は、ダイアログがポップアップ
する時に鳴るもので勘弁してください。

 Firefox 2.0.0.6, Google Chrome 1.0.154.48, Opera 9.23で動作
を確認しました。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31</pre></td><td class="code"><div class="highlight"><pre><span class="o">&lt;</span><span class="nx">html</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nx">body</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
    <span class="nb">Function</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">repeat</span> <span class="o">=</span> 
    <span class="k">function</span> <span class="p">(</span><span class="nx">t</span><span class="o">,</span> <span class="nx">o</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">var</span> <span class="nx">_</span> <span class="o">=</span> <span class="k">this</span><span class="o">;</span>
        <span class="k">return</span> <span class="nx">setInterval</span><span class="p">(</span><span class="k">function</span> <span class="p">()</span> <span class="p">{</span> <span class="nx">_</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">o</span><span class="p">);</span> <span class="p">}</span><span class="o">,</span> <span class="nx">t</span><span class="p">);</span>
    <span class="p">};</span>

    <span class="k">var</span> <span class="nx">Timer</span> <span class="o">=</span> 
    <span class="k">function</span> <span class="p">(</span><span class="nx">t</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">id</span>   <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">time</span> <span class="o">=</span> <span class="nx">t</span><span class="o">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">tick</span> <span class="o">=</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">)</span> <span class="k">this</span><span class="p">.</span><span class="nx">id</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">tick</span><span class="p">.</span><span class="nx">repeat</span><span class="p">(</span><span class="mi">1000</span><span class="o">,</span> <span class="k">this</span><span class="p">);</span>
            <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">time</span> <span class="o">+</span> <span class="s1">&#39; second(s) remaining.&#39;</span><span class="o">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">time</span><span class="o">--</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="s1">&#39;!&#39;</span><span class="p">);</span>
                <span class="nx">clearTimeout</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">id</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">};</span>
    <span class="p">};</span>

    <span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> 
    <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">var</span> <span class="nx">t</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">location</span><span class="p">.</span><span class="nx">search</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">));</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nb">isNaN</span><span class="p">(</span><span class="nx">t</span><span class="p">))</span> <span class="k">new</span> <span class="nx">Timer</span><span class="p">(</span><span class="nx">t</span><span class="p">).</span><span class="nx">tick</span><span class="p">();</span>
    <span class="p">};</span>
<span class="o">&lt;/</span><span class="nx">script</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="nx">body</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="nx">html</span><span class="o">&gt;</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/9368/addtag/" class="addtag" id="addtag_9368">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100628133901/http://ja.doukaku.org/lang/javascript/">
		JavaScript
      </a>]
	  
      [<a href="/web/20100628133901/http://ja.doukaku.org/comment/9368/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100628133901/http://ja.doukaku.org/comment/9368/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_9368"
  >-</span><span
  class="button yellow"
  id="rating_z_9368"
  >0</span><span 
  class="button green"
  id="rating_p_9368"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100628133901/http://ja.doukaku.org/240/reply_to/9368/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment9440">
  <p class="banner"><a href="/web/20100628133901/http://ja.doukaku.org/user/647/" target="_top">ivoryworks</a><a href="/web/20100628133901/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100628133901im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/9440/">#9440</a>(<script language="JavaScript">print_time(new Date("2009/08/02 20:54 GMT"));</script><noscript>2009/08/02 20:54 GMT</noscript>)
	
	
	
	[<a href="/web/20100628133901/http://ja.doukaku.org/lang/hidemaru_macro/">
	  秀丸マクロ
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>入力は秒で。
タイムアウトで味気ないbeepが出力されます。
</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></td><td class="code"><div class="highlight"><pre>#sec = val(input(&quot;input sec.&quot;));
insert str(#sec)+&quot;\n&quot;;
#start = tickcount;
while (#sec) {
    if ((#start + 1000) &lt;= tickcount) {
        #start = tickcount;
        #sec = #sec - 1;
        moveto 0,0;
        beginsel;
        golineend;
        endsel;
        insert str(#sec);
        gofileend;
    }
}
beep;
endmacro;
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/9440/addtag/" class="addtag" id="addtag_9440">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100628133901/http://ja.doukaku.org/lang/hidemaru_macro/">
		秀丸マクロ
      </a>]
	  
      [<a href="/web/20100628133901/http://ja.doukaku.org/comment/9440/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100628133901/http://ja.doukaku.org/comment/9440/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_9440"
  >-</span><span
  class="button yellow"
  id="rating_z_9440"
  >0</span><span 
  class="button green"
  id="rating_p_9440"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100628133901/http://ja.doukaku.org/240/reply_to/9440/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment9542">
  <p class="banner"><a href="/web/20100628133901/http://ja.doukaku.org/user/959/" target="_top">uehaj</a>

	
	&nbsp;
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/9542/">#9542</a>(<script language="JavaScript">print_time(new Date("2009/09/01 07:25 GMT"));</script><noscript>2009/09/01 07:25 GMT</noscript>)
	
	
	
	[<a href="/web/20100628133901/http://ja.doukaku.org/lang/groovy/">
	  Groovy
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>groovy 1.7で匿名内部クラス（およびその他内部クラス）がサポートされたぞ記念。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></td><td class="code"><div class="highlight"><pre>import java.util.Timer;

def now() { System.currentTimeMillis() }
def start = now()
def end = start + Integer.parseInt(args[0]) * 1000

Timer t = new Timer();
t.schedule(new TimerTask() {
    public void run(){
      if (now() &gt; end) {
        println &quot;\7&quot;
        System.exit(0)
      }
      println((end-now())/1000)
    }
  }, 0, 1000);
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/9542/addtag/" class="addtag" id="addtag_9542">タグ</a>:
	
    
    <a href="/web/20100628133901/http://ja.doukaku.org/tag/1.7/">1.7</a>
    
	&nbsp;

	
      [<a href="/web/20100628133901/http://ja.doukaku.org/lang/groovy/">
		Groovy
      </a>]
	  
      [<a href="/web/20100628133901/http://ja.doukaku.org/comment/9542/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100628133901/http://ja.doukaku.org/comment/9542/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_9542"
  >-</span><span
  class="button yellow"
  id="rating_z_9542"
  >0</span><span 
  class="button green"
  id="rating_p_9542"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100628133901/http://ja.doukaku.org/240/reply_to/9542/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment10363">
  <p class="banner"><a href="/web/20100628133901/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20100628133901/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100628133901im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100628133901/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100628133901im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/10363/">#10363</a>(<script language="JavaScript">print_time(new Date("2010/03/28 23:51 GMT"));</script><noscript>2010/03/28 23:51 GMT</noscript>)
	
	
	
	[<a href="/web/20100628133901/http://ja.doukaku.org/lang/c/">
	  C
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>音はビープ音で</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27</pre></td><td class="code"><div class="highlight"><pre><span class="cp">#include &lt;stdio.h&gt;</span>
<span class="cp">#include &lt;stdlib.h&gt;</span>
<span class="cp">#include &lt;time.h&gt;</span>
<span class="cp">#include &lt;windows.h&gt;    </span><span class="c">/* Sleep用 */</span><span class="cp"></span>

<span class="kt">int</span> <span class="n">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">argv</span><span class="p">[]){</span>
    <span class="kt">int</span> <span class="n">sec</span><span class="p">,</span> <span class="n">beep_cnt</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
    <span class="n">clock_t</span> <span class="n">old_time</span><span class="p">,</span> <span class="n">new_time</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">argc</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">)</span> <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
    <span class="n">sec</span> <span class="o">=</span> <span class="n">atoi</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
    <span class="n">old_time</span> <span class="o">=</span> <span class="n">clock</span><span class="p">();</span>
    <span class="k">while</span><span class="p">(</span><span class="mi">1</span><span class="p">){</span>
        <span class="n">new_time</span> <span class="o">=</span> <span class="n">clock</span><span class="p">();</span>
        <span class="k">if</span> <span class="p">((</span><span class="n">new_time</span> <span class="o">-</span> <span class="n">old_time</span><span class="p">)</span> <span class="o">/</span> <span class="mi">1000</span> <span class="o">&gt;=</span> <span class="n">sec</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\r</span><span class="s">00</span><span class="se">\n</span><span class="s">時間です</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
            <span class="k">while</span><span class="p">(</span><span class="n">beep_cnt</span> <span class="o">--</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">putchar</span><span class="p">(</span><span class="sc">&#39;\a&#39;</span><span class="p">);</span>
                <span class="n">putchar</span><span class="p">(</span><span class="sc">&#39;\r&#39;</span><span class="p">);</span>
                <span class="n">Sleep</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\r</span><span class="s">%02d&quot;</span><span class="p">,</span> <span class="n">sec</span> <span class="o">-</span> <span class="p">((</span><span class="n">new_time</span> <span class="o">-</span> <span class="n">old_time</span><span class="p">)</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">));</span>
        <span class="n">Sleep</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100628133901/http://ja.doukaku.org/comment/10363/addtag/" class="addtag" id="addtag_10363">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100628133901/http://ja.doukaku.org/lang/c/">
		C
      </a>]
	  
      [<a href="/web/20100628133901/http://ja.doukaku.org/comment/10363/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100628133901/http://ja.doukaku.org/comment/10363/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_10363"
  >-</span><span
  class="button yellow"
  id="rating_z_10363"
  >0</span><span 
  class="button green"
  id="rating_p_10363"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100628133901/http://ja.doukaku.org/240/reply_to/10363/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>







</div>

<div id="side_menu" class="compact">

<iframe src="/web/20100628133901if_/http://ja.doukaku.org/login_info/" frameborder=0 width=100% id="login_info">
iframe required
</iframe>

<h4 class="semi_compact">一覧</h4>

<ul>
<!--<li><a href="/web/20100628133901/http://ja.doukaku.org/user/">ユーザ</a>-->
<li><a href="/web/20100628133901/http://ja.doukaku.org/lang/">言語</a>
<li><a href="/web/20100628133901/http://ja.doukaku.org/challenge/">お題</a>
<li><a href="/web/20100628133901/http://ja.doukaku.org/topic/">トピック</a>
<li><a href="/web/20100628133901/http://ja.doukaku.org/comment/">投稿</a>
<li><a href="/web/20100628133901/http://ja.doukaku.org/good_comments/">評価の高い投稿</a>
<li><a href="/web/20100628133901/http://ja.doukaku.org/tag/">タグ</a>
</ul>

<h4 class="compact">フィード</h4>
<ul>
<li><a href="/web/20100628133901/http://ja.doukaku.org/feeds/challenges/">最新のお題</a><img src="/web/20100628133901im_/http://ja.doukaku.org/static/image/feed_icon.png">
<li><a href="/web/20100628133901/http://ja.doukaku.org/feeds/topics/">最新のトピック</a><img src="/web/20100628133901im_/http://ja.doukaku.org/static/image/feed_icon.png">
<li><a href="/web/20100628133901/http://ja.doukaku.org/feeds/comments/">新着投稿</a><img src="/web/20100628133901im_/http://ja.doukaku.org/static/image/feed_icon.png">
</ul>







<h4 class="compact">その他</h4>
<ul>
<li><a href="/web/20100628133901/http://ja.doukaku.org/qa/">Q&A</a>
<li><a href="/web/20100628133901/http://ja.doukaku.org/feedback/">フィードバック</a>
<!--<li><a href="/web/20100628133901/http://ja.doukaku.org/terms">用語集</a>-->
</ul>


<h4 class="compact">リンク</h4>
<ul>
<li><a href="/web/20100628133901/http://www.lingr.com/room/doukaku_ja">チャットルーム(Lingr)</a>
<li><a href="/web/20100628133901/http://labs.cybozu.co.jp/">サイボウズ・ラボ</a>
<li><a href="/web/20100628133901/http://www.djangoproject.com/">Django</a>
</ul>

<h4 id="pathtraq" class="compact"><a href="/web/20100628133901/http://pathtraq.com/analytics?url=http%3A%2F%2Fja.doukaku.org%2Fcomment%2F*%2F%20desc%3A%E3%81%A9%E3%81%86%E6%9B%B8%E3%81%8Forg&m=popular">Pathtraq</a></h4>
<div class="indent">
<span id="pathtraq_sentinel">loading...</span>
</div>


</div>
</div>


<div id="page_foot" class="bordered">

<a rel="license" href="/web/20100628133901/http://creativecommons.org/licenses/by/2.1/jp/">
<img alt="Creative Commons License" style="border-width:0" src="/web/20100628133901im_/http://i.creativecommons.org/l/by/2.1/jp/88x31.png" /></a>
このサイトの内容は、
<a rel="license" href="/web/20100628133901/http://creativecommons.org/licenses/by/2.1/jp/">クリエイティブ・コモンズ・ライセンス</a>の下でライセンスされています。
<a href="/web/20100628133901/http://ja.doukaku.org/qa/#licence">[詳細]</a>

</div>

</body>




<script type="text/javascript">
$(document).ready(function(){$("#doukaku_org").after("<script src='/web/20100628133901/http://api.pathtraq.com/pages?url=http%3A%2F%2Fja.doukaku.org%2Fcomment%2F*%2F%20desc%3A%E3%81%A9%E3%81%86%E6%9B%B8%E3%81%8Forg&api=json&callback=addPathtraq'><" + "/script>")});
</script>

<script src="/web/20100628133901js_/http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-2136157-1";
urchinTracker();
</script>




</html>





<!--
     FILE ARCHIVED ON 13:39:01 Jun 28, 2010 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 12:47:06 Nov 16, 2013.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
