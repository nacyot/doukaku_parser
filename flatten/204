
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja"> 
  <head>

<script type="text/javascript" src="/static/js/analytics.js" ></script>
<link type="text/css" rel="stylesheet" href="/static/css/banner-styles.css"/>




    <meta http-equiv="Content-type" content="text/html; charset=UTF-8" />
    <title>
文字列型日時ののN秒後時間取得
どう書く？org </title>

    <link rel="stylesheet" type="text/css"
	href="/web/20090317043846cs_/http://ja.doukaku.org/static/style/reset-fonts-grids.css" />
    <link rel="stylesheet" type="text/css"
	href="/web/20090317043846cs_/http://ja.doukaku.org/static/style/style.css?20071211?20071207" />
	
    <link rel="stylesheet" type="text/css"
	href="/web/20090317043846cs_/http://ja.doukaku.org/static/style/pygments.css" />


	
<meta name="robots" content="noindex,nofollow">

    <!--<script src="/web/20090317043846/http://ja.doukaku.org/static/js/ieerbug/ieerbug.js" type="text/javascript"></script>-->


<!--<script src="/web/20090317043846/http://ja.doukaku.org/static/js/ieerbug/ieerbug.js" type="text/javascript"></script>-->
<script src="/web/20090317043846js_/http://ja.doukaku.org/static/js/jquery-1.1.3.1.js" type="text/javascript"></script>
<script src="/web/20090317043846js_/http://ja.doukaku.org/static/js/rating.js" type="text/javascript"></script>
<script src="/web/20090317043846js_/http://ja.doukaku.org/static/js/addtag.js?20071129" type="text/javascript"></script>

<script type="text/javascript">
is_key_navigation_enable = true;
</script>
<script src="/web/20090317043846js_/http://ja.doukaku.org/static/js/utils.js?~~~" type="text/javascript"></script>

</head>


<body id="doukaku_org">
<!-- BEGIN WAYBACK TOOLBAR INSERT -->
<script> if (window.archive_analytics) { window.archive_analytics.values['server_name']="wwwb-app2.us.archive.org";}; </script>

<script type="text/javascript" src="/static/js/disclaim-element.js" ></script>
<script type="text/javascript" src="/static/js/graph-calc.js" ></script>
<script type="text/javascript" src="/static/jflot/jquery.min.js" ></script>
<script type="text/javascript">
//<![CDATA[
var firstDate = 820454400000;
var lastDate = 1388534399999;
var wbPrefix = "/web/";
var wbCurrentUrl = "http:\/\/ja.doukaku.org\/204\/flatten\/";

var curYear = -1;
var curMonth = -1;
var yearCount = 18;
var firstYear = 1996;
var imgWidth = 450;
var yearImgWidth = 25;
var monthImgWidth = 2;
var trackerVal = "none";
var displayDay = "17";
var displayMonth = "Mar";
var displayYear = "2009";
var prettyMonths = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];

function showTrackers(val) {
	if(val == trackerVal) {
		return;
	}
	if(val == "inline") {
		document.getElementById("displayYearEl").style.color = "#ec008c";
		document.getElementById("displayMonthEl").style.color = "#ec008c";
		document.getElementById("displayDayEl").style.color = "#ec008c";		
	} else {
		document.getElementById("displayYearEl").innerHTML = displayYear;
		document.getElementById("displayYearEl").style.color = "#ff0";
		document.getElementById("displayMonthEl").innerHTML = displayMonth;
		document.getElementById("displayMonthEl").style.color = "#ff0";
		document.getElementById("displayDayEl").innerHTML = displayDay;
		document.getElementById("displayDayEl").style.color = "#ff0";
	}
   document.getElementById("wbMouseTrackYearImg").style.display = val;
   document.getElementById("wbMouseTrackMonthImg").style.display = val;
   trackerVal = val;
}
function getElementX2(obj) {
	var thing = jQuery(obj);
	if((thing == undefined) 
			|| (typeof thing == "undefined") 
			|| (typeof thing.offset == "undefined")) {
		return getElementX(obj);
	}
	return Math.round(thing.offset().left);
}
function trackMouseMove(event,element) {

   var eventX = getEventX(event);
   var elementX = getElementX2(element);
   var xOff = eventX - elementX;
	if(xOff < 0) {
		xOff = 0;
	} else if(xOff > imgWidth) {
		xOff = imgWidth;
	}
   var monthOff = xOff % yearImgWidth;

   var year = Math.floor(xOff / yearImgWidth);
	var yearStart = year * yearImgWidth;
   var monthOfYear = Math.floor(monthOff / monthImgWidth);
   if(monthOfYear > 11) {
       monthOfYear = 11;
   }
   // 1 extra border pixel at the left edge of the year:
   var month = (year * 12) + monthOfYear;
   var day = 1;
	if(monthOff % 2 == 1) {
		day = 15;
	}
	var dateString = 
		zeroPad(year + firstYear) + 
		zeroPad(monthOfYear+1,2) +
		zeroPad(day,2) + "000000";

	var monthString = prettyMonths[monthOfYear];
	document.getElementById("displayYearEl").innerHTML = year + 1996;
	document.getElementById("displayMonthEl").innerHTML = monthString;
	// looks too jarring when it changes..
	//document.getElementById("displayDayEl").innerHTML = zeroPad(day,2);

	var url = wbPrefix + dateString + '/' +  wbCurrentUrl;
	document.getElementById('wm-graph-anchor').href = url;

   //document.getElementById("wmtbURL").value="evX("+eventX+") elX("+elementX+") xO("+xOff+") y("+year+") m("+month+") monthOff("+monthOff+") DS("+dateString+") Moy("+monthOfYear+") ms("+monthString+")";
   if(curYear != year) {
       var yrOff = year * yearImgWidth;
       document.getElementById("wbMouseTrackYearImg").style.left = yrOff + "px";
       curYear = year;
   }
   if(curMonth != month) {
       var mtOff = year + (month * monthImgWidth) + 1;
       document.getElementById("wbMouseTrackMonthImg").style.left = mtOff + "px";
       curMonth = month;
   }
}
//]]>
</script>

<style type="text/css">body{margin-top:0!important;padding-top:0!important;min-width:800px!important;}#wm-ipp a:hover{text-decoration:underline!important;}</style>
<div id="wm-ipp" lang="en" class="__wb_banner_div" style="display:none; position:relative;padding:0 5px;min-height:70px;min-width:800px">


<div id="wm-ipp-inside" class="__wb_banner_div" style="position:fixed;padding:0!important;margin:0!important;width:97%;min-width:780px;border:5px solid #000;border-top:none;background-image:url(/static/images/toolbar/wm_tb_bk_trns.png);text-align:center;-moz-box-shadow:1px 1px 3px #333;-webkit-box-shadow:1px 1px 3px #333;box-shadow:1px 1px 3px #333;font-size:11px!important;font-family:'Lucida Grande','Arial',sans-serif!important;">
   <table style="border-collapse:collapse;margin:0;padding:0;width:100%;"><tbody><tr>
   <td style="padding:10px;vertical-align:top;min-width:110px;">
   <a href="/web/" title="Wayback Machine home page" style="background-color:transparent;border:none;"><img src="/static/images/toolbar/wayback-toolbar-logo.png" alt="Wayback Machine" width="110" height="39" border="0"/></a>
   </td>
   <td style="padding:0!important;text-align:center;vertical-align:top;width:100%;">

       <table style="border-collapse:collapse;margin:0 auto;padding:0;width:570px;"><tbody><tr>
       <td style="padding:3px 0;" colspan="2">
       <form target="_top" method="get" action="/web/form-submit.jsp" name="wmtb" id="wmtb" style="margin:0!important;padding:0!important;"><input type="text" name="url" id="wmtbURL" value="http://ja.doukaku.org/204/flatten/" style="width:400px;font-size:11px;font-family:'Lucida Grande','Arial',sans-serif;" onfocus="javascript:this.focus();this.select();" /><input type="hidden" name="type" value="replay" /><input type="hidden" name="date" value="20090317043846" /><input type="submit" value="Go" style="font-size:11px;font-family:'Lucida Grande','Arial',sans-serif;margin-left:5px;width: inherit !important" /><span id="wm_tb_options" style="display:block;"></span></form>
       </td>
       <td style="vertical-align:bottom;padding:5px 0 0 0!important;" rowspan="2">
           <table style="border-collapse:collapse;width:110px;color:#99a;font-family:'Helvetica','Lucida Grande','Arial',sans-serif;"><tbody>
			
           <!-- NEXT/PREV MONTH NAV AND MONTH INDICATOR -->
           <tr style="width:110px;height:16px;font-size:10px!important;">
           	<td style="padding-right:9px;font-size:11px!important;font-weight:bold;text-transform:uppercase;text-align:right;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
		                <a href="/web/20081202221624/http://ja.doukaku.org/204/flatten/" style="text-decoration:none;color:#33f;font-weight:bold;background-color:transparent;border:none;" title="2 Dec 2008"><strong>DEC</strong></a>
		                
               </td>
               <td id="displayMonthEl" style="background:#000;color:#ff0;font-size:11px!important;font-weight:bold;text-transform:uppercase;width:34px;height:15px;padding-top:1px;text-align:center;" title="You are here: 4:38:46 Mar 17, 2009">MAR</td>
				<td style="padding-left:9px;font-size:11px!important;font-weight:bold;text-transform:uppercase;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       Apr
                       
               </td>
           </tr>

           <!-- NEXT/PREV CAPTURE NAV AND DAY OF MONTH INDICATOR -->
           <tr>
               <td style="padding-right:9px;white-space:nowrap;overflow:visible;text-align:right!important;vertical-align:middle!important;" nowrap="nowrap">
               
		                <a href="/web/20081202221624/http://ja.doukaku.org/204/flatten/" title="22:16:24 Dec 2, 2008" style="background-color:transparent;border:none;"><img src="/static/images/toolbar/wm_tb_prv_on.png" alt="Previous capture" width="14" height="16" border="0" /></a>
		                
               </td>
               <td id="displayDayEl" style="background:#000;color:#ff0;width:34px;height:24px;padding:2px 0 0 0;text-align:center;font-size:24px;font-weight: bold;" title="You are here: 4:38:46 Mar 17, 2009">17</td>
				<td style="padding-left:9px;white-space:nowrap;overflow:visible;text-align:left!important;vertical-align:middle!important;" nowrap="nowrap">
               
                       <img src="/static/images/toolbar/wm_tb_nxt_off.png" alt="Next capture" width="14" height="16" border="0"/>
                       
			    </td>
           </tr>

           <!-- NEXT/PREV YEAR NAV AND YEAR INDICATOR -->
           <tr style="width:110px;height:13px;font-size:9px!important;">
				<td style="padding-right:9px;font-size:11px!important;font-weight: bold;text-align:right;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       2008
                       
               </td>
               <td id="displayYearEl" style="background:#000;color:#ff0;font-size:11px!important;font-weight: bold;padding-top:1px;width:34px;height:13px;text-align:center;" title="You are here: 4:38:46 Mar 17, 2009">2009</td>
				<td style="padding-left:9px;font-size:11px!important;font-weight: bold;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       2010
                       
				</td>
           </tr>
           </tbody></table>
       </td>

       </tr>
       <tr>
       <td style="vertical-align:middle;padding:0!important;">
           <a href="/web/20090317043846*/http://ja.doukaku.org/204/flatten/" style="color:#33f;font-size:11px;font-weight:bold;background-color:transparent;border:none;" title="See a list of every capture for this URL"><strong>2 captures</strong></a>
           <div class="__wb_banner_div" style="margin:0!important;padding:0!important;color:#666;font-size:9px;padding-top:2px!important;white-space:nowrap;" title="Timespan for captures of this URL">2 Dec 08 - 17 Mar 09</div>
       </td>
       <td style="padding:0!important;">
       <a style="position:relative; white-space:nowrap; width:450px;height:27px;" href="" id="wm-graph-anchor">
       <div class="__wb_banner_div" id="wm-ipp-sparkline" style="position:relative; white-space:nowrap; width:450px;height:27px;background-color:#fff;cursor:pointer;border-right:1px solid #ccc;" title="Explore captures for this URL">
			<img id="sparklineImgId" style="position:absolute; z-index:9012; top:0px; left:0px;"
				onmouseover="showTrackers('inline');" 
				onmouseout="showTrackers('none');"
				onmousemove="trackMouseMove(event,this)"
				alt="sparklines"
				width="450"
				height="27"
				border="0"
				src="/web/jsp/graph.jsp?graphdata=450_27_1996:-1:000000000000_1997:-1:000000000000_1998:-1:000000000000_1999:-1:000000000000_2000:-1:000000000000_2001:-1:000000000000_2002:-1:000000000000_2003:-1:000000000000_2004:-1:000000000000_2005:-1:000000000000_2006:-1:000000000000_2007:-1:000000000000_2008:-1:000000000001_2009:2:001000000000_2010:-1:000000000000_2011:-1:000000000000_2012:-1:000000000000_2013:-1:000000000000"></img>
			<img id="wbMouseTrackYearImg" 
				style="display:none; position:absolute; z-index:9010;"
				width="25" 
				height="27"
				border="0"
				src="/static/images/toolbar/transp-yellow-pixel.png"></img>
			<img id="wbMouseTrackMonthImg"
				style="display:none; position:absolute; z-index:9011; " 
				width="2"
				height="27" 
				border="0"
				src="/static/images/toolbar/transp-red-pixel.png"></img>
       </div>
		</a>

       </td>
       </tr></tbody></table>
   </td>
   <td style="text-align:right;padding:5px;width:65px;font-size:11px!important;">
       <a href="javascript:;" onclick="document.getElementById('wm-ipp').style.display='none';" style="display:block;padding-right:18px;background:url(/static/images/toolbar/wm_tb_close.png) no-repeat 100% 0;color:#33f;font-family:'Lucida Grande','Arial',sans-serif;margin-bottom:23px;background-color:transparent;border:none;" title="Close the toolbar">Close</a>
       <a href="http://faq.web.archive.org/" style="display:block;padding-right:18px;background:url(/static/images/toolbar/wm_tb_help.png) no-repeat 100% 0;color:#33f;font-family:'Lucida Grande','Arial',sans-serif;background-color:transparent;border:none;" title="Get some help using the Wayback Machine">Help</a>
   </td>
   </tr></tbody></table>

</div>
</div>
<script type="text/javascript">
 var wmDisclaimBanner = document.getElementById("wm-ipp");
 if(wmDisclaimBanner != null) {
   disclaimElement(wmDisclaimBanner);
 }
</script>
<!-- END WAYBACK TOOLBAR INSERT -->


<div id="page_head" class="compact">
  <h1 class="compact">
    <a href="/web/20090317043846/http://ja.doukaku.org/">どう書く？org</a><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/beta.png" alt="beta">
  </h1>
</div>

<div id="page_body" class="compact">
<div id="content" class="compact">




<h2 class="compact">
<img src='/web/20090317043846im_/http://ja.doukaku.org/static/image/star_gold.png' alt=お題(出題済み)>
<a href="/web/20090317043846/http://ja.doukaku.org/204/">文字列型日時ののN秒後時間取得</a>
</h2>

    





<div class="comment" id="comment7401">
  <p class="banner"><a href="/web/20090317043846/http://ja.doukaku.org/user/127/" target="_top">raynstard</a><a href="/web/20090317043846/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7401/">#7401</a>(<script language="JavaScript">print_time(new Date("2008/08/27 06:18 GMT"));</script><noscript>2008/08/27 06:18 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>日時を表す文字列と時間(秒)を受け取り
指定された日時からN秒となる日時を出力する関数 DateEx() を作成してください。

関数の仕様は次の通りです。
1. 入力となる日時の書式は任意である。
    → プログラムの都合に合わせてよい。
2. 入力となる時間(秒)は、負の値も許容すること。
    また、負の値が指定された場合、指定の日時よりも前の日時を出力すること
3. 出力する日時は入力の日時と同じ書式をとる文字列であること
4. 出力する日時は正規化されていること
5. 出力先は標準出力、または、バッファのいずれでもよい。

たとえば、DateEx("20080827235925",40)ならば
出力は
「20080828000005」です。

余力があれば時間を省略可能とし、
省略された場合は「現在時刻」を利用するようにしてみてください。</pre>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7401/addtag/" class="addtag" id="addtag_7401">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_7401"
  >-</span><span
  class="button yellow"
  id="rating_z_7401"
  >0</span><span 
  class="button green"
  id="rating_p_7401"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20090317043846/http://ja.doukaku.org/comment/7401/">
    1
    reply
  </a>

  [<a href="/web/20090317043846/http://ja.doukaku.org/204/reply_to/7401/">
  返信
  </a>]
  </div>
</div>
</div>




  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      





<div class="comment" id="comment7533">
  <p class="banner"><a href="/web/20090317043846/http://ja.doukaku.org/user/127/" target="_top">raynstard</a><a href="/web/20090317043846/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7533/">#7533</a>(<script language="JavaScript">print_time(new Date("2008/09/01 05:52 GMT"));</script><noscript>2008/09/01 05:52 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>最近は普通にパーサがある時代になったのですね。
ごめんなさい盲点でした^^；；

ということで、「仕様.3」については、
入力の書式は限定しないこととし、出力の書式を限定するようにしてください。
</pre>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7533/addtag/" class="addtag" id="addtag_7533">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_7533"
  >-</span><span
  class="button yellow"
  id="rating_z_7533"
  >0</span><span 
  class="button green"
  id="rating_p_7533"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20090317043846/http://ja.doukaku.org/comment/7401/"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20090317043846/http://ja.doukaku.org/comment/7533/root/"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20090317043846/http://ja.doukaku.org/204/reply_to/7533/">
  返信
  </a>]
  </div>
</div>
</div>




  


    </div>
  



<div class="indent">
<a href="/web/20090317043846/http://ja.doukaku.org/204/post_comment/">
投稿する
</a>
</div>


<h2>投稿されたコメント - フラット表示</h2>
<a href="/web/20090317043846/http://ja.doukaku.org/204/nested/">ネスト表示</a>
<a href="/web/20090317043846/http://ja.doukaku.org/204/">非表示</a> 


  
  <br/>

  
  




<div class="comment" id="comment7506">
  <p class="banner"><a href="/web/20090317043846/http://ja.doukaku.org/user/59/" target="_top">nori</a><a href="/web/20090317043846/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/star_silver.png" border=0/></a><a href="/web/20090317043846/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7506/">#7506</a>(<script language="JavaScript">print_time(new Date("2008/08/31 19:12 GMT"));</script><noscript>2008/08/31 19:12 GMT</noscript>)
	
	
	
	[<a href="/web/20090317043846/http://ja.doukaku.org/lang/python/">
	  Python
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>このお題は日時のparseをさせたいのでしょうか？それとも差分の計算をさせたいのでしょうか？</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5
6
7</pre></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">dateex</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">delta</span><span class="p">):</span>
  <span class="k">return</span> <span class="n">d</span> <span class="o">+</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="n">delta</span><span class="p">)</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
  <span class="k">import</span> <span class="nn">time</span>
  <span class="n">day</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2008</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">31</span><span class="p">)</span>
  <span class="k">print</span> <span class="n">dateex</span><span class="p">(</span><span class="n">day</span><span class="p">,</span> <span class="mi">100000</span><span class="p">)</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7506/addtag/" class="addtag" id="addtag_7506">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090317043846/http://ja.doukaku.org/lang/python/">
		Python
      </a>]
	  
      [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7506/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7506/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_7506"
  >-</span><span
  class="button yellow"
  id="rating_z_7506"
  >0</span><span 
  class="button green"
  id="rating_p_7506"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20090317043846/http://ja.doukaku.org/comment/7506/">
    1
    reply
  </a>

  [<a href="/web/20090317043846/http://ja.doukaku.org/204/reply_to/7506/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment7507">
  <p class="banner"><a href="/web/20090317043846/http://ja.doukaku.org/user/504/" target="_top">あにす</a><a href="/web/20090317043846/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20090317043846/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7507/">#7507</a>(<script language="JavaScript">print_time(new Date("2008/08/31 19:19 GMT"));</script><noscript>2008/08/31 19:19 GMT</noscript>)
	
	
	
	[<a href="/web/20090317043846/http://ja.doukaku.org/lang/csharp/">
	  C#
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  date&nbsp;=&nbsp;"2008/08/27&nbsp;23:59:25"<br/>addSeconds&nbsp;=&nbsp;40<br/>&gt;&nbsp;"2008/08/28&nbsp;00:00:05"
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre></td><td class="code"><div class="highlight"><pre><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Program</span> <span class="k">{</span>
    <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span> <span class="k">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span>
            <span class="n">DateEx</span><span class="p">(</span><span class="n">Console</span><span class="p">.</span><span class="n">ReadLine</span><span class="p">(),</span> <span class="kt">long</span><span class="p">.</span><span class="n">Parse</span><span class="p">(</span><span class="n">Console</span><span class="p">.</span><span class="n">ReadLine</span><span class="p">()))</span>
            <span class="p">);</span>
        
        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span>
            <span class="n">DateEx</span><span class="p">(</span><span class="kt">long</span><span class="p">.</span><span class="n">Parse</span><span class="p">(</span><span class="n">Console</span><span class="p">.</span><span class="n">ReadLine</span><span class="p">()))</span>
            <span class="p">);</span>
        
        <span class="n">Console</span><span class="p">.</span><span class="n">ReadLine</span><span class="p">();</span>
    <span class="k">}</span>

    <span class="k">static</span> <span class="kt">string</span> <span class="nf">DateEx</span><span class="p">(</span><span class="kt">string</span> <span class="n">date</span><span class="p">,</span> <span class="kt">long</span> <span class="n">addSeconds</span><span class="p">)</span> <span class="k">{</span>
        <span class="n">DateTime</span> <span class="n">d</span><span class="p">;</span>
        <span class="n">DateTime</span><span class="p">.</span><span class="n">TryParse</span><span class="p">(</span><span class="n">date</span><span class="p">,</span> <span class="k">out</span> <span class="n">d</span><span class="p">);</span>
        <span class="k">if</span><span class="p">(</span><span class="n">d</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span> <span class="k">throw</span> <span class="k">new</span> <span class="n">ArgumentException</span><span class="p">(</span><span class="s">&quot;日付が正しくありません。&quot;</span><span class="p">,</span> <span class="s">&quot;date&quot;</span><span class="p">);</span>
        <span class="k">return</span> <span class="n">d</span><span class="p">.</span><span class="n">AddSeconds</span><span class="p">((</span><span class="kt">double</span><span class="p">)</span><span class="n">addSeconds</span><span class="p">).</span><span class="n">ToString</span><span class="p">();</span>
    <span class="k">}</span>

    <span class="k">static</span> <span class="kt">string</span> <span class="nf">DateEx</span><span class="p">(</span><span class="kt">long</span> <span class="n">addSeconds</span><span class="p">)</span> <span class="k">{</span>
        <span class="k">return</span> <span class="n">DateEx</span><span class="p">(</span><span class="n">DateTime</span><span class="p">.</span><span class="n">Now</span><span class="p">.</span><span class="n">ToString</span><span class="p">(),</span> <span class="n">addSeconds</span><span class="p">);</span>
    <span class="k">}</span>
<span class="k">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7507/addtag/" class="addtag" id="addtag_7507">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090317043846/http://ja.doukaku.org/lang/csharp/">
		C#
      </a>]
	  
      [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7507/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7507/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_7507"
  >-</span><span
  class="button yellow"
  id="rating_z_7507"
  >0</span><span 
  class="button green"
  id="rating_p_7507"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090317043846/http://ja.doukaku.org/204/reply_to/7507/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment7508">
  <p class="banner"><a href="/web/20090317043846/http://ja.doukaku.org/user/468/" target="_top">だいら</a><a href="/web/20090317043846/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20090317043846/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7508/">#7508</a>(<script language="JavaScript">print_time(new Date("2008/08/31 19:25 GMT"));</script><noscript>2008/08/31 19:25 GMT</noscript>)
	
	
	
	[<a href="/web/20090317043846/http://ja.doukaku.org/lang/php/">
	  PHP
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4</pre></td><td class="code"><div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="k">function</span> <span class="nf">DateEx</span><span class="p">(</span><span class="nv">$time</span><span class="p">,</span> <span class="nv">$diff</span><span class="p">){</span>
    <span class="k">echo</span> <span class="k">echo</span> <span class="nf">date</span><span class="p">(</span><span class="s1">&#39;YmdHis&#39;</span><span class="p">,</span><span class="nf">strtotime</span><span class="p">(</span><span class="nv">$time</span><span class="p">)</span><span class="o">+</span><span class="nv">$diff</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7508/addtag/" class="addtag" id="addtag_7508">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090317043846/http://ja.doukaku.org/lang/php/">
		PHP
      </a>]
	  
      [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7508/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7508/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_7508"
  >-</span><span
  class="button yellow"
  id="rating_z_7508"
  >0</span><span 
  class="button green"
  id="rating_p_7508"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20090317043846/http://ja.doukaku.org/comment/7508/">
    1
    reply
  </a>

  [<a href="/web/20090317043846/http://ja.doukaku.org/204/reply_to/7508/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment7509">
  <p class="banner"><a href="/web/20090317043846/http://ja.doukaku.org/user/468/" target="_top">だいら</a><a href="/web/20090317043846/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20090317043846/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7509/">#7509</a>(<script language="JavaScript">print_time(new Date("2008/08/31 19:26 GMT"));</script><noscript>2008/08/31 19:26 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>echoが2つになってしまった・・・。片方いらないです。</p>

	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7509/addtag/" class="addtag" id="addtag_7509">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_7509"
  >-</span><span
  class="button yellow"
  id="rating_z_7509"
  >0</span><span 
  class="button green"
  id="rating_p_7509"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20090317043846/http://ja.doukaku.org/comment/7508/"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20090317043846/http://ja.doukaku.org/comment/7509/root/"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20090317043846/http://ja.doukaku.org/204/reply_to/7509/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment7510">
  <p class="banner"><a href="/web/20090317043846/http://ja.doukaku.org/user/852/" target="_top">emasaka</a>

	
	&nbsp;
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7510/">#7510</a>(<script language="JavaScript">print_time(new Date("2008/08/31 19:52 GMT"));</script><noscript>2008/08/31 19:52 GMT</noscript>)
	
	
	
	[<a href="/web/20090317043846/http://ja.doukaku.org/lang/bash/">
	  Bash
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3</pre></td><td class="code"><div class="highlight"><pre>DateEx<span class="o">()</span> <span class="o">{</span>
  date -d <span class="s2">&quot;$1 $2 seconds&quot;</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7510/addtag/" class="addtag" id="addtag_7510">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090317043846/http://ja.doukaku.org/lang/bash/">
		Bash
      </a>]
	  
      [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7510/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7510/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_7510"
  >-</span><span
  class="button yellow"
  id="rating_z_7510"
  >0</span><span 
  class="button green"
  id="rating_p_7510"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20090317043846/http://ja.doukaku.org/comment/7510/">
    1
    reply
  </a>

  [<a href="/web/20090317043846/http://ja.doukaku.org/204/reply_to/7510/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment7511">
  <p class="banner"><a href="/web/20090317043846/http://ja.doukaku.org/user/852/" target="_top">emasaka</a>

	
	&nbsp;
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7511/">#7511</a>(<script language="JavaScript">print_time(new Date("2008/08/31 20:13 GMT"));</script><noscript>2008/08/31 20:13 GMT</noscript>)
	
	
	
	[<a href="/web/20090317043846/http://ja.doukaku.org/lang/bash/">
	  Bash
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>仕様2を満たしていませんでした。</p>
<p>修正と、ついでに1引数に対応。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5
6
7
8</pre></td><td class="code"><div class="highlight"><pre>DateEx<span class="o">()</span> <span class="o">{</span>
  <span class="o">[</span> -z <span class="s2">&quot;$2&quot;</span> <span class="o">]</span> &amp;&amp; <span class="nb">set</span> <span class="s1">&#39;&#39;</span> <span class="nv">$1</span>
  <span class="k">if</span> <span class="o">[[</span> <span class="nv">$2</span> <span class="o">==</span> -* <span class="o">]]</span>;then
    date -d <span class="s2">&quot;$1 ${2:1} seconds ago&quot;</span>
  <span class="k">else</span>
<span class="k">    </span>date -d <span class="s2">&quot;$1 $2 seconds&quot;</span>
  <span class="k">fi</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7511/addtag/" class="addtag" id="addtag_7511">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090317043846/http://ja.doukaku.org/lang/bash/">
		Bash
      </a>]
	  
      [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7511/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7511/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_7511"
  >-</span><span
  class="button yellow"
  id="rating_z_7511"
  >0</span><span 
  class="button green"
  id="rating_p_7511"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20090317043846/http://ja.doukaku.org/comment/7510/"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20090317043846/http://ja.doukaku.org/comment/7511/root/"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  <a href="/web/20090317043846/http://ja.doukaku.org/comment/7511/">
    1
    reply
  </a>

  [<a href="/web/20090317043846/http://ja.doukaku.org/204/reply_to/7511/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment7512">
  <p class="banner"><a href="/web/20090317043846/http://ja.doukaku.org/user/760/" target="_top">turugina</a><a href="/web/20090317043846/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7512/">#7512</a>(<script language="JavaScript">print_time(new Date("2008/08/31 20:15 GMT"));</script><noscript>2008/08/31 20:15 GMT</noscript>)
	
	
	
	[<a href="/web/20090317043846/http://ja.doukaku.org/lang/xslt/">
	  XSLT
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffefef;">-1/1=-1.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>入出力の日付文字列はISO8601形式です。</pre>
	</div>
	
	<p class="link">
	  参考: <a href="/web/20090317043846/http://www.w3.org/TR/xpath-functions/#date-time-duration-conformance">"XQuery 1.0 and XPath 2.0 Functions and Operators" の日付関連の説明</a>
	</p>  
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27</pre></td><td class="code"><div class="highlight"><pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;xsl:stylesheet version=&quot;2.0&quot;
  xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;
  xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;
  xmlns:fn=&quot;http://www.w3.org/2005/xpath-functions&quot;
  xmlns:my=&quot;uri:ja.doukaku.org:my-functions&quot;
  exclude-result-prefixes=&quot;my&quot;
  &gt;

  &lt;xsl:output method=&quot;text&quot; /&gt;

  &lt;xsl:template match=&quot;/&quot; &gt;
    &lt;xsl:value-of select=&quot;my:DateEx(&#39;2008-09-01T10:02:38&#39;, 10000)&quot;/&gt;
  &lt;/xsl:template&gt;


  &lt;xsl:function name=&quot;my:DateEx&quot; as=&quot;xs:string&quot;&gt;
    &lt;xsl:param name=&quot;dstr&quot; as=&quot;xs:string&quot; /&gt;
    &lt;xsl:param name=&quot;sec&quot; as=&quot;xs:integer&quot; /&gt;

    &lt;xsl:sequence select=&quot;xs:string(
      xs:dateTime($dstr) +
      xs:dayTimeDuration(fn:concat(&#39;PT&#39;,xs:string($sec),&#39;S&#39;))
      )&quot; /&gt;
  &lt;/xsl:function&gt;

&lt;/xsl:stylesheet&gt;
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7512/addtag/" class="addtag" id="addtag_7512">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090317043846/http://ja.doukaku.org/lang/xslt/">
		XSLT
      </a>]
	  
      [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7512/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7512/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffefef;"
  >-1/1=-1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_7512"
  >-</span><span
  class="button yellow"
  id="rating_z_7512"
  >0</span><span 
  class="button green"
  id="rating_p_7512"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20090317043846/http://ja.doukaku.org/comment/7512/">
    1
    reply
  </a>

  [<a href="/web/20090317043846/http://ja.doukaku.org/204/reply_to/7512/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment7513">
  <p class="banner"><a href="/web/20090317043846/http://ja.doukaku.org/user/570/" target="_top">horiuchi</a><a href="/web/20090317043846/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20090317043846/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7513/">#7513</a>(<script language="JavaScript">print_time(new Date("2008/08/31 20:17 GMT"));</script><noscript>2008/08/31 20:17 GMT</noscript>)
	
	
	
	[<a href="/web/20090317043846/http://ja.doukaku.org/lang/java/">
	  Java
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <div class="section">
<p>フォーマットの指定がなかったので、とりあえずサンプルと同じにしてみました。</p>
</div>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34</pre></td><td class="code"><div class="highlight"><pre><span class="k">import</span> <span class="nn">java.text.DateFormat</span><span class="o">;</span>
<span class="k">import</span> <span class="nn">java.text.ParseException</span><span class="o">;</span>
<span class="k">import</span> <span class="nn">java.text.SimpleDateFormat</span><span class="o">;</span>
<span class="k">import</span> <span class="nn">java.util.Calendar</span><span class="o">;</span>
<span class="k">import</span> <span class="nn">java.util.Date</span><span class="o">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">Sample204</span> <span class="o">{</span>
    <span class="k">private</span> <span class="k">static</span> <span class="k">final</span> <span class="n">DateFormat</span> <span class="n">FORMAT</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SimpleDateFormat</span><span class="o">(</span><span class="s">&quot;yyyyMMddHHmmss&quot;</span><span class="o">);</span>

    <span class="k">public</span> <span class="k">static</span> <span class="n">String</span> <span class="nf">dateEx</span><span class="o">(</span><span class="n">String</span> <span class="n">time</span><span class="o">,</span> <span class="kt">int</span> <span class="n">seconds</span><span class="o">)</span> <span class="k">throws</span> <span class="n">ParseException</span> <span class="o">{</span>
        <span class="n">Date</span> <span class="n">date</span> <span class="o">=</span> <span class="n">FORMAT</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="n">time</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">dateEx</span><span class="o">(</span><span class="n">date</span><span class="o">,</span> <span class="n">seconds</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="k">public</span> <span class="k">static</span> <span class="n">String</span> <span class="n">dateEx</span><span class="o">(</span><span class="kt">int</span> <span class="n">seconds</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">dateEx</span><span class="o">(</span><span class="k">new</span> <span class="n">Date</span><span class="o">(),</span> <span class="n">seconds</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="k">private</span> <span class="k">static</span> <span class="n">String</span> <span class="n">dateEx</span><span class="o">(</span><span class="n">Date</span> <span class="n">date</span><span class="o">,</span> <span class="kt">int</span> <span class="n">seconds</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">Calendar</span> <span class="n">cal</span> <span class="o">=</span> <span class="n">Calendar</span><span class="o">.</span><span class="na">getInstance</span><span class="o">();</span>
        <span class="n">cal</span><span class="o">.</span><span class="na">setTime</span><span class="o">(</span> <span class="n">date</span> <span class="o">);</span>
        <span class="n">cal</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">Calendar</span><span class="o">.</span><span class="na">SECOND</span><span class="o">,</span> <span class="n">seconds</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">FORMAT</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="n">cal</span><span class="o">.</span><span class="na">getTime</span><span class="o">());</span>
    <span class="o">}</span>


    <span class="k">public</span> <span class="k">static</span> <span class="kt">void</span> <span class="n">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">dateEx</span><span class="o">(</span><span class="s">&quot;20080827235925&quot;</span><span class="o">,</span><span class="mi">40</span><span class="o">));</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">dateEx</span><span class="o">(</span><span class="mi">0</span><span class="o">));</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">ParseException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">ex</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7513/addtag/" class="addtag" id="addtag_7513">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090317043846/http://ja.doukaku.org/lang/java/">
		Java
      </a>]
	  
      [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7513/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7513/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_7513"
  >-</span><span
  class="button yellow"
  id="rating_z_7513"
  >0</span><span 
  class="button green"
  id="rating_p_7513"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090317043846/http://ja.doukaku.org/204/reply_to/7513/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment7514">
  <p class="banner"><a href="/web/20090317043846/http://ja.doukaku.org/user/760/" target="_top">turugina</a><a href="/web/20090317043846/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7514/">#7514</a>(<script language="JavaScript">print_time(new Date("2008/08/31 20:50 GMT"));</script><noscript>2008/08/31 20:50 GMT</noscript>)
	
	
	
	[<a href="/web/20090317043846/http://ja.doukaku.org/lang/perl/">
	  Perl
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffefef;">-1/1=-1.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>DateTimeと関連モジュールを使って。

入力はコマンドライン引数で、ISO8601形式の日付と秒数を指定します。
日付を省略すると実行時の時刻を使います。

# 入力はISO8601形式じゃなくてもparseしてくれます。ので、お題の条件3.が微妙な感じ</pre>
	</div>
	
	<p class="link">
	  参考: <a href="/web/20090317043846/http://search.cpan.org/~jhoblitt/DateTime-Format-DateParse-0.04/lib/DateTime/Format/DateParse.pod">DateTime::Format::DateParse</a>
	</p>  
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5
6
7
8
9</pre></td><td class="code"><div class="highlight"><pre><span class="k">use</span> <span class="n">strict</span><span class="p">;</span>
<span class="k">use</span> <span class="n">warnings</span><span class="p">;</span>

<span class="k">use</span> <span class="n">DateTime</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">DateTime::Format::</span><span class="n">DateParse</span><span class="p">;</span>

<span class="k">my</span> <span class="nv">$d</span> <span class="o">=</span> <span class="nv">@ARGV</span><span class="o">==</span><span class="mi">2</span> <span class="p">?</span> <span class="nn">DateTime::Format::</span><span class="n">DateParse</span><span class="o">-&gt;</span><span class="n">parse_datetime</span><span class="p">(</span><span class="nb">shift</span><span class="p">)</span>
                 <span class="p">:</span> <span class="n">DateTime</span><span class="o">-&gt;</span><span class="n">now</span><span class="p">(</span><span class="n">time_zone</span> <span class="o">=&gt;</span> <span class="sx">q{Asia/Tokyo}</span><span class="p">);</span>
<span class="k">print</span> <span class="nv">$d</span><span class="o">-&gt;</span><span class="n">add</span><span class="p">(</span><span class="n">seconds</span> <span class="o">=&gt;</span> <span class="nb">shift</span><span class="o">||</span><span class="mi">0</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">iso8601</span><span class="p">,</span><span class="vg">$/</span><span class="p">;</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7514/addtag/" class="addtag" id="addtag_7514">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090317043846/http://ja.doukaku.org/lang/perl/">
		Perl
      </a>]
	  
      [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7514/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7514/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffefef;"
  >-1/1=-1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_7514"
  >-</span><span
  class="button yellow"
  id="rating_z_7514"
  >0</span><span 
  class="button green"
  id="rating_p_7514"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20090317043846/http://ja.doukaku.org/comment/7514/">
    1
    reply
  </a>

  [<a href="/web/20090317043846/http://ja.doukaku.org/204/reply_to/7514/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment7515">
  <p class="banner"><a href="/web/20090317043846/http://ja.doukaku.org/user/760/" target="_top">turugina</a><a href="/web/20090317043846/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7515/">#7515</a>(<script language="JavaScript">print_time(new Date("2008/08/31 21:22 GMT"));</script><noscript>2008/08/31 21:22 GMT</noscript>)
	
	
	
	[<a href="/web/20090317043846/http://ja.doukaku.org/lang/perl/">
	  Perl
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>しまった、お題は「関数を作れ」だった。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></td><td class="code"><div class="highlight"><pre><span class="k">use</span> <span class="n">strict</span><span class="p">;</span>
<span class="k">use</span> <span class="n">warnings</span><span class="p">;</span>

<span class="k">use</span> <span class="n">DateTime</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">DateTime::Format::</span><span class="n">DateParse</span><span class="p">;</span>

<span class="k">print</span> <span class="n">DateEx</span><span class="p">(</span><span class="nv">@ARGV</span><span class="p">),</span><span class="vg">$/</span><span class="p">;</span>

<span class="k">sub </span><span class="nf">DateEx</span>
<span class="p">{</span>
  <span class="p">(</span><span class="nv">@_</span><span class="o">&gt;=</span><span class="mi">2</span> <span class="p">?</span> <span class="nn">DateTime::Format::</span><span class="n">DateParse</span><span class="o">-&gt;</span><span class="n">parse_datetime</span><span class="p">(</span><span class="nb">shift</span><span class="p">)</span>
         <span class="p">:</span> <span class="n">DateTime</span><span class="o">-&gt;</span><span class="n">now</span><span class="p">(</span><span class="n">time_zone</span> <span class="o">=&gt;</span> <span class="sx">q{Asia/Tokyo}</span><span class="p">))</span>
  <span class="o">-&gt;</span><span class="n">add</span><span class="p">(</span><span class="n">seconds</span> <span class="o">=&gt;</span> <span class="nb">shift</span><span class="o">||</span><span class="mi">0</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">iso8601</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7515/addtag/" class="addtag" id="addtag_7515">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090317043846/http://ja.doukaku.org/lang/perl/">
		Perl
      </a>]
	  
      [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7515/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7515/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_7515"
  >-</span><span
  class="button yellow"
  id="rating_z_7515"
  >0</span><span 
  class="button green"
  id="rating_p_7515"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20090317043846/http://ja.doukaku.org/comment/7514/"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20090317043846/http://ja.doukaku.org/comment/7515/root/"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  <a href="/web/20090317043846/http://ja.doukaku.org/comment/7515/">
    1
    reply
  </a>

  [<a href="/web/20090317043846/http://ja.doukaku.org/204/reply_to/7515/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment7516">
  <p class="banner"><a href="/web/20090317043846/http://ja.doukaku.org/user/760/" target="_top">turugina</a><a href="/web/20090317043846/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7516/">#7516</a>(<script language="JavaScript">print_time(new Date("2008/08/31 21:45 GMT"));</script><noscript>2008/08/31 21:45 GMT</noscript>)
	
	
	
	[<a href="/web/20090317043846/http://ja.doukaku.org/lang/cpp/">
	  C++
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>Boost.Date_Time で。
入出力の日付形式はコード中に書いてある通り(例:"2008-Sep-01 12:34:56")です。</pre>
	</div>
	
	<p class="link">
	  参考: <a href="/web/20090317043846/http://www.boost.org/doc/libs/1_36_0/doc/html/date_time.html">Boost.Date_Time</a>
	</p>  
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33</pre></td><td class="code"><div class="highlight"><pre><span class="cp">#include &lt;iostream&gt;</span>
<span class="cp">#include &lt;string&gt;</span>
<span class="cp">#include &lt;boost/date_time/posix_time/posix_time.hpp&gt;</span>
<span class="cp">#include &lt;boost/lexical_cast.hpp&gt;</span>

<span class="n">std</span><span class="o">::</span><span class="n">string</span>
<span class="n">DateEx</span><span class="p">(</span>
    <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">dstr</span><span class="p">,</span>
    <span class="kt">int</span>                <span class="n">sec</span>
    <span class="p">)</span>
<span class="p">{</span>
  <span class="k">using</span> <span class="k">namespace</span> <span class="n">boost</span><span class="o">::</span><span class="n">posix_time</span><span class="p">;</span>
  <span class="k">return</span> <span class="n">boost</span><span class="o">::</span><span class="n">lexical_cast</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span>
      <span class="n">ptime</span><span class="p">(</span><span class="n">dstr</span><span class="p">.</span><span class="n">empty</span><span class="p">()</span> <span class="o">?</span> <span class="n">second_clock</span><span class="o">::</span><span class="n">local_time</span><span class="p">()</span>
                         <span class="o">:</span> <span class="n">time_from_string</span><span class="p">(</span><span class="n">dstr</span><span class="p">)</span>
      <span class="p">)</span> <span class="o">+</span> <span class="n">seconds</span><span class="p">(</span><span class="n">sec</span><span class="p">)</span>
    <span class="p">);</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="n">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">c</span><span class="p">,</span> <span class="kt">char</span><span class="o">**</span> <span class="n">v</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span> <span class="n">c</span> <span class="o">==</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">{</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;usage: &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="s">&quot; [&lt;datetime{YYYY-Mon-DD hh:mm:ss}&gt;] &lt;seconds&gt;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">DateEx</span><span class="p">(</span>
      <span class="n">c</span><span class="o">&gt;=</span><span class="mi">3</span><span class="o">?</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">:</span><span class="s">&quot;&quot;</span><span class="p">,</span>
      <span class="n">boost</span><span class="o">::</span><span class="n">lexical_cast</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">c</span><span class="o">&gt;=</span><span class="mi">3</span><span class="o">?</span><span class="n">v</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">:</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
      <span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7516/addtag/" class="addtag" id="addtag_7516">タグ</a>:
	
    
    <a href="/web/20090317043846/http://ja.doukaku.org/tag/Boost.Date_Time/">Boost.Date_Time</a>
    
    <a href="/web/20090317043846/http://ja.doukaku.org/tag/boost/">boost</a>
    
	&nbsp;

	
      [<a href="/web/20090317043846/http://ja.doukaku.org/lang/cpp/">
		C++
      </a>]
	  
      [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7516/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7516/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_7516"
  >-</span><span
  class="button yellow"
  id="rating_z_7516"
  >0</span><span 
  class="button green"
  id="rating_p_7516"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090317043846/http://ja.doukaku.org/204/reply_to/7516/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment7517">
  <p class="banner"><a href="/web/20090317043846/http://ja.doukaku.org/user/760/" target="_top">turugina</a><a href="/web/20090317043846/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7517/">#7517</a>(<script language="JavaScript">print_time(new Date("2008/08/31 21:53 GMT"));</script><noscript>2008/08/31 21:53 GMT</noscript>)
	
	
	
	[<a href="/web/20090317043846/http://ja.doukaku.org/lang/xslt/">
	  XSLT
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>条件2を満たしてなかった。ので、修正。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30</pre></td><td class="code"><div class="highlight"><pre>&lt;xsl:stylesheet version=&quot;2.0&quot;
  xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;
  xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;
  xmlns:fn=&quot;http://www.w3.org/2005/xpath-functions&quot;
  xmlns:my=&quot;uri:ja.doukaku.org:my-functions&quot;
  exclude-result-prefixes=&quot;my&quot;
  &gt;

  &lt;xsl:output method=&quot;text&quot; /&gt;

  &lt;xsl:template match=&quot;/&quot; &gt;
    &lt;xsl:value-of select=&quot;my:DateEx(&#39;2008-09-01T10:02:38&#39;, -1)&quot;/&gt;
  &lt;/xsl:template&gt;

  &lt;xsl:function name=&quot;my:DateEx&quot; as=&quot;xs:string&quot;&gt;
    &lt;xsl:param name=&quot;dstr&quot; as=&quot;xs:string&quot; /&gt;
    &lt;xsl:param name=&quot;sec&quot; as=&quot;xs:integer&quot; /&gt;

    &lt;xsl:sequence select=&quot;xs:string(
      xs:dateTime($dstr) +
      xs:dayTimeDuration(
        fn:concat(
          (if($sec&amp;lt;0)then&#39;-&#39;else&#39;&#39;),
          &#39;PT&#39;, xs:string(fn:abs($sec)), &#39;S&#39;
          )
        )
      )&quot; /&gt;
  &lt;/xsl:function&gt;

&lt;/xsl:stylesheet&gt;
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7517/addtag/" class="addtag" id="addtag_7517">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090317043846/http://ja.doukaku.org/lang/xslt/">
		XSLT
      </a>]
	  
      [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7517/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7517/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_7517"
  >-</span><span
  class="button yellow"
  id="rating_z_7517"
  >0</span><span 
  class="button green"
  id="rating_p_7517"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20090317043846/http://ja.doukaku.org/comment/7512/"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20090317043846/http://ja.doukaku.org/comment/7517/root/"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20090317043846/http://ja.doukaku.org/204/reply_to/7517/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment7518">
  <p class="banner"><a href="/web/20090317043846/http://ja.doukaku.org/user/88/" target="_top">sumim</a><a href="/web/20090317043846/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20090317043846/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7518/">#7518</a>(<script language="JavaScript">print_time(new Date("2008/08/31 22:01 GMT"));</script><noscript>2008/08/31 22:01 GMT</noscript>)
	
	
	
	[<a href="/web/20090317043846/http://ja.doukaku.org/lang/smalltalk/">
	  Smalltalk
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>Squeak Smalltalk では日時オブジェクト同士の演算が可能です。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5</pre></td><td class="code"><div class="highlight"><pre>&quot;文字列指定した日時の場合&quot;
&#39;2008-09-01T12:00:00+09:00&#39; asDateAndTime - 10 seconds   &quot;=&gt; 2008-09-01T11:59:50+09:00 &quot;

&quot;現在日時の場合&quot;
DateAndTime now + 15 seconds
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7518/addtag/" class="addtag" id="addtag_7518">タグ</a>:
	
    
    <a href="/web/20090317043846/http://ja.doukaku.org/tag/Squeak_Smalltalk/">Squeak_Smalltalk</a>
    
	&nbsp;

	
      [<a href="/web/20090317043846/http://ja.doukaku.org/lang/smalltalk/">
		Smalltalk
      </a>]
	  
      [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7518/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7518/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_7518"
  >-</span><span
  class="button yellow"
  id="rating_z_7518"
  >0</span><span 
  class="button green"
  id="rating_p_7518"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090317043846/http://ja.doukaku.org/204/reply_to/7518/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment7520">
  <p class="banner"><a href="/web/20090317043846/http://ja.doukaku.org/user/785/" target="_top">Dubhead</a>

	
	&nbsp;
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7520/">#7520</a>(<script language="JavaScript">print_time(new Date("2008/08/31 23:23 GMT"));</script><noscript>2008/08/31 23:23 GMT</noscript>)
	
	
	
	[<a href="/web/20090317043846/http://ja.doukaku.org/lang/d/">
	  D
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  D 2.0 + Phobos。
	</div>
	
	<p class="link">
	  参考: <a href="/web/20090317043846/http://www.digitalmars.com/d/2.0/phobos/std_date.html"></a>
	</p>  
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28</pre></td><td class="code"><div class="highlight"><pre><span class="k">import</span> <span class="n">std</span>.<span class="n">conv</span>;
<span class="k">import</span> <span class="n">std</span>.<span class="n">date</span>;
<span class="k">import</span> <span class="n">std</span>.<span class="n">stdio</span>;

<span class="n">string</span> <span class="n">DateEx</span>(<span class="n">string</span> <span class="n">datetime</span>, <span class="kt">int</span> <span class="n">tdelta_in_secs</span>)
{
    <span class="n">d_time</span> <span class="n">t</span> = <span class="n">std</span>.<span class="n">date</span>.<span class="n">parse</span>(<span class="n">datetime</span>);
    <span class="n">d_time</span> <span class="n">new_datetime</span> = <span class="n">t</span> + <span class="n">tdelta_in_secs</span> * <span class="n">std</span>.<span class="n">date</span>.<span class="n">TicksPerSecond</span>;
    <span class="k">return</span> <span class="n">std</span>.<span class="n">date</span>.<span class="n">toString</span>(<span class="n">new_datetime</span>);
}

<span class="kt">void</span> <span class="n">main</span>(<span class="n">string</span>[] <span class="n">args</span>)
{
    <span class="n">string</span> <span class="n">datetime</span>;
    <span class="kt">int</span> <span class="n">tdelta_in_secs</span>;
    <span class="k">if</span> (<span class="n">args</span>.<span class="n">length</span> == <span class="mi">3</span>) {
        <span class="n">datetime</span> = <span class="n">args</span>[<span class="mi">1</span>];
        <span class="n">tdelta_in_secs</span> = <span class="n">toInt</span>(<span class="n">args</span>[<span class="mi">2</span>]);
    }
    <span class="k">else</span> {
        <span class="n">d_time</span> <span class="n">now</span> = <span class="n">std</span>.<span class="n">date</span>.<span class="n">getUTCtime</span>;
        <span class="n">datetime</span> = <span class="n">std</span>.<span class="n">date</span>.<span class="n">toString</span>(<span class="n">now</span>);
        <span class="n">tdelta_in_secs</span> = <span class="n">toInt</span>(<span class="n">args</span>[<span class="mi">1</span>]);
    }
    <span class="n">writefln</span>(<span class="s">&quot;%s&quot;</span>, <span class="n">DateEx</span>(<span class="n">datetime</span>, <span class="n">tdelta_in_secs</span>));
}

<span class="c">// eof</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7520/addtag/" class="addtag" id="addtag_7520">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090317043846/http://ja.doukaku.org/lang/d/">
		D
      </a>]
	  
      [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7520/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7520/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_7520"
  >-</span><span
  class="button yellow"
  id="rating_z_7520"
  >0</span><span 
  class="button green"
  id="rating_p_7520"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20090317043846/http://ja.doukaku.org/comment/7520/">
    1
    reply
  </a>

  [<a href="/web/20090317043846/http://ja.doukaku.org/204/reply_to/7520/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment7521">
  <p class="banner"><a href="/web/20090317043846/http://ja.doukaku.org/user/785/" target="_top">Dubhead</a>

	
	&nbsp;
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7521/">#7521</a>(<script language="JavaScript">print_time(new Date("2008/08/31 23:47 GMT"));</script><noscript>2008/08/31 23:47 GMT</noscript>)
	
	
	
	[<a href="/web/20090317043846/http://ja.doukaku.org/lang/d/">
	  D
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>使用例も書かないとダメですね。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34</pre></td><td class="code"><div class="highlight"><pre><span class="k">import</span> <span class="n">std</span>.<span class="n">conv</span>;
<span class="k">import</span> <span class="n">std</span>.<span class="n">date</span>;
<span class="k">import</span> <span class="n">std</span>.<span class="n">stdio</span>;

<span class="n">string</span> <span class="n">DateEx</span>(<span class="n">string</span> <span class="n">datetime</span>, <span class="kt">int</span> <span class="n">tdelta_in_secs</span>)
{
    <span class="n">d_time</span> <span class="n">t</span> = <span class="n">std</span>.<span class="n">date</span>.<span class="n">parse</span>(<span class="n">datetime</span>);
    <span class="n">d_time</span> <span class="n">new_datetime</span> = <span class="n">t</span> + <span class="n">tdelta_in_secs</span> * <span class="n">std</span>.<span class="n">date</span>.<span class="n">TicksPerSecond</span>;
    <span class="k">return</span> <span class="n">std</span>.<span class="n">date</span>.<span class="n">toString</span>(<span class="n">new_datetime</span>);
}
<span class="k">unittest</span> {
    <span class="k">assert</span>(<span class="n">DateEx</span>(<span class="s">&quot;Mon Sep 01 13:00:00 GMT+0900 2008&quot;</span>, -<span class="mi">3600</span>) ==
        <span class="s">&quot;Mon Sep 01 12:00:00 GMT+0900 2008&quot;</span>);
    <span class="k">assert</span>(<span class="n">DateEx</span>(<span class="s">&quot;Mon Sep 01 13:00:00 GMT+0900 2008&quot;</span>, <span class="mi">3600</span>) ==
        <span class="s">&quot;Mon Sep 01 14:00:00 GMT+0900 2008&quot;</span>);
}

<span class="kt">void</span> <span class="n">main</span>(<span class="n">string</span>[] <span class="n">args</span>)
{
    <span class="n">string</span> <span class="n">datetime</span>;
    <span class="kt">int</span> <span class="n">tdelta_in_secs</span>;
    <span class="k">if</span> (<span class="n">args</span>.<span class="n">length</span> == <span class="mi">3</span>) {
        <span class="n">datetime</span> = <span class="n">args</span>[<span class="mi">1</span>];
        <span class="n">tdelta_in_secs</span> = <span class="n">toInt</span>(<span class="n">args</span>[<span class="mi">2</span>]);
    }
    <span class="k">else</span> {
        <span class="n">d_time</span> <span class="n">now</span> = <span class="n">std</span>.<span class="n">date</span>.<span class="n">getUTCtime</span>;
        <span class="n">datetime</span> = <span class="n">std</span>.<span class="n">date</span>.<span class="n">toString</span>(<span class="n">now</span>);
        <span class="n">tdelta_in_secs</span> = <span class="n">toInt</span>(<span class="n">args</span>[<span class="mi">1</span>]);
    }
    <span class="n">writefln</span>(<span class="s">&quot;%s&quot;</span>, <span class="n">DateEx</span>(<span class="n">datetime</span>, <span class="n">tdelta_in_secs</span>));
}

<span class="c">// eof</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7521/addtag/" class="addtag" id="addtag_7521">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090317043846/http://ja.doukaku.org/lang/d/">
		D
      </a>]
	  
      [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7521/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7521/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_7521"
  >-</span><span
  class="button yellow"
  id="rating_z_7521"
  >0</span><span 
  class="button green"
  id="rating_p_7521"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20090317043846/http://ja.doukaku.org/comment/7520/"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20090317043846/http://ja.doukaku.org/comment/7521/root/"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20090317043846/http://ja.doukaku.org/204/reply_to/7521/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment7524">
  <p class="banner"><a href="/web/20090317043846/http://ja.doukaku.org/user/641/" target="_top">seri</a><a href="/web/20090317043846/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7524/">#7524</a>(<script language="JavaScript">print_time(new Date("2008/09/01 00:28 GMT"));</script><noscript>2008/09/01 00:28 GMT</noscript>)
	
	
	
	[<a href="/web/20090317043846/http://ja.doukaku.org/lang/ruby/">
	  Ruby
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>3.の条件を無視すればこれでもOKです。
（Time.parseはさまざまな書式を受け付けるため）

def date_ex(diff, date = Time.now.to_s)
  puts Time.parse(date) + diff
end

</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5
6
7
8
9</pre></td><td class="code"><div class="highlight"><pre><span class="nb">require</span> <span class="s1">&#39;time&#39;</span>

<span class="k">def</span> <span class="nf">date_ex</span><span class="p">(</span><span class="n">diff</span><span class="p">,</span> <span class="n">date</span> <span class="o">=</span> <span class="no">Time</span><span class="o">.</span><span class="n">now</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y/%m/%d %H:%M:%S&quot;</span><span class="p">))</span>
  <span class="k">raise</span> <span class="k">unless</span> <span class="n">date</span> <span class="o">=~</span> <span class="sr">/\d+\/\d+\/\d+\s+\d+:\d+:\d+/</span>
  <span class="nb">puts</span> <span class="p">(</span><span class="no">Time</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">date</span><span class="p">)</span> <span class="o">+</span> <span class="n">diff</span><span class="p">)</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y/%m/%d %H:%M:%S&quot;</span><span class="p">)</span>
<span class="k">end</span>

<span class="n">date_ex</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="s1">&#39;2008/09/01 14:06:25&#39;</span><span class="p">)</span> <span class="c1">#=&gt; 2008/09/01 14:08:05</span>
<span class="n">date_ex</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span> <span class="c1">#=&gt; 「現在時刻」から100秒後</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7524/addtag/" class="addtag" id="addtag_7524">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090317043846/http://ja.doukaku.org/lang/ruby/">
		Ruby
      </a>]
	  
      [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7524/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7524/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_7524"
  >-</span><span
  class="button yellow"
  id="rating_z_7524"
  >0</span><span 
  class="button green"
  id="rating_p_7524"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090317043846/http://ja.doukaku.org/204/reply_to/7524/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment7526">
  <p class="banner"><a href="/web/20090317043846/http://ja.doukaku.org/user/136/" target="_top">matarillo</a><a href="/web/20090317043846/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7526/">#7526</a>(<script language="JavaScript">print_time(new Date("2008/09/01 00:49 GMT"));</script><noscript>2008/09/01 00:49 GMT</noscript>)
	
	
	
	[<a href="/web/20090317043846/http://ja.doukaku.org/lang/other/">
	  Other
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>VBA for Excel (2003)</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4</pre></td><td class="code"><div class="highlight"><pre>Function DateEx(str, sec)
  p = InStr(str, &quot; &quot;)
  DateEx = DateValue(Left(str, p - 1)) + TimeValue(Right(str, Len(str) - p)) + sec / 86400
End Function
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7526/addtag/" class="addtag" id="addtag_7526">タグ</a>:
	
    
    <a href="/web/20090317043846/http://ja.doukaku.org/tag/vba/">vba</a>
    
	&nbsp;

	
      [<a href="/web/20090317043846/http://ja.doukaku.org/lang/other/">
		Other
      </a>]
	  
      [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7526/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7526/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_7526"
  >-</span><span
  class="button yellow"
  id="rating_z_7526"
  >0</span><span 
  class="button green"
  id="rating_p_7526"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090317043846/http://ja.doukaku.org/204/reply_to/7526/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment7527">
  <p class="banner"><a href="/web/20090317043846/http://ja.doukaku.org/user/606/" target="_top">pooq</a><a href="/web/20090317043846/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/star_bronze.png" border=0/></a><a href="/web/20090317043846/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7527/">#7527</a>(<script language="JavaScript">print_time(new Date("2008/09/01 01:13 GMT"));</script><noscript>2008/09/01 01:13 GMT</noscript>)
	
	
	
	[<a href="/web/20090317043846/http://ja.doukaku.org/lang/j/">
	  J
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>関数に出力機能まで含めるとなんか使いにくそう。

   '2008 8 27 23 59 25' DateEx 40
2008 8 28 0 0 5

   '2008 8 27 23 59 25' DateEx _40
2008 8 27 23 58 45

   DateEx 100000000
2011 11 3 0 12 46.731
</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5
6
7
8
9</pre></td><td class="code"><div class="highlight"><pre>load &#39;dates&#39;

now =: 6!:0

DateEx =: 3 : 0
(&quot;: now &#39;&#39;) DateEx y
:
wd 1 tsrep (y * 1000) + tsrep &quot;. x
)
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7527/addtag/" class="addtag" id="addtag_7527">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090317043846/http://ja.doukaku.org/lang/j/">
		J
      </a>]
	  
      [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7527/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7527/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_7527"
  >-</span><span
  class="button yellow"
  id="rating_z_7527"
  >0</span><span 
  class="button green"
  id="rating_p_7527"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090317043846/http://ja.doukaku.org/204/reply_to/7527/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment7529">
  <p class="banner"><a href="/web/20090317043846/http://ja.doukaku.org/user/840/" target="_top">leque</a><a href="/web/20090317043846/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/star_silver.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7529/">#7529</a>(<script language="JavaScript">print_time(new Date("2008/09/01 03:45 GMT"));</script><noscript>2008/09/01 03:45 GMT</noscript>)
	
	
	
	[<a href="/web/20090317043846/http://ja.doukaku.org/lang/scheme/">
	  Scheme
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>日時の書式は ISO-8601 の「西暦-月-日T時:分:秒」形式です。時間を省略する場合には空文字列を渡すことにしてみました。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></td><td class="code"><div class="highlight"><pre><span class="p">(</span><span class="nf">use</span> <span class="nv">srfi-13</span><span class="p">)</span>
<span class="p">(</span><span class="nf">use</span> <span class="nv">srfi-19</span><span class="p">)</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">date-ex</span> <span class="nv">str</span> <span class="nv">delta</span><span class="p">)</span>
  <span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="nf">t</span> <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nf">string-null?</span> <span class="nv">str</span><span class="p">)</span>
               <span class="p">(</span><span class="nf">current-time</span> <span class="nv">time-utc</span><span class="p">)</span>
               <span class="p">(</span><span class="nf">date-&gt;time-utc</span>
                <span class="p">(</span><span class="nf">string-&gt;date</span> <span class="nv">str</span> <span class="s">&quot;~Y-~m-~dT~H:~M:~S&quot;</span><span class="p">)))))</span>
    <span class="p">(</span><span class="nf">date-&gt;string</span>
     <span class="p">(</span><span class="nf">time-utc-&gt;date</span>
      <span class="p">(</span><span class="nf">add-duration</span> <span class="nv">t</span> <span class="p">(</span><span class="nf">make-time</span> <span class="nv">time-duration</span> <span class="mi">0</span> <span class="nv">delta</span><span class="p">)))</span>
     <span class="s">&quot;~5&quot;</span><span class="p">)))</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">main</span> <span class="nv">args</span><span class="p">)</span>
  <span class="p">(</span><span class="nf">print</span> <span class="p">(</span><span class="nf">date-ex</span> <span class="p">(</span><span class="nb">cadr </span><span class="nv">args</span><span class="p">)</span> <span class="p">(</span><span class="nb">string-&gt;number </span><span class="p">(</span><span class="nb">caddr </span><span class="nv">args</span><span class="p">)))))</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7529/addtag/" class="addtag" id="addtag_7529">タグ</a>:
	
    
    <a href="/web/20090317043846/http://ja.doukaku.org/tag/gauche/">gauche</a>
    
	&nbsp;

	
      [<a href="/web/20090317043846/http://ja.doukaku.org/lang/scheme/">
		Scheme
      </a>]
	  
      [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7529/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7529/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_7529"
  >-</span><span
  class="button yellow"
  id="rating_z_7529"
  >0</span><span 
  class="button green"
  id="rating_p_7529"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090317043846/http://ja.doukaku.org/204/reply_to/7529/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment7532">
  <p class="banner"><a href="/web/20090317043846/http://ja.doukaku.org/user/405/" target="_top">mc</a><a href="/web/20090317043846/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20090317043846/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7532/">#7532</a>(<script language="JavaScript">print_time(new Date("2008/09/01 05:01 GMT"));</script><noscript>2008/09/01 05:01 GMT</noscript>)
	
	
	
	[<a href="/web/20090317043846/http://ja.doukaku.org/lang/commonlisp/">
	  Common Lisp
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  net-telent-dateを使ってRFC&nbsp;2822形式で出力するようにしてみました。<br/>他にも様々な形式をパーズしてくれるライブラリです。<br/>CLの引数の順番はお題の例とは逆にしています。<br/>(date-ex&nbsp;40&nbsp;"Thu,&nbsp;28&nbsp;Aug&nbsp;2007&nbsp;23:59:25&nbsp;+0900")<br/>;=&gt;&nbsp;"Thu,&nbsp;30&nbsp;Aug&nbsp;2007&nbsp;00:00:05&nbsp;+0900"&nbsp;<br/><br/>(date-ex&nbsp;-3600)<br/>;=&gt;&nbsp;"Mon,&nbsp;01&nbsp;Sep&nbsp;2008&nbsp;17:56:51&nbsp;+0900"&nbsp;
	</div>
	
	<p class="link">
	  参考: <a href="/web/20090317043846/http://www.cliki.net/net-telent-date">net-telent-date</a>
	</p>  
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></td><td class="code"><div class="highlight"><pre>(require :net-telent-date)
(require :lw-compat)

(defpackage :doukaku-204 (:use :cl :date :lispworks))
(in-package :doukaku-204)

(defun date-ex (sec &amp;optional time-string)
  (when-let (ut (if time-string
                    (parse-time time-string)
                    (get-universal-time)))
    (universal-time-to-rfc2822-date (+ ut sec))))
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7532/addtag/" class="addtag" id="addtag_7532">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090317043846/http://ja.doukaku.org/lang/commonlisp/">
		Common Lisp
      </a>]
	  
      [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7532/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7532/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_7532"
  >-</span><span
  class="button yellow"
  id="rating_z_7532"
  >0</span><span 
  class="button green"
  id="rating_p_7532"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090317043846/http://ja.doukaku.org/204/reply_to/7532/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment7533">
  <p class="banner"><a href="/web/20090317043846/http://ja.doukaku.org/user/127/" target="_top">raynstard</a><a href="/web/20090317043846/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7533/">#7533</a>(<script language="JavaScript">print_time(new Date("2008/09/01 05:52 GMT"));</script><noscript>2008/09/01 05:52 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>最近は普通にパーサがある時代になったのですね。
ごめんなさい盲点でした^^；；

ということで、「仕様.3」については、
入力の書式は限定しないこととし、出力の書式を限定するようにしてください。
</pre>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7533/addtag/" class="addtag" id="addtag_7533">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_7533"
  >-</span><span
  class="button yellow"
  id="rating_z_7533"
  >0</span><span 
  class="button green"
  id="rating_p_7533"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20090317043846/http://ja.doukaku.org/comment/7401/"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20090317043846/http://ja.doukaku.org/comment/7533/root/"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20090317043846/http://ja.doukaku.org/204/reply_to/7533/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment7534">
  <p class="banner"><a href="/web/20090317043846/http://ja.doukaku.org/user/127/" target="_top">raynstard</a><a href="/web/20090317043846/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7534/">#7534</a>(<script language="JavaScript">print_time(new Date("2008/09/01 05:53 GMT"));</script><noscript>2008/09/01 05:53 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>ども、raynstardです。
うーん、どっちにになるのでしょう？(笑

このお題の目的は、文字列という日付とは関係ない入力データで
日付の計算をすることです。

そもそもの発端は、シェルで自分自身を
再スケジュールしようとしたらシェルじゃできねぇってことで
計算部分をperlの呼び出しで妥協してしまったことです。

最近の言語には、大抵パーサがあるのですね。
盲点でしたorz
</pre>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7534/addtag/" class="addtag" id="addtag_7534">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_7534"
  >-</span><span
  class="button yellow"
  id="rating_z_7534"
  >0</span><span 
  class="button green"
  id="rating_p_7534"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20090317043846/http://ja.doukaku.org/comment/7506/"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20090317043846/http://ja.doukaku.org/comment/7534/root/"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20090317043846/http://ja.doukaku.org/204/reply_to/7534/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment7535">
  <p class="banner"><a href="/web/20090317043846/http://ja.doukaku.org/user/127/" target="_top">raynstard</a><a href="/web/20090317043846/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7535/">#7535</a>(<script language="JavaScript">print_time(new Date("2008/09/01 05:56 GMT"));</script><noscript>2008/09/01 05:56 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>てもとのdateコマンドでは動きませんでした。
バージョンていくつでしょう？

$ date --version
date (GNU coreutils) 5.96
Copyright (C) 2006 Free Software Foundation, Inc.
This is free software.  You may redistribute copies of it under the terms of
the GNU General Public License &lt;http://www.gnu.org/licenses/gpl.html&gt;.
There is NO WARRANTY, to the extent permitted by law.

Written by David MacKenzie.
</pre>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7535/addtag/" class="addtag" id="addtag_7535">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_7535"
  >-</span><span
  class="button yellow"
  id="rating_z_7535"
  >0</span><span 
  class="button green"
  id="rating_p_7535"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20090317043846/http://ja.doukaku.org/comment/7511/"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20090317043846/http://ja.doukaku.org/comment/7535/root/"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  <a href="/web/20090317043846/http://ja.doukaku.org/comment/7535/">
    1
    reply
  </a>

  [<a href="/web/20090317043846/http://ja.doukaku.org/204/reply_to/7535/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment7536">
  <p class="banner"><a href="/web/20090317043846/http://ja.doukaku.org/user/127/" target="_top">raynstard</a><a href="/web/20090317043846/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7536/">#7536</a>(<script language="JavaScript">print_time(new Date("2008/09/01 06:11 GMT"));</script><noscript>2008/09/01 06:11 GMT</noscript>)
	
	
	
	[<a href="/web/20090317043846/http://ja.doukaku.org/lang/perl/">
	  Perl
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>Perlにまでパーサっがあったのですね。。。
僕が妥協した時はPOSIXを使ったべた書きでした。
# ほとんどCとかわりません(笑</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></td><td class="code"><div class="highlight"><pre><span class="c1">#!/usr/bin/env perl</span>
<span class="k">use</span> <span class="n">strict</span><span class="p">;</span>
<span class="k">use</span> <span class="n">POSIX</span> <span class="n">qw</span><span class="sr">/strftime mktime/</span><span class="p">;</span>

<span class="k">sub </span><span class="nf">DateEx</span><span class="p">($$)</span>
<span class="p">{</span>
        <span class="k">my</span> <span class="nv">$outDate</span> <span class="o">=</span> <span class="s">&#39;&#39;</span><span class="p">;</span>
        <span class="k">my</span> <span class="nv">@t</span> <span class="o">=</span> <span class="p">(</span><span class="nv">$_</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=~</span> <span class="sr">m/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/</span><span class="p">);</span>

        <span class="nv">$t</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-=</span> <span class="mi">1900</span><span class="p">;</span> <span class="nv">$t</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-=</span> <span class="mi">1</span><span class="p">;</span> <span class="nv">@t</span> <span class="o">=</span> <span class="nb">reverse</span> <span class="nv">@t</span><span class="p">;</span>
        <span class="nv">$t</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+=</span> <span class="nv">$_</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
        <span class="n">mktime</span><span class="p">(</span> <span class="nv">@t</span> <span class="p">);</span>
        <span class="k">return</span> <span class="n">strftime</span><span class="p">(</span><span class="s">&quot;%Y%m%d%H%M%S&quot;</span><span class="p">,</span> <span class="nv">@t</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">print</span> <span class="n">DateEx</span><span class="p">(</span><span class="s">&quot;20080827235925&quot;</span><span class="p">,</span><span class="mi">40</span><span class="p">)</span> <span class="o">.</span> <span class="s">&quot;\n&quot;</span><span class="p">;</span>

<span class="cp">__END__</span>
<span class="cp">#EOF</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7536/addtag/" class="addtag" id="addtag_7536">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090317043846/http://ja.doukaku.org/lang/perl/">
		Perl
      </a>]
	  
      [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7536/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7536/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_7536"
  >-</span><span
  class="button yellow"
  id="rating_z_7536"
  >0</span><span 
  class="button green"
  id="rating_p_7536"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20090317043846/http://ja.doukaku.org/comment/7515/"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20090317043846/http://ja.doukaku.org/comment/7536/root/"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20090317043846/http://ja.doukaku.org/204/reply_to/7536/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment7537">
  <p class="banner"><a href="/web/20090317043846/http://ja.doukaku.org/user/852/" target="_top">emasaka</a>

	
	&nbsp;
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7537/">#7537</a>(<script language="JavaScript">print_time(new Date("2008/09/01 09:41 GMT"));</script><noscript>2008/09/01 09:41 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  確認したdateのバージョンは、GNU&nbsp;coreutilsの6.10と5.97です。<br/>なるほど、少なくともcoreutils版dateじゃないと使えないんですね。<br/><br/>私のところでの実行例は以下のとおりです。<br/><br/>$&nbsp;DateEx&nbsp;'Thu&nbsp;Aug&nbsp;28&nbsp;23:59:25&nbsp;JST&nbsp;2008'&nbsp;40<br/>Fri&nbsp;Aug&nbsp;29&nbsp;00:00:05&nbsp;JST&nbsp;2008<br/>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7537/addtag/" class="addtag" id="addtag_7537">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_7537"
  >-</span><span
  class="button yellow"
  id="rating_z_7537"
  >0</span><span 
  class="button green"
  id="rating_p_7537"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20090317043846/http://ja.doukaku.org/comment/7535/"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20090317043846/http://ja.doukaku.org/comment/7537/root/"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  <a href="/web/20090317043846/http://ja.doukaku.org/comment/7537/">
    1
    reply
  </a>

  [<a href="/web/20090317043846/http://ja.doukaku.org/204/reply_to/7537/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment7538">
  <p class="banner"><a href="/web/20090317043846/http://ja.doukaku.org/user/232/" target="_top">kkobayashi</a><a href="/web/20090317043846/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7538/">#7538</a>(<script language="JavaScript">print_time(new Date("2008/09/01 11:11 GMT"));</script><noscript>2008/09/01 11:11 GMT</noscript>)
	
	
	
	[<a href="/web/20090317043846/http://ja.doukaku.org/lang/r/">
	  R
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>フォーマットが任意だと楽ちんでいいですね。

&gt; DateEx("2008-09-02 00:00:00 JST", 30)
[1] "2008-09-02 00:00:30 JST"
&gt; DateEx("2008-09-02 00:00:00 JST", -30)
[1] "2008-09-01 23:59:30 JST"
</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3</pre></td><td class="code"><div class="highlight"><pre>DateEx &lt;- function(d1=Sys.time(), d2=0){
  as.POSIXct(d1) + d2
}
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7538/addtag/" class="addtag" id="addtag_7538">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090317043846/http://ja.doukaku.org/lang/r/">
		R
      </a>]
	  
      [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7538/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7538/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_7538"
  >-</span><span
  class="button yellow"
  id="rating_z_7538"
  >0</span><span 
  class="button green"
  id="rating_p_7538"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090317043846/http://ja.doukaku.org/204/reply_to/7538/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment7539">
  <p class="banner"><a href="/web/20090317043846/http://ja.doukaku.org/user/813/" target="_top">lunlumo</a>

	
	&nbsp;
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7539/">#7539</a>(<script language="JavaScript">print_time(new Date("2008/09/01 12:13 GMT"));</script><noscript>2008/09/01 12:13 GMT</noscript>)
	
	
	
	[<a href="/web/20090317043846/http://ja.doukaku.org/lang/scala/">
	  Scala
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <div class="section">
<p>　Javaと余り変わりませんがscala版を。</p>
</div>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30</pre></td><td class="code"><div class="highlight"><pre>import    java.text.DateFormat
import    java.text.ParseException
import    java.text.SimpleDateFormat
import    java.util.Calendar

object DateEx {
    val    formatter:DateFormat = new SimpleDateFormat(&quot;yyyyMMddHHmmss&quot;)
    def DateEx(date:String,diff:Int):String = {
        val    calendar:Calendar = Calendar.getInstance
        calendar.setTime(formatter.parse(date))
        DateEx(calendar,diff)
    }
    def DateEx(diff:Int):String = DateEx(Calendar.getInstance,diff)
    def DateEx(calendar:Calendar,diff:Int):String = {
        calendar.add(Calendar.SECOND,diff)
        formatter.format(calendar.getTime)
    }
    def main(args:Array[String]):Unit = {
        try {
            args.length match {
                case 2 =&gt; println(DateEx(args(0),args(1).toInt))
                case 1 =&gt; println(DateEx(args(0).toInt))
                case _ =&gt; println(DateEx(&quot;20080827235925&quot;,40))
            }
        } catch {
            case ex:ParseException =&gt; println(&quot;invalid date format.&quot;)
            case ex =&gt; ex.printStackTrace
        }
    }
}
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7539/addtag/" class="addtag" id="addtag_7539">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090317043846/http://ja.doukaku.org/lang/scala/">
		Scala
      </a>]
	  
      [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7539/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7539/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_7539"
  >-</span><span
  class="button yellow"
  id="rating_z_7539"
  >0</span><span 
  class="button green"
  id="rating_p_7539"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090317043846/http://ja.doukaku.org/204/reply_to/7539/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment7543">
  <p class="banner"><a href="/web/20090317043846/http://ja.doukaku.org/user/766/" target="_top">syat</a><a href="/web/20090317043846/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7543/">#7543</a>(<script language="JavaScript">print_time(new Date("2008/09/01 18:45 GMT"));</script><noscript>2008/09/01 18:45 GMT</noscript>)
	
	
	
	[<a href="/web/20090317043846/http://ja.doukaku.org/lang/javascript/">
	  JavaScript
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  JavaScriptのパーサを使用。Firebugで確認。<br/>出力形式にあわせるとこんな入力になった。<br/>toLocaleStringメソッドを使えば"2008年9月2日&nbsp;8:50:34"のように出力するが、パーサが解釈してくれない。<br/>&gt;&gt;&gt;&nbsp;DateEx('Tue&nbsp;Sep&nbsp;02&nbsp;2008&nbsp;8:30:00',1234)<br/>"Tue&nbsp;Sep&nbsp;02&nbsp;2008&nbsp;08:50:34&nbsp;GMT+0900"
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1</pre></td><td class="code"><div class="highlight"><pre><span class="k">function</span> <span class="nx">DateEx</span><span class="p">(</span><span class="nx">t</span><span class="o">,</span><span class="nx">s</span><span class="p">)</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">t</span><span class="p">)</span><span class="o">+</span><span class="nx">s</span><span class="o">*</span><span class="mi">1000</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7543/addtag/" class="addtag" id="addtag_7543">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090317043846/http://ja.doukaku.org/lang/javascript/">
		JavaScript
      </a>]
	  
      [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7543/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7543/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_7543"
  >-</span><span
  class="button yellow"
  id="rating_z_7543"
  >0</span><span 
  class="button green"
  id="rating_p_7543"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20090317043846/http://ja.doukaku.org/comment/7543/">
    1
    reply
  </a>

  [<a href="/web/20090317043846/http://ja.doukaku.org/204/reply_to/7543/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment7544">
  <p class="banner"><a href="/web/20090317043846/http://ja.doukaku.org/user/766/" target="_top">syat</a><a href="/web/20090317043846/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7544/">#7544</a>(<script language="JavaScript">print_time(new Date("2008/09/01 18:59 GMT"));</script><noscript>2008/09/01 18:59 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>こんなのもあたーよ。</p>

	</div>
	
	<p class="link">
	  参考: <a href="/web/20090317043846/http://www.enjoyxstudy.com/javascript/dateformat/">dateformat.js</a>
	</p>  
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7544/addtag/" class="addtag" id="addtag_7544">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_7544"
  >-</span><span
  class="button yellow"
  id="rating_z_7544"
  >0</span><span 
  class="button green"
  id="rating_p_7544"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20090317043846/http://ja.doukaku.org/comment/7543/"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20090317043846/http://ja.doukaku.org/comment/7544/root/"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20090317043846/http://ja.doukaku.org/204/reply_to/7544/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment7550">
  <p class="banner"><a href="/web/20090317043846/http://ja.doukaku.org/user/771/" target="_top">M.Suzuki</a>

	
	&nbsp;
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7550/">#7550</a>(<script language="JavaScript">print_time(new Date("2008/09/02 05:27 GMT"));</script><noscript>2008/09/02 05:27 GMT</noscript>)
	
	
	
	[<a href="/web/20090317043846/http://ja.doukaku.org/lang/haskell/">
	  Haskell
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>なんの工夫もないコードです。
</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5
6
7</pre></td><td class="code"><div class="highlight"><pre><span class="kr">import</span> <span class="n">Data</span><span class="o">.</span><span class="n">Time</span>

<span class="nv">addDate</span> <span class="nv">time</span> <span class="nv">sec</span> <span class="o">=</span> <span class="nv">show</span> <span class="o">$</span> <span class="nv">addUTCTime</span> <span class="nv">sec</span> <span class="o">$</span> <span class="nv">read</span> <span class="nv">time</span>

<span class="nv">main</span> <span class="o">=</span> <span class="kr">do</span>
    <span class="nv">putStrLn</span> <span class="o">$</span> <span class="nv">addDate</span> <span class="s">&quot;2008-09-02 10:20:30 UTC&quot;</span> <span class="mi">15</span>
    <span class="nv">putStrLn</span> <span class="o">$</span> <span class="nv">addDate</span> <span class="s">&quot;2008-09-02 10:20:30 UTC&quot;</span> <span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7550/addtag/" class="addtag" id="addtag_7550">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090317043846/http://ja.doukaku.org/lang/haskell/">
		Haskell
      </a>]
	  
      [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7550/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7550/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_7550"
  >-</span><span
  class="button yellow"
  id="rating_z_7550"
  >0</span><span 
  class="button green"
  id="rating_p_7550"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090317043846/http://ja.doukaku.org/204/reply_to/7550/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment7552">
  <p class="banner"><a href="/web/20090317043846/http://ja.doukaku.org/user/591/" target="_top">99yen</a><a href="/web/20090317043846/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7552/">#7552</a>(<script language="JavaScript">print_time(new Date("2008/09/02 10:01 GMT"));</script><noscript>2008/09/02 10:01 GMT</noscript>)
	
	
	
	[<a href="/web/20090317043846/http://ja.doukaku.org/lang/nadesico/">
	  なでしこ
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>なでしこで。下の二つの関数はほかから流用です。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></td><td class="code"><div class="highlight"><pre>DateEx(&quot;2008/08/27 23:59:25&quot;,40)を表示
DateEx(&quot;2008/08/27&quot;,40)を表示

●DateEx(str,n)
    dateとは配列=区切(str,&quot; &quot;)
    もし(date[1]=&quot;&quot;)ならば、date[1]=今
    配列結合(UNIX2date(date2UNIX(date,0)+n),&quot; &quot;)
●date2UNIX(date,tzd)
    戻(日数差(&quot;1970/1/1&quot;,date[0])*(60*60*24)+秒差(&quot;0:0:0&quot;,date[1])+tzd)
●UNIX2date(unix)
    tmpとは配列
    dayとは整数=unix/86400%86400
    unix=unix-day*86400
    tmp[0]=日付加算(&quot;1970/1/1&quot;,&quot;//{day}&quot;)
    tmp[1]=&quot;{ゼロ埋め(unix/3600%24,2)}:{ゼロ埋め(unix/60%60,2)}:{ゼロ埋め(unix%60,2)}&quot;
    tmpで戻る
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7552/addtag/" class="addtag" id="addtag_7552">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090317043846/http://ja.doukaku.org/lang/nadesico/">
		なでしこ
      </a>]
	  
      [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7552/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7552/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_7552"
  >-</span><span
  class="button yellow"
  id="rating_z_7552"
  >0</span><span 
  class="button green"
  id="rating_p_7552"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090317043846/http://ja.doukaku.org/204/reply_to/7552/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment7553">
  <p class="banner"><a href="/web/20090317043846/http://ja.doukaku.org/user/127/" target="_top">raynstard</a><a href="/web/20090317043846/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7553/">#7553</a>(<script language="JavaScript">print_time(new Date("2008/09/02 10:47 GMT"));</script><noscript>2008/09/02 10:47 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>あれ？バージョン同じだぞ?とおもって再度やってみたら動きました。
秒の指定を間違えていたみたいです。
失礼しました。
</pre>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7553/addtag/" class="addtag" id="addtag_7553">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_7553"
  >-</span><span
  class="button yellow"
  id="rating_z_7553"
  >0</span><span 
  class="button green"
  id="rating_p_7553"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20090317043846/http://ja.doukaku.org/comment/7537/"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20090317043846/http://ja.doukaku.org/comment/7553/root/"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20090317043846/http://ja.doukaku.org/204/reply_to/7553/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment7561">
  <p class="banner"><a href="/web/20090317043846/http://ja.doukaku.org/user/763/" target="_top">Songmu</a>

	
	&nbsp;
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7561/">#7561</a>(<script language="JavaScript">print_time(new Date("2008/09/04 07:39 GMT"));</script><noscript>2008/09/04 07:39 GMT</noscript>)
	
	
	
	[<a href="/web/20090317043846/http://ja.doukaku.org/lang/perl/">
	  Perl
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>モジュールなしで書いた</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160</pre></td><td class="code"><div class="highlight"><pre><span class="c1">#! /usr/bin/perl</span>
<span class="k">use</span> <span class="n">strict</span><span class="p">;</span>
<span class="k">use</span> <span class="n">warnings</span><span class="p">;</span>

<span class="k">my</span> <span class="nv">$date_string</span> <span class="o">=</span> <span class="mi">20080827235925</span><span class="p">;</span>
<span class="k">my</span> <span class="nv">$add_seconds</span> <span class="o">=</span> <span class="mi">40</span><span class="p">;</span>

<span class="k">print</span> <span class="n">DateEx</span><span class="p">(</span><span class="nv">$date_string</span><span class="p">,</span><span class="nv">$add_seconds</span><span class="p">);</span>

<span class="k">sub </span><span class="nf">DateEx</span><span class="p">{</span>
    <span class="k">my</span> <span class="p">(</span><span class="nv">$date_string</span><span class="p">,</span> <span class="nv">$add_seconds</span><span class="p">)</span> <span class="o">=</span> <span class="nv">@_</span><span class="p">;</span>
    
    <span class="k">return</span> <span class="s">&#39;Error!&#39;</span> <span class="k">unless</span> <span class="nv">$date_string</span> <span class="o">=~</span><span class="sr"> /^\d{14}$/</span><span class="p">;</span>
    <span class="k">return</span> <span class="s">&#39;Error!&#39;</span> <span class="k">unless</span> <span class="nv">$add_seconds</span> <span class="o">=~</span><span class="sr"> /^-?\d+$/</span><span class="p">;</span>
    
    <span class="k">my</span> <span class="p">(</span><span class="nv">$year</span><span class="p">,</span><span class="nv">$month</span><span class="p">,</span><span class="nv">$day</span><span class="p">,</span><span class="nv">$hour</span><span class="p">,</span><span class="nv">$minutes</span><span class="p">,</span><span class="nv">$seconds</span><span class="p">)</span>
        <span class="o">=</span> <span class="nv">$date_string</span> <span class="o">=~</span><span class="sr"> /^(\d{1,4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})$/</span><span class="p">;</span>
    <span class="k">my</span> <span class="nv">@result</span> <span class="o">=</span> <span class="n">add_seconds</span><span class="p">(</span><span class="nv">$year</span><span class="p">,</span><span class="nv">$month</span><span class="p">,</span><span class="nv">$day</span><span class="p">,</span><span class="nv">$hour</span><span class="p">,</span><span class="nv">$minutes</span><span class="p">,</span><span class="nv">$seconds</span><span class="p">,</span><span class="nv">$add_seconds</span><span class="p">);</span>
    
    <span class="k">return</span> <span class="nb">sprintf</span><span class="p">(</span><span class="s">&quot;%04d%02d%02d%02d%02d%02d&quot;</span><span class="p">,</span><span class="nv">@result</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">sub </span><span class="nf">add_seconds</span><span class="p">{</span>
    <span class="k">my</span> <span class="p">(</span><span class="nv">$year</span><span class="p">,</span><span class="nv">$month</span><span class="p">,</span><span class="nv">$day</span><span class="p">,</span><span class="nv">$hour</span><span class="p">,</span><span class="nv">$minutes</span><span class="p">,</span><span class="nv">$seconds</span><span class="p">,</span><span class="nv">$add_seconds</span><span class="p">)</span> <span class="o">=</span> <span class="nv">@_</span><span class="p">;</span>
    
    <span class="c1">#時間、秒を先に出す</span>
    <span class="k">my</span> <span class="p">(</span><span class="nv">$tmp_day</span><span class="p">,</span><span class="nv">$result_hour</span><span class="p">,</span><span class="nv">$result_minutes</span><span class="p">,</span><span class="nv">$result_seconds</span><span class="p">)</span>
        <span class="o">=</span> <span class="n">seconds_to_day</span><span class="p">(</span><span class="nv">$add_seconds</span> <span class="o">+</span> <span class="n">day_to_seconds</span><span class="p">(</span><span class="nv">$day</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="nv">$hour</span><span class="p">,</span><span class="nv">$minutes</span><span class="p">,</span><span class="nv">$seconds</span><span class="p">));</span>
    
    <span class="c1">#日付を計算</span>
    <span class="k">my</span> <span class="p">(</span><span class="nv">$result_year</span><span class="p">,</span> <span class="nv">$result_month</span><span class="p">,</span> <span class="nv">$result_day</span><span class="p">)</span>
        <span class="o">=</span> <span class="n">date_add</span><span class="p">(</span><span class="nv">$year</span><span class="p">,</span><span class="nv">$month</span><span class="p">,</span><span class="nv">$tmp_day</span><span class="p">);</span>
    
    <span class="k">return</span> <span class="p">(</span><span class="nv">$result_year</span><span class="p">,</span><span class="nv">$result_month</span><span class="p">,</span><span class="nv">$result_day</span><span class="p">,</span><span class="nv">$result_hour</span><span class="p">,</span><span class="nv">$result_minutes</span><span class="p">,</span><span class="nv">$result_seconds</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">sub </span><span class="nf">day_to_seconds</span><span class="p">{</span><span class="c1">#何日、何時間、何分の形式を総秒数に変換</span>
    <span class="k">my</span> <span class="p">(</span><span class="nv">$day</span><span class="p">,</span><span class="nv">$hour</span><span class="p">,</span><span class="nv">$minutes</span><span class="p">,</span><span class="nv">$seconds</span><span class="p">)</span> <span class="o">=</span> <span class="nv">@_</span><span class="p">;</span>
    
    <span class="k">my</span> <span class="nv">$SECONDS_PER_MINUTES</span> <span class="o">=</span> <span class="mi">60</span><span class="p">;</span>
    <span class="k">my</span> <span class="nv">$SECONDS_PER_HOUR</span> <span class="o">=</span> <span class="nv">$SECONDS_PER_MINUTES</span> <span class="o">*</span> <span class="mi">60</span><span class="p">;</span>
    <span class="k">my</span> <span class="nv">$SECONDS_PER_DAY</span> <span class="o">=</span> <span class="nv">$SECONDS_PER_HOUR</span> <span class="o">*</span> <span class="mi">24</span><span class="p">;</span>
    
    <span class="k">my</span> <span class="nv">$total_second</span> <span class="o">=</span> <span class="nv">$day</span>     <span class="o">*</span> <span class="nv">$SECONDS_PER_DAY</span>
                     <span class="o">+</span> <span class="nv">$hour</span>    <span class="o">*</span> <span class="nv">$SECONDS_PER_HOUR</span>
                     <span class="o">+</span> <span class="nv">$minutes</span> <span class="o">*</span> <span class="nv">$SECONDS_PER_MINUTES</span>
                     <span class="o">+</span> <span class="nv">$seconds</span>
                     <span class="p">;</span>
    <span class="k">return</span> <span class="nv">$total_second</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">sub </span><span class="nf">seconds_to_day</span><span class="p">{</span><span class="c1">#秒数を　何日、何時間、何分の形式に変換</span>
    <span class="k">my</span> <span class="p">(</span><span class="nv">$total_seconds</span><span class="p">)</span> <span class="o">=</span> <span class="nv">@_</span><span class="p">;</span>
    
    <span class="k">my</span> <span class="nv">$SECONDS_PER_MINUTES</span> <span class="o">=</span> <span class="mi">60</span><span class="p">;</span>
    <span class="k">my</span> <span class="nv">$SECONDS_PER_HOUR</span> <span class="o">=</span> <span class="nv">$SECONDS_PER_MINUTES</span> <span class="o">*</span> <span class="mi">60</span><span class="p">;</span>
    <span class="k">my</span> <span class="nv">$SECONDS_PER_DAY</span> <span class="o">=</span> <span class="nv">$SECONDS_PER_HOUR</span> <span class="o">*</span> <span class="mi">24</span><span class="p">;</span>
    
    <span class="k">my</span> <span class="p">(</span><span class="nv">$day</span><span class="p">,</span><span class="nv">$hour</span><span class="p">,</span><span class="nv">$minutes</span><span class="p">,</span><span class="nv">$seconds</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
    
    <span class="k">if</span><span class="p">(</span><span class="nv">$total_seconds</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">){</span>
        <span class="nv">$day</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nv">$total_seconds</span> <span class="o">/</span> <span class="nv">$SECONDS_PER_DAY</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
        <span class="nv">$hour</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nv">$total_seconds</span> <span class="o">/</span> <span class="nv">$SECONDS_PER_HOUR</span><span class="p">)</span> <span class="nv">%</span> <span class="nv">24</span><span class="p">;</span>
        <span class="nv">$minutes</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nv">$total_seconds</span> <span class="o">/</span> <span class="nv">$SECONDS_PER_MINUTES</span><span class="p">)</span> <span class="nv">%</span> <span class="nv">60</span><span class="p">;</span>
        <span class="nv">$seconds</span> <span class="o">=</span> <span class="nv">$total_seconds</span> <span class="nv">%</span> <span class="nv">60</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">elsif</span><span class="p">(</span><span class="nv">$total_seconds</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">){</span>
        <span class="nv">$day</span> <span class="o">=</span> <span class="p">(</span><span class="nb">int</span><span class="p">((</span><span class="nv">$total_seconds</span> <span class="o">*</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span><span class="o">/</span><span class="nv">$SECONDS_PER_DAY</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
        <span class="nv">$total_seconds</span> <span class="o">+=</span> <span class="nv">$day</span> <span class="o">*</span> <span class="nv">$SECONDS_PER_DAY</span> <span class="o">*</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
        <span class="nv">$hour</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nv">$total_seconds</span> <span class="o">/</span> <span class="nv">$SECONDS_PER_HOUR</span><span class="p">)</span> <span class="nv">%</span> <span class="nv">24</span><span class="p">;</span>
        <span class="nv">$minutes</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nv">$total_seconds</span> <span class="o">/</span> <span class="nv">$SECONDS_PER_MINUTES</span><span class="p">)</span> <span class="nv">%</span> <span class="nv">60</span><span class="p">;</span>
        <span class="nv">$seconds</span> <span class="o">=</span> <span class="nv">$total_seconds</span> <span class="nv">%</span> <span class="nv">60</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="p">(</span><span class="nv">$day</span><span class="p">,</span><span class="nv">$hour</span><span class="p">,</span><span class="nv">$minutes</span><span class="p">,</span><span class="nv">$seconds</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">sub </span><span class="nf">date_add</span><span class="p">{</span><span class="c1">#2008年8月33日は2008年9月2日のような考え方</span>
    <span class="k">my</span> <span class="p">(</span><span class="nv">$year</span><span class="p">,</span><span class="nv">$month</span><span class="p">,</span><span class="nv">$day</span><span class="p">)</span> <span class="o">=</span> <span class="nv">@_</span><span class="p">;</span>
    
    <span class="c1">#400年以上のスパンがある場合</span>
    <span class="k">while</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="nv">$day</span><span class="p">)</span> <span class="o">&gt;</span> <span class="p">(</span><span class="k">my</span> <span class="nv">$DAYS_IN_400YEARS</span> <span class="o">=</span> <span class="mi">365</span><span class="o">*</span><span class="mi">400</span><span class="o">+</span><span class="mi">97</span><span class="p">)){</span>
        <span class="k">if</span><span class="p">(</span><span class="nv">$day</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">){</span>
            <span class="nv">$day</span> <span class="o">-=</span> <span class="nv">$DAYS_IN_400YEARS</span><span class="p">;</span>
            <span class="nv">$year</span> <span class="o">+=</span> <span class="mi">400</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span><span class="p">{</span>
            <span class="nv">$day</span> <span class="o">+=</span> <span class="nv">$DAYS_IN_400YEARS</span><span class="p">;</span>
            <span class="nv">$year</span> <span class="o">-=</span> <span class="mi">400</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="c1">#1年以上のスパンがある場合</span>
    <span class="k">while</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="nv">$day</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">366</span><span class="p">){</span>
        <span class="k">if</span><span class="p">(</span><span class="nv">$day</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">){</span>
            <span class="k">if</span><span class="p">(</span><span class="nv">$month</span> <span class="o">&lt;=</span> <span class="mi">2</span><span class="p">){</span>
                <span class="k">while</span><span class="p">(</span><span class="nv">$day</span> <span class="o">&gt;</span> <span class="mi">366</span><span class="p">){</span>
                    <span class="n">_uru_or_not</span><span class="p">(</span><span class="nv">$year</span><span class="p">)</span> <span class="p">?</span> <span class="nv">$day</span> <span class="o">-=</span> <span class="mi">366</span> <span class="p">:</span> <span class="nv">$day</span> <span class="o">-=</span> <span class="mi">365</span><span class="p">;</span>
                    <span class="nv">$year</span><span class="o">++</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>
            <span class="k">else</span><span class="p">{</span>
                <span class="k">while</span><span class="p">(</span><span class="nv">$day</span> <span class="o">&gt;</span> <span class="mi">366</span><span class="p">){</span>
                    <span class="n">_uru_or_not</span><span class="p">(</span><span class="nv">$year</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="p">?</span> <span class="nv">$day</span> <span class="o">-=</span> <span class="mi">366</span> <span class="p">:</span> <span class="nv">$day</span> <span class="o">-=</span> <span class="mi">365</span><span class="p">;</span>
                    <span class="nv">$year</span><span class="o">++</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">else</span><span class="p">{</span>
            <span class="k">if</span><span class="p">(</span><span class="nv">$month</span> <span class="o">&lt;=</span> <span class="mi">2</span><span class="p">){</span>
                <span class="k">while</span><span class="p">(</span><span class="nv">$day</span> <span class="o">&lt;</span> <span class="o">-</span><span class="mi">366</span><span class="p">){</span>
                    <span class="n">_uru_or_not</span><span class="p">(</span><span class="nv">$year</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">?</span> <span class="nv">$day</span> <span class="o">+=</span> <span class="mi">366</span> <span class="p">:</span> <span class="nv">$day</span> <span class="o">+=</span> <span class="mi">365</span><span class="p">;</span>
                    <span class="nv">$year</span><span class="o">--</span>
                <span class="p">}</span>
            <span class="p">}</span>
            <span class="k">else</span><span class="p">{</span>
                <span class="k">while</span><span class="p">(</span><span class="nv">$day</span> <span class="o">&lt;</span> <span class="o">-</span><span class="mi">366</span><span class="p">){</span>
                    <span class="n">_uru_or_not</span><span class="p">(</span><span class="nv">$year</span><span class="p">)</span> <span class="p">?</span> <span class="nv">$day</span> <span class="o">+=</span> <span class="mi">366</span> <span class="p">:</span> <span class="nv">$day</span> <span class="o">+=</span> <span class="mi">365</span><span class="p">;</span>
                    <span class="nv">$year</span><span class="o">--</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="c1">#一月づつ、足すもしくはさかのぼる</span>
    <span class="k">while</span><span class="p">(</span><span class="o">!</span><span class="p">((</span><span class="nv">$day</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">_get_days_of_month</span><span class="p">(</span><span class="nv">$year</span><span class="p">,</span><span class="nv">$month</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="nv">$day</span><span class="p">))){</span>
        <span class="k">if</span><span class="p">(</span><span class="nv">$day</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">){</span>
            <span class="nv">$day</span> <span class="o">-=</span> <span class="n">_get_days_of_month</span><span class="p">(</span><span class="nv">$year</span><span class="p">,</span><span class="nv">$month</span><span class="p">);</span>
            <span class="nv">$month</span><span class="o">++</span><span class="p">;</span>
            <span class="k">if</span><span class="p">(</span><span class="nv">$month</span> <span class="o">==</span> <span class="mi">13</span><span class="p">){</span>
                <span class="nv">$year</span><span class="o">++</span><span class="p">;</span>
                <span class="nv">$month</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">else</span><span class="p">{</span>
            <span class="nv">$month</span><span class="o">--</span><span class="p">;</span>
            <span class="k">if</span><span class="p">(</span><span class="nv">$month</span> <span class="o">==</span> <span class="mi">0</span><span class="p">){</span>
                <span class="nv">$year</span><span class="o">--</span><span class="p">;</span>
                <span class="nv">$month</span> <span class="o">=</span> <span class="mi">12</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="nv">$day</span> <span class="o">+=</span> <span class="p">(</span><span class="n">_get_days_of_month</span><span class="p">(</span><span class="nv">$year</span><span class="p">,</span><span class="nv">$month</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="p">(</span><span class="nv">$year</span><span class="p">,</span><span class="nv">$month</span><span class="p">,</span><span class="nv">$day</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">sub </span><span class="nf">_uru_or_not</span><span class="p">{</span><span class="c1">#閏年か否かの判定</span>
    <span class="k">my</span> <span class="p">(</span><span class="nv">$year</span><span class="p">)</span> <span class="o">=</span> <span class="nv">@_</span><span class="p">;</span>
    <span class="k">return</span> <span class="mi">1</span> <span class="k">if</span><span class="p">(</span><span class="nv">$year</span> <span class="nv">%</span> <span class="nv">400</span> <span class="o">==</span> <span class="mi">0</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span> <span class="k">if</span><span class="p">(</span><span class="nv">$year</span> <span class="nv">%</span> <span class="nv">100</span> <span class="o">==</span> <span class="mi">0</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">1</span> <span class="k">if</span><span class="p">(</span><span class="nv">$year</span> <span class="nv">%</span> <span class="nv">4</span>   <span class="o">==</span> <span class="mi">0</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">sub </span><span class="nf">_get_days_of_month</span><span class="p">{</span><span class="c1">#年と月を与えるとその日数を返す</span>
    <span class="k">my</span> <span class="p">(</span><span class="nv">$year</span><span class="p">,</span><span class="nv">$month</span><span class="p">)</span> <span class="o">=</span> <span class="nv">@_</span><span class="p">;</span>
    
    <span class="k">my</span> <span class="nv">@days_of_months</span> <span class="o">=</span> <span class="sx">qw{0 31 28 31 30 31 30 31 31 30 31 30 31}</span><span class="p">;</span>
    <span class="k">if</span><span class="p">((</span><span class="nv">$month</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">_uru_or_not</span><span class="p">(</span><span class="nv">$year</span><span class="p">))){</span>
        <span class="k">return</span> <span class="mi">29</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nv">$days_of_months</span><span class="p">[</span><span class="nv">$month</span><span class="p">];</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7561/addtag/" class="addtag" id="addtag_7561">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090317043846/http://ja.doukaku.org/lang/perl/">
		Perl
      </a>]
	  
      [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7561/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7561/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_7561"
  >-</span><span
  class="button yellow"
  id="rating_z_7561"
  >0</span><span 
  class="button green"
  id="rating_p_7561"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090317043846/http://ja.doukaku.org/204/reply_to/7561/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment7568">
  <p class="banner"><a href="/web/20090317043846/http://ja.doukaku.org/user/918/" target="_top">ksky</a>

	
	&nbsp;
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7568/">#7568</a>(<script language="JavaScript">print_time(new Date("2008/09/05 01:47 GMT"));</script><noscript>2008/09/05 01:47 GMT</noscript>)
	
	
	
	[<a href="/web/20090317043846/http://ja.doukaku.org/lang/groovy/">
	  Groovy
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>初めて投稿します。よろしくお願いします。new Date(String s)を使えばもっと短く書けると思うけど、deprecatedだから反則ですよね...</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5
6
7
8
9</pre></td><td class="code"><div class="highlight"><pre>format = new java.text.SimpleDateFormat(&#39;yyyyMMddHHmmss&#39;)

def dateEx(delta, date = null) {
  d = (date) ? format.parse(date) : new Date()
  format.format(new Date(d.time + delta * 1000))
}

println dateEx(40, &quot;20080827235925&quot;)
println dateEx(100)
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7568/addtag/" class="addtag" id="addtag_7568">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090317043846/http://ja.doukaku.org/lang/groovy/">
		Groovy
      </a>]
	  
      [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7568/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7568/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_7568"
  >-</span><span
  class="button yellow"
  id="rating_z_7568"
  >0</span><span 
  class="button green"
  id="rating_p_7568"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090317043846/http://ja.doukaku.org/204/reply_to/7568/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment7588">
  <p class="banner"><a href="/web/20090317043846/http://ja.doukaku.org/user/218/" target="_top">susu</a><a href="/web/20090317043846/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7588/">#7588</a>(<script language="JavaScript">print_time(new Date("2008/09/07 08:48 GMT"));</script><noscript>2008/09/07 08:48 GMT</noscript>)
	
	
	
	[<a href="/web/20090317043846/http://ja.doukaku.org/lang/ocaml/">
	  OCaml
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  
	</div>
	
	<p class="link">
	  参考: <a href="/web/20090317043846/http://d.hatena.ne.jp/mzp/20080811/ocaml">レコードの名前空間 - みずぴー日記</a>
	</p>  
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></td><td class="code"><div class="highlight"><pre><span class="k">#</span><span class="n">load</span> <span class="s2">&quot;unix.cma&quot;</span><span class="k">;;</span>

<span class="kr">let</span> <span class="n">scan_time</span> <span class="n">s</span> <span class="k">=</span>
  <span class="n">Scanf</span><span class="k">.</span><span class="n">sscanf</span> <span class="n">s</span> <span class="s2">&quot;%4d%2d%2d%2d%2d%2d&quot;</span> <span class="k">(</span><span class="kr">fun</span> <span class="n">year</span> <span class="n">mon</span> <span class="n">day</span> <span class="n">h</span> <span class="n">m</span> <span class="n">s</span> <span class="k">-&gt;</span>
    <span class="k">{</span> <span class="n">Unix</span><span class="k">.</span><span class="n">tm_sec</span> <span class="k">=</span> <span class="n">s</span><span class="k">;</span>  <span class="n">tm_min</span> <span class="k">=</span> <span class="n">m</span><span class="k">;</span>  <span class="n">tm_hour</span> <span class="k">=</span> <span class="n">h</span><span class="k">;</span>
      <span class="n">tm_mday</span> <span class="k">=</span> <span class="n">day</span><span class="k">;</span>  <span class="n">tm_mon</span> <span class="k">=</span> <span class="n">mon</span><span class="k">;</span>  <span class="n">tm_year</span> <span class="k">=</span> <span class="n">year</span><span class="k">-</span><span class="mi">1900</span><span class="k">;</span>
      <span class="n">tm_wday</span> <span class="k">=</span> <span class="mi">0</span><span class="k">;</span>  <span class="n">tm_yday</span> <span class="k">=</span> <span class="mi">0</span><span class="k">;</span>  <span class="n">tm_isdst</span> <span class="k">=</span> <span class="kr">false</span>
    <span class="k">}</span> <span class="k">)</span> <span class="k">;;</span>

<span class="kr">let</span> <span class="n">print_time</span> <span class="k">{</span> 
  <span class="n">tm_year</span> <span class="k">=</span> <span class="n">yy</span><span class="k">;</span> <span class="n">tm_mon</span> <span class="k">=</span> <span class="n">mm</span><span class="k">;</span> <span class="n">tm_mday</span> <span class="k">=</span> <span class="n">dd</span><span class="k">;</span>
  <span class="n">tm_hour</span> <span class="k">=</span> <span class="n">h</span><span class="k">;</span> <span class="n">tm_min</span> <span class="k">=</span> <span class="n">m</span><span class="k">;</span> <span class="n">Unix</span><span class="k">.</span><span class="n">tm_sec</span> <span class="k">=</span> <span class="n">s</span> <span class="k">}</span> <span class="k">=</span>
  <span class="n">Printf</span><span class="k">.</span><span class="n">printf</span> <span class="s2">&quot;%d%02d%02d%02d%02d%02d&quot;</span> <span class="k">(</span><span class="n">yy</span><span class="k">+</span><span class="mi">1900</span><span class="k">)</span> <span class="n">mm</span> <span class="n">dd</span> <span class="n">h</span> <span class="n">m</span> <span class="n">s</span><span class="k">;;</span>
  
<span class="kr">let</span> <span class="n">date_ex</span> <span class="n">s</span> <span class="n">sec</span> <span class="k">=</span>
  <span class="kr">let</span> <span class="k">{</span><span class="n">Unix</span><span class="k">.</span><span class="n">tm_sec</span> <span class="k">=</span> <span class="n">tsec</span><span class="k">}</span> <span class="kr">as</span> <span class="n">tm</span> <span class="k">=</span> <span class="n">scan_time</span> <span class="n">s</span> <span class="kr">in</span>
  <span class="n">print_time</span> <span class="k">(</span><span class="n">snd</span> <span class="k">(</span><span class="n">Unix</span><span class="k">.</span><span class="n">mktime</span> <span class="k">{</span><span class="n">tm</span> <span class="kr">with</span> <span class="n">Unix</span><span class="k">.</span><span class="n">tm_sec</span><span class="k">=</span><span class="n">tsec</span><span class="k">+</span><span class="n">sec</span><span class="k">}));;</span>

<span class="c">(* date_ex &quot;20080827235925&quot; 40;; *)</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7588/addtag/" class="addtag" id="addtag_7588">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090317043846/http://ja.doukaku.org/lang/ocaml/">
		OCaml
      </a>]
	  
      [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7588/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7588/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_7588"
  >-</span><span
  class="button yellow"
  id="rating_z_7588"
  >0</span><span 
  class="button green"
  id="rating_p_7588"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090317043846/http://ja.doukaku.org/204/reply_to/7588/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment7708">
  <p class="banner"><a href="/web/20090317043846/http://ja.doukaku.org/user/685/" target="_top">Nemo</a><a href="/web/20090317043846/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7708/">#7708</a>(<script language="JavaScript">print_time(new Date("2008/09/27 04:26 GMT"));</script><noscript>2008/09/27 04:26 GMT</noscript>)
	
	
	
	[<a href="/web/20090317043846/http://ja.doukaku.org/lang/postscript/">
	  PostScript
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>PostScript で。
すっかり泥沼化してしまったので、まだバグがあるかもしれません。
対応は日本時間のみで、1970-2050年に対応。
ただし、2009年7月1日以降、1/1, 7/1 の午前9時を含む計算で各1秒のずれが
生じる可能性があります(仕様)。

(20080927000010) -40 DateEx ==&gt; (20080926235930)
(20080101085900) 60 DateEx  ==&gt; (20080101090000)
(20080101085900) 120 DateEx ==&gt; (20080101090100)
(20090101085900) 60 DateEx  ==&gt; (20090101085960) (うるう秒)
(20090101085900) 120 DateEx ==&gt; (20090101090059) (うるう秒)
</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203</pre></td><td class="code"><div class="highlight"><pre>%!PS

/JST 9 60 60 mul mul def
/LDAY 24 60 60 mul mul def
/MOFF [
    0 31 dup 28 add dup 31 add dup 30 add dup 31 add dup 30 add dup 31 add
    dup 31 add dup 30 add dup 31 add dup 30 add dup 31 add
] def

/StrToUTC0 { % (Date String)  StrToUTC  MJD  UTC_L
    % Get UTC / Ignore TZ &amp; leap secs.
    dup 8 2 getinterval cvi 3600 mul exch
    dup 10 2 getinterval cvi 60 mul exch
    dup 12 2 getinterval cvi exch
    4 1 roll add add
    exch

    dup 0 4 getinterval cvi exch
    dup 4 2 getinterval cvi
    dup 2 le {
        3 -1 roll 1 sub 3 1 roll
    12 add
    } if
    exch
    6 2 getinterval cvi
    exch 2 sub 30.59 mul cvi
    add exch
    dup 365.25 mul cvi exch
    dup 400 div cvi exch
    100 div cvi sub add add
    678912 sub
    exch
} bind def

/LeapSecs0 [
   [  (19720630235960) StrToUTC0 ]
   [  (19721231235960) StrToUTC0 ]
   [  (19731231235960) StrToUTC0 ]
   [  (19741231235960) StrToUTC0 ]
   [  (19751231235960) StrToUTC0 ]
   [  (19761231235960) StrToUTC0 ]
   [  (19771231235960) StrToUTC0 ]
   [  (19781231235960) StrToUTC0 ]
   [  (19791231235960) StrToUTC0 ]
   [  (19810630235960) StrToUTC0 ]
   [  (19820630235960) StrToUTC0 ]
   [  (19830630235960) StrToUTC0 ]
   [  (19850630235960) StrToUTC0 ]
   [  (19871231235960) StrToUTC0 ]
   [  (19891231235960) StrToUTC0 ]
   [  (19901231235960) StrToUTC0 ]
   [  (19920630235960) StrToUTC0 ]
   [  (19930630235960) StrToUTC0 ]
   [  (19940630235960) StrToUTC0 ]
   [  (19951231235960) StrToUTC0 ]
   [  (19970630235960) StrToUTC0 ]
   [  (19981231235960) StrToUTC0 ]
   [  (20051231235960) StrToUTC0 ]
   [  (20081231235960) StrToUTC0 ]
] def

/LeapSecs 30 dict def
LeapSecs0 {
    LeapSecs exch aload pop put
} forall

/IsLeapDay { % MJD  IsLeapDay  bool
    LeapSecs exch known
} bind def

/Normalize { % MJD secs  Normalize   MJD&#39; secs&#39;
    {
        dup 0 lt {
            LDAY add
            exch 1 sub exch
            LeapSecs 2 index known { 1 add } if
        } {
            dup LDAY eq {
                LeapSecs 2 index known { exit } if
            } if
            dup LDAY lt {
                exit
            } if
            LeapSecs 2 index known {
                1 sub
            } if
            LDAY sub
            exch 1 add exch
        } ifelse
    } loop
} bind def

/StrToUTC { % (Date String)  StrToUTC  MJD  secs
    dup
    StrToUTC0
    JST sub
% (Date) MJD secs&#39;

   dup 0 lt {
       exch 1 sub exch LDAY add
   } if

    dup 0 eq {
       1 index 1 sub IsLeapDay
       {
           2 index 8 6 getinterval (085960) eq
           {
               exch 1 sub exch LDAY add
           } if
       } if
   } if
   Normalize
   3 -1 roll pop
} bind def

/cvs2 { % int  cvs2  (dd)
    2 string dup dup 3 index
    % int () () 
    10 idiv 1 string cvs 0 exch putinterval
    3 -1 roll 10 mod 1 string cvs 1 exch putinterval
} bind def


/CompTime {
    % MJD sec () MJD&#39; sec&#39;  CompTime  MJD sec ()   -1/0/1
    % LocalFunction
    3 index sub exch
    4 index sub
    % MJD sec () sec&#39;&#39; MJD&#39;&#39;
    dup 0 lt {
        pop pop -1
    } {
        0 gt {
            pop 1
        }{
            dup 0 lt {
                pop -1
            } {
                0 gt {
                    1
                } {
                    0
                } ifelse
            } ifelse
        } ifelse
    } ifelse
} bind def


/UTCToStr { %  MJD secs  UTCToStr  (Date String)
    14 string dup 0 (20080101000000) putinterval
    2050 -1 1970 {
        4 string cvs 1 index 0 3 -1 roll putinterval
        dup StrToUTC CompTime
        0 le { exit } if
    } for
    12 -1 1 {
        cvs2 1 index 4 3 -1 roll putinterval
        dup StrToUTC CompTime
        0 le { exit } if
    } for
    31 -1 1 {
        cvs2 1 index 6 3 -1 roll putinterval
        dup StrToUTC CompTime
        0 le { exit } if
    } for
    23 -1 0 {
    cvs2 1 index 8 3 -1 roll putinterval
    dup StrToUTC CompTime
    0 le { exit } if
    } for
    % MJD secs (Date)
    dup StrToUTC exch pop
    % MJD secs (Date) secs&#39;
    4 2 roll exch pop sub neg
    % (Date) secs
    dup 3600 eq { % leap second
    pop dup 10 (5960) putinterval
    } {
           dup 60 idiv
    % (Date) secs min
    cvs2 2 index 10 3 -1 roll putinterval
    % (Date) secs
    60 mod cvs2 1 index 12 3 -1 roll putinterval
    } ifelse
} bind def

/DateEx { % (Date String)  secs   DateEx   (New Date String)
    exch StrToUTC
    3 -1 roll add
    Normalize
    UTCToStr
} bind def

% =========================================================

% Test Code

(20080927000010) -40 DateEx ==
(20080101085900) 60 DateEx  ==
(20080101085900) 120 DateEx ==
(20090101085900) 60 DateEx  ==
(20090101085900) 120 DateEx ==
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/7708/addtag/" class="addtag" id="addtag_7708">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090317043846/http://ja.doukaku.org/lang/postscript/">
		PostScript
      </a>]
	  
      [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7708/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090317043846/http://ja.doukaku.org/comment/7708/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_7708"
  >-</span><span
  class="button yellow"
  id="rating_z_7708"
  >0</span><span 
  class="button green"
  id="rating_p_7708"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090317043846/http://ja.doukaku.org/204/reply_to/7708/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8101">
  <p class="banner"><a href="/web/20090317043846/http://ja.doukaku.org/user/969/" target="_top">tazant</a>

	
	&nbsp;
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/8101/">#8101</a>(<script language="JavaScript">print_time(new Date("2008/12/01 06:40 GMT"));</script><noscript>2008/12/01 06:40 GMT</noscript>)
	
	
	
	[<a href="/web/20090317043846/http://ja.doukaku.org/lang/c/">
	  C
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>これはUnixタイムへの統一を行うと簡単にデータを加工（秒単位で追加）できます。
問題は一番面倒な文字列からUnixタイムの作成、Unixタイムから文字列の作成です。
時間の構造体やtime_tを使ってUnixタイムを実現しました。
面倒で雑ですが、一応汎用的な使い方ができるようにしています。</p>
<p>これはT216という独自ソフトウェアの作成の一貫として作ったコードです。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76</pre></td><td class="code"><div class="highlight"><pre><span class="cp">#include &lt;time.h&gt;</span>
<span class="cp">#include &lt;stdio.h&gt;</span>

<span class="c">/* どう書く.org #7401</span>
<span class="c">   http://ja.doukaku.org/204/ */</span>
<span class="n">time_t</span> <span class="nf">str_time</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">t</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">struct</span> <span class="n">tm</span> <span class="n">tm</span><span class="p">;</span>
    <span class="n">time_t</span> <span class="n">tt</span><span class="p">;</span>
    <span class="kt">char</span> <span class="n">s</span><span class="p">[</span><span class="mi">5</span><span class="p">];</span>
    <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>

    <span class="n">strncpy</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="mi">4</span><span class="p">);</span>
    <span class="n">i</span> <span class="o">=</span> <span class="n">atoi</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
    <span class="n">tm</span><span class="p">.</span><span class="n">tm_year</span> <span class="o">=</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1900</span><span class="p">;</span>
    <span class="n">s</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="n">strncpy</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">t</span> <span class="o">+</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
    <span class="n">i</span> <span class="o">=</span> <span class="n">atoi</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
    <span class="n">tm</span><span class="p">.</span><span class="n">tm_mon</span> <span class="o">=</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
    <span class="n">strncpy</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">t</span> <span class="o">+</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
    <span class="n">i</span> <span class="o">=</span> <span class="n">atoi</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
    <span class="n">tm</span><span class="p">.</span><span class="n">tm_mday</span> <span class="o">=</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
    <span class="n">strncpy</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">t</span> <span class="o">+</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
    <span class="n">i</span> <span class="o">=</span> <span class="n">atoi</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
    <span class="n">tm</span><span class="p">.</span><span class="n">tm_hour</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
    <span class="n">strncpy</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">t</span> <span class="o">+</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
    <span class="n">i</span> <span class="o">=</span> <span class="n">atoi</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
    <span class="n">tm</span><span class="p">.</span><span class="n">tm_min</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
    <span class="n">strncpy</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">t</span> <span class="o">+</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
    <span class="n">i</span> <span class="o">=</span> <span class="n">atoi</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
    <span class="n">tm</span><span class="p">.</span><span class="n">tm_sec</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
    <span class="n">tt</span> <span class="o">=</span> <span class="n">mktime</span><span class="p">(</span><span class="o">&amp;</span><span class="n">tm</span><span class="p">);</span>
    <span class="k">return</span> <span class="n">tt</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">time_str</span><span class="p">(</span><span class="n">time_t</span> <span class="n">tt</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">s</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">struct</span> <span class="n">tm</span> <span class="o">*</span><span class="n">tp</span><span class="p">;</span>
    <span class="kt">char</span> <span class="n">sc</span><span class="p">[</span><span class="mi">5</span><span class="p">];</span>

    <span class="n">tp</span> <span class="o">=</span> <span class="n">localtime</span><span class="p">(</span><span class="o">&amp;</span><span class="n">tt</span><span class="p">);</span>
    <span class="n">sprintf</span><span class="p">(</span><span class="n">sc</span><span class="p">,</span> <span class="s">&quot;%d&quot;</span><span class="p">,</span> <span class="n">tp</span><span class="o">-&gt;</span><span class="n">tm_year</span> <span class="o">+</span> <span class="mi">1900</span><span class="p">);</span>
    <span class="n">strcpy</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">sc</span><span class="p">);</span>
    <span class="n">sprintf</span><span class="p">(</span><span class="n">sc</span><span class="p">,</span> <span class="s">&quot;%02d&quot;</span><span class="p">,</span> <span class="n">tp</span><span class="o">-&gt;</span><span class="n">tm_mon</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
    <span class="n">strcat</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">sc</span><span class="p">);</span>
    <span class="n">sprintf</span><span class="p">(</span><span class="n">sc</span><span class="p">,</span> <span class="s">&quot;%02d&quot;</span><span class="p">,</span> <span class="n">tp</span><span class="o">-&gt;</span><span class="n">tm_mday</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
    <span class="n">strcat</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">sc</span><span class="p">);</span>
    <span class="n">sprintf</span><span class="p">(</span><span class="n">sc</span><span class="p">,</span> <span class="s">&quot;%02d&quot;</span><span class="p">,</span> <span class="n">tp</span><span class="o">-&gt;</span><span class="n">tm_hour</span><span class="p">);</span>
    <span class="n">strcat</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">sc</span><span class="p">);</span>
    <span class="n">sprintf</span><span class="p">(</span><span class="n">sc</span><span class="p">,</span> <span class="s">&quot;%02d&quot;</span><span class="p">,</span> <span class="n">tp</span><span class="o">-&gt;</span><span class="n">tm_min</span><span class="p">);</span>
    <span class="n">strcat</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">sc</span><span class="p">);</span>
    <span class="n">sprintf</span><span class="p">(</span><span class="n">sc</span><span class="p">,</span> <span class="s">&quot;%02d&quot;</span><span class="p">,</span> <span class="n">tp</span><span class="o">-&gt;</span><span class="n">tm_sec</span><span class="p">);</span>
    <span class="n">strcat</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">sc</span><span class="p">);</span>
    <span class="k">return</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">org_7401</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">t</span><span class="p">,</span> <span class="kt">int</span> <span class="n">n</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">time_t</span> <span class="n">tm</span><span class="p">;</span>

    <span class="n">tm</span> <span class="o">=</span> <span class="n">str_time</span><span class="p">(</span><span class="n">t</span><span class="p">);</span>
    <span class="n">tm</span> <span class="o">+=</span> <span class="p">(</span><span class="n">time_t</span><span class="p">)</span> <span class="n">n</span><span class="p">;</span>
    <span class="n">time_str</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span> <span class="n">t</span><span class="p">);</span>
    <span class="k">return</span><span class="p">;</span>
<span class="p">}</span> 

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">char</span> <span class="o">*</span><span class="n">s</span> <span class="o">=</span> <span class="n">malloc</span><span class="p">(</span><span class="mi">15</span><span class="p">);</span>

    <span class="n">strcpy</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="s">&quot;20080827235925&quot;</span><span class="p">);</span>
    <span class="n">org_7401</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="mi">40</span><span class="p">);</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">s</span><span class="p">);</span>
    <span class="n">free</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/8101/addtag/" class="addtag" id="addtag_8101">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090317043846/http://ja.doukaku.org/lang/c/">
		C
      </a>]
	  
      [<a href="/web/20090317043846/http://ja.doukaku.org/comment/8101/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090317043846/http://ja.doukaku.org/comment/8101/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8101"
  >-</span><span
  class="button yellow"
  id="rating_z_8101"
  >0</span><span 
  class="button green"
  id="rating_p_8101"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20090317043846/http://ja.doukaku.org/comment/8101/">
    1
    reply
  </a>

  [<a href="/web/20090317043846/http://ja.doukaku.org/204/reply_to/8101/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8102">
  <p class="banner"><a href="/web/20090317043846/http://ja.doukaku.org/user/970/" target="_top">htz</a>

	
	&nbsp;
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/8102/">#8102</a>(<script language="JavaScript">print_time(new Date("2008/12/01 19:28 GMT"));</script><noscript>2008/12/01 19:28 GMT</noscript>)
	
	
	
	[<a href="/web/20090317043846/http://ja.doukaku.org/lang/c/">
	  C
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>適当だけど、こんな感じで良くない？
それに、
tm.tm_isdst = 0;
を忘れていたし、
tm.tm_mday = i - 1;
は-1する必要がないので、答え間違っていたよ（汗

（書式にセパレートとかがあるとstrptimeとかも使えることがあるよ。）</pre>
	</div>
	
	<p class="link">
	  参考: <a href="/web/20090317043846/http://www.fireproject.jp/feature/c-language/basic-library/date-time.html">ファイヤープロジェクト</a>
	</p>  
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51</pre></td><td class="code"><div class="highlight"><pre><span class="cp">#include &lt;time.h&gt;</span>
<span class="cp">#include &lt;stdio.h&gt;</span>

<span class="c">/* どう書く.org #7401</span>
<span class="c">   http://ja.doukaku.org/204/ */</span>
<span class="n">time_t</span> <span class="nf">str_time</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">t</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">struct</span> <span class="n">tm</span> <span class="n">tm</span><span class="p">;</span>

<span class="c">/*    strptime(t,&quot;%Y%m%d%H%M%S&quot;,&amp;tm);*/</span>
    <span class="n">sscanf</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="s">&quot;%04d%02d%02d%02d%02d%02d&quot;</span><span class="p">,</span> 
        <span class="o">&amp;</span><span class="n">tm</span><span class="p">.</span><span class="n">tm_year</span><span class="p">,</span> 
        <span class="o">&amp;</span><span class="n">tm</span><span class="p">.</span><span class="n">tm_mon</span><span class="p">,</span> 
        <span class="o">&amp;</span><span class="n">tm</span><span class="p">.</span><span class="n">tm_mday</span><span class="p">,</span> 
        <span class="o">&amp;</span><span class="n">tm</span><span class="p">.</span><span class="n">tm_hour</span><span class="p">,</span> 
        <span class="o">&amp;</span><span class="n">tm</span><span class="p">.</span><span class="n">tm_min</span><span class="p">,</span> 
        <span class="o">&amp;</span><span class="n">tm</span><span class="p">.</span><span class="n">tm_sec</span><span class="p">);</span>
    <span class="n">tm</span><span class="p">.</span><span class="n">tm_year</span> <span class="o">-=</span> <span class="mi">1900</span><span class="p">;</span>
    <span class="n">tm</span><span class="p">.</span><span class="n">tm_mon</span><span class="o">--</span><span class="p">;</span>
    <span class="n">tm</span><span class="p">.</span><span class="n">tm_isdst</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">mktime</span><span class="p">(</span><span class="o">&amp;</span><span class="n">tm</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">time_str</span><span class="p">(</span><span class="n">time_t</span> <span class="n">tt</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">s</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">struct</span> <span class="n">tm</span> <span class="o">*</span><span class="n">tp</span><span class="p">;</span>

    <span class="n">tp</span> <span class="o">=</span> <span class="n">localtime</span><span class="p">(</span><span class="o">&amp;</span><span class="n">tt</span><span class="p">);</span>
    <span class="n">strftime</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="s">&quot;%Y%m%d%H%M%S&quot;</span><span class="p">,</span> <span class="n">tp</span><span class="p">);</span>
    <span class="k">return</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">org_7401</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">t</span><span class="p">,</span> <span class="kt">int</span> <span class="n">n</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">time_t</span> <span class="n">tm</span><span class="p">;</span>

    <span class="n">tm</span> <span class="o">=</span> <span class="n">str_time</span><span class="p">(</span><span class="n">t</span><span class="p">);</span>
    <span class="n">tm</span> <span class="o">+=</span> <span class="p">(</span><span class="n">time_t</span><span class="p">)</span> <span class="n">n</span><span class="p">;</span>
    <span class="n">time_str</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span> <span class="n">t</span><span class="p">);</span>
    <span class="k">return</span><span class="p">;</span>
<span class="p">}</span> 

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">char</span> <span class="o">*</span><span class="n">s</span> <span class="o">=</span> <span class="n">malloc</span><span class="p">(</span><span class="mi">15</span><span class="p">);</span>

    <span class="n">strcpy</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="s">&quot;20080827235925&quot;</span><span class="p">);</span>
    <span class="n">org_7401</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="mi">40</span><span class="p">);</span>
    <span class="n">puts</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/8102/addtag/" class="addtag" id="addtag_8102">タグ</a>:
	
    
    <a href="/web/20090317043846/http://ja.doukaku.org/tag/time/">time</a>
    
	&nbsp;

	
      [<a href="/web/20090317043846/http://ja.doukaku.org/lang/c/">
		C
      </a>]
	  
      [<a href="/web/20090317043846/http://ja.doukaku.org/comment/8102/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090317043846/http://ja.doukaku.org/comment/8102/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8102"
  >-</span><span
  class="button yellow"
  id="rating_z_8102"
  >0</span><span 
  class="button green"
  id="rating_p_8102"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20090317043846/http://ja.doukaku.org/comment/8101/"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20090317043846/http://ja.doukaku.org/comment/8102/root/"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  <a href="/web/20090317043846/http://ja.doukaku.org/comment/8102/">
    1
    reply
  </a>

  [<a href="/web/20090317043846/http://ja.doukaku.org/204/reply_to/8102/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8103">
  <p class="banner"><a href="/web/20090317043846/http://ja.doukaku.org/user/970/" target="_top">htz</a>

	
	&nbsp;
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/8103/">#8103</a>(<script language="JavaScript">print_time(new Date("2008/12/02 02:25 GMT"));</script><noscript>2008/12/02 02:25 GMT</noscript>)
	
	
	
	[<a href="/web/20090317043846/http://ja.doukaku.org/lang/c/">
	  C
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  ちゃんとこの問題の仕様にのっとるなら。
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49</pre></td><td class="code"><div class="highlight"><pre><span class="cp">#include &lt;time.h&gt;</span>
<span class="cp">#include &lt;stdio.h&gt;</span>

<span class="c">/* どう書く.org #7401</span>
<span class="c">   http://ja.doukaku.org/204/ */</span>
<span class="n">time_t</span> <span class="nf">str_time</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">t</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">struct</span> <span class="n">tm</span> <span class="n">tm</span><span class="p">;</span>

<span class="c">//    strptime(t,&quot;%Y%m%d%H%M%S&quot;,&amp;tm);</span>
    <span class="n">sscanf</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="s">&quot;%04d%02d%02d%02d%02d%02d&quot;</span><span class="p">,</span> 
        <span class="o">&amp;</span><span class="n">tm</span><span class="p">.</span><span class="n">tm_year</span><span class="p">,</span> 
        <span class="o">&amp;</span><span class="n">tm</span><span class="p">.</span><span class="n">tm_mon</span><span class="p">,</span> 
        <span class="o">&amp;</span><span class="n">tm</span><span class="p">.</span><span class="n">tm_mday</span><span class="p">,</span> 
        <span class="o">&amp;</span><span class="n">tm</span><span class="p">.</span><span class="n">tm_hour</span><span class="p">,</span> 
        <span class="o">&amp;</span><span class="n">tm</span><span class="p">.</span><span class="n">tm_min</span><span class="p">,</span> 
        <span class="o">&amp;</span><span class="n">tm</span><span class="p">.</span><span class="n">tm_sec</span><span class="p">);</span>
    <span class="n">tm</span><span class="p">.</span><span class="n">tm_year</span> <span class="o">-=</span> <span class="mi">1900</span><span class="p">;</span>
    <span class="n">tm</span><span class="p">.</span><span class="n">tm_mon</span><span class="o">--</span><span class="p">;</span>
    <span class="n">tm</span><span class="p">.</span><span class="n">tm_isdst</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">mktime</span><span class="p">(</span><span class="o">&amp;</span><span class="n">tm</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">time_str</span><span class="p">(</span><span class="n">time_t</span> <span class="n">tt</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">s</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">struct</span> <span class="n">tm</span> <span class="o">*</span><span class="n">tp</span><span class="p">;</span>

    <span class="n">tp</span> <span class="o">=</span> <span class="n">localtime</span><span class="p">(</span><span class="o">&amp;</span><span class="n">tt</span><span class="p">);</span>
    <span class="n">strftime</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="s">&quot;%Y%m%d%H%M%S&quot;</span><span class="p">,</span> <span class="n">tp</span><span class="p">);</span>
    <span class="k">return</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">DateEx</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">t</span><span class="p">,</span> <span class="kt">int</span> <span class="n">n</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">char</span> <span class="n">s</span><span class="p">[</span><span class="mi">15</span><span class="p">];</span>
    <span class="n">time_t</span> <span class="n">tm</span><span class="p">;</span>

    <span class="n">tm</span> <span class="o">=</span> <span class="n">str_time</span><span class="p">(</span><span class="n">t</span><span class="p">);</span>
    <span class="n">tm</span> <span class="o">+=</span> <span class="p">(</span><span class="n">time_t</span><span class="p">)</span> <span class="n">n</span><span class="p">;</span>
    <span class="n">time_str</span><span class="p">(</span><span class="n">tm</span><span class="p">,</span> <span class="n">s</span><span class="p">);</span>
    <span class="n">puts</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
    <span class="k">return</span><span class="p">;</span>
<span class="p">}</span> 

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">DateEx</span><span class="p">(</span><span class="s">&quot;20080827235925&quot;</span><span class="p">,</span> <span class="mi">40</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/8103/addtag/" class="addtag" id="addtag_8103">タグ</a>:
	
    
    <a href="/web/20090317043846/http://ja.doukaku.org/tag/time/">time</a>
    
	&nbsp;

	
      [<a href="/web/20090317043846/http://ja.doukaku.org/lang/c/">
		C
      </a>]
	  
      [<a href="/web/20090317043846/http://ja.doukaku.org/comment/8103/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090317043846/http://ja.doukaku.org/comment/8103/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8103"
  >-</span><span
  class="button yellow"
  id="rating_z_8103"
  >0</span><span 
  class="button green"
  id="rating_p_8103"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20090317043846/http://ja.doukaku.org/comment/8102/"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20090317043846/http://ja.doukaku.org/comment/8103/root/"><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20090317043846/http://ja.doukaku.org/204/reply_to/8103/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8393">
  <p class="banner"><a href="/web/20090317043846/http://ja.doukaku.org/user/856/" target="_top">fumokmm</a>

	
	&nbsp;
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/8393/">#8393</a>(<script language="JavaScript">print_time(new Date("2009/01/24 10:49 GMT"));</script><noscript>2009/01/24 10:49 GMT</noscript>)
	
	
	
	[<a href="/web/20090317043846/http://ja.doukaku.org/lang/groovy/">
	  Groovy
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <div class="section">
<p>java.util.Calendar#addを使ってみました。</p>
<p>これといった捻りは特になしです。</p>
<p>horiuchiさん(#7513)がJavaで投稿したもののGroovy版といった位置づけですかね。</p>
</div>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5
6
7</pre></td><td class="code"><div class="highlight"><pre>def dateEx(date = null, delta) {
   def format = new java.text.SimpleDateFormat(&#39;yyyyMMddHHmmss&#39;)
   def cal = Calendar.instance
   if (date) { cal.time = format.parse(date) }
   cal.add(Calendar.SECOND, delta)
   return format.format(cal.time)
}
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090317043846/http://ja.doukaku.org/comment/8393/addtag/" class="addtag" id="addtag_8393">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090317043846/http://ja.doukaku.org/lang/groovy/">
		Groovy
      </a>]
	  
      [<a href="/web/20090317043846/http://ja.doukaku.org/comment/8393/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090317043846/http://ja.doukaku.org/comment/8393/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8393"
  >-</span><span
  class="button yellow"
  id="rating_z_8393"
  >0</span><span 
  class="button green"
  id="rating_p_8393"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090317043846/http://ja.doukaku.org/204/reply_to/8393/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>







</div>

<div id="side_menu" class="compact">

<iframe src="/web/20090317043846if_/http://ja.doukaku.org/login_info/" frameborder=0 width=100% id="login_info">
iframe required
</iframe>

<h4 class="semi_compact">一覧</h4>

<ul>
<!--<li><a href="/web/20090317043846/http://ja.doukaku.org/user/">ユーザ</a>-->
<li><a href="/web/20090317043846/http://ja.doukaku.org/lang/">言語</a>
<li><a href="/web/20090317043846/http://ja.doukaku.org/challenge/">お題</a>
<li><a href="/web/20090317043846/http://ja.doukaku.org/topic/">トピック</a>
<li><a href="/web/20090317043846/http://ja.doukaku.org/comment/">投稿</a>
<li><a href="/web/20090317043846/http://ja.doukaku.org/good_comments/">評価の高い投稿</a>
<li><a href="/web/20090317043846/http://ja.doukaku.org/tag/">タグ</a>
</ul>

<h4 class="compact">フィード</h4>
<ul>
<li><a href="/web/20090317043846/http://ja.doukaku.org/feeds/challenges/">最新のお題</a><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/feed_icon.png">
<li><a href="/web/20090317043846/http://ja.doukaku.org/feeds/topics/">最新のトピック</a><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/feed_icon.png">
<li><a href="/web/20090317043846/http://ja.doukaku.org/feeds/comments/">新着投稿</a><img src="/web/20090317043846im_/http://ja.doukaku.org/static/image/feed_icon.png">
</ul>







<h4 class="compact">その他</h4>
<ul>
<li><a href="/web/20090317043846/http://ja.doukaku.org/qa/">Q&A</a>
<li><a href="/web/20090317043846/http://ja.doukaku.org/feedback/">フィードバック</a>
<!--<li><a href="/web/20090317043846/http://ja.doukaku.org/terms">用語集</a>-->
</ul>


<h4 class="compact">リンク</h4>
<ul>
<li><a href="/web/20090317043846/http://www.lingr.com/room/doukaku_ja">チャットルーム(Lingr)</a>
<li><a href="/web/20090317043846/http://labs.cybozu.co.jp/">サイボウズ・ラボ</a>
<li><a href="/web/20090317043846/http://www.djangoproject.com/">Django</a>
</ul>

<h4 id="pathtraq" class="compact"><a href="/web/20090317043846/http://pathtraq.com/analytics?url=http%3A%2F%2Fja.doukaku.org%2Fcomment%2F*%2F%20desc%3A%E3%81%A9%E3%81%86%E6%9B%B8%E3%81%8Forg&m=popular">Pathtraq</a></h4>
<div class="indent">
<span id="pathtraq_sentinel">loading...</span>
</div>


</div>
</div>


<div id="page_foot" class="bordered">

<a rel="license" href="/web/20090317043846/http://creativecommons.org/licenses/by/2.1/jp/">
<img alt="Creative Commons License" style="border-width:0" src="/web/20090317043846im_/http://i.creativecommons.org/l/by/2.1/jp/88x31.png" /></a>
このサイトの内容は、
<a rel="license" href="/web/20090317043846/http://creativecommons.org/licenses/by/2.1/jp/">クリエイティブ・コモンズ・ライセンス</a>の下でライセンスされています。
<a href="/web/20090317043846/http://ja.doukaku.org/qa/#licence">[詳細]</a>

</div>

</body>




<script type="text/javascript">
$(document).ready(function(){$("#doukaku_org").after("<script src='/web/20090317043846/http://api.pathtraq.com/pages?url=http%3A%2F%2Fja.doukaku.org%2Fcomment%2F*%2F%20desc%3A%E3%81%A9%E3%81%86%E6%9B%B8%E3%81%8Forg&api=json&callback=addPathtraq'><" + "/script>")});
</script>

<script src="/web/20090317043846js_/http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-2136157-1";
urchinTracker();
</script>




</html>





<!--
     FILE ARCHIVED ON 4:38:46 Mar 17, 2009 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 12:57:45 Nov 16, 2013.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
