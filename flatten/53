
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja"> 
  <head>

<script type="text/javascript" src="/static/js/analytics.js" ></script>
<link type="text/css" rel="stylesheet" href="/static/css/banner-styles.css"/>




    <meta http-equiv="Content-type" content="text/html; charset=UTF-8" />
    <title>
仲間はずれの判定
DouKaku? </title>

    <link rel="stylesheet" type="text/css"
	href="/web/20081202154714cs_/http://ja.doukaku.org/static/style/reset-fonts-grids.css" />
    <link rel="stylesheet" type="text/css"
	href="/web/20081202154714cs_/http://ja.doukaku.org/static/style/style.css?20071211?20071207" />
	
    <link rel="stylesheet" type="text/css"
	href="/web/20081202154714cs_/http://ja.doukaku.org/static/style/pygments.css" />


	
<meta name="robots" content="noindex,nofollow">

    <!--<script src="/web/20081202154714/http://ja.doukaku.org/static/js/ieerbug/ieerbug.js" type="text/javascript"></script>-->


<!--<script src="/web/20081202154714/http://ja.doukaku.org/static/js/ieerbug/ieerbug.js" type="text/javascript"></script>-->
<script src="/web/20081202154714js_/http://ja.doukaku.org/static/js/jquery-1.1.3.1.js" type="text/javascript"></script>
<script src="/web/20081202154714js_/http://ja.doukaku.org/static/js/rating.js" type="text/javascript"></script>
<script src="/web/20081202154714js_/http://ja.doukaku.org/static/js/addtag.js?20071129" type="text/javascript"></script>

<script type="text/javascript">
is_key_navigation_enable = true;
</script>
<script src="/web/20081202154714js_/http://ja.doukaku.org/static/js/utils.js?~~~" type="text/javascript"></script>

</head>


<body id="doukaku_org">
<!-- BEGIN WAYBACK TOOLBAR INSERT -->
<script> if (window.archive_analytics) { window.archive_analytics.values['server_name']="wwwb-app12.us.archive.org";}; </script>

<script type="text/javascript" src="/static/js/disclaim-element.js" ></script>
<script type="text/javascript" src="/static/js/graph-calc.js" ></script>
<script type="text/javascript" src="/static/jflot/jquery.min.js" ></script>
<script type="text/javascript">
//<![CDATA[
var firstDate = 820454400000;
var lastDate = 1388534399999;
var wbPrefix = "/web/";
var wbCurrentUrl = "http:\/\/ja.doukaku.org\/53\/flatten\/";

var curYear = -1;
var curMonth = -1;
var yearCount = 18;
var firstYear = 1996;
var imgWidth = 450;
var yearImgWidth = 25;
var monthImgWidth = 2;
var trackerVal = "none";
var displayDay = "2";
var displayMonth = "Dec";
var displayYear = "2008";
var prettyMonths = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];

function showTrackers(val) {
	if(val == trackerVal) {
		return;
	}
	if(val == "inline") {
		document.getElementById("displayYearEl").style.color = "#ec008c";
		document.getElementById("displayMonthEl").style.color = "#ec008c";
		document.getElementById("displayDayEl").style.color = "#ec008c";		
	} else {
		document.getElementById("displayYearEl").innerHTML = displayYear;
		document.getElementById("displayYearEl").style.color = "#ff0";
		document.getElementById("displayMonthEl").innerHTML = displayMonth;
		document.getElementById("displayMonthEl").style.color = "#ff0";
		document.getElementById("displayDayEl").innerHTML = displayDay;
		document.getElementById("displayDayEl").style.color = "#ff0";
	}
   document.getElementById("wbMouseTrackYearImg").style.display = val;
   document.getElementById("wbMouseTrackMonthImg").style.display = val;
   trackerVal = val;
}
function getElementX2(obj) {
	var thing = jQuery(obj);
	if((thing == undefined) 
			|| (typeof thing == "undefined") 
			|| (typeof thing.offset == "undefined")) {
		return getElementX(obj);
	}
	return Math.round(thing.offset().left);
}
function trackMouseMove(event,element) {

   var eventX = getEventX(event);
   var elementX = getElementX2(element);
   var xOff = eventX - elementX;
	if(xOff < 0) {
		xOff = 0;
	} else if(xOff > imgWidth) {
		xOff = imgWidth;
	}
   var monthOff = xOff % yearImgWidth;

   var year = Math.floor(xOff / yearImgWidth);
	var yearStart = year * yearImgWidth;
   var monthOfYear = Math.floor(monthOff / monthImgWidth);
   if(monthOfYear > 11) {
       monthOfYear = 11;
   }
   // 1 extra border pixel at the left edge of the year:
   var month = (year * 12) + monthOfYear;
   var day = 1;
	if(monthOff % 2 == 1) {
		day = 15;
	}
	var dateString = 
		zeroPad(year + firstYear) + 
		zeroPad(monthOfYear+1,2) +
		zeroPad(day,2) + "000000";

	var monthString = prettyMonths[monthOfYear];
	document.getElementById("displayYearEl").innerHTML = year + 1996;
	document.getElementById("displayMonthEl").innerHTML = monthString;
	// looks too jarring when it changes..
	//document.getElementById("displayDayEl").innerHTML = zeroPad(day,2);

	var url = wbPrefix + dateString + '/' +  wbCurrentUrl;
	document.getElementById('wm-graph-anchor').href = url;

   //document.getElementById("wmtbURL").value="evX("+eventX+") elX("+elementX+") xO("+xOff+") y("+year+") m("+month+") monthOff("+monthOff+") DS("+dateString+") Moy("+monthOfYear+") ms("+monthString+")";
   if(curYear != year) {
       var yrOff = year * yearImgWidth;
       document.getElementById("wbMouseTrackYearImg").style.left = yrOff + "px";
       curYear = year;
   }
   if(curMonth != month) {
       var mtOff = year + (month * monthImgWidth) + 1;
       document.getElementById("wbMouseTrackMonthImg").style.left = mtOff + "px";
       curMonth = month;
   }
}
//]]>
</script>

<style type="text/css">body{margin-top:0!important;padding-top:0!important;min-width:800px!important;}#wm-ipp a:hover{text-decoration:underline!important;}</style>
<div id="wm-ipp" lang="en" class="__wb_banner_div" style="display:none; position:relative;padding:0 5px;min-height:70px;min-width:800px">


<div id="wm-ipp-inside" class="__wb_banner_div" style="position:fixed;padding:0!important;margin:0!important;width:97%;min-width:780px;border:5px solid #000;border-top:none;background-image:url(/static/images/toolbar/wm_tb_bk_trns.png);text-align:center;-moz-box-shadow:1px 1px 3px #333;-webkit-box-shadow:1px 1px 3px #333;box-shadow:1px 1px 3px #333;font-size:11px!important;font-family:'Lucida Grande','Arial',sans-serif!important;">
   <table style="border-collapse:collapse;margin:0;padding:0;width:100%;"><tbody><tr>
   <td style="padding:10px;vertical-align:top;min-width:110px;">
   <a href="/web/" title="Wayback Machine home page" style="background-color:transparent;border:none;"><img src="/static/images/toolbar/wayback-toolbar-logo.png" alt="Wayback Machine" width="110" height="39" border="0"/></a>
   </td>
   <td style="padding:0!important;text-align:center;vertical-align:top;width:100%;">

       <table style="border-collapse:collapse;margin:0 auto;padding:0;width:570px;"><tbody><tr>
       <td style="padding:3px 0;" colspan="2">
       <form target="_top" method="get" action="/web/form-submit.jsp" name="wmtb" id="wmtb" style="margin:0!important;padding:0!important;"><input type="text" name="url" id="wmtbURL" value="http://ja.doukaku.org/53/flatten/" style="width:400px;font-size:11px;font-family:'Lucida Grande','Arial',sans-serif;" onfocus="javascript:this.focus();this.select();" /><input type="hidden" name="type" value="replay" /><input type="hidden" name="date" value="20081202154714" /><input type="submit" value="Go" style="font-size:11px;font-family:'Lucida Grande','Arial',sans-serif;margin-left:5px;width: inherit !important" /><span id="wm_tb_options" style="display:block;"></span></form>
       </td>
       <td style="vertical-align:bottom;padding:5px 0 0 0!important;" rowspan="2">
           <table style="border-collapse:collapse;width:110px;color:#99a;font-family:'Helvetica','Lucida Grande','Arial',sans-serif;"><tbody>
			
           <!-- NEXT/PREV MONTH NAV AND MONTH INDICATOR -->
           <tr style="width:110px;height:16px;font-size:10px!important;">
           	<td style="padding-right:9px;font-size:11px!important;font-weight:bold;text-transform:uppercase;text-align:right;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
		                <a href="/web/20080406163837/http://ja.doukaku.org/53/flatten/" style="text-decoration:none;color:#33f;font-weight:bold;background-color:transparent;border:none;" title="6 Apr 2008"><strong>APR</strong></a>
		                
               </td>
               <td id="displayMonthEl" style="background:#000;color:#ff0;font-size:11px!important;font-weight:bold;text-transform:uppercase;width:34px;height:15px;padding-top:1px;text-align:center;" title="You are here: 15:47:14 Dec 2, 2008">DEC</td>
				<td style="padding-left:9px;font-size:11px!important;font-weight:bold;text-transform:uppercase;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       Jan
                       
               </td>
           </tr>

           <!-- NEXT/PREV CAPTURE NAV AND DAY OF MONTH INDICATOR -->
           <tr>
               <td style="padding-right:9px;white-space:nowrap;overflow:visible;text-align:right!important;vertical-align:middle!important;" nowrap="nowrap">
               
		                <a href="/web/20080406163837/http://ja.doukaku.org/53/flatten/" title="16:38:37 Apr 6, 2008" style="background-color:transparent;border:none;"><img src="/static/images/toolbar/wm_tb_prv_on.png" alt="Previous capture" width="14" height="16" border="0" /></a>
		                
               </td>
               <td id="displayDayEl" style="background:#000;color:#ff0;width:34px;height:24px;padding:2px 0 0 0;text-align:center;font-size:24px;font-weight: bold;" title="You are here: 15:47:14 Dec 2, 2008">2</td>
				<td style="padding-left:9px;white-space:nowrap;overflow:visible;text-align:left!important;vertical-align:middle!important;" nowrap="nowrap">
               
                       <img src="/static/images/toolbar/wm_tb_nxt_off.png" alt="Next capture" width="14" height="16" border="0"/>
                       
			    </td>
           </tr>

           <!-- NEXT/PREV YEAR NAV AND YEAR INDICATOR -->
           <tr style="width:110px;height:13px;font-size:9px!important;">
				<td style="padding-right:9px;font-size:11px!important;font-weight: bold;text-align:right;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
		                <a href="/web/20070513180302/http://ja.doukaku.org/53/flatten/" style="text-decoration:none;color:#33f;font-weight:bold;background-color:transparent;border:none;" title="13 May 2007"><strong>2007</strong></a>
		                
               </td>
               <td id="displayYearEl" style="background:#000;color:#ff0;font-size:11px!important;font-weight: bold;padding-top:1px;width:34px;height:13px;text-align:center;" title="You are here: 15:47:14 Dec 2, 2008">2008</td>
				<td style="padding-left:9px;font-size:11px!important;font-weight: bold;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       2009
                       
				</td>
           </tr>
           </tbody></table>
       </td>

       </tr>
       <tr>
       <td style="vertical-align:middle;padding:0!important;">
           <a href="/web/20081202154714*/http://ja.doukaku.org/53/flatten/" style="color:#33f;font-size:11px;font-weight:bold;background-color:transparent;border:none;" title="See a list of every capture for this URL"><strong>4 captures</strong></a>
           <div class="__wb_banner_div" style="margin:0!important;padding:0!important;color:#666;font-size:9px;padding-top:2px!important;white-space:nowrap;" title="Timespan for captures of this URL">13 May 07 - 2 Dec 08</div>
       </td>
       <td style="padding:0!important;">
       <a style="position:relative; white-space:nowrap; width:450px;height:27px;" href="" id="wm-graph-anchor">
       <div class="__wb_banner_div" id="wm-ipp-sparkline" style="position:relative; white-space:nowrap; width:450px;height:27px;background-color:#fff;cursor:pointer;border-right:1px solid #ccc;" title="Explore captures for this URL">
			<img id="sparklineImgId" style="position:absolute; z-index:9012; top:0px; left:0px;"
				onmouseover="showTrackers('inline');" 
				onmouseout="showTrackers('none');"
				onmousemove="trackMouseMove(event,this)"
				alt="sparklines"
				width="450"
				height="27"
				border="0"
				src="/web/jsp/graph.jsp?graphdata=450_27_1996:-1:000000000000_1997:-1:000000000000_1998:-1:000000000000_1999:-1:000000000000_2000:-1:000000000000_2001:-1:000000000000_2002:-1:000000000000_2003:-1:000000000000_2004:-1:000000000000_2005:-1:000000000000_2006:-1:000000000000_2007:-1:000010000000_2008:11:010100000001_2009:-1:000000000000_2010:-1:000000000000_2011:-1:000000000000_2012:-1:000000000000_2013:-1:000000000000"></img>
			<img id="wbMouseTrackYearImg" 
				style="display:none; position:absolute; z-index:9010;"
				width="25" 
				height="27"
				border="0"
				src="/static/images/toolbar/transp-yellow-pixel.png"></img>
			<img id="wbMouseTrackMonthImg"
				style="display:none; position:absolute; z-index:9011; " 
				width="2"
				height="27" 
				border="0"
				src="/static/images/toolbar/transp-red-pixel.png"></img>
       </div>
		</a>

       </td>
       </tr></tbody></table>
   </td>
   <td style="text-align:right;padding:5px;width:65px;font-size:11px!important;">
       <a href="javascript:;" onclick="document.getElementById('wm-ipp').style.display='none';" style="display:block;padding-right:18px;background:url(/static/images/toolbar/wm_tb_close.png) no-repeat 100% 0;color:#33f;font-family:'Lucida Grande','Arial',sans-serif;margin-bottom:23px;background-color:transparent;border:none;" title="Close the toolbar">Close</a>
       <a href="http://faq.web.archive.org/" style="display:block;padding-right:18px;background:url(/static/images/toolbar/wm_tb_help.png) no-repeat 100% 0;color:#33f;font-family:'Lucida Grande','Arial',sans-serif;background-color:transparent;border:none;" title="Get some help using the Wayback Machine">Help</a>
   </td>
   </tr></tbody></table>

</div>
</div>
<script type="text/javascript">
 var wmDisclaimBanner = document.getElementById("wm-ipp");
 if(wmDisclaimBanner != null) {
   disclaimElement(wmDisclaimBanner);
 }
</script>
<!-- END WAYBACK TOOLBAR INSERT -->


<div id="page_head" class="compact">
  <h1 class="compact">
    <a href="/web/20081202154714/http://ja.doukaku.org/">DouKaku?</a><img src="/web/20081202154714im_/http://ja.doukaku.org/static/image/beta.png" alt="beta">
  </h1>
</div>

<div id="page_body" class="compact">
<div id="content" class="compact">




<h2 class="compact">
<img src='/web/20081202154714im_/http://ja.doukaku.org/static/image/star_gold.png' alt=challenge>
<a href="/web/20081202154714/http://ja.doukaku.org/53/">仲間はずれの判定</a>
</h2>

    





<div class="comment" id="comment3409">
  <p class="banner"><a href="/web/20081202154714/http://ja.doukaku.org/user/1/" target="_top">にしお</a><a href="/web/20081202154714/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20081202154714im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20081202154714/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20081202154714im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20081202154714/http://ja.doukaku.org/comment/3409/">#3409</a>(<script language="JavaScript">print_time(new Date("2007/08/29 19:17 GMT"));</script><noscript>2007/08/29 19:17 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">Rating<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  リストxsが渡されたときに
<ul>
<li>
全部の要素が同じ値である(例：[1, 1, 1, 1])、
<li>
一つだけ仲間はずれがある(例：[1, 2, 1, 1, 1])、
<li>
その他
</ul>
を識別する関数を作ってください。
また判定後に「全部の要素が同じ値」の場合にはその値、
「一つだけ仲間はずれがある」の場合にはその仲間はずれの値と多数派の値を複雑な処理なしに取得できるようにしてください。
<p>
型にうるさい言語のために：リストの中身は非負の整数だと仮定して負の値を未定義値代わりに使っても構いません。
<p>
追記：リストの長さは3以上であると仮定して構いません。(2個で異なる値の時にどちらが仲間はずれか決まらないので。) nobsunさん、noriさん、ご指摘ありがとうございます。
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20081202154714/http://ja.doukaku.org/comment/3409/addtag/" class="addtag" id="addtag_3409">Tags</a>:
	
	No tags
	&nbsp;

	

  
  <span class="rating">
  Rating<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3409"
  >-</span><span
  class="button yellow"
  id="rating_z_3409"
  >0</span><span 
  class="button green"
  id="rating_p_3409"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20081202154714/http://ja.doukaku.org/comment/3409/">
    1
    reply
  </a>

  [<a href="/web/20081202154714/http://ja.doukaku.org/53/reply_to/3409/">
  reply
  </a>]
  </div>
</div>
</div>




  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20081202154714im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      





<div class="comment" id="comment3889">
  <p class="banner"><a href="/web/20081202154714/http://ja.doukaku.org/user/535/" target="_top">nantan</a>

	
	&nbsp;
	<a href="/web/20081202154714/http://ja.doukaku.org/comment/3889/">#3889</a>(<script language="JavaScript">print_time(new Date("2007/11/12 04:18 GMT"));</script><noscript>2007/11/12 04:18 GMT</noscript>)
	
	
	
	[<a href="/web/20081202154714/http://ja.doukaku.org/lang/java/">
	  Java
	</a>]
	
	
	
	&nbsp;

<span class="rating">Rating<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>もっとスリム化できそうですがとりあえず。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33</pre></td><td class="code"><div class="highlight"><pre><span class="k">import</span> <span class="nn">java.util.*</span><span class="o">;</span>
<span class="k">public</span> <span class="k">class</span> <span class="nc">NakamaHazure</span> <span class="o">{</span>
    <span class="k">public</span> <span class="k">static</span> <span class="kt">void</span> <span class="n">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">check</span><span class="o">(</span><span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">1</span><span class="o">));</span>    <span class="c">// =&gt; [1]</span>
        <span class="n">check</span><span class="o">(</span><span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">1</span><span class="o">));</span>    <span class="c">// =&gt; [2,1]</span>
        <span class="n">check</span><span class="o">(</span><span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">1</span><span class="o">));</span>    <span class="c">// =&gt; []</span>
        <span class="n">check</span><span class="o">(</span><span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">3</span><span class="o">));</span>    <span class="c">// =&gt; []</span>
    <span class="o">}</span>
    <span class="k">private</span> <span class="k">static</span> <span class="kt">void</span> <span class="n">check</span><span class="o">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">HashSet</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">set</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashSet</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;();</span>
        <span class="n">HashSet</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">minor</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashSet</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;();;</span>
        <span class="n">Integer</span> <span class="n">major</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">Integer</span> <span class="n">i</span> <span class="o">:</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(!</span><span class="n">set</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">i</span><span class="o">))</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">major</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="n">major</span> <span class="o">!=</span> <span class="n">i</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;[]&quot;</span><span class="o">);</span>
                    <span class="k">return</span><span class="o">;</span>
                <span class="o">}</span>
                <span class="n">minor</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
                <span class="n">major</span> <span class="o">=</span> <span class="n">i</span><span class="o">;</span>
            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                <span class="n">minor</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">set</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">==</span> <span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;[&quot;</span> <span class="o">+</span> <span class="n">set</span><span class="o">.</span><span class="na">iterator</span><span class="o">().</span><span class="na">next</span><span class="o">()</span> <span class="o">+</span> <span class="s">&quot;]&quot;</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">set</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">==</span> <span class="mi">2</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;[&quot;</span> <span class="o">+</span> <span class="n">minor</span><span class="o">.</span><span class="na">iterator</span><span class="o">().</span><span class="na">next</span><span class="o">()</span> <span class="o">+</span> <span class="s">&quot;,&quot;</span> <span class="o">+</span> <span class="n">major</span> <span class="o">+</span> <span class="s">&quot;]&quot;</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;[]&quot;</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20081202154714/http://ja.doukaku.org/comment/3889/addtag/" class="addtag" id="addtag_3889">Tags</a>:
	
	No tags
	&nbsp;

	
      [<a href="/web/20081202154714/http://ja.doukaku.org/lang/java/">
		Java
      </a>]
	  
      [<a href="/web/20081202154714/http://ja.doukaku.org/comment/3889/download/">
		download code
      </a>]
	  [<a href="/web/20081202154714/http://ja.doukaku.org/comment/3889/download_html/">
		get code as html
      </a>]<p>
	

  
  <span class="rating">
  Rating<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_3889"
  >-</span><span
  class="button yellow"
  id="rating_z_3889"
  >0</span><span 
  class="button green"
  id="rating_p_3889"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20081202154714/http://ja.doukaku.org/comment/3409/"><img src="/web/20081202154714im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20081202154714/http://ja.doukaku.org/comment/3889/root/"><img src="/web/20081202154714im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  <a href="/web/20081202154714/http://ja.doukaku.org/comment/3889/">
    1
    reply
  </a>

  [<a href="/web/20081202154714/http://ja.doukaku.org/53/reply_to/3889/">
  reply
  </a>]
  </div>
</div>
</div>




  
    <div class="indent compact" style="position: relative;">
      <img src="/web/20081202154714im_/http://ja.doukaku.org/static/image/1x1dark_green.png" width=10 style="position: absolute;top:-10px;margin-left:8px;">
      





<div class="comment" id="comment5844">
  <p class="banner"><a href="/web/20081202154714/http://ja.doukaku.org/user/725/" target="_top">takuya_1st</a><a href="/web/20081202154714/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20081202154714im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20081202154714/http://ja.doukaku.org/comment/5844/">#5844</a>(<script language="JavaScript">print_time(new Date("2008/02/26 00:45 GMT"));</script><noscript>2008/02/26 00:45 GMT</noscript>)
	
	
	
	[<a href="/web/20081202154714/http://ja.doukaku.org/lang/php/">
	  PHP
	</a>]
	
	
	
	&nbsp;

<span class="rating">Rating<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <p>array_count_values便利ですね。あえて使わないで作ってみる事で便利さを際実感</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29</pre></td><td class="code"><div class="highlight"><pre><span class="x">$a[]= array(1,1,1,1);#1</span>
<span class="x">$a[]= array(1,2,1,1,1);#2</span>
<span class="x">$a[]= array(2,1,2,2);#その他</span>
<span class="x">$a[]= array(1,2,2,2);#その他</span>
<span class="x">$a[]= array(1,1,2,2);#その他</span>
<span class="x">$a[]= array(1,1,2,3);#その他</span>
<span class="x">function check($_array){</span>
<span class="x">    $uniques = sizeof(array_unique($_array));</span>
<span class="x">    switch($uniques){</span>
<span class="x">        case(1):</span>
<span class="x">            return array(&quot;仲間&quot;=&gt;array_pop($_array));</span>
<span class="x">        case(2):</span>
<span class="x">            sort($_array);</span>
<span class="x">            #仲間はずれ</span>
<span class="x">            if( $_array[0]!=$_array[1] ){</span>
<span class="x">                return array( &quot;仲間はずれ&quot;=&gt;array_shift($_array),&quot;仲間&quot;=&gt;array_pop($_array) );</span>
<span class="x">            }else if($_array[0]==$_array[1] &amp;&amp; $_array[sizeof($_array)-1] != $_array[sizeof($_array)-2] ){</span>
<span class="x">                return array( &quot;仲間はずれ&quot;=&gt;array_pop($_array),&quot;仲間&quot;=&gt;array_shift($_array) );</span>
<span class="x">            }</span>
<span class="x">        default:</span>
<span class="x">            return &quot;その他&quot;;</span>
<span class="x">    }</span>


<span class="x">}</span>

<span class="x">foreach( $a as $b ){</span>
<span class="x">    print_r( check($b) ).PHP_EOL;</span>
<span class="x">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20081202154714/http://ja.doukaku.org/comment/5844/addtag/" class="addtag" id="addtag_5844">Tags</a>:
	
	No tags
	&nbsp;

	
      [<a href="/web/20081202154714/http://ja.doukaku.org/lang/php/">
		PHP
      </a>]
	  
      [<a href="/web/20081202154714/http://ja.doukaku.org/comment/5844/download/">
		download code
      </a>]
	  [<a href="/web/20081202154714/http://ja.doukaku.org/comment/5844/download_html/">
		get code as html
      </a>]<p>
	

  
  <span class="rating">
  Rating<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5844"
  >-</span><span
  class="button yellow"
  id="rating_z_5844"
  >0</span><span 
  class="button green"
  id="rating_p_5844"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20081202154714/http://ja.doukaku.org/comment/3889/"><img src="/web/20081202154714im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20081202154714/http://ja.doukaku.org/comment/5844/root/"><img src="/web/20081202154714im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20081202154714/http://ja.doukaku.org/53/reply_to/5844/">
  reply
  </a>]
  </div>
</div>
</div>




  


    </div>
  


    </div>
  



<div class="indent">
<a href="/web/20081202154714/http://ja.doukaku.org/53/post_comment/">
post comment
</a>
</div>


<h2>Posted feedbacks - Flatten</h2>
<a href="/web/20081202154714/http://ja.doukaku.org/53/nested/">Nested</a>
<a href="/web/20081202154714/http://ja.doukaku.org/53/">Hidden</a> 


  
  




<div class="comment" id="comment2637">
  <p class="banner"><a href="/web/20081202154714/http://ja.doukaku.org/user/41/" target="_top">shiro</a><a href="/web/20081202154714/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20081202154714im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20081202154714/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20081202154714im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20081202154714/http://ja.doukaku.org/comment/2637/">#2637</a>(<script language="JavaScript">print_time(new Date("2007/08/29 19:32 GMT"));</script><noscript>2007/08/29 19:32 GMT</noscript>)
	
	
	
	[<a href="/web/20081202154714/http://ja.doukaku.org/lang/scheme/">
	  Scheme
	</a>]
	
	
	
	&nbsp;

<span class="rating">Rating<span style="background-color: #cfffcf;">3/3=1.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>効率は悪いけれど短い版。

実行例:
gosh&gt; (classify '(1 1 1 1 1))
(homo 1)
gosh&gt; (classify '(1 1 2 1 1))
(quasi-homo 1 2)
gosh&gt; (classify '(2 1 1 1 1))
(quasi-homo 1 2)
gosh&gt; (classify '(2 1 4 1 1))
hetero
gosh&gt; (classify '())
hetero
</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5
6
7
8
9</pre></td><td class="code"><div class="highlight"><pre><span class="p">(</span><span class="nf">use</span> <span class="nv">gauche</span><span class="o">.</span><span class="nv">collection</span><span class="p">)</span>
<span class="p">(</span><span class="nf">use</span> <span class="nv">util</span><span class="o">.</span><span class="nv">match</span><span class="p">)</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">classify</span> <span class="nv">lis</span><span class="p">)</span>
  <span class="p">(</span><span class="nf">match</span> <span class="p">(</span><span class="nf">group-collection</span> <span class="nv">lis</span><span class="p">)</span>
    <span class="err">[</span><span class="p">((</span><span class="nf">x</span> <span class="o">...</span><span class="p">))</span>     <span class="o">`</span><span class="p">(</span><span class="nf">homo</span> <span class="o">,</span><span class="p">(</span><span class="nb">car </span><span class="nv">x</span><span class="p">))</span><span class="err">]</span>
    <span class="err">[</span><span class="p">((</span><span class="nf">x</span> <span class="o">...</span><span class="p">)</span> <span class="p">(</span><span class="nf">y</span><span class="p">))</span> <span class="o">`</span><span class="p">(</span><span class="nf">quasi-homo</span> <span class="o">,</span><span class="p">(</span><span class="nb">car </span><span class="nv">x</span><span class="p">)</span> <span class="o">,</span><span class="nv">y</span><span class="p">)</span><span class="err">]</span>
    <span class="err">[</span><span class="p">((</span><span class="nf">y</span><span class="p">)</span> <span class="p">(</span><span class="nf">x</span> <span class="o">...</span><span class="p">))</span> <span class="o">`</span><span class="p">(</span><span class="nf">quasi-homo</span> <span class="o">,</span><span class="p">(</span><span class="nb">car </span><span class="nv">x</span><span class="p">)</span> <span class="o">,</span><span class="nv">y</span><span class="p">)</span><span class="err">]</span>
    <span class="err">[</span><span class="nv">_</span> <span class="ss">&#39;hetero</span><span class="err">]</span><span class="p">))</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20081202154714/http://ja.doukaku.org/comment/2637/addtag/" class="addtag" id="addtag_2637">Tags</a>:
	
    
    <a href="/web/20081202154714/http://ja.doukaku.org/tag/gauche/">gauche</a>
    
	&nbsp;

	
      [<a href="/web/20081202154714/http://ja.doukaku.org/lang/scheme/">
		Scheme
      </a>]
	  
      [<a href="/web/20081202154714/http://ja.doukaku.org/comment/2637/download/">
		download code
      </a>]
	  [<a href="/web/20081202154714/http://ja.doukaku.org/comment/2637/download_html/">
		get code as html
      </a>]<p>
	

  
  <span class="rating">
  Rating<span style="background-color: #cfffcf;"
  >3/3=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2637"
  >-</span><span
  class="button yellow"
  id="rating_z_2637"
  >0</span><span 
  class="button green"
  id="rating_p_2637"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20081202154714/http://ja.doukaku.org/53/reply_to/2637/">
  reply
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment2638">
  <p class="banner"><a href="/web/20081202154714/http://ja.doukaku.org/user/166/" target="_top">ところてん</a><a href="/web/20081202154714/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20081202154714im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20081202154714/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20081202154714im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20081202154714/http://ja.doukaku.org/comment/2638/">#2638</a>(<script language="JavaScript">print_time(new Date("2007/08/29 20:36 GMT"));</script><noscript>2007/08/29 20:36 GMT</noscript>)
	
	
	
	[<a href="/web/20081202154714/http://ja.doukaku.org/lang/python/">
	  Python
	</a>]
	
	
	
	&nbsp;

<span class="rating">Rating<span style="background-color: #ffefef;">-1/1=-1.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>ディクショナリ使ってる。
ちょっと頭悪い実装。
すべて同じ時 0、一個違うとき1、その他2を返します。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27</pre></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">check</span><span class="p">(</span><span class="n">xs</span><span class="p">):</span>
    <span class="n">c</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">xs</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">c</span><span class="o">.</span><span class="n">has_key</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
            <span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">):</span>
            <span class="k">return</span> <span class="mi">2</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">0</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
        <span class="n">a</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">items</span><span class="p">()[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">b</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">items</span><span class="p">()[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">min</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">2</span>
        <span class="k">return</span> <span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">2</span>
        

<span class="k">print</span> <span class="n">check</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
<span class="k">print</span> <span class="n">check</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="k">print</span> <span class="n">check</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
<span class="k">print</span> <span class="n">check</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="k">print</span> <span class="n">check</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
<span class="k">print</span> <span class="n">check</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20081202154714/http://ja.doukaku.org/comment/2638/addtag/" class="addtag" id="addtag_2638">Tags</a>:
	
	No tags
	&nbsp;

	
      [<a href="/web/20081202154714/http://ja.doukaku.org/lang/python/">
		Python
      </a>]
	  
      [<a href="/web/20081202154714/http://ja.doukaku.org/comment/2638/download/">
		download code
      </a>]
	  [<a href="/web/20081202154714/http://ja.doukaku.org/comment/2638/download_html/">
		get code as html
      </a>]<p>
	

  
  <span class="rating">
  Rating<span style="background-color: #ffefef;"
  >-1/1=-1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2638"
  >-</span><span
  class="button yellow"
  id="rating_z_2638"
  >0</span><span 
  class="button green"
  id="rating_p_2638"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20081202154714/http://ja.doukaku.org/comment/2638/">
    1
    reply
  </a>

  [<a href="/web/20081202154714/http://ja.doukaku.org/53/reply_to/2638/">
  reply
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment2639">
  <p class="banner"><a href="/web/20081202154714/http://ja.doukaku.org/user/105/" target="_top">rubikitch</a><a href="/web/20081202154714/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20081202154714im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20081202154714/http://ja.doukaku.org/comment/2639/">#2639</a>(<script language="JavaScript">print_time(new Date("2007/08/29 20:42 GMT"));</script><noscript>2007/08/29 20:42 GMT</noscript>)
	
	
	
	[<a href="/web/20081202154714/http://ja.doukaku.org/lang/ruby/">
	  Ruby
	</a>]
	
	
	
	&nbsp;

<span class="rating">Rating<span style="background-color: #ffefef;">-1/1=-1.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>その他の場合はnilを。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">classify</span><span class="p">(</span><span class="n">ary</span><span class="p">)</span>
  <span class="nb">hash</span> <span class="o">=</span> <span class="n">ary</span><span class="o">.</span><span class="n">inject</span><span class="p">(</span><span class="no">Hash</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="mi">0</span><span class="p">)){</span><span class="o">|</span><span class="n">h</span><span class="p">,</span><span class="n">x</span><span class="o">|</span> <span class="n">h</span><span class="o">[</span><span class="n">x</span><span class="o">]+=</span><span class="mi">1</span><span class="p">;</span> <span class="n">h</span> <span class="p">}</span>
  <span class="n">first</span> <span class="o">=</span> <span class="nb">hash</span><span class="o">.</span><span class="n">keys</span><span class="o">.</span><span class="n">first</span>
  <span class="k">case</span> <span class="nb">hash</span><span class="o">.</span><span class="n">keys</span><span class="o">.</span><span class="n">length</span>
  <span class="k">when</span> <span class="mi">1</span><span class="p">;</span> <span class="o">[</span><span class="ss">:homo</span><span class="p">,</span> <span class="n">first</span><span class="o">]</span>
  <span class="k">when</span> <span class="mi">2</span>
    <span class="n">second</span> <span class="o">=</span> <span class="nb">hash</span><span class="o">.</span><span class="n">keys</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
    <span class="nb">hash</span><span class="o">[</span><span class="n">first</span><span class="o">]==</span><span class="mi">1</span> <span class="o">?</span> <span class="o">[</span><span class="ss">:quasi_homo</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">second</span><span class="o">]</span> <span class="p">:</span> <span class="o">[</span><span class="ss">:quasi_homo</span><span class="p">,</span> <span class="n">second</span><span class="p">,</span> <span class="n">first</span><span class="o">]</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="n">classify</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="o">]</span>              <span class="c1"># =&gt; [:homo, 1]</span>
<span class="n">classify</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="o">]</span>            <span class="c1"># =&gt; [:quasi_homo, 2, 1]</span>
<span class="n">classify</span> <span class="o">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="o">]</span>            <span class="c1"># =&gt; [:quasi_homo, 2, 1]</span>
<span class="n">classify</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="o">]</span>              <span class="c1"># =&gt; nil</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20081202154714/http://ja.doukaku.org/comment/2639/addtag/" class="addtag" id="addtag_2639">Tags</a>:
	
	No tags
	&nbsp;

	
      [<a href="/web/20081202154714/http://ja.doukaku.org/lang/ruby/">
		Ruby
      </a>]
	  
      [<a href="/web/20081202154714/http://ja.doukaku.org/comment/2639/download/">
		download code
      </a>]
	  [<a href="/web/20081202154714/http://ja.doukaku.org/comment/2639/download_html/">
		get code as html
      </a>]<p>
	

  
  <span class="rating">
  Rating<span style="background-color: #ffefef;"
  >-1/1=-1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2639"
  >-</span><span
  class="button yellow"
  id="rating_z_2639"
  >0</span><span 
  class="button green"
  id="rating_p_2639"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20081202154714/http://ja.doukaku.org/comment/2639/">
    1
    reply
  </a>

  [<a href="/web/20081202154714/http://ja.doukaku.org/53/reply_to/2639/">
  reply
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment2640">
  <p class="banner"><a href="/web/20081202154714/http://ja.doukaku.org/user/105/" target="_top">rubikitch</a><a href="/web/20081202154714/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20081202154714im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20081202154714/http://ja.doukaku.org/comment/2640/">#2640</a>(<script language="JavaScript">print_time(new Date("2007/08/29 20:57 GMT"));</script><noscript>2007/08/29 20:57 GMT</noscript>)
	
	
	
	[<a href="/web/20081202154714/http://ja.doukaku.org/lang/ruby/">
	  Ruby
	</a>]
	
	
	
	&nbsp;

<span class="rating">Rating<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>しまった！[2,2,1,1,1]のケースが漏れてた</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">classify</span><span class="p">(</span><span class="n">ary</span><span class="p">)</span>
  <span class="nb">hash</span> <span class="o">=</span> <span class="n">ary</span><span class="o">.</span><span class="n">inject</span><span class="p">(</span><span class="no">Hash</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="mi">0</span><span class="p">)){</span><span class="o">|</span><span class="n">h</span><span class="p">,</span><span class="n">x</span><span class="o">|</span> <span class="n">h</span><span class="o">[</span><span class="n">x</span><span class="o">]+=</span><span class="mi">1</span><span class="p">;</span> <span class="n">h</span> <span class="p">}</span>
  <span class="n">first</span> <span class="o">=</span> <span class="nb">hash</span><span class="o">.</span><span class="n">keys</span><span class="o">.</span><span class="n">first</span>
  <span class="k">case</span> <span class="nb">hash</span><span class="o">.</span><span class="n">keys</span><span class="o">.</span><span class="n">length</span>
  <span class="k">when</span> <span class="mi">1</span><span class="p">;</span> <span class="o">[</span><span class="ss">:homo</span><span class="p">,</span> <span class="n">first</span><span class="o">]</span>
  <span class="k">when</span> <span class="mi">2</span>
    <span class="n">second</span> <span class="o">=</span> <span class="nb">hash</span><span class="o">.</span><span class="n">keys</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
    <span class="nb">hash</span><span class="o">[</span><span class="n">first</span><span class="o">]==</span><span class="mi">1</span> <span class="o">?</span> <span class="o">[</span><span class="ss">:quasi_homo</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">second</span><span class="o">]</span> <span class="p">:</span> <span class="o">[</span><span class="ss">:quasi_homo</span><span class="p">,</span> <span class="n">second</span><span class="p">,</span> <span class="n">first</span><span class="o">]</span> <span class="k">if</span> <span class="nb">hash</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">include?</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="n">classify</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="o">]</span>              <span class="c1"># =&gt; [:homo, 1]</span>
<span class="n">classify</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="o">]</span>            <span class="c1"># =&gt; [:quasi_homo, 2, 1]</span>
<span class="n">classify</span> <span class="o">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="o">]</span>            <span class="c1"># =&gt; [:quasi_homo, 2, 1]</span>
<span class="n">classify</span> <span class="o">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="o">]</span>            <span class="c1"># =&gt; nil</span>
<span class="n">classify</span> <span class="o">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="o">]</span>            <span class="c1"># =&gt; nil</span>
<span class="n">classify</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="o">]</span>              <span class="c1"># =&gt; nil</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20081202154714/http://ja.doukaku.org/comment/2640/addtag/" class="addtag" id="addtag_2640">Tags</a>:
	
	No tags
	&nbsp;

	
      [<a href="/web/20081202154714/http://ja.doukaku.org/lang/ruby/">
		Ruby
      </a>]
	  
      [<a href="/web/20081202154714/http://ja.doukaku.org/comment/2640/download/">
		download code
      </a>]
	  [<a href="/web/20081202154714/http://ja.doukaku.org/comment/2640/download_html/">
		get code as html
      </a>]<p>
	

  
  <span class="rating">
  Rating<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2640"
  >-</span><span
  class="button yellow"
  id="rating_z_2640"
  >0</span><span 
  class="button green"
  id="rating_p_2640"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20081202154714/http://ja.doukaku.org/comment/2639/"><img src="/web/20081202154714im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20081202154714/http://ja.doukaku.org/comment/2640/root/"><img src="/web/20081202154714im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20081202154714/http://ja.doukaku.org/53/reply_to/2640/">
  reply
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment2641">
  <p class="banner"><a href="/web/20081202154714/http://ja.doukaku.org/user/105/" target="_top">rubikitch</a><a href="/web/20081202154714/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20081202154714im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20081202154714/http://ja.doukaku.org/comment/2641/">#2641</a>(<script language="JavaScript">print_time(new Date("2007/08/29 21:12 GMT"));</script><noscript>2007/08/29 21:12 GMT</noscript>)
	
	
	
	[<a href="/web/20081202154714/http://ja.doukaku.org/lang/commonlisp/">
	  Common Lisp
	</a>]
	
	
	
	&nbsp;

<span class="rating">Rating<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>再帰版。リストを先頭から見ていき、条件をみたさなくなったら即座に終了する。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27</pre></td><td class="code"><div class="highlight"><pre>(defun classify (list)
  (labels ((rec (list alist)
             (let ((pair (assoc (car list) alist))
                   (len (length alist)))
               (cond ((null list)
                      (if (= len 1)
                          (values :homo (caar alist))
                          (let ((one (position 1 (mapcar #&#39;cdr alist))))
                            (case one
                              (0 (values :quasi-homo (caar alist) (caadr alist)))
                              (1 (values :quasi-homo (caadr alist) (caar alist)))
                              (t nil)))))
                     ((and (&gt;= len 2) (null pair))
                      (return-from classify nil))
                     ((null pair)
                      (rec (cdr list) (cons (cons (car list) 1) alist)))
                     (t
                      (incf (cdr pair))
                      (rec (cdr list) alist))))))
    (rec list ())))
(multiple-value-list (classify &#39;(1 1 1 1)))   ; =&gt; (:HOMO 1)
(multiple-value-list (classify &#39;(1 2 1 1 1))) ; =&gt; (:QUASI-HOMO 2 1)
(multiple-value-list (classify &#39;(1 1 1 1 2))) ; =&gt; (:QUASI-HOMO 2 1)
(multiple-value-list (classify &#39;(2 2 1 1 1))) ; =&gt; (NIL)
(multiple-value-list (classify &#39;(2 4 1 1 1))) ; =&gt; (NIL)
(multiple-value-list (classify &#39;(1 2 3 4)))   ; =&gt; (NIL)
(multiple-value-list (classify &#39;()))          ; =&gt; (NIL)
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20081202154714/http://ja.doukaku.org/comment/2641/addtag/" class="addtag" id="addtag_2641">Tags</a>:
	
	No tags
	&nbsp;

	
      [<a href="/web/20081202154714/http://ja.doukaku.org/lang/commonlisp/">
		Common Lisp
      </a>]
	  
      [<a href="/web/20081202154714/http://ja.doukaku.org/comment/2641/download/">
		download code
      </a>]
	  [<a href="/web/20081202154714/http://ja.doukaku.org/comment/2641/download_html/">
		get code as html
      </a>]<p>
	

  
  <span class="rating">
  Rating<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2641"
  >-</span><span
  class="button yellow"
  id="rating_z_2641"
  >0</span><span 
  class="button green"
  id="rating_p_2641"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20081202154714/http://ja.doukaku.org/53/reply_to/2641/">
  reply
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment2642">
  <p class="banner"><a href="/web/20081202154714/http://ja.doukaku.org/user/105/" target="_top">rubikitch</a><a href="/web/20081202154714/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20081202154714im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20081202154714/http://ja.doukaku.org/comment/2642/">#2642</a>(<script language="JavaScript">print_time(new Date("2007/08/29 21:57 GMT"));</script><noscript>2007/08/29 21:57 GMT</noscript>)
	
	
	
	[<a href="/web/20081202154714/http://ja.doukaku.org/lang/c/">
	  C
	</a>]
	
	
	
	&nbsp;

<span class="rating">Rating<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'></pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77</pre></td><td class="code"><div class="highlight"><pre><span class="cp">#include &lt;stdio.h&gt;</span>
<span class="k">enum</span> <span class="p">{</span> <span class="n">hetero</span><span class="p">,</span> <span class="n">homo</span><span class="p">,</span> <span class="n">quasi_homo</span> <span class="p">};</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">type</span><span class="p">;</span>                   <span class="c">/* hetero, homo, quasi_homo */</span>
    <span class="kt">int</span> <span class="n">one</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">other</span><span class="p">;</span>
<span class="p">}</span> <span class="n">classify_result</span><span class="p">;</span>

<span class="n">classify_result</span> <span class="nf">classify</span><span class="p">(</span><span class="kt">int</span> <span class="o">*</span><span class="n">p</span><span class="p">,</span> <span class="kt">int</span> <span class="n">len</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">temp</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>  <span class="o">-</span><span class="mi">1</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="o">-</span><span class="mi">1</span><span class="p">,</span>    <span class="mi">0</span> <span class="p">};</span>
    <span class="c">/*            key1 val1 key2 val2 */</span>
    <span class="kt">int</span> <span class="n">cur</span><span class="p">,</span> <span class="n">i</span><span class="p">;</span>
    <span class="k">static</span> <span class="n">classify_result</span> <span class="n">hetero_result</span> <span class="o">=</span> <span class="p">{</span><span class="n">hetero</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">};</span>
    <span class="n">classify_result</span> <span class="n">res</span> <span class="o">=</span> <span class="n">hetero_result</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">len</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span> <span class="n">hetero_result</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">len</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">cur</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">temp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">cur</span><span class="p">)</span> <span class="n">temp</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">++</span><span class="p">;</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">temp</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="n">cur</span><span class="p">)</span> <span class="n">temp</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">++</span><span class="p">;</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">temp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span> <span class="n">temp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="n">cur</span><span class="p">;</span> <span class="n">temp</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">temp</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span> <span class="n">temp</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">=</span><span class="n">cur</span><span class="p">;</span> <span class="n">temp</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="p">}</span>
        <span class="k">else</span> <span class="k">return</span> <span class="n">hetero_result</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">temp</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span> <span class="n">res</span><span class="p">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">homo</span><span class="p">;</span> <span class="n">res</span><span class="p">.</span><span class="n">one</span> <span class="o">=</span> <span class="n">temp</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span> <span class="p">}</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">temp</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span> <span class="n">res</span><span class="p">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">quasi_homo</span><span class="p">;</span> <span class="n">res</span><span class="p">.</span><span class="n">one</span> <span class="o">=</span> <span class="n">temp</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span> <span class="n">res</span><span class="p">.</span><span class="n">other</span> <span class="o">=</span> <span class="n">temp</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span> <span class="p">}</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">temp</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span> <span class="n">res</span><span class="p">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">quasi_homo</span><span class="p">;</span> <span class="n">res</span><span class="p">.</span><span class="n">one</span> <span class="o">=</span> <span class="n">temp</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span> <span class="n">res</span><span class="p">.</span><span class="n">other</span> <span class="o">=</span> <span class="n">temp</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span> <span class="p">}</span>
    <span class="k">else</span> <span class="k">return</span> <span class="n">hetero_result</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">res</span><span class="p">;</span>
<span class="p">}</span>
<span class="c">/* コードはここまで。以後テスト。 */</span>

<span class="kt">void</span> <span class="nf">print_classify_result</span><span class="p">(</span><span class="n">classify_result</span> <span class="n">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">switch</span><span class="p">(</span><span class="n">x</span><span class="p">.</span><span class="n">type</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="nl">hetero:</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;&lt;hetero&gt;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="nl">homo:</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;&lt;homo %d&gt;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">.</span><span class="n">one</span><span class="p">);</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="nl">quasi_homo:</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;&lt;quasi_homo %d %d&gt;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">.</span><span class="n">one</span><span class="p">,</span> <span class="n">x</span><span class="p">.</span><span class="n">other</span><span class="p">);</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="k">default</span><span class="o">:</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;BUG!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="p">{</span>
        <span class="kt">int</span> <span class="n">ary</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">};</span>
        <span class="n">print_classify_result</span><span class="p">(</span><span class="n">classify</span><span class="p">(</span><span class="n">ary</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">ary</span><span class="p">)</span><span class="o">/</span><span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">)));</span>
    <span class="p">}</span>
    <span class="p">{</span>
        <span class="kt">int</span> <span class="n">ary</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">};</span>
        <span class="n">print_classify_result</span><span class="p">(</span><span class="n">classify</span><span class="p">(</span><span class="n">ary</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">ary</span><span class="p">)</span><span class="o">/</span><span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">)));</span>
    <span class="p">}</span>
    <span class="p">{</span>
        <span class="kt">int</span> <span class="n">ary</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">};</span>
        <span class="n">print_classify_result</span><span class="p">(</span><span class="n">classify</span><span class="p">(</span><span class="n">ary</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">ary</span><span class="p">)</span><span class="o">/</span><span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">)));</span>
    <span class="p">}</span>
    <span class="p">{</span>
        <span class="kt">int</span> <span class="n">ary</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">};</span>
        <span class="n">print_classify_result</span><span class="p">(</span><span class="n">classify</span><span class="p">(</span><span class="n">ary</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">ary</span><span class="p">)</span><span class="o">/</span><span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">)));</span>
    <span class="p">}</span>
    <span class="p">{</span>
        <span class="kt">int</span> <span class="n">ary</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">};</span>
        <span class="n">print_classify_result</span><span class="p">(</span><span class="n">classify</span><span class="p">(</span><span class="n">ary</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">ary</span><span class="p">)</span><span class="o">/</span><span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">)));</span>
    <span class="p">}</span>
    <span class="p">{</span>
        <span class="kt">int</span> <span class="n">ary</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">};</span>
        <span class="n">print_classify_result</span><span class="p">(</span><span class="n">classify</span><span class="p">(</span><span class="n">ary</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">ary</span><span class="p">)</span><span class="o">/</span><span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">)));</span>
    <span class="p">}</span>
    <span class="p">{</span>
        <span class="kt">int</span> <span class="n">ary</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{};</span>
        <span class="n">print_classify_result</span><span class="p">(</span><span class="n">classify</span><span class="p">(</span><span class="n">ary</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">ary</span><span class="p">)</span><span class="o">/</span><span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">)));</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20081202154714/http://ja.doukaku.org/comment/2642/addtag/" class="addtag" id="addtag_2642">Tags</a>:
	
	No tags
	&nbsp;

	
      [<a href="/web/20081202154714/http://ja.doukaku.org/lang/c/">
		C
      </a>]
	  
      [<a href="/web/20081202154714/http://ja.doukaku.org/comment/2642/download/">
		download code
      </a>]
	  [<a href="/web/20081202154714/http://ja.doukaku.org/comment/2642/download_html/">
		get code as html
      </a>]<p>
	

  
  <span class="rating">
  Rating<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2642"
  >-</span><span
  class="button yellow"
  id="rating_z_2642"
  >0</span><span 
  class="button green"
  id="rating_p_2642"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20081202154714/http://ja.doukaku.org/53/reply_to/2642/">
  reply
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment2643">
  <p class="banner"><a href="/web/20081202154714/http://ja.doukaku.org/user/224/" target="_top">takkanm</a>

	
	&nbsp;
	<a href="/web/20081202154714/http://ja.doukaku.org/comment/2643/">#2643</a>(<script language="JavaScript">print_time(new Date("2007/08/29 22:04 GMT"));</script><noscript>2007/08/29 22:04 GMT</noscript>)
	
	
	
	[<a href="/web/20081202154714/http://ja.doukaku.org/lang/haskell/">
	  Haskell
	</a>]
	
	
	
	&nbsp;

<span class="rating">Rating<span style="background-color: #dfffdf;">2/2=1.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>そのまま実装

*Main&gt; classify [1,1,1,1,1]                                                                                                                
("homo",[1])
it :: ([Char], [Integer])                                                                                                                  
*Main&gt; classify [1,1,2,1,1]
("quasi-homo",[1,2])                                                                                                                       
it :: ([Char], [Integer])
*Main&gt; classify [2,1,1,1,1]                                                                                                                
("quasi-homo",[1,2])
it :: ([Char], [Integer])                                                                                                                  
*Main&gt; classify [2,2,1,2,2]
("quasi-homo",[2,1])                                                                                                                       
it :: ([Char], [Integer])
*Main&gt; classify [2,3,2,1,5]                                                                                                                
("hetero",[])
it :: ([Char], [Integer])            </pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></td><td class="code"><div class="highlight"><pre><span class="nv">otherList</span> <span class="o">::</span> <span class="p">(</span><span class="n">Eq</span> <span class="nv">a</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="nv">a</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="nv">a</span><span class="p">]</span>
<span class="nv">otherList</span> <span class="p">(</span><span class="nv">x</span><span class="o">:</span><span class="nv">xs</span><span class="p">)</span> <span class="o">=</span> <span class="p">[</span> <span class="nv">y</span> <span class="o">|</span>  <span class="nv">y</span><span class="o">&lt;-</span><span class="nv">xs</span> <span class="p">,</span> <span class="nv">y</span> <span class="o">/=</span> <span class="nv">x</span> <span class="p">]</span>

<span class="nv">quasiHomo1</span> <span class="o">::</span> <span class="p">(</span><span class="n">Eq</span> <span class="nv">a</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="nv">a</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="n">Bool</span>
<span class="nv">quasiHomo1</span>     <span class="o">=</span> <span class="p">(</span><span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="o">.</span> <span class="nv">length</span> <span class="o">.</span> <span class="nv">otherList</span>

<span class="nv">quasiHomo2</span> <span class="o">::</span> <span class="p">(</span><span class="n">Eq</span> <span class="nv">a</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="nv">a</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="n">Bool</span>
<span class="nv">quasiHomo2</span> <span class="nv">xs</span>  <span class="o">=</span> <span class="p">(</span><span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="o">$</span> <span class="p">(</span><span class="nv">length</span> <span class="nv">xs</span> <span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="nv">length</span> <span class="o">$</span> <span class="nv">otherList</span> <span class="nv">xs</span><span class="p">)</span>

<span class="nv">quasiHomoList</span> <span class="o">::</span> <span class="p">(</span><span class="n">Eq</span> <span class="nv">a</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="nv">a</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="nv">a</span><span class="p">]</span>
<span class="nv">quasiHomoList</span> <span class="nv">xs</span> <span class="o">=</span> <span class="nv">map</span> <span class="nv">head</span> <span class="o">$</span> <span class="p">[</span><span class="nv">xs</span><span class="p">]</span> <span class="o">++</span> <span class="p">[</span><span class="nv">otherList</span> <span class="nv">xs</span><span class="p">]</span>

<span class="nv">homo</span> <span class="o">::</span> <span class="p">(</span><span class="n">Eq</span> <span class="nv">a</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="nv">a</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="n">Bool</span>
<span class="nv">homo</span> <span class="p">(</span><span class="nv">xs</span><span class="p">)</span> <span class="o">=</span> <span class="nv">xs</span> <span class="o">==</span> <span class="p">[</span> <span class="nv">y</span> <span class="o">|</span> <span class="nv">y</span> <span class="o">&lt;-</span> <span class="nv">xs</span> <span class="p">,</span> <span class="nv">y</span> <span class="o">==</span> <span class="p">(</span><span class="nv">head</span> <span class="nv">xs</span><span class="p">)]</span>

<span class="nv">classify</span> <span class="o">::</span> <span class="p">(</span><span class="n">Eq</span> <span class="nv">a</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="nv">a</span><span class="p">]</span> <span class="o">-&gt;</span>  <span class="p">([</span><span class="n">Char</span><span class="p">],[</span><span class="nv">a</span><span class="p">])</span>
<span class="nv">classify</span> <span class="nv">xs</span> <span class="o">|</span> <span class="nv">homo</span> <span class="nv">xs</span> <span class="o">=</span> <span class="p">(</span><span class="s">&quot;homo&quot;</span> <span class="p">,</span> <span class="p">[</span><span class="nv">head</span> <span class="nv">xs</span><span class="p">])</span>
            <span class="o">|</span> <span class="nv">quasiHomo1</span> <span class="nv">xs</span> <span class="o">=</span> <span class="p">(</span><span class="s">&quot;quasi-homo&quot;</span><span class="p">,</span> <span class="nv">quasiHomoList</span> <span class="nv">xs</span><span class="p">)</span>
            <span class="o">|</span> <span class="nv">quasiHomo2</span> <span class="nv">xs</span> <span class="o">=</span> <span class="p">(</span><span class="s">&quot;quasi-homo&quot;</span><span class="p">,</span> <span class="nv">reverse</span> <span class="o">$</span> <span class="nv">quasiHomoList</span> <span class="nv">xs</span><span class="p">)</span>
            <span class="o">|</span> <span class="nv">otherwise</span> <span class="o">=</span> <span class="p">(</span><span class="s">&quot;hetero&quot;</span><span class="p">,[])</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20081202154714/http://ja.doukaku.org/comment/2643/addtag/" class="addtag" id="addtag_2643">Tags</a>:
	
	No tags
	&nbsp;

	
      [<a href="/web/20081202154714/http://ja.doukaku.org/lang/haskell/">
		Haskell
      </a>]
	  
      [<a href="/web/20081202154714/http://ja.doukaku.org/comment/2643/download/">
		download code
      </a>]
	  [<a href="/web/20081202154714/http://ja.doukaku.org/comment/2643/download_html/">
		get code as html
      </a>]<p>
	

  
  <span class="rating">
  Rating<span style="background-color: #dfffdf;"
  >2/2=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2643"
  >-</span><span
  class="button yellow"
  id="rating_z_2643"
  >0</span><span 
  class="button green"
  id="rating_p_2643"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20081202154714/http://ja.doukaku.org/comment/2643/">
    1
    reply
  </a>

  [<a href="/web/20081202154714/http://ja.doukaku.org/53/reply_to/2643/">
  reply
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment2644">
  <p class="banner"><a href="/web/20081202154714/http://ja.doukaku.org/user/348/" target="_top">naoya_t</a><a href="/web/20081202154714/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20081202154714im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20081202154714/http://ja.doukaku.org/comment/2644/">#2644</a>(<script language="JavaScript">print_time(new Date("2007/08/29 23:03 GMT"));</script><noscript>2007/08/29 23:03 GMT</noscript>)
	
	
	
	[<a href="/web/20081202154714/http://ja.doukaku.org/lang/awk/">
	  awk
	</a>]
	
	
	
	&nbsp;

<span class="rating">Rating<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>非負整数に限定せず、文字列（日本語を含む）もOK
% awk -f nakama.awk
1 1 1 1
全部の要素が同じ値: 1
1 2 1 1 1
一つだけ仲間はずれがある: 仲間はずれ(2),多数派(1)
1 2 1 2
その他
a a a a b a a
一つだけ仲間はずれがある: 仲間はずれ(b),多数派(a)
cat cat cat        
全部の要素が同じ値: cat
Wii Wii Wii PS3 Wii
一つだけ仲間はずれがある: 仲間はずれ(PS3),多数派(Wii)
渋谷 赤坂 赤坂 赤坂
一つだけ仲間はずれがある: 仲間はずれ(渋谷),多数派(赤坂)
★ ★ ★ ★ ★
全部の要素が同じ値: ★
☆ ☆ ☆ ★ ☆
一つだけ仲間はずれがある: 仲間はずれ(★),多数派(☆)
☆ ★ ☆ ★ ★
その他</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54</pre></td><td class="code"><div class="highlight"><pre>{
	delete xs
	for (i=1;i&lt;=NF;i++) xs[i] = $i
	result = nakama(xs)
	if (result ~ /unanimity/) {
		printf(&quot;全部の要素が同じ値: %s\n&quot;, MAJORITY)  ## %dでなく%s
	} else if (result ~ /left alone/) {
		printf(&quot;一つだけ仲間はずれがある: 仲間はずれ(%s),多数派(%s)\n&quot;, MINORITY, MAJORITY)  ## %dでなく%s
	} else if (result ~ /(empty|two different values|other)/) {
		printf(&quot;その他\n&quot;)
	}
}

function nakama(xs,  i,len,x_count,member,m,m1,m2)
{
	len = 0 ; for (i in xs) len++
	if (len == 0) return &quot;empty&quot;
	if (len == 1) {
		MAJORITY = xs[1] ; MINORITY = &quot;&quot; ; return &quot;unanimity&quot;
	}

	delete x_count

	member = &quot;:&quot; xs[1] &quot;:&quot;
	x_count[xs[1]] = 1

	for (i=2; i&lt;=len; i++) {
		x = xs[i]

		if (member !~ &quot;:&quot; x &quot;:&quot;) member = member x &quot;:&quot;
		x_count[x]++
	}

	gsub(/(^:|:$)/,&quot;&quot;,member)
	member_count = split(member,m,&quot;:&quot;)
	if (member_count == 1) {
		MAJORITY = m[1] ; MINORITY = &quot;&quot; ; return &quot;unanimity&quot;
	} else if (member_count == 2) {
		m1 = m[1] ; m2 = m[2]
		if (x_count[m1] == 1) {
			if (x_count[m2] == 1) {
				MAJORITY = m1 ; MINORITY = m2 ; return &quot;two different values&quot;
			} else {
				MAJORITY = m2 ; MINORITY = m1 ; return &quot;left alone&quot;
			}
		} else if (x_count[m2] == 1) {
			MAJORITY = m1 ; MINORITY = m2 ; return &quot;left alone&quot;
		} else {
			MAJORITY = MINORITY = &quot;&quot; ; return &quot;other&quot;
		}
	} else {
		MAJORITY = MINORITY = &quot;&quot; ; return &quot;other&quot;
	}
}
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20081202154714/http://ja.doukaku.org/comment/2644/addtag/" class="addtag" id="addtag_2644">Tags</a>:
	
	No tags
	&nbsp;

	
      [<a href="/web/20081202154714/http://ja.doukaku.org/lang/awk/">
		awk
      </a>]
	  
      [<a href="/web/20081202154714/http://ja.doukaku.org/comment/2644/download/">
		download code
      </a>]
	  [<a href="/web/20081202154714/http://ja.doukaku.org/comment/2644/download_html/">
		get code as html
      </a>]<p>
	

  
  <span class="rating">
  Rating<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2644"
  >-</span><span
  class="button yellow"
  id="rating_z_2644"
  >0</span><span 
  class="button green"
  id="rating_p_2644"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20081202154714/http://ja.doukaku.org/53/reply_to/2644/">
  reply
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment2646">
  <p class="banner"><a href="/web/20081202154714/http://ja.doukaku.org/user/98/" target="_top">nobsun</a><a href="/web/20081202154714/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20081202154714im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20081202154714/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20081202154714im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20081202154714/http://ja.doukaku.org/comment/2646/">#2646</a>(<script language="JavaScript">print_time(new Date("2007/08/30 00:03 GMT"));</script><noscript>2007/08/30 00:03 GMT</noscript>)
	
	
	
	[<a href="/web/20081202154714/http://ja.doukaku.org/lang/haskell/">
	  Haskell
	</a>]
	
	
	
	&nbsp;

<span class="rating">Rating<span style="background-color: #dfffdf;">2/2=1.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>入力リストの長さが0,1,2のときの扱いを
いれたのでちょっとスマートじゃないけど
効率は悪くない(はず)
データ型のフィールドラベルについては
Haskell98の仕様に記述があるので参考にどうぞ。</pre>
	</div>
	
	<p class="link">
	  see: <a href="/web/20081202154714/http://www.sampou.org/haskell/report-revised-j/exps.html#sect3.15">フィールドラベルをもつデータ型</a>
	</p>  
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34</pre></td><td class="code"><div class="highlight"><pre><span class="kr">data</span> <span class="n">Case</span> <span class="nv">a</span> <span class="o">=</span> <span class="n">Zero</span> 
            <span class="o">|</span> <span class="n">One</span> <span class="p">{</span><span class="nv">first</span> <span class="o">::</span> <span class="nv">a</span><span class="p">}</span>
            <span class="o">|</span> <span class="n">Two</span> <span class="p">{</span><span class="nv">first</span><span class="p">,</span> <span class="nv">second</span> <span class="o">::</span> <span class="nv">a</span><span class="p">}</span>
            <span class="o">|</span> <span class="n">Homo</span> <span class="p">{</span><span class="nv">homo</span> <span class="o">::</span> <span class="nv">a</span><span class="p">}</span> 
            <span class="o">|</span> <span class="n">QuasiHomo</span> <span class="p">{</span><span class="nv">homo</span><span class="p">,</span> <span class="nv">strange</span> <span class="o">::</span> <span class="nv">a</span><span class="p">}</span>
            <span class="o">|</span> <span class="n">Hetero</span>
  <span class="kr">deriving</span> <span class="n">Show</span>

<span class="nv">classify</span> <span class="o">::</span> <span class="n">Eq</span> <span class="nv">a</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="nv">a</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="n">Case</span> <span class="nv">a</span>
<span class="nv">classify</span> <span class="p">[]</span>     <span class="o">=</span> <span class="n">Zero</span>
<span class="nv">classify</span> <span class="p">(</span><span class="nv">x</span><span class="o">:</span><span class="nv">xs</span><span class="p">)</span> <span class="o">=</span> <span class="nv">judge</span> <span class="p">(</span><span class="n">One</span> <span class="nv">x</span><span class="p">)</span> <span class="nv">xs</span>

<span class="nv">judge</span> <span class="nv">c</span> <span class="p">[]</span> <span class="o">=</span> <span class="nv">c</span>
<span class="nv">judge</span> <span class="p">(</span><span class="n">One</span> <span class="nv">x</span><span class="p">)</span> <span class="p">(</span><span class="nv">y</span><span class="o">:</span><span class="nv">ys</span><span class="p">)</span> 
      <span class="o">|</span> <span class="nv">x</span> <span class="o">==</span> <span class="nv">y</span>    <span class="o">=</span> <span class="nv">judge</span> <span class="p">(</span><span class="n">Homo</span> <span class="nv">x</span><span class="p">)</span> <span class="nv">ys</span>
      <span class="o">|</span> <span class="nv">otherwise</span> <span class="o">=</span> <span class="nv">judge</span> <span class="p">(</span><span class="n">Two</span> <span class="nv">x</span> <span class="nv">y</span><span class="p">)</span> <span class="nv">ys</span>
<span class="nv">judge</span> <span class="p">(</span><span class="n">Homo</span> <span class="nv">x</span><span class="p">)</span> <span class="p">(</span><span class="nv">y</span><span class="o">:</span><span class="nv">ys</span><span class="p">)</span>
      <span class="o">|</span> <span class="nv">x</span> <span class="o">==</span> <span class="nv">y</span>    <span class="o">=</span> <span class="nv">judge</span> <span class="p">(</span><span class="n">Homo</span> <span class="nv">x</span><span class="p">)</span> <span class="nv">ys</span>
      <span class="o">|</span> <span class="nv">otherwise</span> <span class="o">=</span> <span class="nv">judge</span> <span class="p">(</span><span class="n">QuasiHomo</span> <span class="nv">x</span> <span class="nv">y</span><span class="p">)</span> <span class="nv">ys</span>
<span class="nv">judge</span> <span class="p">(</span><span class="n">Two</span> <span class="nv">x</span> <span class="nv">y</span><span class="p">)</span> <span class="p">(</span><span class="nv">z</span><span class="o">:</span><span class="nv">zs</span><span class="p">)</span>
      <span class="o">|</span> <span class="nv">x</span> <span class="o">==</span> <span class="nv">z</span>    <span class="o">=</span> <span class="nv">judge</span> <span class="p">(</span><span class="n">QuasiHomo</span> <span class="nv">x</span> <span class="nv">y</span><span class="p">)</span> <span class="nv">zs</span>
      <span class="o">|</span> <span class="nv">y</span> <span class="o">==</span> <span class="nv">z</span>    <span class="o">=</span> <span class="nv">judge</span> <span class="p">(</span><span class="n">QuasiHomo</span> <span class="nv">y</span> <span class="nv">x</span><span class="p">)</span> <span class="nv">zs</span>
<span class="nv">judge</span> <span class="p">(</span><span class="n">QuasiHomo</span> <span class="nv">x</span> <span class="nv">y</span><span class="p">)</span> <span class="p">(</span><span class="nv">z</span><span class="o">:</span><span class="nv">zs</span><span class="p">)</span>
      <span class="o">|</span> <span class="nv">x</span> <span class="o">==</span> <span class="nv">z</span>    <span class="o">=</span> <span class="nv">judge</span> <span class="p">(</span><span class="n">QuasiHomo</span> <span class="nv">x</span> <span class="nv">y</span><span class="p">)</span> <span class="nv">zs</span>
<span class="nv">judge</span> <span class="kr">_</span> <span class="kr">_</span>         <span class="o">=</span> <span class="n">Hetero</span>

<span class="cm">{-</span>
<span class="cm">*Main&gt; classify [1,1,1,1,1]</span>
<span class="cm">Homo {homo = 1}</span>
<span class="cm">*Main&gt; classify [1,2,1,1,1]</span>
<span class="cm">QuasiHomo {homo = 1, strange = 2}</span>
<span class="cm">*Main&gt; classify [1,2,1,2,1]</span>
<span class="cm">Hetero</span>
<span class="cm">-}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20081202154714/http://ja.doukaku.org/comment/2646/addtag/" class="addtag" id="addtag_2646">Tags</a>:
	
    
    <a href="/web/20081202154714/http://ja.doukaku.org/tag/%E3%83%95%E3%82%A3%E3%83%BC%E3%83%AB%E3%83%89%E3%83%A9%E3%83%99%E3%83%AB/">フィールドラベル</a>
    
	&nbsp;

	
      [<a href="/web/20081202154714/http://ja.doukaku.org/lang/haskell/">
		Haskell
      </a>]
	  
      [<a href="/web/20081202154714/http://ja.doukaku.org/comment/2646/download/">
		download code
      </a>]
	  [<a href="/web/20081202154714/http://ja.doukaku.org/comment/2646/download_html/">
		get code as html
      </a>]<p>
	

  
  <span class="rating">
  Rating<span style="background-color: #dfffdf;"
  >2/2=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2646"
  >-</span><span
  class="button yellow"
  id="rating_z_2646"
  >0</span><span 
  class="button green"
  id="rating_p_2646"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20081202154714/http://ja.doukaku.org/comment/2646/">
    1
    reply
  </a>

  [<a href="/web/20081202154714/http://ja.doukaku.org/53/reply_to/2646/">
  reply
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment2647">
  <p class="banner"><a href="/web/20081202154714/http://ja.doukaku.org/user/96/" target="_top">ether</a><a href="/web/20081202154714/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20081202154714im_/http://ja.doukaku.org/static/image/star_silver.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20081202154714/http://ja.doukaku.org/comment/2647/">#2647</a>(<script language="JavaScript">print_time(new Date("2007/08/30 00:45 GMT"));</script><noscript>2007/08/30 00:45 GMT</noscript>)
	
	
	
	[<a href="/web/20081202154714/http://ja.doukaku.org/lang/ocaml/">
	  OCaml
	</a>]
	
	
	
	&nbsp;

<span class="rating">Rating<span style="background-color: #dfffdf;">2/2=1.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  サーチする中で4つ状態があるんですよね。それぞれをそのまま関数にしてみました。
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></td><td class="code"><div class="highlight"><pre><span class="kr">type</span> <span class="k">&#39;</span><span class="n">a</span> <span class="n">t</span> <span class="k">=</span> <span class="n">H</span> <span class="kr">of</span> <span class="k">&#39;</span><span class="n">a</span> <span class="k">|</span> <span class="n">Q</span> <span class="kr">of</span> <span class="k">&#39;</span><span class="n">a</span> <span class="k">*</span> <span class="k">&#39;</span><span class="n">a</span> <span class="k">|</span> <span class="n">Other</span>

<span class="kr">let</span> <span class="n">classify</span> <span class="k">(</span><span class="n">x</span><span class="k">::</span><span class="n">xs</span><span class="k">)</span> <span class="k">=</span>
  <span class="kr">let</span> <span class="kr">rec</span> <span class="n">one</span> <span class="n">a</span> <span class="k">=</span> <span class="kr">function</span>
  <span class="k">|</span> <span class="k">[]</span> <span class="k">-&gt;</span> <span class="n">H</span> <span class="n">a</span>
  <span class="k">|</span> <span class="n">x</span><span class="k">::</span><span class="n">xs</span> <span class="kr">when</span> <span class="n">x</span> <span class="k">=</span> <span class="n">a</span> <span class="k">-&gt;</span> <span class="n">one&#39;</span> <span class="n">a</span> <span class="n">xs</span>
  <span class="k">|</span> <span class="n">x</span><span class="k">::</span><span class="n">xs</span> <span class="k">-&gt;</span> <span class="n">two</span> <span class="n">a</span> <span class="n">x</span> <span class="n">xs</span>
  <span class="kr">and</span> <span class="n">one&#39;</span> <span class="n">a</span> <span class="k">=</span> <span class="kr">function</span>
  <span class="k">|</span> <span class="k">[]</span> <span class="k">-&gt;</span> <span class="n">H</span> <span class="n">a</span>
  <span class="k">|</span> <span class="n">x</span><span class="k">::</span><span class="n">xs</span> <span class="kr">when</span> <span class="n">x</span> <span class="k">=</span> <span class="n">a</span> <span class="k">-&gt;</span> <span class="n">one&#39;</span> <span class="n">a</span> <span class="n">xs</span>
  <span class="k">|</span> <span class="n">x</span><span class="k">::</span><span class="n">xs</span> <span class="k">-&gt;</span> <span class="n">two&#39;</span> <span class="n">a</span> <span class="n">x</span> <span class="n">xs</span>
  <span class="kr">and</span> <span class="n">two</span> <span class="n">a</span> <span class="n">b</span> <span class="k">=</span> <span class="kr">function</span>
  <span class="k">|</span> <span class="k">[]</span> <span class="k">-&gt;</span> <span class="n">Q</span> <span class="k">(</span><span class="n">a</span><span class="k">,</span> <span class="n">b</span><span class="k">)</span>
  <span class="k">|</span> <span class="n">x</span><span class="k">::</span><span class="n">xs</span> <span class="kr">when</span> <span class="n">x</span> <span class="k">=</span> <span class="n">a</span> <span class="k">-&gt;</span> <span class="n">two&#39;</span> <span class="n">a</span> <span class="n">b</span> <span class="n">xs</span>
  <span class="k">|</span> <span class="n">x</span><span class="k">::</span><span class="n">xs</span> <span class="kr">when</span> <span class="n">x</span> <span class="k">=</span> <span class="n">b</span> <span class="k">-&gt;</span> <span class="n">two&#39;</span> <span class="n">b</span> <span class="n">a</span> <span class="n">xs</span>
  <span class="k">|</span> <span class="k">_</span> <span class="k">-&gt;</span> <span class="n">Other</span>
  <span class="kr">and</span> <span class="n">two&#39;</span> <span class="n">a</span> <span class="n">b</span> <span class="k">=</span> <span class="kr">function</span>
  <span class="k">|</span> <span class="k">[]</span> <span class="k">-&gt;</span> <span class="n">Q</span> <span class="k">(</span><span class="n">a</span><span class="k">,</span> <span class="n">b</span><span class="k">)</span>
  <span class="k">|</span> <span class="n">x</span><span class="k">::</span><span class="n">xs</span> <span class="kr">when</span> <span class="n">x</span> <span class="k">=</span> <span class="n">a</span> <span class="k">-&gt;</span> <span class="n">Q</span> <span class="k">(</span><span class="n">a</span><span class="k">,</span> <span class="n">b</span><span class="k">)</span>
  <span class="k">|</span> <span class="k">_</span> <span class="k">-&gt;</span> <span class="n">Other</span>
  <span class="kr">in</span>
  <span class="n">one</span> <span class="n">x</span> <span class="n">xs</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20081202154714/http://ja.doukaku.org/comment/2647/addtag/" class="addtag" id="addtag_2647">Tags</a>:
	
	No tags
	&nbsp;

	
      [<a href="/web/20081202154714/http://ja.doukaku.org/lang/ocaml/">
		OCaml
      </a>]
	  
      [<a href="/web/20081202154714/http://ja.doukaku.org/comment/2647/download/">
		download code
      </a>]
	  [<a href="/web/20081202154714/http://ja.doukaku.org/comment/2647/download_html/">
		get code as html
      </a>]<p>
	

  
  <span class="rating">
  Rating<span style="background-color: #dfffdf;"
  >2/2=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2647"
  >-</span><span
  class="button yellow"
  id="rating_z_2647"
  >0</span><span 
  class="button green"
  id="rating_p_2647"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20081202154714/http://ja.doukaku.org/53/reply_to/2647/">
  reply
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment2655">
  <p class="banner"><a href="/web/20081202154714/http://ja.doukaku.org/user/237/" target="_top">talo</a>

	
	&nbsp;
	<a href="/web/20081202154714/http://ja.doukaku.org/comment/2655/">#2655</a>(<script language="JavaScript">print_time(new Date("2007/08/30 01:24 GMT"));</script><noscript>2007/08/30 01:24 GMT</noscript>)
	
	
	
	[<a href="/web/20081202154714/http://ja.doukaku.org/lang/python/">
	  Python
	</a>]
	
	
	
	&nbsp;

<span class="rating">Rating<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>まだまだ感が否めない。。。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">lookfor</span><span class="p">(</span><span class="n">target</span><span class="p">):</span>
    <span class="n">count</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">target</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">count</span><span class="o">.</span><span class="n">has_key</span><span class="p">(</span><span class="n">v</span><span class="p">):</span>
            <span class="n">count</span><span class="p">[</span><span class="n">v</span><span class="p">]</span> <span class="o">=</span> <span class="n">target</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
    <span class="c">#2つ以上要素があって、1回出現の要素がない時はその他</span>
    <span class="c">#要素が2つより多い場合もその他</span>
    <span class="k">if</span> <span class="p">(</span><span class="mi">1</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">count</span><span class="o">.</span><span class="n">values</span><span class="p">()</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">count</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">)</span>\
            <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">count</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">print</span> <span class="s">&#39;</span><span class="si">%s</span><span class="s"> その他&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">target</span><span class="p">)</span>
    <span class="c">#要素が1つしかない時は全部同じ</span>
    <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">count</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">print</span> <span class="s">&#39;</span><span class="si">%s</span><span class="s"> 全て同じ&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">target</span><span class="p">)</span>
    <span class="c">#この時点で1回出現の要素と多数出現の要素の2つが残っている</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">count</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">v</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">outofgroup</span> <span class="o">=</span> <span class="n">k</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">group</span> <span class="o">=</span> <span class="n">k</span>
        <span class="k">print</span> <span class="s">&#39;</span><span class="si">%s</span><span class="s"> 多数派: </span><span class="si">%s</span><span class="s">, 仲間外れ: </span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">target</span><span class="p">,</span> <span class="n">group</span><span class="p">,</span> <span class="n">outofgroup</span><span class="p">)</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20081202154714/http://ja.doukaku.org/comment/2655/addtag/" class="addtag" id="addtag_2655">Tags</a>:
	
	No tags
	&nbsp;

	
      [<a href="/web/20081202154714/http://ja.doukaku.org/lang/python/">
		Python
      </a>]
	  
      [<a href="/web/20081202154714/http://ja.doukaku.org/comment/2655/download/">
		download code
      </a>]
	  [<a href="/web/20081202154714/http://ja.doukaku.org/comment/2655/download_html/">
		get code as html
      </a>]<p>
	

  
  <span class="rating">
  Rating<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2655"
  >-</span><span
  class="button yellow"
  id="rating_z_2655"
  >0</span><span 
  class="button green"
  id="rating_p_2655"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20081202154714/http://ja.doukaku.org/53/reply_to/2655/">
  reply
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment2656">
  <p class="banner"><a href="/web/20081202154714/http://ja.doukaku.org/user/322/" target="_top">sawat</a><a href="/web/20081202154714/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20081202154714im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20081202154714/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20081202154714im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20081202154714/http://ja.doukaku.org/comment/2656/">#2656</a>(<script language="JavaScript">print_time(new Date("2007/08/30 01:27 GMT"));</script><noscript>2007/08/30 01:27 GMT</noscript>)
	
	
	
	[<a href="/web/20081202154714/http://ja.doukaku.org/lang/javascript/">
	  JavaScript
	</a>]
	
	
	
	&nbsp;

<span class="rating">Rating<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  戻り値は配列で、要素数が<br/>１なら全部同じで[共通項]<br/>2なら仲間はずれ有りで[共通項,&nbsp;仲間ハズレ]<br/>0ならその他<br/>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></td><td class="code"><div class="highlight"><pre><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">classify</span> <span class="o">=</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">length</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span> <span class="p">[];</span>
  <span class="k">var</span> <span class="nx">a</span> <span class="o">,</span> <span class="nx">b</span><span class="o">,</span> <span class="nx">ac</span> <span class="o">=</span> <span class="mi">0</span><span class="o">,</span> <span class="nx">bc</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
  <span class="k">for</span><span class="p">(</span><span class="k">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="o">,</span> <span class="nx">n</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="o">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="nx">n</span><span class="o">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">ac</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">||</span> <span class="nx">a</span> <span class="o">==</span> <span class="k">this</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span> <span class="p">{</span><span class="nx">a</span> <span class="o">=</span> <span class="k">this</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span> <span class="nx">ac</span><span class="o">++;</span> <span class="p">}</span>
    <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">bc</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">||</span> <span class="nx">ac</span> <span class="o">==</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="nx">b</span> <span class="o">==</span> <span class="k">this</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span> <span class="p">{</span><span class="nx">b</span> <span class="o">=</span> <span class="k">this</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span> <span class="nx">bc</span><span class="o">++;</span><span class="p">}</span>
    <span class="k">else</span> <span class="k">return</span> <span class="p">[];</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">a</span> <span class="o">==</span> <span class="nx">void</span> <span class="mi">0</span> <span class="o">?</span> <span class="p">[</span><span class="nx">b</span><span class="p">]</span> <span class="o">:</span> 
         <span class="nx">b</span> <span class="o">==</span> <span class="nx">void</span> <span class="mi">0</span> <span class="o">?</span> <span class="p">[</span><span class="nx">a</span><span class="p">]</span> <span class="o">:</span>
         <span class="nx">ac</span> <span class="o">&lt;</span> <span class="nx">bc</span>     <span class="o">?</span> <span class="p">[</span><span class="nx">b</span><span class="o">,</span> <span class="nx">a</span><span class="p">]</span> <span class="o">:</span> <span class="p">[</span><span class="nx">a</span><span class="o">,</span> <span class="nx">b</span><span class="p">];</span>
<span class="p">};</span>

<span class="nx">alert</span><span class="p">([</span><span class="mi">2</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="p">].</span><span class="nx">classify</span><span class="p">());</span><span class="c">// =&gt; [2, 1]</span>
<span class="nx">alert</span><span class="p">([</span><span class="mi">1</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">1</span><span class="p">].</span><span class="nx">classify</span><span class="p">());</span>  <span class="c">// =&gt; [1]</span>
<span class="nx">alert</span><span class="p">([</span><span class="mi">2</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">1</span><span class="p">].</span><span class="nx">classify</span><span class="p">());</span> <span class="c">// =&gt; [1, 2]</span>
<span class="nx">alert</span><span class="p">([</span><span class="mi">2</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">1</span><span class="p">].</span><span class="nx">classify</span><span class="p">());</span> <span class="c">// =&gt; []</span>
<span class="nx">alert</span><span class="p">([</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">1</span><span class="p">].</span><span class="nx">classify</span><span class="p">());</span> <span class="c">// =&gt; []</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20081202154714/http://ja.doukaku.org/comment/2656/addtag/" class="addtag" id="addtag_2656">Tags</a>:
	
	No tags
	&nbsp;

	
      [<a href="/web/20081202154714/http://ja.doukaku.org/lang/javascript/">
		JavaScript
      </a>]
	  
      [<a href="/web/20081202154714/http://ja.doukaku.org/comment/2656/download/">
		download code
      </a>]
	  [<a href="/web/20081202154714/http://ja.doukaku.org/comment/2656/download_html/">
		get code as html
      </a>]<p>
	

  
  <span class="rating">
  Rating<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2656"
  >-</span><span
  class="button yellow"
  id="rating_z_2656"
  >0</span><span 
  class="button green"
  id="rating_p_2656"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20081202154714/http://ja.doukaku.org/comment/2656/">
    1
    reply
  </a>

  [<a href="/web/20081202154714/http://ja.doukaku.org/53/reply_to/2656/">
  reply
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment2657">
  <p class="banner"><a href="/web/20081202154714/http://ja.doukaku.org/user/322/" target="_top">sawat</a><a href="/web/20081202154714/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20081202154714im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20081202154714/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20081202154714im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20081202154714/http://ja.doukaku.org/comment/2657/">#2657</a>(<script language="JavaScript">print_time(new Date("2007/08/30 01:36 GMT"));</script><noscript>2007/08/30 01:36 GMT</noscript>)
	
	
	
	[<a href="/web/20081202154714/http://ja.doukaku.org/lang/diff/">
	  diff
	</a>]
	
	
	
	&nbsp;

<span class="rating">Rating<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  間違えた。これでは値にundefinedを扱えませんでした。
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></td><td class="code"><div class="highlight"><pre>   }
<span class="gd">-  return a == void 0 ? [b] :</span>
<span class="gd">-         b == void 0 ? [a] :</span>
<span class="gd">-         ac == bc    ? [] :</span>
<span class="gd">-         ac &lt; bc     ? [b, a] : [a, b];</span>
<span class="gi">+  return ac == 0  ? [b] :</span>
<span class="gi">+         bc == 0  ? [a] :</span>
<span class="gi">+         ac == bc ? [] :</span>
<span class="gi">+         ac &lt; bc  ? [b, a] : [a, b];</span>
 };
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20081202154714/http://ja.doukaku.org/comment/2657/addtag/" class="addtag" id="addtag_2657">Tags</a>:
	
	No tags
	&nbsp;

	
      [<a href="/web/20081202154714/http://ja.doukaku.org/lang/diff/">
		diff
      </a>]
	  
      [<a href="/web/20081202154714/http://ja.doukaku.org/comment/2657/download/">
		download code
      </a>]
	  [<a href="/web/20081202154714/http://ja.doukaku.org/comment/2657/download_html/">
		get code as html
      </a>]<p>
	

  
  <span class="rating">
  Rating<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2657"
  >-</span><span
  class="button yellow"
  id="rating_z_2657"
  >0</span><span 
  class="button green"
  id="rating_p_2657"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20081202154714/http://ja.doukaku.org/comment/2656/"><img src="/web/20081202154714im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20081202154714/http://ja.doukaku.org/comment/2657/root/"><img src="/web/20081202154714im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20081202154714/http://ja.doukaku.org/53/reply_to/2657/">
  reply
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment2658">
  <p class="banner"><a href="/web/20081202154714/http://ja.doukaku.org/user/59/" target="_top">nori</a><a href="/web/20081202154714/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20081202154714im_/http://ja.doukaku.org/static/image/star_silver.png" border=0/></a><a href="/web/20081202154714/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20081202154714im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20081202154714/http://ja.doukaku.org/comment/2658/">#2658</a>(<script language="JavaScript">print_time(new Date("2007/08/30 01:46 GMT"));</script><noscript>2007/08/30 01:46 GMT</noscript>)
	
	
	
	[<a href="/web/20081202154714/http://ja.doukaku.org/lang/other/">
	  Other
	</a>]
	
	
	
	&nbsp;

<span class="rating">Rating<span style="background-color: #ffefef;">-1/1=-1.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>len(xs)==0のときは全部同じなのかね？
集合論的にはどうなんでしょうね。

辞書を使って脱力実装。

最初は辞書を返して終わりにしようと思ったけど、気が引けたのでやめた。

しかも書いてみたら辞書を生成する部分より長いしｗ。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></td><td class="code"><div class="highlight"><pre>def classify_r(xs):
  if len(xs) == 0 :
    return dict()
  else:
    d = classify_r(xs[1:])
    c = d.get(xs[0], 0)
    d.update({xs[0]: c + 1})
    return d

def classify(xs):
  d = classify_r(xs)
  if len(d) == 0:
    return &quot;Empty&quot;
  elif len(d) == 1:
    return d.keys()[0]
  elif len(d) == 2:
    a = d.keys()[0]
    b = d.keys()[1]
    if d[a] &gt;= d[b]:
      return (a, b)
    else:
      return (b, a)
  else:
    return &quot;Mixed&quot;
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20081202154714/http://ja.doukaku.org/comment/2658/addtag/" class="addtag" id="addtag_2658">Tags</a>:
	
	No tags
	&nbsp;

	
      [<a href="/web/20081202154714/http://ja.doukaku.org/lang/other/">
		Other
      </a>]
	  
      [<a href="/web/20081202154714/http://ja.doukaku.org/comment/2658/download/">
		download code
      </a>]
	  [<a href="/web/20081202154714/http://ja.doukaku.org/comment/2658/download_html/">
		get code as html
      </a>]<p>
	

  
  <span class="rating">
  Rating<span style="background-color: #ffefef;"
  >-1/1=-1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2658"
  >-</span><span
  class="button yellow"
  id="rating_z_2658"
  >0</span><span 
  class="button green"
  id="rating_p_2658"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20081202154714/http://ja.doukaku.org/53/reply_to/2658/">
  reply
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment2661">
  <p class="banner"><a href="/web/20081202154714/http://ja.doukaku.org/user/78/" target="_top">morchin</a><a href="/web/20081202154714/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20081202154714im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20081202154714/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20081202154714im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20081202154714/http://ja.doukaku.org/comment/2661/">#2661</a>(<script language="JavaScript">print_time(new Date("2007/08/30 02:20 GMT"));</script><noscript>2007/08/30 02:20 GMT</noscript>)
	
	
	
	[<a href="/web/20081202154714/http://ja.doukaku.org/lang/python/">
	  Python
	</a>]
	
	
	
	&nbsp;

<span class="rating">Rating<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>以下を返値とする。
全部の要素が同じ値である： 1
一つだけ仲間はずれがある： 2
その他： 0

また、dup_check.majorとdup_check.minorで必要な値を取り出せる。
</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36</pre></td><td class="code"><div class="highlight"><pre><span class="k">try</span><span class="p">:</span> <span class="n">set</span>
<span class="k">except</span> <span class="ne">NameError</span><span class="p">:</span> <span class="k">from</span> <span class="nn">sets</span> <span class="k">import</span> <span class="n">Set</span> <span class="k">as</span> <span class="n">set</span>

<span class="k">def</span> <span class="nf">dup_check</span><span class="p">(</span><span class="n">xs</span><span class="p">):</span>
	<span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="p">[</span><span class="s">&#39;major&#39;</span><span class="p">,</span> <span class="s">&#39;minor&#39;</span><span class="p">]:</span>
		<span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">dup_check</span><span class="p">,</span> <span class="n">attr</span><span class="p">):</span> <span class="nb">delattr</span><span class="p">(</span><span class="n">dup_check</span><span class="p">,</span> <span class="n">attr</span><span class="p">)</span>
	<span class="n">L</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">set</span><span class="p">(</span><span class="n">xs</span><span class="p">))</span>
	<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">L</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
		<span class="n">dup_check</span><span class="o">.</span><span class="n">major</span> <span class="o">=</span> <span class="n">L</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
		<span class="k">return</span> <span class="mi">1</span>
	<span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">L</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
		<span class="n">L</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">xs</span><span class="o">.</span><span class="n">count</span><span class="p">)</span>
		<span class="n">dup_check</span><span class="o">.</span><span class="n">minor</span> <span class="o">=</span> <span class="n">L</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
		<span class="n">dup_check</span><span class="o">.</span><span class="n">major</span> <span class="o">=</span> <span class="n">L</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
		<span class="k">return</span> <span class="mi">2</span>
	<span class="k">else</span><span class="p">:</span>
		<span class="k">return</span> <span class="mi">0</span>

<span class="k">print</span> <span class="s">&#39;ret =&#39;</span><span class="p">,</span> <span class="n">dup_check</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="k">print</span> <span class="s">&#39;uniq =&#39;</span><span class="p">,</span> <span class="n">dup_check</span><span class="o">.</span><span class="n">major</span>
<span class="k">print</span>
<span class="k">print</span> <span class="s">&#39;ret =&#39;</span><span class="p">,</span> <span class="n">dup_check</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="k">print</span> <span class="s">&#39;major =&#39;</span><span class="p">,</span> <span class="n">dup_check</span><span class="o">.</span><span class="n">major</span>
<span class="k">print</span> <span class="s">&#39;minor =&#39;</span><span class="p">,</span> <span class="n">dup_check</span><span class="o">.</span><span class="n">minor</span>
<span class="k">print</span>
<span class="k">print</span> <span class="s">&#39;ret =&#39;</span><span class="p">,</span> <span class="n">dup_check</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>

<span class="err">出力：</span>
<span class="n">ret</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">uniq</span> <span class="o">=</span> <span class="mi">1</span>

<span class="n">ret</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">major</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">minor</span> <span class="o">=</span> <span class="mi">2</span>

<span class="n">ret</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20081202154714/http://ja.doukaku.org/comment/2661/addtag/" class="addtag" id="addtag_2661">Tags</a>:
	
	No tags
	&nbsp;

	
      [<a href="/web/20081202154714/http://ja.doukaku.org/lang/python/">
		Python
      </a>]
	  
      [<a href="/web/20081202154714/http://ja.doukaku.org/comment/2661/download/">
		download code
      </a>]
	  [<a href="/web/20081202154714/http://ja.doukaku.org/comment/2661/download_html/">
		get code as html
      </a>]<p>
	

  
  <span class="rating">
  Rating<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2661"
  >-</span><span
  class="button yellow"
  id="rating_z_2661"
  >0</span><span 
  class="button green"
  id="rating_p_2661"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20081202154714/http://ja.doukaku.org/comment/2661/">
    1
    reply
  </a>

  [<a href="/web/20081202154714/http://ja.doukaku.org/53/reply_to/2661/">
  reply
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment2663">
  <p class="banner"><a href="/web/20081202154714/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20081202154714/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20081202154714im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20081202154714/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20081202154714im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20081202154714/http://ja.doukaku.org/comment/2663/">#2663</a>(<script language="JavaScript">print_time(new Date("2007/08/30 02:39 GMT"));</script><noscript>2007/08/30 02:39 GMT</noscript>)
	
	
	
	[<a href="/web/20081202154714/http://ja.doukaku.org/lang/python/">
	  Python
	</a>]
	
	
	
	&nbsp;

<span class="rating">Rating<span style="background-color: #cfffcf;">3/3=1.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>戻り値は2要素のタプルを返す
　(その要素, None)　ー　要素が全部同じの時
　(多い方の要素, 少ない方の要素)　ー　要素が一つだけのものと他全部同じの時
　(None, None)　ー　それ以外の場合
</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">xs</span><span class="p">):</span>
  <span class="n">a</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">set</span><span class="p">(</span><span class="n">xs</span><span class="p">))</span>
  <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span> <span class="k">return</span> <span class="n">xs</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">None</span>
  <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span> <span class="ow">and</span> <span class="n">xs</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span> <span class="k">return</span> <span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
  <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span> <span class="ow">and</span> <span class="n">xs</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span> <span class="k">return</span> <span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
  <span class="k">return</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span>

<span class="k">print</span> <span class="n">f</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="k">print</span> <span class="n">f</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="k">print</span> <span class="n">f</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="k">print</span> <span class="n">f</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20081202154714/http://ja.doukaku.org/comment/2663/addtag/" class="addtag" id="addtag_2663">Tags</a>:
	
	No tags
	&nbsp;

	
      [<a href="/web/20081202154714/http://ja.doukaku.org/lang/python/">
		Python
      </a>]
	  
      [<a href="/web/20081202154714/http://ja.doukaku.org/comment/2663/download/">
		download code
      </a>]
	  [<a href="/web/20081202154714/http://ja.doukaku.org/comment/2663/download_html/">
		get code as html
      </a>]<p>
	

  
  <span class="rating">
  Rating<span style="background-color: #cfffcf;"
  >3/3=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2663"
  >-</span><span
  class="button yellow"
  id="rating_z_2663"
  >0</span><span 
  class="button green"
  id="rating_p_2663"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20081202154714/http://ja.doukaku.org/53/reply_to/2663/">
  reply
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment2664">
  <p class="banner"><a href="/web/20081202154714/http://ja.doukaku.org/user/405/" target="_top">mc</a><a href="/web/20081202154714/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20081202154714im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20081202154714/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20081202154714im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20081202154714/http://ja.doukaku.org/comment/2664/">#2664</a>(<script language="JavaScript">print_time(new Date("2007/08/30 02:40 GMT"));</script><noscript>2007/08/30 02:40 GMT</noscript>)
	
	
	
	[<a href="/web/20081202154714/http://ja.doukaku.org/lang/commonlisp/">
	  Common Lisp
	</a>]
	
	
	
	&nbsp;

<span class="rating">Rating<span style="background-color: #ffefef;">-1/1=-1.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>条件によって多値を返すようにしてみました。
* 全部の要素が同じ値である =&gt; 仲間, nil
* 一つだけ仲間はずれがある =&gt; 仲間はずれ, 仲間
* その他 =&gt; nil, もとのリスト
</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></td><td class="code"><div class="highlight"><pre>(defun hajiki (lst &amp;optional &amp;key (test #&#39;equal))
  (let ((xs (remove (car lst) lst :test-not test))
	(ys (remove (car lst) lst :test test))
	(kind (let ((cnt 0) tem)
		(dolist (item lst cnt)
		  (or (eq tem (pushnew item tem :test test)) (incf cnt))
		  (and (&gt; cnt 2) (return-from hajiki (values nil lst)))))))
    (if (= kind 1)
	(values (car xs) nil)
	(let ((xs-len (length xs))
	      (ys-len (length ys)))
	  (cond ((&lt; xs-len ys-len ) (values (car xs) (car ys)))
		((= xs-len ys-len) (values nil lst))
		(&#39;T (values (car ys) (car xs))))))))
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20081202154714/http://ja.doukaku.org/comment/2664/addtag/" class="addtag" id="addtag_2664">Tags</a>:
	
	No tags
	&nbsp;

	
      [<a href="/web/20081202154714/http://ja.doukaku.org/lang/commonlisp/">
		Common Lisp
      </a>]
	  
      [<a href="/web/20081202154714/http://ja.doukaku.org/comment/2664/download/">
		download code
      </a>]
	  [<a href="/web/20081202154714/http://ja.doukaku.org/comment/2664/download_html/">
		get code as html
      </a>]<p>
	

  
  <span class="rating">
  Rating<span style="background-color: #ffefef;"
  >-1/1=-1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2664"
  >-</span><span
  class="button yellow"
  id="rating_z_2664"
  >0</span><span 
  class="button green"
  id="rating_p_2664"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20081202154714/http://ja.doukaku.org/comment/2664/">
    1
    reply
  </a>

  [<a href="/web/20081202154714/http://ja.doukaku.org/53/reply_to/2664/">
  reply
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment2665">
  <p class="banner"><a href="/web/20081202154714/http://ja.doukaku.org/user/344/" target="_top">jz5</a><a href="/web/20081202154714/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20081202154714im_/http://ja.doukaku.org/static/image/star_bronze.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20081202154714/http://ja.doukaku.org/comment/2665/">#2665</a>(<script language="JavaScript">print_time(new Date("2007/08/30 03:50 GMT"));</script><noscript>2007/08/30 03:50 GMT</noscript>)
	
	
	
	[<a href="/web/20081202154714/http://ja.doukaku.org/lang/vbnet/">
	  VB.net
	</a>]
	
	
	
	&nbsp;

<span class="rating">Rating<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>要素数2～0のIntegerの配列を返します。
仲間はずれなしの場合 要素数1でxsの1つの値が、
仲間はずれありの場合 要素数2で仲間、仲間はずれの順で値が入っています。
その他の場合要素数0で返ります。

呼び出し例
Dim xs() As Integer = {1, 2, 1, 1}
For Each x In Classify(xs)
    Console.Write(x &amp; ", ")
Next

結果
1, 2, </pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></td><td class="code"><div class="highlight"><pre><span class="k">Function</span> <span class="n">Classify</span><span class="p">(</span><span class="k">ByVal</span> <span class="n">xs</span><span class="p">()</span> <span class="ow">As</span> <span class="kt">Integer</span><span class="p">)</span> <span class="ow">As</span> <span class="kt">Integer</span><span class="p">()</span>
    <span class="k">Dim</span> <span class="n">seq</span> <span class="o">=</span> <span class="n">From</span> <span class="n">x</span> <span class="ow">In</span> <span class="n">xs</span> <span class="n">Group</span> <span class="n">By</span> <span class="n">x</span> <span class="n">Into</span> <span class="n">Count</span><span class="p">()</span> <span class="n">Order</span> <span class="n">By</span> <span class="n">Count</span>

    <span class="k">If</span> <span class="n">seq</span><span class="p">.</span><span class="n">Count</span> <span class="o">=</span> <span class="mi">1</span> <span class="k">Then</span>
        <span class="k">Return</span> <span class="k">New</span> <span class="kt">Integer</span><span class="p">()</span> <span class="p">{</span><span class="n">seq</span><span class="p">.</span><span class="n">First</span><span class="p">.</span><span class="n">x</span><span class="p">}</span>
    <span class="k">ElseIf</span> <span class="n">seq</span><span class="p">.</span><span class="n">Count</span> <span class="o">=</span> <span class="mi">2</span> <span class="ow">AndAlso</span> <span class="n">seq</span><span class="p">.</span><span class="n">First</span><span class="p">.</span><span class="n">Count</span> <span class="o">=</span> <span class="mi">1</span> <span class="k">Then</span>
        <span class="k">Return</span> <span class="k">New</span> <span class="kt">Integer</span><span class="p">()</span> <span class="p">{</span><span class="n">seq</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="n">x</span><span class="p">,</span> <span class="n">seq</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="n">x</span><span class="p">}</span>
    <span class="k">End</span> <span class="k">If</span>
    <span class="k">Return</span> <span class="k">New</span> <span class="kt">Integer</span><span class="p">()</span> <span class="p">{}</span>
<span class="k">End</span> <span class="k">Function</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20081202154714/http://ja.doukaku.org/comment/2665/addtag/" class="addtag" id="addtag_2665">Tags</a>:
	
    
    <a href="/web/20081202154714/http://ja.doukaku.org/tag/VB9.0/">VB9.0</a>
    
	&nbsp;

	
      [<a href="/web/20081202154714/http://ja.doukaku.org/lang/vbnet/">
		VB.net
      </a>]
	  
      [<a href="/web/20081202154714/http://ja.doukaku.org/comment/2665/download/">
		download code
      </a>]
	  [<a href="/web/20081202154714/http://ja.doukaku.org/comment/2665/download_html/">
		get code as html
      </a>]<p>
	

  
  <span class="rating">
  Rating<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2665"
  >-</span><span
  class="button yellow"
  id="rating_z_2665"
  >0</span><span 
  class="button green"
  id="rating_p_2665"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20081202154714/http://ja.doukaku.org/53/reply_to/2665/">
  reply
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment2666">
  <p class="banner"><a href="/web/20081202154714/http://ja.doukaku.org/user/82/" target="_top">yuin</a><a href="/web/20081202154714/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20081202154714im_/http://ja.doukaku.org/static/image/star_bronze.png" border=0/></a><a href="/web/20081202154714/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20081202154714im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20081202154714/http://ja.doukaku.org/comment/2666/">#2666</a>(<script language="JavaScript">print_time(new Date("2007/08/30 03:54 GMT"));</script><noscript>2007/08/30 03:54 GMT</noscript>)
	
	
	
	[<a href="/web/20081202154714/http://ja.doukaku.org/lang/scala/">
	  Scala
	</a>]
	
	
	
	&nbsp;

<span class="rating">Rating<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  
<p>Scalaだとこういう場合はcase classでoptionかな。
</p>



	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28</pre></td><td class="code"><div class="highlight"><pre>import scala.collection.mutable.HashMap

trait Base
case class All[+A](a:A) extends Base
case class One[+A](a:A, b:A) extends Base

def groupTest[A](xs:List[A]):Option[Base] = {
  val map = xs.foldLeft(new HashMap[A,int]){(r,v)=&gt;r(v)=r.getOrElse(v, 0)+1;r}
  val hasone = map.values.exists(1==)

  map.size match {
    case 1 =&gt; Some(All(map.keys.toList.head))
    case 2 if hasone =&gt; 
      val (a, b) = map.keys.toList.partition(map(_) == 1)
      (map(a(0)), map(b(0))) match {
        case (1, _) =&gt; Some(One(b(0), a(0)))
        case (_, 1) =&gt; Some(One(a(0), b(0)))
        case _      =&gt; None
      }
    case _ =&gt; None
  }
}

groupTest(List(1,2,1,1,1)) match {
  case Some(All(a))     =&gt; println(a)
  case Some(One(a, one)) =&gt; println(a+&quot;,&quot;+one)
  case None             =&gt; println(&quot;None&quot;)
}
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20081202154714/http://ja.doukaku.org/comment/2666/addtag/" class="addtag" id="addtag_2666">Tags</a>:
	
	No tags
	&nbsp;

	
      [<a href="/web/20081202154714/http://ja.doukaku.org/lang/scala/">
		Scala
      </a>]
	  
      [<a href="/web/20081202154714/http://ja.doukaku.org/comment/2666/download/">
		download code
      </a>]
	  [<a href="/web/20081202154714/http://ja.doukaku.org/comment/2666/download_html/">
		get code as html
      </a>]<p>
	

  
  <span class="rating">
  Rating<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_2666"
  >-</span><span
  class="button yellow"
  id="rating_z_2666"
  >0</span><span 
  class="button green"
  id="rati">




<!--
     FILE ARCHIVED ON 15:47:14 Dec 2, 2008 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 13:44:50 Nov 16, 2013.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
