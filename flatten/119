
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja"> 
  <head>

<script type="text/javascript" src="/static/js/analytics.js" ></script>
<link type="text/css" rel="stylesheet" href="/static/css/banner-styles.css"/>




    <meta http-equiv="Content-type" content="text/html; charset=UTF-8" />
    <title>
年間カレンダー
どう書く？org </title>

    <link rel="stylesheet" type="text/css"
	href="/web/20090903220510cs_/http://ja.doukaku.org/static/style/reset-fonts-grids.css" />
    <link rel="stylesheet" type="text/css"
	href="/web/20090903220510cs_/http://ja.doukaku.org/static/style/style.css?20071211?20071207" />
	
    <link rel="stylesheet" type="text/css"
	href="/web/20090903220510cs_/http://ja.doukaku.org/static/style/pygments.css" />


	
<meta name="robots" content="noindex,nofollow">

    <!--<script src="/web/20090903220510/http://ja.doukaku.org/static/js/ieerbug/ieerbug.js" type="text/javascript"></script>-->


<!--<script src="/web/20090903220510/http://ja.doukaku.org/static/js/ieerbug/ieerbug.js" type="text/javascript"></script>-->
<script src="/web/20090903220510js_/http://ja.doukaku.org/static/js/jquery-1.1.3.1.js" type="text/javascript"></script>
<script src="/web/20090903220510js_/http://ja.doukaku.org/static/js/rating.js" type="text/javascript"></script>
<script src="/web/20090903220510js_/http://ja.doukaku.org/static/js/addtag.js?20071129" type="text/javascript"></script>

<script type="text/javascript">
is_key_navigation_enable = true;
</script>
<script src="/web/20090903220510js_/http://ja.doukaku.org/static/js/utils.js?~~~" type="text/javascript"></script>

</head>


<body id="doukaku_org">
<!-- BEGIN WAYBACK TOOLBAR INSERT -->
<script> if (window.archive_analytics) { window.archive_analytics.values['server_name']="wwwb-app17.us.archive.org";}; </script>

<script type="text/javascript" src="/static/js/disclaim-element.js" ></script>
<script type="text/javascript" src="/static/js/graph-calc.js" ></script>
<script type="text/javascript" src="/static/jflot/jquery.min.js" ></script>
<script type="text/javascript">
//<![CDATA[
var firstDate = 820454400000;
var lastDate = 1388534399999;
var wbPrefix = "/web/";
var wbCurrentUrl = "http:\/\/ja.doukaku.org\/119\/flatten\/";

var curYear = -1;
var curMonth = -1;
var yearCount = 18;
var firstYear = 1996;
var imgWidth = 450;
var yearImgWidth = 25;
var monthImgWidth = 2;
var trackerVal = "none";
var displayDay = "3";
var displayMonth = "Sep";
var displayYear = "2009";
var prettyMonths = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];

function showTrackers(val) {
	if(val == trackerVal) {
		return;
	}
	if(val == "inline") {
		document.getElementById("displayYearEl").style.color = "#ec008c";
		document.getElementById("displayMonthEl").style.color = "#ec008c";
		document.getElementById("displayDayEl").style.color = "#ec008c";		
	} else {
		document.getElementById("displayYearEl").innerHTML = displayYear;
		document.getElementById("displayYearEl").style.color = "#ff0";
		document.getElementById("displayMonthEl").innerHTML = displayMonth;
		document.getElementById("displayMonthEl").style.color = "#ff0";
		document.getElementById("displayDayEl").innerHTML = displayDay;
		document.getElementById("displayDayEl").style.color = "#ff0";
	}
   document.getElementById("wbMouseTrackYearImg").style.display = val;
   document.getElementById("wbMouseTrackMonthImg").style.display = val;
   trackerVal = val;
}
function getElementX2(obj) {
	var thing = jQuery(obj);
	if((thing == undefined) 
			|| (typeof thing == "undefined") 
			|| (typeof thing.offset == "undefined")) {
		return getElementX(obj);
	}
	return Math.round(thing.offset().left);
}
function trackMouseMove(event,element) {

   var eventX = getEventX(event);
   var elementX = getElementX2(element);
   var xOff = eventX - elementX;
	if(xOff < 0) {
		xOff = 0;
	} else if(xOff > imgWidth) {
		xOff = imgWidth;
	}
   var monthOff = xOff % yearImgWidth;

   var year = Math.floor(xOff / yearImgWidth);
	var yearStart = year * yearImgWidth;
   var monthOfYear = Math.floor(monthOff / monthImgWidth);
   if(monthOfYear > 11) {
       monthOfYear = 11;
   }
   // 1 extra border pixel at the left edge of the year:
   var month = (year * 12) + monthOfYear;
   var day = 1;
	if(monthOff % 2 == 1) {
		day = 15;
	}
	var dateString = 
		zeroPad(year + firstYear) + 
		zeroPad(monthOfYear+1,2) +
		zeroPad(day,2) + "000000";

	var monthString = prettyMonths[monthOfYear];
	document.getElementById("displayYearEl").innerHTML = year + 1996;
	document.getElementById("displayMonthEl").innerHTML = monthString;
	// looks too jarring when it changes..
	//document.getElementById("displayDayEl").innerHTML = zeroPad(day,2);

	var url = wbPrefix + dateString + '/' +  wbCurrentUrl;
	document.getElementById('wm-graph-anchor').href = url;

   //document.getElementById("wmtbURL").value="evX("+eventX+") elX("+elementX+") xO("+xOff+") y("+year+") m("+month+") monthOff("+monthOff+") DS("+dateString+") Moy("+monthOfYear+") ms("+monthString+")";
   if(curYear != year) {
       var yrOff = year * yearImgWidth;
       document.getElementById("wbMouseTrackYearImg").style.left = yrOff + "px";
       curYear = year;
   }
   if(curMonth != month) {
       var mtOff = year + (month * monthImgWidth) + 1;
       document.getElementById("wbMouseTrackMonthImg").style.left = mtOff + "px";
       curMonth = month;
   }
}
//]]>
</script>

<style type="text/css">body{margin-top:0!important;padding-top:0!important;min-width:800px!important;}#wm-ipp a:hover{text-decoration:underline!important;}</style>
<div id="wm-ipp" lang="en" class="__wb_banner_div" style="display:none; position:relative;padding:0 5px;min-height:70px;min-width:800px">


<div id="wm-ipp-inside" class="__wb_banner_div" style="position:fixed;padding:0!important;margin:0!important;width:97%;min-width:780px;border:5px solid #000;border-top:none;background-image:url(/static/images/toolbar/wm_tb_bk_trns.png);text-align:center;-moz-box-shadow:1px 1px 3px #333;-webkit-box-shadow:1px 1px 3px #333;box-shadow:1px 1px 3px #333;font-size:11px!important;font-family:'Lucida Grande','Arial',sans-serif!important;">
   <table style="border-collapse:collapse;margin:0;padding:0;width:100%;"><tbody><tr>
   <td style="padding:10px;vertical-align:top;min-width:110px;">
   <a href="/web/" title="Wayback Machine home page" style="background-color:transparent;border:none;"><img src="/static/images/toolbar/wayback-toolbar-logo.png" alt="Wayback Machine" width="110" height="39" border="0"/></a>
   </td>
   <td style="padding:0!important;text-align:center;vertical-align:top;width:100%;">

       <table style="border-collapse:collapse;margin:0 auto;padding:0;width:570px;"><tbody><tr>
       <td style="padding:3px 0;" colspan="2">
       <form target="_top" method="get" action="/web/form-submit.jsp" name="wmtb" id="wmtb" style="margin:0!important;padding:0!important;"><input type="text" name="url" id="wmtbURL" value="http://ja.doukaku.org/119/flatten/" style="width:400px;font-size:11px;font-family:'Lucida Grande','Arial',sans-serif;" onfocus="javascript:this.focus();this.select();" /><input type="hidden" name="type" value="replay" /><input type="hidden" name="date" value="20090903220510" /><input type="submit" value="Go" style="font-size:11px;font-family:'Lucida Grande','Arial',sans-serif;margin-left:5px;width: inherit !important" /><span id="wm_tb_options" style="display:block;"></span></form>
       </td>
       <td style="vertical-align:bottom;padding:5px 0 0 0!important;" rowspan="2">
           <table style="border-collapse:collapse;width:110px;color:#99a;font-family:'Helvetica','Lucida Grande','Arial',sans-serif;"><tbody>
			
           <!-- NEXT/PREV MONTH NAV AND MONTH INDICATOR -->
           <tr style="width:110px;height:16px;font-size:10px!important;">
           	<td style="padding-right:9px;font-size:11px!important;font-weight:bold;text-transform:uppercase;text-align:right;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
		                <a href="/web/20090222042407/http://ja.doukaku.org/119/flatten/" style="text-decoration:none;color:#33f;font-weight:bold;background-color:transparent;border:none;" title="22 Feb 2009"><strong>FEB</strong></a>
		                
               </td>
               <td id="displayMonthEl" style="background:#000;color:#ff0;font-size:11px!important;font-weight:bold;text-transform:uppercase;width:34px;height:15px;padding-top:1px;text-align:center;" title="You are here: 22:05:10 Sep 3, 2009">SEP</td>
				<td style="padding-left:9px;font-size:11px!important;font-weight:bold;text-transform:uppercase;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       Oct
                       
               </td>
           </tr>

           <!-- NEXT/PREV CAPTURE NAV AND DAY OF MONTH INDICATOR -->
           <tr>
               <td style="padding-right:9px;white-space:nowrap;overflow:visible;text-align:right!important;vertical-align:middle!important;" nowrap="nowrap">
               
		                <a href="/web/20090222042407/http://ja.doukaku.org/119/flatten/" title="4:24:07 Feb 22, 2009" style="background-color:transparent;border:none;"><img src="/static/images/toolbar/wm_tb_prv_on.png" alt="Previous capture" width="14" height="16" border="0" /></a>
		                
               </td>
               <td id="displayDayEl" style="background:#000;color:#ff0;width:34px;height:24px;padding:2px 0 0 0;text-align:center;font-size:24px;font-weight: bold;" title="You are here: 22:05:10 Sep 3, 2009">3</td>
				<td style="padding-left:9px;white-space:nowrap;overflow:visible;text-align:left!important;vertical-align:middle!important;" nowrap="nowrap">
               
                       <img src="/static/images/toolbar/wm_tb_nxt_off.png" alt="Next capture" width="14" height="16" border="0"/>
                       
			    </td>
           </tr>

           <!-- NEXT/PREV YEAR NAV AND YEAR INDICATOR -->
           <tr style="width:110px;height:13px;font-size:9px!important;">
				<td style="padding-right:9px;font-size:11px!important;font-weight: bold;text-align:right;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
		                <a href="/web/20080313102256/http://ja.doukaku.org/119/flatten/" style="text-decoration:none;color:#33f;font-weight:bold;background-color:transparent;border:none;" title="13 Mar 2008"><strong>2008</strong></a>
		                
               </td>
               <td id="displayYearEl" style="background:#000;color:#ff0;font-size:11px!important;font-weight: bold;padding-top:1px;width:34px;height:13px;text-align:center;" title="You are here: 22:05:10 Sep 3, 2009">2009</td>
				<td style="padding-left:9px;font-size:11px!important;font-weight: bold;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       2010
                       
				</td>
           </tr>
           </tbody></table>
       </td>

       </tr>
       <tr>
       <td style="vertical-align:middle;padding:0!important;">
           <a href="/web/20090903220510*/http://ja.doukaku.org/119/flatten/" style="color:#33f;font-size:11px;font-weight:bold;background-color:transparent;border:none;" title="See a list of every capture for this URL"><strong>5 captures</strong></a>
           <div class="__wb_banner_div" style="margin:0!important;padding:0!important;color:#666;font-size:9px;padding-top:2px!important;white-space:nowrap;" title="Timespan for captures of this URL">13 May 07 - 3 Sep 09</div>
       </td>
       <td style="padding:0!important;">
       <a style="position:relative; white-space:nowrap; width:450px;height:27px;" href="" id="wm-graph-anchor">
       <div class="__wb_banner_div" id="wm-ipp-sparkline" style="position:relative; white-space:nowrap; width:450px;height:27px;background-color:#fff;cursor:pointer;border-right:1px solid #ccc;" title="Explore captures for this URL">
			<img id="sparklineImgId" style="position:absolute; z-index:9012; top:0px; left:0px;"
				onmouseover="showTrackers('inline');" 
				onmouseout="showTrackers('none');"
				onmousemove="trackMouseMove(event,this)"
				alt="sparklines"
				width="450"
				height="27"
				border="0"
				src="/web/jsp/graph.jsp?graphdata=450_27_1996:-1:000000000000_1997:-1:000000000000_1998:-1:000000000000_1999:-1:000000000000_2000:-1:000000000000_2001:-1:000000000000_2002:-1:000000000000_2003:-1:000000000000_2004:-1:000000000000_2005:-1:000000000000_2006:-1:000000000000_2007:-1:000010000000_2008:-1:101000000000_2009:8:010000001000_2010:-1:000000000000_2011:-1:000000000000_2012:-1:000000000000_2013:-1:000000000000"></img>
			<img id="wbMouseTrackYearImg" 
				style="display:none; position:absolute; z-index:9010;"
				width="25" 
				height="27"
				border="0"
				src="/static/images/toolbar/transp-yellow-pixel.png"></img>
			<img id="wbMouseTrackMonthImg"
				style="display:none; position:absolute; z-index:9011; " 
				width="2"
				height="27" 
				border="0"
				src="/static/images/toolbar/transp-red-pixel.png"></img>
       </div>
		</a>

       </td>
       </tr></tbody></table>
   </td>
   <td style="text-align:right;padding:5px;width:65px;font-size:11px!important;">
       <a href="javascript:;" onclick="document.getElementById('wm-ipp').style.display='none';" style="display:block;padding-right:18px;background:url(/static/images/toolbar/wm_tb_close.png) no-repeat 100% 0;color:#33f;font-family:'Lucida Grande','Arial',sans-serif;margin-bottom:23px;background-color:transparent;border:none;" title="Close the toolbar">Close</a>
       <a href="http://faq.web.archive.org/" style="display:block;padding-right:18px;background:url(/static/images/toolbar/wm_tb_help.png) no-repeat 100% 0;color:#33f;font-family:'Lucida Grande','Arial',sans-serif;background-color:transparent;border:none;" title="Get some help using the Wayback Machine">Help</a>
   </td>
   </tr></tbody></table>

</div>
</div>
<script type="text/javascript">
 var wmDisclaimBanner = document.getElementById("wm-ipp");
 if(wmDisclaimBanner != null) {
   disclaimElement(wmDisclaimBanner);
 }
</script>
<!-- END WAYBACK TOOLBAR INSERT -->


<div id="page_head" class="compact">
  <h1 class="compact">
    <a href="/web/20090903220510/http://ja.doukaku.org/">どう書く？org</a><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/beta.png" alt="beta">
  </h1>
</div>

<div id="page_body" class="compact">
<div id="content" class="compact">




<h2 class="compact">
<img src='/web/20090903220510im_/http://ja.doukaku.org/static/image/star_gold.png' alt=お題(出題済み)>
<a href="/web/20090903220510/http://ja.doukaku.org/119/">年間カレンダー</a>
</h2>

    





<div class="comment" id="comment4884">
  <p class="banner"><a href="/web/20090903220510/http://ja.doukaku.org/user/352/" target="_top">186</a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/4884/">#4884</a>(<script language="JavaScript">print_time(new Date("2007/12/19 09:12 GMT"));</script><noscript>2007/12/19 09:12 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #bfffbf;">4/4=1.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>nを入力としてn年の年間カレンダーを返すプログラムを作ってください
少なくとも日曜日と土曜日が判別出来るようにしてください
出力は標準出力でもファイルでも構いません
デザインは各自のお好みで

出力例1:
(y-calendar 2008)=&gt;
#=Saturday, @=Sunday
2008/1 1 2 3 4 #5 @6 7 ...
2008/2 1 #2 @3 4 5 6 7 ...
...
2008/12 1 2 3 4 5 #6 @7 ...

出力例2:
(y-calendar 2008)=&gt;
        M T W T F S S M
2008/ 1   1 2 3 4 5 6 7 ...
2008/ 2         1 2 3 4 ...
...
2008/12 1 2 3 4 5 6 7 8 ...

出力例3:
(y-calendar 2008)は2008.htmlを出力する
2008.htmlの中身
----
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
       "http://www.w3.org/TR/html4/strict.dtd"&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;2008 calendar&lt;/title&gt;
&lt;style type="text/css"&gt;
* {font-family: monospace;}
span {margin: 0px 3px;}
span.sunday {color:red;font-weight:bold;}
span.saturday {color:blue;font-weight:bold;}
dd ul li{display:inline;}
&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h1&gt;2008 calendar&lt;/h1&gt;
&lt;dl&gt;
&lt;dt&gt;2008/1&lt;/dt&gt;
&lt;dd&gt;&lt;ul&gt;
&lt;li&gt;&lt;span class="weekday"&gt;1&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="weekday"&gt;2&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="weekday"&gt;3&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="weekday"&gt;4&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="saturday"&gt;5&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="sunday"&gt;6&lt;/span&gt;&lt;/li&gt;
...
&lt;/ul&gt;&lt;/dd&gt;
...
&lt;/dl&gt;
&lt;/body&gt;
&lt;/html&gt;
----</pre>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/4884/addtag/" class="addtag" id="addtag_4884">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #bfffbf;"
  >4/4=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_4884"
  >-</span><span
  class="button yellow"
  id="rating_z_4884"
  >0</span><span 
  class="button green"
  id="rating_p_4884"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090903220510/http://ja.doukaku.org/119/reply_to/4884/">
  返信
  </a>]
  </div>
</div>
</div>




  



<div class="indent">
<a href="/web/20090903220510/http://ja.doukaku.org/119/post_comment/">
投稿する
</a>
</div>


<h2>投稿されたコメント - フラット表示</h2>
<a href="/web/20090903220510/http://ja.doukaku.org/119/nested/">ネスト表示</a>
<a href="/web/20090903220510/http://ja.doukaku.org/119/">非表示</a> 


  
  <br/>

  
  




<div class="comment" id="comment5049">
  <p class="banner"><a href="/web/20090903220510/http://ja.doukaku.org/user/98/" target="_top">nobsun</a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5049/">#5049</a>(<script language="JavaScript">print_time(new Date("2007/12/29 23:25 GMT"));</script><noscript>2007/12/29 23:25 GMT</noscript>)
	
	
	
	[<a href="/web/20090903220510/http://ja.doukaku.org/lang/haskell/">
	  Haskell
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>裏技?系</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5
6</pre></td><td class="code"><div class="highlight"><pre><span class="kr">module</span> <span class="n">Main</span> <span class="p">(</span><span class="nv">main</span><span class="p">)</span> <span class="kr">where</span>
<span class="kr">import</span> <span class="n">System</span><span class="o">.</span><span class="n">Cmd</span>
<span class="kr">import</span> <span class="n">System</span><span class="o">.</span><span class="n">Environment</span>
<span class="kr">import</span> <span class="n">System</span><span class="o">.</span><span class="n">Exit</span>
<span class="nv">main</span> <span class="o">::</span> <span class="n">IO</span> <span class="n">ExitCode</span>
<span class="nv">main</span> <span class="o">=</span> <span class="nv">system</span> <span class="o">.</span> <span class="p">(</span><span class="s">&quot;cal &quot;</span><span class="o">++</span><span class="p">)</span> <span class="o">.</span> <span class="nv">head</span> <span class="o">=&lt;&lt;</span> <span class="nv">getArgs</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5049/addtag/" class="addtag" id="addtag_5049">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090903220510/http://ja.doukaku.org/lang/haskell/">
		Haskell
      </a>]
	  
      [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5049/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5049/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5049"
  >-</span><span
  class="button yellow"
  id="rating_z_5049"
  >0</span><span 
  class="button green"
  id="rating_p_5049"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090903220510/http://ja.doukaku.org/119/reply_to/5049/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment5050">
  <p class="banner"><a href="/web/20090903220510/http://ja.doukaku.org/user/504/" target="_top">あにす</a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5050/">#5050</a>(<script language="JavaScript">print_time(new Date("2007/12/29 23:48 GMT"));</script><noscript>2007/12/29 23:48 GMT</noscript>)
	
	
	
	[<a href="/web/20090903220510/http://ja.doukaku.org/lang/csharp/">
	  C#
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>これが一番簡単だと思います。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></td><td class="code"><div class="highlight"><pre><span class="c">//http://ja.doukaku.org/119/　投稿用</span>
<span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Windows.Forms</span><span class="p">;</span>
<span class="k">namespace</span> <span class="err">どう書く</span><span class="nn">_org</span><span class="err">年間カレンダ</span><span class="n">ー</span> <span class="k">{</span>
    <span class="k">class</span> <span class="nc">Program</span> <span class="k">{</span>
<span class="na">        [STAThread]</span>
        <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span> <span class="k">{</span>
            <span class="n">Application</span><span class="p">.</span><span class="n">Run</span><span class="p">(</span><span class="k">new</span> <span class="n">Form1</span><span class="p">());</span>
        <span class="k">}</span>

    <span class="k">}</span>
    <span class="k">class</span> <span class="nc">Form1</span><span class="p">:</span><span class="n">Form</span> <span class="k">{</span>
        <span class="n">MonthCalendar</span> <span class="n">calendar</span> <span class="p">=</span> <span class="k">new</span> <span class="n">MonthCalendar</span><span class="p">();</span>
        <span class="k">public</span> <span class="nf">Form1</span><span class="p">()</span> <span class="k">{</span>
            <span class="kt">int</span> <span class="n">year</span> <span class="p">=</span> <span class="kt">int</span><span class="p">.</span><span class="n">Parse</span><span class="p">(</span><span class="n">Environment</span><span class="p">.</span><span class="n">GetCommandLineArgs</span><span class="p">()[</span><span class="m">1</span><span class="p">]);</span>
            <span class="n">AutoSize</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
            <span class="n">calendar</span><span class="p">.</span><span class="n">Parent</span> <span class="p">=</span> <span class="k">this</span><span class="p">;</span>
            <span class="n">calendar</span><span class="p">.</span><span class="n">SetCalendarDimensions</span><span class="p">(</span><span class="m">4</span><span class="p">,</span> <span class="m">3</span><span class="p">);</span>
            <span class="n">calendar</span><span class="p">.</span><span class="n">SelectionStart</span> <span class="p">=</span> <span class="k">new</span> <span class="n">DateTime</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">1</span><span class="p">);</span>
        <span class="k">}</span>
    <span class="k">}</span>
<span class="k">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5050/addtag/" class="addtag" id="addtag_5050">タグ</a>:
	
    
    <a href="/web/20090903220510/http://ja.doukaku.org/tag/System.Windows.Forms%E3%80%80C%232.0/">System.Windows.Forms　C#2.0</a>
    
	&nbsp;

	
      [<a href="/web/20090903220510/http://ja.doukaku.org/lang/csharp/">
		C#
      </a>]
	  
      [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5050/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5050/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5050"
  >-</span><span
  class="button yellow"
  id="rating_z_5050"
  >0</span><span 
  class="button green"
  id="rating_p_5050"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20090903220510/http://ja.doukaku.org/comment/5050/">
    1
    reply
  </a>

  [<a href="/web/20090903220510/http://ja.doukaku.org/119/reply_to/5050/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment5051">
  <p class="banner"><a href="/web/20090903220510/http://ja.doukaku.org/user/540/" target="_top">SiroKuro</a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5051/">#5051</a>(<script language="JavaScript">print_time(new Date("2007/12/30 01:24 GMT"));</script><noscript>2007/12/30 01:24 GMT</noscript>)
	
	
	
	[<a href="/web/20090903220510/http://ja.doukaku.org/lang/csharp/">
	  C#
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>標準出力へ。

========= 2008/ 1 =========
SUN MON TUE WED THR FRI SAT
          1   2   3   4   5
  6   7   8   9  10  11  12
 13  14  15  16  17  18  19
 20  21  22  23  24  25  26
 27  28  29  30  31

========= 2008/ 2 =========
SUN MON TUE WED THR FRI SAT
                      1   2
  3   4   5   6   7   8   9
 10  11  12  13  14  15  16
 17  18  19  20  21  22  23
 24  25  26  27  28  29

......</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></td><td class="code"><div class="highlight"><pre><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">static</span> <span class="k">class</span> <span class="nc">Program</span> <span class="k">{</span>
    <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span> <span class="k">{</span>
        <span class="kt">int</span> <span class="n">year</span> <span class="p">=</span> <span class="kt">int</span><span class="p">.</span><span class="n">Parse</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="m">0</span><span class="p">]);</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">month</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span> <span class="n">month</span> <span class="p">&lt;=</span> <span class="m">12</span><span class="p">;</span> <span class="n">month</span><span class="p">++)</span> <span class="k">{</span>
            <span class="kt">int</span> <span class="n">lastday</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">DaysInMonth</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">month</span><span class="p">);</span>
            <span class="kt">int</span> <span class="n">week</span> <span class="p">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">Parse</span><span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="n">Format</span><span class="p">(</span><span class="s">&quot;{0}/{1}/1&quot;</span><span class="p">,</span> <span class="n">args</span><span class="p">[</span><span class="m">0</span><span class="p">],</span> <span class="n">month</span><span class="p">)).</span><span class="n">DayOfWeek</span><span class="p">;</span>
            <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;========= {0,4}/{1,2} =========&quot;</span><span class="p">,</span> <span class="n">year</span><span class="p">,</span> <span class="n">month</span><span class="p">);</span>
            <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;SUN MON TUE WED THR FRI SAT&quot;</span><span class="p">);</span>
            <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">week</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span> <span class="k">{</span>
                <span class="n">Console</span><span class="p">.</span><span class="n">Write</span><span class="p">(</span><span class="s">&quot;    &quot;</span><span class="p">);</span>
            <span class="k">}</span>
            <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">day</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span> <span class="n">day</span> <span class="p">&lt;=</span> <span class="n">lastday</span><span class="p">;</span> <span class="n">day</span><span class="p">++)</span> <span class="k">{</span>
                <span class="n">Console</span><span class="p">.</span><span class="n">Write</span><span class="p">(</span><span class="s">&quot;{0,3} &quot;</span><span class="p">,</span> <span class="n">day</span><span class="p">);</span>
                <span class="n">week</span><span class="p">++;</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">week</span> <span class="p">==</span> <span class="m">7</span><span class="p">)</span> <span class="k">{</span>
                    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">();</span> <span class="n">week</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
                <span class="k">}</span>
            <span class="k">}</span>
            <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">();</span>
            <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">();</span>
        <span class="k">}</span>
    <span class="k">}</span>
<span class="k">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5051/addtag/" class="addtag" id="addtag_5051">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090903220510/http://ja.doukaku.org/lang/csharp/">
		C#
      </a>]
	  
      [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5051/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5051/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5051"
  >-</span><span
  class="button yellow"
  id="rating_z_5051"
  >0</span><span 
  class="button green"
  id="rating_p_5051"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20090903220510/http://ja.doukaku.org/comment/5051/">
    1
    reply
  </a>

  [<a href="/web/20090903220510/http://ja.doukaku.org/119/reply_to/5051/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment5052">
  <p class="banner"><a href="/web/20090903220510/http://ja.doukaku.org/user/639/" target="_top">claddvd</a>

	
	&nbsp;
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5052/">#5052</a>(<script language="JavaScript">print_time(new Date("2007/12/30 01:34 GMT"));</script><noscript>2007/12/30 01:34 GMT</noscript>)
	
	
	
	[<a href="/web/20090903220510/http://ja.doukaku.org/lang/python/">
	  Python
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>標準出力へ。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4</pre></td><td class="code"><div class="highlight"><pre><span class="k">import</span> <span class="nn">sys</span>
<span class="k">import</span> <span class="nn">calendar</span>

<span class="n">calendar</span><span class="o">.</span><span class="n">prcal</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5052/addtag/" class="addtag" id="addtag_5052">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090903220510/http://ja.doukaku.org/lang/python/">
		Python
      </a>]
	  
      [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5052/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5052/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5052"
  >-</span><span
  class="button yellow"
  id="rating_z_5052"
  >0</span><span 
  class="button green"
  id="rating_p_5052"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090903220510/http://ja.doukaku.org/119/reply_to/5052/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment5053">
  <p class="banner"><a href="/web/20090903220510/http://ja.doukaku.org/user/641/" target="_top">seri</a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/star_bronze.png" border=0/></a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5053/">#5053</a>(<script language="JavaScript">print_time(new Date("2007/12/30 02:17 GMT"));</script><noscript>2007/12/30 02:17 GMT</noscript>)
	
	
	
	[<a href="/web/20090903220510/http://ja.doukaku.org/lang/ruby/">
	  Ruby
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>ちょっと長いか？

&lt; January_2007 &gt;
Sun Mon Tue Wed Thu Fri Sat 
      1   2   3   4   5   6 
  7   8   9  10  11  12  13 
 14  15  16  17  18  19  20 
 21  22  23  24  25  26  27 
 28  29  30  31 

・・・</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></td><td class="code"><div class="highlight"><pre><span class="nb">require</span> <span class="s1">&#39;date&#39;</span>
<span class="n">y</span> <span class="o">=</span> <span class="no">ARGV</span><span class="o">[</span><span class="mi">0</span><span class="o">].</span><span class="n">to_i</span>

<span class="k">for</span> <span class="n">m</span> <span class="k">in</span> <span class="mi">1</span> <span class="o">.</span><span class="n">.</span> <span class="mi">12</span>
  <span class="n">date</span> <span class="o">=</span> <span class="no">Date</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
  <span class="nb">puts</span> <span class="s2">&quot;&lt; </span><span class="si">#{</span> <span class="no">Date</span><span class="o">::</span><span class="no">MONTHNAMES</span><span class="o">[</span><span class="n">date</span><span class="o">.</span><span class="n">month</span><span class="o">]</span><span class="si">}</span><span class="s2">_</span><span class="si">#{</span><span class="n">y</span><span class="si">}</span><span class="s2"> &gt;&quot;</span>
  <span class="no">Date</span><span class="o">::</span><span class="no">ABBR_DAYNAMES</span><span class="o">.</span><span class="n">each</span> <span class="p">{</span> <span class="o">|</span><span class="nb">name</span><span class="o">|</span>
    <span class="nb">print</span> <span class="nb">name</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span>
  <span class="p">}</span>
  <span class="nb">puts</span>

  <span class="n">date</span><span class="o">.</span><span class="n">wday</span><span class="o">.</span><span class="n">times</span> <span class="p">{</span>
    <span class="nb">print</span> <span class="s2">&quot;    &quot;</span>
  <span class="p">}</span>
  <span class="n">date</span><span class="o">.</span><span class="n">upto</span><span class="p">((</span><span class="n">date</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span> <span class="o">|</span><span class="n">d</span><span class="o">|</span>
    <span class="nb">print</span> <span class="s2">&quot; &quot;</span> <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">day</span> <span class="o">&lt;</span> <span class="mi">10</span>
    <span class="nb">print</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">d</span><span class="o">.</span><span class="n">day</span><span class="o">.</span><span class="n">to_s</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span>
    <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">wday</span> <span class="o">==</span> <span class="mi">6</span>
      <span class="nb">puts</span>
    <span class="k">end</span>      
  <span class="p">}</span>
  <span class="nb">puts</span>
  <span class="nb">puts</span>
<span class="k">end</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5053/addtag/" class="addtag" id="addtag_5053">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090903220510/http://ja.doukaku.org/lang/ruby/">
		Ruby
      </a>]
	  
      [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5053/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5053/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5053"
  >-</span><span
  class="button yellow"
  id="rating_z_5053"
  >0</span><span 
  class="button green"
  id="rating_p_5053"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090903220510/http://ja.doukaku.org/119/reply_to/5053/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment5054">
  <p class="banner"><a href="/web/20090903220510/http://ja.doukaku.org/user/177/" target="_top">ocean</a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5054/">#5054</a>(<script language="JavaScript">print_time(new Date("2007/12/30 03:26 GMT"));</script><noscript>2007/12/30 03:26 GMT</noscript>)
	
	
	
	[<a href="/web/20090903220510/http://ja.doukaku.org/lang/python/">
	  Python
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>Python/Tkinterで組んでみました。組んだはいいが、結構重い・・・（レイアウトを工夫すればもっと速くできるかもしれませんが）</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67</pre></td><td class="code"><div class="highlight"><pre><span class="c"># coding: shift_jis</span>

<span class="k">import</span> <span class="nn">Tkinter</span> <span class="k">as</span> <span class="nn">Tk</span>
<span class="k">import</span> <span class="nn">calendar</span>
<span class="k">import</span> <span class="nn">sys</span>

<span class="k">def</span> <span class="nf">grid_configure</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">col_count</span><span class="p">,</span> <span class="n">row_count</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="n">col_count</span><span class="p">):</span>
        <span class="n">frame</span><span class="o">.</span><span class="n">grid_columnconfigure</span><span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="n">row_count</span><span class="p">):</span>
        <span class="n">frame</span><span class="o">.</span><span class="n">grid_rowconfigure</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">MonthPanel</span><span class="p">(</span><span class="n">Tk</span><span class="o">.</span><span class="n">Frame</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="n">year</span><span class="p">,</span> <span class="n">month</span><span class="p">):</span>
        <span class="n">Tk</span><span class="o">.</span><span class="n">Frame</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">)</span>

        <span class="n">label</span> <span class="o">=</span> <span class="n">Tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s">u&quot;</span><span class="si">%d</span><span class="s">月&quot;</span> <span class="o">%</span> <span class="n">month</span><span class="p">)</span>
        <span class="n">label</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">Tk</span><span class="o">.</span><span class="n">TOP</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">Tk</span><span class="o">.</span><span class="n">X</span><span class="p">)</span>

        <span class="n">frame</span> <span class="o">=</span> <span class="n">Tk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">frame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">Tk</span><span class="o">.</span><span class="n">TOP</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">Tk</span><span class="o">.</span><span class="n">BOTH</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

        <span class="n">grid_configure</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">create_label</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">):</span>
            <span class="n">label</span> <span class="o">=</span> <span class="n">Tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">bg</span><span class="o">=</span><span class="s">&quot;white&quot;</span><span class="p">)</span>
            <span class="n">label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">row</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="n">col</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s">&quot;news&quot;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">label</span>

        <span class="n">labels</span> <span class="o">=</span> <span class="p">[[</span><span class="n">create_label</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">)</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">7</span><span class="p">)]</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">7</span><span class="p">)]</span>

        <span class="k">def</span> <span class="nf">text</span><span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">&quot;white&quot;</span><span class="p">):</span>
            <span class="n">labels</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">s</span><span class="p">,</span> <span class="n">bg</span><span class="o">=</span><span class="n">color</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">col</span><span class="p">,</span> <span class="n">s</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="s">u&quot;日月火水木金土&quot;</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">col</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">color</span> <span class="o">=</span> <span class="s">&quot;#F7CACA&quot;</span>
            <span class="k">elif</span> <span class="n">col</span> <span class="o">==</span> <span class="mi">6</span><span class="p">:</span>
                <span class="n">color</span> <span class="o">=</span> <span class="s">&quot;#CEFFFF&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">color</span> <span class="o">=</span> <span class="s">&quot;#E7FFE7&quot;</span>
            <span class="n">text</span><span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">color</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">row</span><span class="p">,</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">calendar</span><span class="o">.</span><span class="n">Calendar</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="o">.</span><span class="n">monthdayscalendar</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">month</span><span class="p">)):</span>
            <span class="k">for</span> <span class="n">col</span><span class="p">,</span> <span class="n">day</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">day</span><span class="p">:</span>
                    <span class="n">text</span><span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="n">row</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">day</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">:</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;usage: year</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="n">year</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

    <span class="n">root</span> <span class="o">=</span> <span class="n">Tk</span><span class="o">.</span><span class="n">Tk</span><span class="p">()</span>
    <span class="n">root</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">u&quot;</span><span class="si">%d</span><span class="s">年 年間カレンダー&quot;</span> <span class="o">%</span> <span class="n">year</span><span class="p">)</span>

    <span class="n">grid_configure</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">12</span><span class="p">):</span>
        <span class="n">frame</span> <span class="o">=</span> <span class="n">MonthPanel</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">year</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">frame</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">i</span><span class="o">/</span><span class="mi">4</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="n">i</span><span class="o">%</span><span class="mi">4</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s">&quot;news&quot;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

    <span class="n">root</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5054/addtag/" class="addtag" id="addtag_5054">タグ</a>:
	
    
    <a href="/web/20090903220510/http://ja.doukaku.org/tag/GUI/">GUI</a>
    
    <a href="/web/20090903220510/http://ja.doukaku.org/tag/%E5%8F%82%E8%80%83%E3%81%AB%E3%81%AA%E3%82%8B/">参考になる</a>
    
	&nbsp;

	
      [<a href="/web/20090903220510/http://ja.doukaku.org/lang/python/">
		Python
      </a>]
	  
      [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5054/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5054/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5054"
  >-</span><span
  class="button yellow"
  id="rating_z_5054"
  >0</span><span 
  class="button green"
  id="rating_p_5054"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20090903220510/http://ja.doukaku.org/comment/5054/">
    1
    reply
  </a>

  [<a href="/web/20090903220510/http://ja.doukaku.org/119/reply_to/5054/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment5055">
  <p class="banner"><a href="/web/20090903220510/http://ja.doukaku.org/user/591/" target="_top">99yen</a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5055/">#5055</a>(<script language="JavaScript">print_time(new Date("2007/12/30 03:33 GMT"));</script><noscript>2007/12/30 03:33 GMT</noscript>)
	
	
	
	[<a href="/web/20090903220510/http://ja.doukaku.org/lang/nadesico/">
	  なでしこ
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>とりあえず表示例1で書いてみました</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre></td><td class="code"><div class="highlight"><pre>●yCalendar(year)
    monthとは整数
    dayとは整数
    &quot;{year} calendar (#=Saturday, @=Sunday)&quot;を表示
    12回
        month=回数
        &quot;{year}/{month}&quot;を継続表示
        (daysOfMonth(year,month))回
            day=回数
            もし(&quot;{year}/{month}/{day}&quot;の曜日=&quot;土&quot;)ならば
                &quot; #{day}&quot;を継続表示
            違えば、もし(&quot;{year}/{month}/{day}&quot;の曜日=&quot;日&quot;)ならば
                &quot; @{day}&quot;を継続表示
            違えば
                &quot; {day}&quot;を継続表示
        改行を継続表示
    
●daysOfMonth(year,month)
    nextYearとは整数
    nextMonthとは整数
    もし(month=12)ならば、nextMonth=1。nextYear=year+1
    違えば、nextMonth=month+1。nextYear=year
    &quot;{year}/{month}/1&quot;と&quot;{nextYear}/{nextMonth}/1&quot;の日数差

yCalendar(2008)
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5055/addtag/" class="addtag" id="addtag_5055">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090903220510/http://ja.doukaku.org/lang/nadesico/">
		なでしこ
      </a>]
	  
      [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5055/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5055/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5055"
  >-</span><span
  class="button yellow"
  id="rating_z_5055"
  >0</span><span 
  class="button green"
  id="rating_p_5055"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090903220510/http://ja.doukaku.org/119/reply_to/5055/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment5056">
  <p class="banner"><a href="/web/20090903220510/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5056/">#5056</a>(<script language="JavaScript">print_time(new Date("2007/12/30 04:07 GMT"));</script><noscript>2007/12/30 04:07 GMT</noscript>)
	
	
	
	[<a href="/web/20090903220510/http://ja.doukaku.org/lang/c/">
	  C
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>            2008 /  1               2008 /  2               2008 /  3
 Su Mo Tu We Th Fr Sa    Su Mo Tu We Th Fr Sa    Su Mo Tu We Th Fr Sa
        1  2  3  4  5                    1  2                       1
  6  7  8  9 10 11 12     3  4  5  6  7  8  9     2  3  4  5  6  7  8
 13 14 15 16 17 18 19    10 11 12 13 14 15 16     9 10 11 12 13 14 15
 20 21 22 23 24 25 26    17 18 19 20 21 22 23    16 17 18 19 20 21 22
 27 28 29 30 31          24 25 26 27 28 29       23 24 25 26 27 28 29
                                                 30 31

(中略)

            2008 / 10               2008 / 11               2008 / 12
 Su Mo Tu We Th Fr Sa    Su Mo Tu We Th Fr Sa    Su Mo Tu We Th Fr Sa
           1  2  3  4                       1        1  2  3  4  5  6
  5  6  7  8  9 10 11     2  3  4  5  6  7  8     7  8  9 10 11 12 13
 12 13 14 15 16 17 18     9 10 11 12 13 14 15    14 15 16 17 18 19 20
 19 20 21 22 23 24 25    16 17 18 19 20 21 22    21 22 23 24 25 26 27
 26 27 28 29 30 31       23 24 25 26 27 28 29    28 29 30 31
                         30

と、こんな感じで表示します☆</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30</pre></td><td class="code"><div class="highlight"><pre><span class="cp">#include&lt;stdio.h&gt;</span>

<span class="kt">int</span> <span class="n">f</span><span class="p">(</span><span class="kt">int</span> <span class="n">y</span><span class="p">,</span> <span class="kt">int</span> <span class="n">m</span><span class="p">,</span> <span class="kt">int</span> <span class="n">d</span><span class="p">){</span>
  <span class="k">if</span><span class="p">(</span><span class="n">m</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">)</span>
    <span class="n">y</span><span class="o">--</span><span class="p">,</span> <span class="n">m</span> <span class="o">+=</span> <span class="mi">12</span><span class="p">;</span>
  <span class="k">return</span> <span class="n">y</span> <span class="o">*</span> <span class="mi">365</span> <span class="o">+</span> <span class="n">y</span> <span class="o">/</span> <span class="mi">4</span> <span class="o">-</span> <span class="n">y</span> <span class="o">/</span> <span class="mi">100</span> <span class="o">+</span> <span class="n">y</span> <span class="o">/</span> <span class="mi">400</span> <span class="o">+</span> <span class="p">(</span><span class="n">m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="mi">306</span> <span class="o">/</span> <span class="mi">10</span> <span class="o">+</span> <span class="n">d</span> <span class="o">-</span> <span class="mi">428</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="n">main</span><span class="p">(</span><span class="kt">void</span><span class="p">){</span>
  <span class="kt">int</span> <span class="n">y</span> <span class="p">,</span> <span class="n">m</span> <span class="p">,</span> <span class="n">d</span> <span class="p">,</span> <span class="n">i</span> <span class="p">,</span> <span class="n">j</span><span class="p">;</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;n = &quot;</span><span class="p">);</span>
  <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">y</span><span class="p">);</span>
  <span class="k">for</span><span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">12</span><span class="p">;</span> <span class="n">i</span> <span class="o">+=</span> <span class="mi">3</span><span class="p">){</span>
    <span class="k">for</span><span class="p">(</span><span class="n">m</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">;</span> <span class="n">m</span> <span class="o">&lt;</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">;</span> <span class="n">m</span><span class="o">++</span><span class="p">)</span>
      <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%16d /%3d   &quot;</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">m</span><span class="p">);</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
    <span class="k">for</span><span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span>
      <span class="n">printf</span><span class="p">(</span><span class="s">&quot; Su Mo Tu We Th Fr Sa   &quot;</span><span class="p">);</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
    <span class="k">for</span><span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="mi">42</span><span class="p">;</span> <span class="n">j</span> <span class="o">+=</span> <span class="mi">7</span><span class="p">,</span> <span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">))</span>
      <span class="k">for</span><span class="p">(</span><span class="n">m</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="n">m</span> <span class="o">&lt;</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">4</span><span class="p">;</span> <span class="n">m</span><span class="o">++</span><span class="p">,</span> <span class="n">printf</span><span class="p">(</span><span class="s">&quot;   &quot;</span><span class="p">))</span>
        <span class="k">for</span><span class="p">(</span><span class="n">d</span> <span class="o">=</span> <span class="n">j</span> <span class="o">-</span> <span class="n">f</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="mi">7</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="n">d</span> <span class="o">&lt;</span> <span class="n">j</span> <span class="o">-</span> <span class="n">f</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="mi">7</span> <span class="o">+</span> <span class="mi">8</span><span class="p">;</span> <span class="n">d</span><span class="o">++</span><span class="p">)</span>
          <span class="k">if</span><span class="p">(</span><span class="n">d</span> <span class="o">&lt;</span> <span class="mi">1</span> <span class="o">||</span> <span class="n">d</span> <span class="o">&gt;</span> <span class="n">f</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-</span> <span class="n">f</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">&quot;   &quot;</span><span class="p">);</span>
          <span class="k">else</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%3d&quot;</span><span class="p">,</span> <span class="n">d</span><span class="p">);</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5056/addtag/" class="addtag" id="addtag_5056">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090903220510/http://ja.doukaku.org/lang/c/">
		C
      </a>]
	  
      [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5056/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5056/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5056"
  >-</span><span
  class="button yellow"
  id="rating_z_5056"
  >0</span><span 
  class="button green"
  id="rating_p_5056"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090903220510/http://ja.doukaku.org/119/reply_to/5056/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment5057">
  <p class="banner"><a href="/web/20090903220510/http://ja.doukaku.org/user/602/" target="_top">caitsith</a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5057/">#5057</a>(<script language="JavaScript">print_time(new Date("2007/12/30 04:27 GMT"));</script><noscript>2007/12/30 04:27 GMT</noscript>)
	
	
	
	[<a href="/web/20090903220510/http://ja.doukaku.org/lang/php/">
	  PHP
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  出力例３をテーブルに変えて。<br/>テーブル用に空白を&amp;nbsp;で埋めています。
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76</pre></td><td class="code"><div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="nv">$year</span> <span class="o">=</span> <span class="m">2008</span><span class="p">;</span>
<span class="nv">$weekdays</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span> <span class="s2">&quot;S&quot;</span><span class="p">,</span> <span class="s2">&quot;M&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="s2">&quot;W&quot;</span><span class="p">,</span> <span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="s2">&quot;F&quot;</span><span class="p">,</span> <span class="s2">&quot;S&quot;</span> <span class="p">);</span>

<span class="k">for</span> <span class="p">(</span> <span class="nv">$month</span> <span class="o">=</span> <span class="m">1</span><span class="p">;</span> <span class="nv">$month</span> <span class="o">&lt;=</span> <span class="m">12</span><span class="p">;</span> <span class="nv">$month</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
    <span class="nv">$month_ts</span> <span class="o">=</span> <span class="nf">mktime</span><span class="p">(</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="nv">$month</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="nv">$year</span> <span class="p">);</span>
    <span class="nv">$days</span> <span class="o">=</span> <span class="nf">date</span><span class="p">(</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="nv">$month_ts</span> <span class="p">);</span>
    <span class="nv">$weekday</span> <span class="o">=</span> <span class="nf">date</span><span class="p">(</span> <span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="nv">$month_ts</span> <span class="p">);</span>
    <span class="nv">$week</span> <span class="o">=</span> <span class="m">0</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span> <span class="nv">$day</span> <span class="o">=</span> <span class="m">1</span><span class="p">;</span> <span class="nv">$day</span> <span class="o">&lt;=</span> <span class="nv">$days</span><span class="p">;</span> <span class="nv">$day</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span> <span class="nv">$day</span> <span class="o">==</span> <span class="m">1</span> <span class="o">&amp;&amp;</span> <span class="nv">$weekday</span> <span class="o">&gt;</span> <span class="m">0</span> <span class="p">)</span> <span class="p">{</span>
            <span class="k">for</span> <span class="p">(</span> <span class="nv">$i</span> <span class="o">=</span> <span class="m">0</span><span class="p">;</span> <span class="nv">$i</span> <span class="o">&lt;</span> <span class="nv">$weekday</span><span class="p">;</span> <span class="nv">$i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
                <span class="nv">$calendar</span><span class="p">[</span><span class="nv">$month</span><span class="p">][</span><span class="nv">$week</span><span class="p">][</span><span class="nv">$i</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;&amp;nbsp;&quot;</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="nv">$calendar</span><span class="p">[</span><span class="nv">$month</span><span class="p">][</span><span class="nv">$week</span><span class="p">][]</span> <span class="o">=</span> <span class="nv">$day</span><span class="p">;</span>
        <span class="nv">$weekday</span><span class="o">++</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span> <span class="nv">$day</span> <span class="o">==</span> <span class="nv">$days</span> <span class="o">&amp;&amp;</span> <span class="nv">$weekday</span> <span class="o">&lt;</span> <span class="m">7</span> <span class="p">)</span> <span class="p">{</span>
            <span class="k">for</span> <span class="p">(</span> <span class="nv">$j</span> <span class="o">=</span> <span class="nv">$weekday</span><span class="p">;</span> <span class="nv">$j</span> <span class="o">&lt;</span> <span class="m">7</span><span class="p">;</span> <span class="nv">$j</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
                <span class="nv">$calendar</span><span class="p">[</span><span class="nv">$month</span><span class="p">][</span><span class="nv">$week</span><span class="p">][</span><span class="nv">$j</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;&amp;nbsp;&quot;</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span> <span class="nv">$weekday</span> <span class="o">==</span> <span class="m">7</span> <span class="p">)</span> <span class="p">{</span>
            <span class="nv">$week</span><span class="o">++</span><span class="p">;</span>
            <span class="nv">$weekday</span> <span class="o">=</span> <span class="m">0</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01//EN&quot;</span>
<span class="x">       &quot;http://www.w3.org/TR/html4/strict.dtd&quot;&gt;</span>
<span class="x">&lt;html&gt;</span>
<span class="x">&lt;head&gt;</span>
<span class="x">&lt;title&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span><span class="p">(</span><span class="nv">$year</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x"> calendar&lt;/title&gt;</span>
<span class="x">&lt;style type=&quot;text/css&quot;&gt;</span>
<span class="x">* {font-family: monospace;}</span>
<span class="x">td {text-align: right;}</span>
<span class="x">.sunday {color:red;font-weight:bold;}</span>
<span class="x">.saturday {color:blue;font-weight:bold;}</span>
<span class="x">&lt;/style&gt;</span>
<span class="x">&lt;/head&gt;</span>
<span class="x">&lt;body&gt;</span>
<span class="x">&lt;h1&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span><span class="p">(</span><span class="nv">$year</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x"> calendar&lt;/h1&gt;</span>
<span class="x">&lt;dl&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">foreach</span> <span class="p">(</span> <span class="nv">$calendar</span> <span class="k">as</span> <span class="nv">$month</span> <span class="o">=&gt;</span> <span class="nv">$weeks</span> <span class="p">)</span> <span class="p">{</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;dt&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span><span class="p">(</span><span class="nv">$year</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x">/</span><span class="cp">&lt;?php</span> <span class="k">echo</span><span class="p">(</span><span class="nv">$month</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x">&lt;/dt&gt;</span>
<span class="x">&lt;dd&gt;</span>
<span class="x">&lt;table&gt;</span>
<span class="x">&lt;tr&gt;</span>
<span class="cp">&lt;?php</span>
  <span class="k">foreach</span> <span class="p">(</span> <span class="nv">$weekdays</span> <span class="k">as</span> <span class="nv">$key</span> <span class="o">=&gt;</span> <span class="nv">$val</span> <span class="p">)</span> <span class="p">{</span>
    <span class="nv">$class</span> <span class="o">=</span> <span class="s2">&quot;weekday&quot;</span><span class="p">;</span>
    <span class="nv">$class</span> <span class="o">=</span> <span class="p">(</span> <span class="nv">$key</span> <span class="o">===</span> <span class="m">0</span> <span class="p">)</span><span class="o">?</span> <span class="s2">&quot;sunday&quot;</span><span class="o">:</span> <span class="nv">$class</span><span class="p">;</span>
    <span class="nv">$class</span> <span class="o">=</span> <span class="p">(</span> <span class="nv">$key</span> <span class="o">==</span> <span class="m">6</span> <span class="p">)</span><span class="o">?</span> <span class="s2">&quot;saturday&quot;</span><span class="o">:</span> <span class="nv">$class</span><span class="p">;</span>
<span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;th class=&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span><span class="p">(</span><span class="nv">$class</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x">&quot;&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span><span class="p">(</span><span class="nv">$val</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x">&lt;/th&gt;</span>
<span class="cp">&lt;?php</span> <span class="p">}</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;/tr&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">foreach</span> <span class="p">(</span> <span class="nv">$weeks</span> <span class="k">as</span> <span class="nv">$week</span> <span class="p">)</span> <span class="p">{</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;tr&gt;</span>
<span class="cp">&lt;?php</span>
  <span class="k">foreach</span> <span class="p">(</span> <span class="nv">$week</span> <span class="k">as</span> <span class="nv">$weekday</span> <span class="o">=&gt;</span> <span class="nv">$day</span> <span class="p">)</span> <span class="p">{</span>
    <span class="nv">$class</span> <span class="o">=</span> <span class="s2">&quot;weekday&quot;</span><span class="p">;</span>
    <span class="nv">$class</span> <span class="o">=</span> <span class="p">(</span> <span class="nv">$weekday</span> <span class="o">===</span> <span class="m">0</span> <span class="p">)</span><span class="o">?</span> <span class="s2">&quot;sunday&quot;</span><span class="o">:</span> <span class="nv">$class</span><span class="p">;</span>
    <span class="nv">$class</span> <span class="o">=</span> <span class="p">(</span> <span class="nv">$weekday</span> <span class="o">==</span> <span class="m">6</span> <span class="p">)</span><span class="o">?</span> <span class="s2">&quot;saturday&quot;</span><span class="o">:</span> <span class="nv">$class</span><span class="p">;</span>
<span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;td class=&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span><span class="p">(</span><span class="nv">$class</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x">&quot;&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span><span class="p">(</span><span class="nv">$day</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x">&lt;/td&gt;</span>
<span class="cp">&lt;?php</span> <span class="p">}</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;/tr&gt;</span>
<span class="cp">&lt;?php</span> <span class="p">}</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;/table&gt;</span>
<span class="x">&lt;/dd&gt;</span>
<span class="cp">&lt;?php</span> <span class="p">}</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;/dl&gt;</span>
<span class="x">&lt;/body&gt;</span>
<span class="x">&lt;/html&gt;</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5057/addtag/" class="addtag" id="addtag_5057">タグ</a>:
	
    
    <a href="/web/20090903220510/http://ja.doukaku.org/tag/php/">php</a>
    
	&nbsp;

	
      [<a href="/web/20090903220510/http://ja.doukaku.org/lang/php/">
		PHP
      </a>]
	  
      [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5057/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5057/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5057"
  >-</span><span
  class="button yellow"
  id="rating_z_5057"
  >0</span><span 
  class="button green"
  id="rating_p_5057"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090903220510/http://ja.doukaku.org/119/reply_to/5057/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment5058">
  <p class="banner"><a href="/web/20090903220510/http://ja.doukaku.org/user/1/" target="_top">にしお</a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5058/">#5058</a>(<script language="JavaScript">print_time(new Date("2007/12/30 04:30 GMT"));</script><noscript>2007/12/30 04:30 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #cfffcf;">3/3=1.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>参考文献：
<a class="reference" href="/web/20090903220510/http://ja.wikipedia.org/wiki/%E3%83%84%E3%82%A7%E3%83%A9%E3%83%BC%E3%81%AE%E5%85%AC%E5%BC%8F">ツェラーの公式 - Wikipedia</a></p>

	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5058/addtag/" class="addtag" id="addtag_5058">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #cfffcf;"
  >3/3=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5058"
  >-</span><span
  class="button yellow"
  id="rating_z_5058"
  >0</span><span 
  class="button green"
  id="rating_p_5058"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090903220510/http://ja.doukaku.org/119/reply_to/5058/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment5059">
  <p class="banner"><a href="/web/20090903220510/http://ja.doukaku.org/user/177/" target="_top">ocean</a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5059/">#5059</a>(<script language="JavaScript">print_time(new Date("2007/12/30 05:52 GMT"));</script><noscript>2007/12/30 05:52 GMT</noscript>)
	
	
	
	[<a href="/web/20090903220510/http://ja.doukaku.org/lang/java/">
	  Java
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>Java/Swingで組んでみました。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94</pre></td><td class="code"><div class="highlight"><pre><span class="k">import</span> <span class="nn">java.awt.*</span><span class="o">;</span>
<span class="k">import</span> <span class="nn">java.text.*</span><span class="o">;</span>
<span class="k">import</span> <span class="nn">java.util.*</span><span class="o">;</span>
<span class="k">import</span> <span class="nn">javax.swing.*</span><span class="o">;</span>

<span class="k">class</span> <span class="nc">MeApp</span> <span class="o">{</span>
    <span class="k">public</span> <span class="k">static</span> <span class="kt">void</span> <span class="n">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">final</span> <span class="kt">int</span> <span class="n">year</span><span class="o">;</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">args</span><span class="o">.</span><span class="na">length</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">year</span> <span class="o">=</span> <span class="n">Calendar</span><span class="o">.</span><span class="na">getInstance</span><span class="o">().</span><span class="na">get</span><span class="o">(</span><span class="n">Calendar</span><span class="o">.</span><span class="na">YEAR</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="n">year</span> <span class="o">=</span> <span class="n">Integer</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">args</span><span class="o">[</span><span class="mi">0</span><span class="o">]);</span>
        <span class="o">}</span>
        <span class="n">SwingUtilities</span><span class="o">.</span><span class="na">invokeLater</span><span class="o">(</span><span class="k">new</span> <span class="n">Runnable</span><span class="o">(){</span>
            <span class="k">public</span> <span class="kt">void</span> <span class="n">run</span><span class="o">()</span> <span class="o">{</span>
                <span class="k">final</span> <span class="n">MeFrame</span> <span class="n">frame</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MeFrame</span><span class="o">(</span><span class="n">year</span><span class="o">);</span>
                <span class="n">frame</span><span class="o">.</span><span class="na">setDefaultCloseOperation</span><span class="o">(</span><span class="n">MeFrame</span><span class="o">.</span><span class="na">EXIT_ON_CLOSE</span><span class="o">);</span>
                <span class="n">frame</span><span class="o">.</span><span class="na">pack</span><span class="o">();</span>
                <span class="n">frame</span><span class="o">.</span><span class="na">setVisible</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="k">class</span> <span class="nc">MeFrame</span> <span class="k">extends</span> <span class="n">JFrame</span> <span class="o">{</span>
    <span class="k">public</span> <span class="n">MeFrame</span><span class="o">(</span><span class="kt">int</span> <span class="n">year</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">super</span><span class="o">(</span><span class="n">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;%d年 年間カレンダー&quot;</span><span class="o">,</span> <span class="n">year</span><span class="o">));</span>
        <span class="n">getContentPane</span><span class="o">().</span><span class="na">setLayout</span><span class="o">(</span><span class="k">new</span> <span class="n">GridLayout</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="mi">4</span><span class="o">,</span> <span class="mi">5</span><span class="o">,</span> <span class="mi">5</span><span class="o">));</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">12</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">getContentPane</span><span class="o">().</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="n">MeMonthPanel</span><span class="o">(</span><span class="n">year</span><span class="o">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="o">));</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="k">class</span> <span class="nc">MeMonthPanel</span> <span class="k">extends</span> <span class="n">JPanel</span> <span class="o">{</span>
    <span class="k">public</span> <span class="n">MeMonthPanel</span><span class="o">(</span><span class="kt">int</span> <span class="n">year</span><span class="o">,</span> <span class="kt">int</span> <span class="n">month</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">setLayout</span><span class="o">(</span><span class="k">new</span> <span class="n">BorderLayout</span><span class="o">());</span>
        <span class="n">add</span><span class="o">(</span><span class="k">new</span> <span class="n">JLabel</span><span class="o">(</span><span class="n">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;%d月&quot;</span><span class="o">,</span> <span class="n">month</span><span class="o">),</span> <span class="n">JLabel</span><span class="o">.</span><span class="na">CENTER</span><span class="o">),</span> <span class="n">BorderLayout</span><span class="o">.</span><span class="na">NORTH</span><span class="o">);</span>
        <span class="n">add</span><span class="o">(</span><span class="k">new</span> <span class="n">MeMonthCanvas</span><span class="o">(</span><span class="n">year</span><span class="o">,</span> <span class="n">month</span><span class="o">),</span> <span class="n">BorderLayout</span><span class="o">.</span><span class="na">CENTER</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="k">class</span> <span class="nc">MeMonthCanvas</span> <span class="k">extends</span> <span class="n">JComponent</span> <span class="o">{</span>
    <span class="k">private</span> <span class="k">final</span> <span class="n">String</span><span class="o">[][]</span> <span class="n">_cells</span> <span class="o">=</span> <span class="k">new</span> <span class="n">String</span><span class="o">[</span><span class="mi">7</span><span class="o">][</span><span class="mi">7</span><span class="o">];</span>
    <span class="k">private</span> <span class="k">final</span> <span class="n">Color</span><span class="o">[][]</span> <span class="n">_colors</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Color</span><span class="o">[</span><span class="mi">7</span><span class="o">][</span><span class="mi">7</span><span class="o">];</span>
    <span class="k">public</span> <span class="n">MeMonthCanvas</span><span class="o">(</span><span class="kt">int</span> <span class="n">year</span><span class="o">,</span> <span class="kt">int</span> <span class="n">month</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">final</span> <span class="n">String</span><span class="o">[]</span> <span class="n">weekdays</span> <span class="o">=</span> <span class="k">new</span> <span class="n">DateFormatSymbols</span><span class="o">().</span><span class="na">getShortWeekdays</span><span class="o">();</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">col</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">col</span> <span class="o">&lt;</span> <span class="mi">7</span><span class="o">;</span> <span class="o">++</span><span class="n">col</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">_cells</span><span class="o">[</span><span class="mi">0</span><span class="o">][</span><span class="n">col</span><span class="o">]</span> <span class="o">=</span> <span class="n">weekdays</span><span class="o">[</span><span class="n">col</span> <span class="o">+</span> <span class="mi">1</span><span class="o">];</span>
            <span class="n">_colors</span><span class="o">[</span><span class="mi">0</span><span class="o">][</span><span class="n">col</span><span class="o">]</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Color</span><span class="o">(</span><span class="mi">231</span><span class="o">,</span> <span class="mi">255</span><span class="o">,</span> <span class="mi">231</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="n">_colors</span><span class="o">[</span><span class="mi">0</span><span class="o">][</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Color</span><span class="o">(</span><span class="mi">247</span><span class="o">,</span> <span class="mi">202</span><span class="o">,</span> <span class="mi">202</span><span class="o">);</span> <span class="c">// Sunday</span>
        <span class="n">_colors</span><span class="o">[</span><span class="mi">0</span><span class="o">][</span><span class="mi">6</span><span class="o">]</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Color</span><span class="o">(</span><span class="mi">206</span><span class="o">,</span> <span class="mi">255</span><span class="o">,</span> <span class="mi">255</span><span class="o">);</span> <span class="c">// Saturday</span>

        <span class="k">final</span> <span class="n">Calendar</span> <span class="n">cal</span> <span class="o">=</span> <span class="n">Calendar</span><span class="o">.</span><span class="na">getInstance</span><span class="o">();</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">row</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">row</span> <span class="o">&lt;</span> <span class="mi">7</span><span class="o">;</span> <span class="o">++</span><span class="n">row</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">col</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">col</span> <span class="o">&lt;</span> <span class="mi">7</span><span class="o">;</span> <span class="o">++</span><span class="n">col</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">cal</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">Calendar</span><span class="o">.</span><span class="na">YEAR</span><span class="o">,</span> <span class="n">year</span><span class="o">);</span>
                <span class="n">cal</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">Calendar</span><span class="o">.</span><span class="na">MONTH</span><span class="o">,</span> <span class="n">month</span> <span class="o">-</span> <span class="mi">1</span><span class="o">);</span>     <span class="c">// starts from 0</span>
                <span class="n">cal</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">Calendar</span><span class="o">.</span><span class="na">DAY_OF_WEEK</span><span class="o">,</span> <span class="n">col</span> <span class="o">+</span> <span class="mi">1</span><span class="o">);</span> <span class="c">// starts from 1</span>
                <span class="n">cal</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">Calendar</span><span class="o">.</span><span class="na">WEEK_OF_MONTH</span><span class="o">,</span> <span class="n">row</span><span class="o">);</span>   <span class="c">// starts from 1</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">cal</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">Calendar</span><span class="o">.</span><span class="na">DAY_OF_WEEK</span><span class="o">)</span> <span class="o">==</span> <span class="n">col</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">cal</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">Calendar</span><span class="o">.</span><span class="na">WEEK_OF_MONTH</span><span class="o">)</span> <span class="o">==</span> <span class="n">row</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">_cells</span><span class="o">[</span><span class="n">row</span><span class="o">][</span><span class="n">col</span><span class="o">]</span> <span class="o">=</span> <span class="n">String</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">cal</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">Calendar</span><span class="o">.</span><span class="na">DATE</span><span class="o">));</span>
                <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                    <span class="n">_cells</span><span class="o">[</span><span class="n">row</span><span class="o">][</span><span class="n">col</span><span class="o">]</span> <span class="o">=</span> <span class="s">&quot;&quot;</span><span class="o">;</span>
                <span class="o">}</span>
                <span class="n">_colors</span><span class="o">[</span><span class="n">row</span><span class="o">][</span><span class="n">col</span><span class="o">]</span> <span class="o">=</span> <span class="n">Color</span><span class="o">.</span><span class="na">WHITE</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>
    <span class="k">public</span> <span class="n">Dimension</span> <span class="n">getPreferredSize</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="n">Dimension</span><span class="o">(</span><span class="mi">25</span> <span class="o">*</span> <span class="mi">7</span><span class="o">,</span> <span class="mi">25</span> <span class="o">*</span> <span class="mi">7</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="k">public</span> <span class="kt">void</span> <span class="n">paintComponent</span><span class="o">(</span><span class="n">Graphics</span> <span class="n">g</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">super</span><span class="o">.</span><span class="na">paintComponent</span><span class="o">(</span><span class="n">g</span><span class="o">);</span>
        <span class="k">final</span> <span class="n">FontMetrics</span> <span class="n">fm</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="na">getFontMetrics</span><span class="o">();</span>
        <span class="k">final</span> <span class="kt">int</span> <span class="n">w</span> <span class="o">=</span> <span class="n">getWidth</span><span class="o">()</span> <span class="o">/</span> <span class="mi">7</span><span class="o">;</span>
        <span class="k">final</span> <span class="kt">int</span> <span class="n">h</span> <span class="o">=</span> <span class="n">getHeight</span><span class="o">()</span> <span class="o">/</span> <span class="mi">7</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">row</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">row</span> <span class="o">&lt;</span> <span class="mi">7</span><span class="o">;</span> <span class="o">++</span><span class="n">row</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">col</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">col</span> <span class="o">&lt;</span> <span class="mi">7</span><span class="o">;</span> <span class="o">++</span><span class="n">col</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">g</span><span class="o">.</span><span class="na">setColor</span><span class="o">(</span><span class="n">_colors</span><span class="o">[</span><span class="n">row</span><span class="o">][</span><span class="n">col</span><span class="o">]);</span>
                <span class="n">g</span><span class="o">.</span><span class="na">fill3DRect</span><span class="o">(</span><span class="n">w</span> <span class="o">*</span> <span class="n">col</span><span class="o">,</span> <span class="n">h</span> <span class="o">*</span> <span class="n">row</span><span class="o">,</span> <span class="n">w</span><span class="o">,</span> <span class="n">h</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                <span class="k">final</span> <span class="n">String</span> <span class="n">s</span> <span class="o">=</span> <span class="n">_cells</span><span class="o">[</span><span class="n">row</span><span class="o">][</span><span class="n">col</span><span class="o">];</span>
                <span class="n">g</span><span class="o">.</span><span class="na">setColor</span><span class="o">(</span><span class="n">Color</span><span class="o">.</span><span class="na">BLACK</span><span class="o">);</span>
                <span class="n">g</span><span class="o">.</span><span class="na">drawString</span><span class="o">(</span>
                    <span class="n">s</span><span class="o">,</span>
                    <span class="n">w</span> <span class="o">*</span> <span class="n">col</span> <span class="o">+</span> <span class="o">(</span><span class="n">w</span> <span class="o">-</span> <span class="n">fm</span><span class="o">.</span><span class="na">stringWidth</span><span class="o">(</span><span class="n">s</span><span class="o">))</span> <span class="o">/</span> <span class="mi">2</span><span class="o">,</span>
                    <span class="n">h</span> <span class="o">*</span> <span class="n">row</span> <span class="o">+</span> <span class="o">(</span><span class="n">h</span> <span class="o">-</span> <span class="n">fm</span><span class="o">.</span><span class="na">getHeight</span><span class="o">())</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">fm</span><span class="o">.</span><span class="na">getAscent</span><span class="o">()</span>
                <span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5059/addtag/" class="addtag" id="addtag_5059">タグ</a>:
	
    
    <a href="/web/20090903220510/http://ja.doukaku.org/tag/Swing/">Swing</a>
    
	&nbsp;

	
      [<a href="/web/20090903220510/http://ja.doukaku.org/lang/java/">
		Java
      </a>]
	  
      [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5059/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5059/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5059"
  >-</span><span
  class="button yellow"
  id="rating_z_5059"
  >0</span><span 
  class="button green"
  id="rating_p_5059"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20090903220510/http://ja.doukaku.org/comment/5059/">
    2
    replies
  </a>

  [<a href="/web/20090903220510/http://ja.doukaku.org/119/reply_to/5059/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment5060">
  <p class="banner"><a href="/web/20090903220510/http://ja.doukaku.org/user/82/" target="_top">yuin</a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/star_bronze.png" border=0/></a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5060/">#5060</a>(<script language="JavaScript">print_time(new Date("2007/12/30 06:48 GMT"));</script><noscript>2007/12/30 06:48 GMT</noscript>)
	
	
	
	[<a href="/web/20090903220510/http://ja.doukaku.org/lang/scala/">
	  Scala
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #bfffbf;">4/4=1.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>せっかくJAVAのクラスを使っているので多言語対応で。

JAPAN
=================================
2007/1
  日  月  火  水  木  金  土
       1   2   3   4   5   6
   7   8   9  10  11  12  13
  14  15  16  17  18  19  20
  21  22  23  24  25  26  27
  28  29  30  31

US
=================================
2007/1
  Sun  Mon  Tue  Wed  Thu  Fri  Sat
         1    2    3    4    5    6
    7    8    9   10   11   12   13
   14   15   16   17   18   19   20
   21   22   23   24   25   26   27
   28   29   30   31

CHINA
=================================
2007/1
  星期日  星期一  星期二  星期三  星期四  星期五  星期六
               1       2       3       4       5       6
       7       8       9      10      11      12      13
      14      15      16      17      18      19      20
      21      22      23      24      25      26      27
      28      29      30      31


</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30</pre></td><td class="code"><div class="highlight"><pre>import java.text.{DateFormatSymbols, SimpleDateFormat}
import java.util.{Date, Locale}

object YearCalendar {
  import java.util.Calendar._
  def mkString(n:int, s:String) = List.make(n, s).mkString
  def print(year:int):unit = print(year, Locale.getDefault)
  def print(year:int, locale:Locale):unit = {
    val ws   = (new DateFormatSymbols(locale)).getShortWeekdays mkString &quot;  &quot;
    val format = (new SimpleDateFormat(&quot;dd&quot;, locale)).format _:Date =&gt; String
    val wwidth = ws.split(&quot;  &quot;)(1).getBytes.size
    val cal = getInstance(locale)

    (0 to 11).foreach { month =&gt; 
      println(year+&quot;/&quot;+(month+1)+&quot;\n&quot;+ws)
      var n = {cal.set(year,month,1); cal}.get(DAY_OF_WEEK)
      Console.print(mkString((n-1)*(wwidth+2), &quot; &quot;))
      do {
        Console.print(mkString(wwidth, &quot; &quot;)+format(cal.getTime).replaceFirst(&quot;^0&quot;, &quot; &quot;))
        if(n == 7){ println(&quot;&quot;); n = 0 }
      }while({n = n +1;cal.add(DATE, 1);cal.get(MONTH) == month})
      
      println(&quot;\n&quot;)
    }
  }
}

YearCalendar print 2007
YearCalendar.print(2007, Locale.US)
YearCalendar.print(2007, Locale.CHINA)
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5060/addtag/" class="addtag" id="addtag_5060">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090903220510/http://ja.doukaku.org/lang/scala/">
		Scala
      </a>]
	  
      [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5060/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5060/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #bfffbf;"
  >4/4=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5060"
  >-</span><span
  class="button yellow"
  id="rating_z_5060"
  >0</span><span 
  class="button green"
  id="rating_p_5060"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090903220510/http://ja.doukaku.org/119/reply_to/5060/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment5061">
  <p class="banner"><a href="/web/20090903220510/http://ja.doukaku.org/user/177/" target="_top">ocean</a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5061/">#5061</a>(<script language="JavaScript">print_time(new Date("2007/12/30 08:18 GMT"));</script><noscript>2007/12/30 08:18 GMT</noscript>)
	
	
	
	[<a href="/web/20090903220510/http://ja.doukaku.org/lang/java/">
	  Java
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>ついでにJTable版。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75</pre></td><td class="code"><div class="highlight"><pre><span class="k">import</span> <span class="nn">java.awt.*</span><span class="o">;</span>
<span class="k">import</span> <span class="nn">java.text.*</span><span class="o">;</span>
<span class="k">import</span> <span class="nn">java.util.*</span><span class="o">;</span>
<span class="k">import</span> <span class="nn">javax.swing.*</span><span class="o">;</span>
<span class="k">import</span> <span class="nn">javax.swing.table.*</span><span class="o">;</span>

<span class="k">class</span> <span class="nc">MeApp</span> <span class="o">{</span>
    <span class="k">public</span> <span class="k">static</span> <span class="kt">void</span> <span class="n">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">final</span> <span class="kt">int</span> <span class="n">year</span><span class="o">;</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">args</span><span class="o">.</span><span class="na">length</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">year</span> <span class="o">=</span> <span class="n">Calendar</span><span class="o">.</span><span class="na">getInstance</span><span class="o">().</span><span class="na">get</span><span class="o">(</span><span class="n">Calendar</span><span class="o">.</span><span class="na">YEAR</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="n">year</span> <span class="o">=</span> <span class="n">Integer</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">args</span><span class="o">[</span><span class="mi">0</span><span class="o">]);</span>
        <span class="o">}</span>
        <span class="n">SwingUtilities</span><span class="o">.</span><span class="na">invokeLater</span><span class="o">(</span><span class="k">new</span> <span class="n">Runnable</span><span class="o">(){</span>
            <span class="k">public</span> <span class="kt">void</span> <span class="n">run</span><span class="o">()</span> <span class="o">{</span>
                <span class="k">final</span> <span class="n">MeFrame</span> <span class="n">frame</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MeFrame</span><span class="o">(</span><span class="n">year</span><span class="o">);</span>
                <span class="n">frame</span><span class="o">.</span><span class="na">setDefaultCloseOperation</span><span class="o">(</span><span class="n">MeFrame</span><span class="o">.</span><span class="na">EXIT_ON_CLOSE</span><span class="o">);</span>
                <span class="n">frame</span><span class="o">.</span><span class="na">pack</span><span class="o">();</span>
                <span class="n">frame</span><span class="o">.</span><span class="na">setVisible</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="k">class</span> <span class="nc">MeFrame</span> <span class="k">extends</span> <span class="n">JFrame</span> <span class="o">{</span>
    <span class="k">public</span> <span class="n">MeFrame</span><span class="o">(</span><span class="kt">int</span> <span class="n">year</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">super</span><span class="o">(</span><span class="n">String</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">year</span><span class="o">));</span>
        <span class="n">getContentPane</span><span class="o">().</span><span class="na">setLayout</span><span class="o">(</span><span class="k">new</span> <span class="n">GridLayout</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="mi">4</span><span class="o">,</span> <span class="mi">5</span><span class="o">,</span> <span class="mi">5</span><span class="o">));</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">12</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">getContentPane</span><span class="o">().</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="n">MeMonthPanel</span><span class="o">(</span><span class="n">year</span><span class="o">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="o">));</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="k">class</span> <span class="nc">MeMonthPanel</span> <span class="k">extends</span> <span class="n">JPanel</span> <span class="o">{</span>
    <span class="k">public</span> <span class="n">MeMonthPanel</span><span class="o">(</span><span class="kt">int</span> <span class="n">year</span><span class="o">,</span> <span class="kt">int</span> <span class="n">month</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">setLayout</span><span class="o">(</span><span class="k">new</span> <span class="n">BorderLayout</span><span class="o">());</span>
        <span class="n">add</span><span class="o">(</span><span class="k">new</span> <span class="n">JLabel</span><span class="o">(</span><span class="k">new</span> <span class="n">DateFormatSymbols</span><span class="o">().</span><span class="na">getMonths</span><span class="o">()[</span><span class="n">month</span> <span class="o">-</span> <span class="mi">1</span><span class="o">],</span> <span class="n">JLabel</span><span class="o">.</span><span class="na">CENTER</span><span class="o">),</span> <span class="n">BorderLayout</span><span class="o">.</span><span class="na">NORTH</span><span class="o">);</span>
        <span class="n">add</span><span class="o">(</span><span class="k">new</span> <span class="n">JScrollPane</span><span class="o">(</span><span class="k">new</span> <span class="n">JTable</span><span class="o">(</span><span class="k">new</span> <span class="n">MeMonthTableModel</span><span class="o">(</span><span class="n">year</span><span class="o">,</span> <span class="n">month</span><span class="o">))),</span> <span class="n">BorderLayout</span><span class="o">.</span><span class="na">CENTER</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="k">public</span> <span class="n">Dimension</span> <span class="n">getPreferredSize</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="n">Dimension</span><span class="o">(</span><span class="mi">220</span><span class="o">,</span> <span class="mi">180</span><span class="o">);</span> <span class="c">// ???</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="k">class</span> <span class="nc">MeMonthTableModel</span> <span class="k">extends</span> <span class="n">AbstractTableModel</span> <span class="o">{</span>
    <span class="k">private</span> <span class="k">final</span> <span class="kt">int</span> <span class="n">_year</span><span class="o">,</span> <span class="n">_month</span><span class="o">;</span>
    <span class="k">private</span> <span class="k">final</span> <span class="n">String</span><span class="o">[]</span> <span class="n">_weekdays</span> <span class="o">=</span> <span class="k">new</span> <span class="n">DateFormatSymbols</span><span class="o">().</span><span class="na">getShortWeekdays</span><span class="o">();</span>
    <span class="k">private</span> <span class="k">final</span> <span class="n">Calendar</span> <span class="n">_cal</span> <span class="o">=</span> <span class="n">Calendar</span><span class="o">.</span><span class="na">getInstance</span><span class="o">();</span>

    <span class="k">public</span> <span class="n">MeMonthTableModel</span><span class="o">(</span><span class="kt">int</span> <span class="n">year</span><span class="o">,</span> <span class="kt">int</span> <span class="n">month</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">_year</span> <span class="o">=</span> <span class="n">year</span><span class="o">;</span> <span class="n">_month</span> <span class="o">=</span> <span class="n">month</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="k">public</span> <span class="kt">int</span> <span class="n">getColumnCount</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="mi">7</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="k">public</span> <span class="n">String</span> <span class="n">getColumnName</span><span class="o">(</span><span class="kt">int</span> <span class="n">col</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">_weekdays</span><span class="o">[</span><span class="n">col</span> <span class="o">+</span> <span class="mi">1</span><span class="o">];</span>
    <span class="o">}</span>
    <span class="k">public</span> <span class="kt">int</span> <span class="n">getRowCount</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="mi">6</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="k">public</span> <span class="n">Object</span> <span class="n">getValueAt</span><span class="o">(</span><span class="kt">int</span> <span class="n">row</span><span class="o">,</span> <span class="kt">int</span> <span class="n">col</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">_cal</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">Calendar</span><span class="o">.</span><span class="na">YEAR</span><span class="o">,</span> <span class="n">_year</span><span class="o">);</span>
        <span class="n">_cal</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">Calendar</span><span class="o">.</span><span class="na">MONTH</span><span class="o">,</span> <span class="n">_month</span> <span class="o">-</span> <span class="mi">1</span><span class="o">);</span>      <span class="c">// starts from 0</span>
        <span class="n">_cal</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">Calendar</span><span class="o">.</span><span class="na">DAY_OF_WEEK</span><span class="o">,</span> <span class="n">col</span> <span class="o">+</span> <span class="mi">1</span><span class="o">);</span>   <span class="c">// starts from 1</span>
        <span class="n">_cal</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">Calendar</span><span class="o">.</span><span class="na">WEEK_OF_MONTH</span><span class="o">,</span> <span class="n">row</span> <span class="o">+</span> <span class="mi">1</span><span class="o">);</span> <span class="c">// starts from 1</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">_cal</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">Calendar</span><span class="o">.</span><span class="na">DAY_OF_WEEK</span><span class="o">)</span> <span class="o">==</span> <span class="n">col</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">_cal</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">Calendar</span><span class="o">.</span><span class="na">WEEK_OF_MONTH</span><span class="o">)</span> <span class="o">==</span> <span class="n">row</span> <span class="o">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">String</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">_cal</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">Calendar</span><span class="o">.</span><span class="na">DATE</span><span class="o">));</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="k">return</span> <span class="s">&quot;&quot;</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5061/addtag/" class="addtag" id="addtag_5061">タグ</a>:
	
    
    <a href="/web/20090903220510/http://ja.doukaku.org/tag/Swing/">Swing</a>
    
	&nbsp;

	
      [<a href="/web/20090903220510/http://ja.doukaku.org/lang/java/">
		Java
      </a>]
	  
      [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5061/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5061/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5061"
  >-</span><span
  class="button yellow"
  id="rating_z_5061"
  >0</span><span 
  class="button green"
  id="rating_p_5061"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20090903220510/http://ja.doukaku.org/comment/5059/"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20090903220510/http://ja.doukaku.org/comment/5061/root/"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20090903220510/http://ja.doukaku.org/119/reply_to/5061/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment5062">
  <p class="banner"><a href="/web/20090903220510/http://ja.doukaku.org/user/540/" target="_top">SiroKuro</a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5062/">#5062</a>(<script language="JavaScript">print_time(new Date("2007/12/30 09:24 GMT"));</script><noscript>2007/12/30 09:24 GMT</noscript>)
	
	
	
	[<a href="/web/20090903220510/http://ja.doukaku.org/lang/diff/">
	  diff
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  何となく修正
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5
6
7
8
9</pre></td><td class="code"><div class="highlight"><pre><span class="gd">--- calendar.cs.old     Sun Dec 30 10:22:50 2007</span>
<span class="gi">+++ calendar.cs Sun Dec 30 18:23:04 2007</span>
<span class="gu">@@ -6,10 +6,8 @@</span>
<span class="gd">-            Console.WriteLine(&quot;SUN MON TUE WED THR FRI SAT&quot;);</span>
<span class="gd">-            for(int i = 0; i &lt; week; i++) {</span>
<span class="gd">-                Console.Write(&quot;    &quot;);</span>
<span class="gd">-            }</span>
<span class="gi">+            Console.WriteLine(&quot;SUN MON TUE WED THU FRI SAT&quot;);</span>
<span class="gi">+            Console.Write    (&quot;                           &quot;.Substring(0, week * 4));</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5062/addtag/" class="addtag" id="addtag_5062">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090903220510/http://ja.doukaku.org/lang/diff/">
		diff
      </a>]
	  
      [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5062/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5062/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5062"
  >-</span><span
  class="button yellow"
  id="rating_z_5062"
  >0</span><span 
  class="button green"
  id="rating_p_5062"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20090903220510/http://ja.doukaku.org/comment/5051/"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20090903220510/http://ja.doukaku.org/comment/5062/root/"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20090903220510/http://ja.doukaku.org/119/reply_to/5062/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment5063">
  <p class="banner"><a href="/web/20090903220510/http://ja.doukaku.org/user/570/" target="_top">horiuchi</a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5063/">#5063</a>(<script language="JavaScript">print_time(new Date("2007/12/30 10:30 GMT"));</script><noscript>2007/12/30 10:30 GMT</noscript>)
	
	
	
	[<a href="/web/20090903220510/http://ja.doukaku.org/lang/java/">
	  Java
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>#5080を参考に、Javaの標準出力版を書いてみました。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51</pre></td><td class="code"><div class="highlight"><pre><span class="k">import</span> <span class="nn">java.text.DateFormatSymbols</span><span class="o">;</span>
<span class="k">import</span> <span class="nn">java.util.Calendar</span><span class="o">;</span>
<span class="k">import</span> <span class="nn">java.util.Locale</span><span class="o">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">Sample119</span> <span class="o">{</span>
    <span class="k">private</span> <span class="k">final</span> <span class="kt">int</span> <span class="n">year_</span><span class="o">;</span>
    <span class="k">private</span> <span class="k">final</span> <span class="n">Locale</span> <span class="n">locale_</span><span class="o">;</span>
    <span class="k">private</span> <span class="n">DateFormatSymbols</span> <span class="n">formatSymbols_</span><span class="o">;</span>

    <span class="k">public</span> <span class="n">Sample119</span><span class="o">(</span><span class="kt">int</span> <span class="n">year</span><span class="o">,</span> <span class="n">Locale</span> <span class="n">locale</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">year_</span> <span class="o">=</span> <span class="n">year</span><span class="o">;</span>
        <span class="n">locale_</span> <span class="o">=</span> <span class="n">locale</span><span class="o">;</span>
        <span class="n">formatSymbols_</span> <span class="o">=</span> <span class="k">new</span> <span class="n">DateFormatSymbols</span><span class="o">(</span><span class="n">locale_</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="k">public</span> <span class="kt">void</span> <span class="n">printCalendar</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">locale_</span><span class="o">.</span><span class="na">getDisplayCountry</span><span class="o">());</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">month</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">month</span> <span class="o">&lt;</span> <span class="mi">12</span><span class="o">;</span> <span class="n">month</span><span class="o">++)</span> <span class="o">{</span>
            <span class="n">printCalendar</span><span class="o">(</span><span class="n">month</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">();</span>
    <span class="o">}</span>
    <span class="k">private</span> <span class="kt">void</span> <span class="n">printCalendar</span><span class="o">(</span><span class="kt">int</span> <span class="n">month</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;&lt; %s/%d &gt;%n&quot;</span><span class="o">,</span> <span class="n">formatSymbols_</span><span class="o">.</span><span class="na">getShortMonths</span><span class="o">()[</span><span class="n">month</span><span class="o">],</span> <span class="n">year_</span><span class="o">);</span>
        <span class="n">String</span><span class="o">[]</span> <span class="n">weekdays</span> <span class="o">=</span> <span class="n">formatSymbols_</span><span class="o">.</span><span class="na">getShortWeekdays</span><span class="o">();</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">index</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">index</span> <span class="o">&lt;</span> <span class="n">weekdays</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">index</span><span class="o">++)</span> <span class="o">{</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;%s &quot;</span><span class="o">,</span> <span class="n">weekdays</span><span class="o">[</span><span class="n">index</span><span class="o">]);</span>
        <span class="o">}</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">();</span>

        <span class="n">Calendar</span> <span class="n">cal</span> <span class="o">=</span> <span class="n">Calendar</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">locale_</span><span class="o">);</span>
        <span class="n">cal</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">year_</span><span class="o">,</span> <span class="n">month</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span>
        <span class="kt">int</span> <span class="n">dayLen</span> <span class="o">=</span> <span class="n">weekdays</span><span class="o">[</span><span class="mi">1</span><span class="o">].</span><span class="na">getBytes</span><span class="o">().</span><span class="na">length</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">index</span> <span class="o">=</span> <span class="mi">0</span><span class="o">,</span> <span class="n">length</span> <span class="o">=</span> <span class="o">(</span><span class="n">cal</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">Calendar</span><span class="o">.</span><span class="na">DAY_OF_WEEK</span><span class="o">)</span> <span class="o">-</span> <span class="mi">1</span><span class="o">)</span> <span class="o">*</span> <span class="o">(</span><span class="n">dayLen</span> <span class="o">+</span> <span class="mi">1</span><span class="o">);</span> <span class="n">index</span> <span class="o">&lt;</span> <span class="n">length</span><span class="o">;</span> <span class="n">index</span><span class="o">++)</span> <span class="o">{</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">&quot; &quot;</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="n">String</span> <span class="n">format</span> <span class="o">=</span> <span class="n">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;%%%dd &quot;</span><span class="o">,</span> <span class="n">dayLen</span><span class="o">);</span>
        <span class="k">for</span> <span class="o">(;</span> <span class="n">cal</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">Calendar</span><span class="o">.</span><span class="na">MONTH</span><span class="o">)</span> <span class="o">==</span> <span class="n">month</span><span class="o">;</span> <span class="n">cal</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">Calendar</span><span class="o">.</span><span class="na">DATE</span><span class="o">,</span> <span class="mi">1</span><span class="o">))</span> <span class="o">{</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="n">format</span><span class="o">,</span> <span class="n">cal</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">Calendar</span><span class="o">.</span><span class="na">DATE</span><span class="o">));</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">Calendar</span><span class="o">.</span><span class="na">SATURDAY</span> <span class="o">==</span> <span class="n">cal</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">Calendar</span><span class="o">.</span><span class="na">DAY_OF_WEEK</span><span class="o">))</span> <span class="o">{</span>
                <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="k">public</span> <span class="k">static</span> <span class="kt">void</span> <span class="n">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">new</span> <span class="n">Sample119</span><span class="o">(</span><span class="mi">2008</span><span class="o">,</span> <span class="n">Locale</span><span class="o">.</span><span class="na">JAPAN</span><span class="o">).</span><span class="na">printCalendar</span><span class="o">();</span>
        <span class="k">new</span> <span class="n">Sample119</span><span class="o">(</span><span class="mi">2008</span><span class="o">,</span> <span class="n">Locale</span><span class="o">.</span><span class="na">US</span><span class="o">).</span><span class="na">printCalendar</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5063/addtag/" class="addtag" id="addtag_5063">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090903220510/http://ja.doukaku.org/lang/java/">
		Java
      </a>]
	  
      [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5063/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5063/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5063"
  >-</span><span
  class="button yellow"
  id="rating_z_5063"
  >0</span><span 
  class="button green"
  id="rating_p_5063"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20090903220510/http://ja.doukaku.org/comment/5063/">
    1
    reply
  </a>

  [<a href="/web/20090903220510/http://ja.doukaku.org/119/reply_to/5063/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment5064">
  <p class="banner"><a href="/web/20090903220510/http://ja.doukaku.org/user/570/" target="_top">horiuchi</a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5064/">#5064</a>(<script language="JavaScript">print_time(new Date("2007/12/30 10:34 GMT"));</script><noscript>2007/12/30 10:34 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  #5080ではなくて、#5060でした。
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5064/addtag/" class="addtag" id="addtag_5064">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5064"
  >-</span><span
  class="button yellow"
  id="rating_z_5064"
  >0</span><span 
  class="button green"
  id="rating_p_5064"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20090903220510/http://ja.doukaku.org/comment/5063/"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20090903220510/http://ja.doukaku.org/comment/5064/root/"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20090903220510/http://ja.doukaku.org/119/reply_to/5064/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment5065">
  <p class="banner"><a href="/web/20090903220510/http://ja.doukaku.org/user/405/" target="_top">g000001</a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5065/">#5065</a>(<script language="JavaScript">print_time(new Date("2007/12/31 00:19 GMT"));</script><noscript>2007/12/31 00:19 GMT</noscript>)
	
	
	
	[<a href="/web/20090903220510/http://ja.doukaku.org/lang/commonlisp/">
	  Common Lisp
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>Date-Calcという同名のPerlのライブラリをCommon Lispで再現したものを
使用してみました。
ライブラリ機能のおまけで英仏独等々に対応させてみましたが、
日本語は対応していないという…。
(y-calendar 2008 7)  ;7はイタリア(数字で指定だと色んな意味で紛らわしいかも)
;==&gt;
;       Gennaio 2008        
;Lun Mar Mer Gio Ven Sab Dom
;      1   2   3   4   5   6
;  7   8   9  10  11  12  13
; 14  15  16  17  18  19  20
; 21  22  23  24  25  26  27
; 28  29  30  31 
; ~~~</pre>
	</div>
	
	<p class="link">
	  参考: <a href="/web/20090903220510/http://www.cliki.net/Date-Calc">Date-Calc</a>
	</p>  
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></td><td class="code"><div class="highlight"><pre>(defpackage :doukaku-119 (:use :cl :date-calc))
(in-package :doukaku-119)

(defun y-calendar (y &amp;optional (lang 1))
  (do ((m 1 (1+ m)) (col 4))
      ((&gt; m 12))
    (format t &quot;~&amp;~%~V:@&lt;~A ~D~&gt;~%~{~A~^ ~}~%&quot;
            (* col 7) (get-month-name m lang) y
            (get-week-day-name-list lang (1- col)))
    (do ((d 1 (1+ d))) (nil)
      (let ((dow (day-of-week y m d))
            (day (day-of-year y m d)))
        (when (= 1 d)
          (format t &quot;~V,0T&quot; (* col (1- dow))))
        (if (zerop day)
            (return)
            (format t &quot;~VD~:[ ~;~%~]&quot; (1- col) d (= 7 dow)))))))

(defun get-month-name (m &amp;optional (lang 1))
  (aref (gethash lang date-calc::month-to-text) m))

(defun get-week-day-name-list (&amp;optional (lang 1) (shoten 3))
  (map &#39;list (if shoten (lambda (name) (subseq name 0 shoten)) #&#39;identity)
       (subseq (gethash lang date-calc::day-of-week-to-text) 1)))
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5065/addtag/" class="addtag" id="addtag_5065">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090903220510/http://ja.doukaku.org/lang/commonlisp/">
		Common Lisp
      </a>]
	  
      [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5065/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5065/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5065"
  >-</span><span
  class="button yellow"
  id="rating_z_5065"
  >0</span><span 
  class="button green"
  id="rating_p_5065"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090903220510/http://ja.doukaku.org/119/reply_to/5065/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment5066">
  <p class="banner"><a href="/web/20090903220510/http://ja.doukaku.org/user/88/" target="_top">sumim</a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5066/">#5066</a>(<script language="JavaScript">print_time(new Date("2007/12/31 00:28 GMT"));</script><noscript>2007/12/31 00:28 GMT</noscript>)
	
	
	
	[<a href="/web/20090903220510/http://ja.doukaku.org/lang/smalltalk/">
	  Smalltalk
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>Squeak Smalltalk で。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></td><td class="code"><div class="highlight"><pre>| nn |
nn := 2008.
World findATranscript: nil.
Transcript cr; show: nn.
nn asYear monthsDo: [:month |
    Transcript cr; show: (month name first: 3).
    month datesDo: [:date |
        | template |
        template := date weekday caseOf: {
            [#Saturday] -&gt; [&#39;({1})&#39;].
            [#Sunday] -&gt; [&#39;[{1}]&#39;]} otherwise: [&#39;{1}&#39;].
        Transcript space; show: (template format: {date dayOfMonth})]]

&quot;=&gt; 
2008
Jan 1 2 3 4 (5) [6] 7 8 9 1 ... &quot;
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5066/addtag/" class="addtag" id="addtag_5066">タグ</a>:
	
    
    <a href="/web/20090903220510/http://ja.doukaku.org/tag/Squeak_Smalltalk/">Squeak_Smalltalk</a>
    
	&nbsp;

	
      [<a href="/web/20090903220510/http://ja.doukaku.org/lang/smalltalk/">
		Smalltalk
      </a>]
	  
      [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5066/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5066/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5066"
  >-</span><span
  class="button yellow"
  id="rating_z_5066"
  >0</span><span 
  class="button green"
  id="rating_p_5066"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090903220510/http://ja.doukaku.org/119/reply_to/5066/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment5072">
  <p class="banner"><a href="/web/20090903220510/http://ja.doukaku.org/user/177/" target="_top">ocean</a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5072/">#5072</a>(<script language="JavaScript">print_time(new Date("2007/12/31 09:25 GMT"));</script><noscript>2007/12/31 09:25 GMT</noscript>)
	
	
	
	[<a href="/web/20090903220510/http://ja.doukaku.org/lang/diff/">
	  diff
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>他言語化。（ウィンドウタイトルはそのままだけど、まあいいか）</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></td><td class="code"><div class="highlight"><pre><span class="gd">--- MeApp.java.old  Mon Dec 31 18:21:09 2007</span>
<span class="gi">+++ MeApp.java  Mon Dec 31 18:21:22 2007</span>
<span class="gu">@@ -35,7 +35,7 @@</span>
 class MeMonthPanel extends JPanel {
     public MeMonthPanel(int year, int month) {
         setLayout(new BorderLayout());
<span class="gd">-        add(new JLabel(String.format(&quot;%dŒŽ&quot;, month), JLabel.CENTER), BorderLayout.NORTH);</span>
<span class="gi">+        add(new JLabel(new DateFormatSymbols().getMonths()[month - 1], JLabel.CENTER), BorderLayout.NORTH);</span>
         add(new MeMonthCanvas(year, month), BorderLayout.CENTER);
     }
 }
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5072/addtag/" class="addtag" id="addtag_5072">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090903220510/http://ja.doukaku.org/lang/diff/">
		diff
      </a>]
	  
      [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5072/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5072/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5072"
  >-</span><span
  class="button yellow"
  id="rating_z_5072"
  >0</span><span 
  class="button green"
  id="rating_p_5072"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20090903220510/http://ja.doukaku.org/comment/5059/"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20090903220510/http://ja.doukaku.org/comment/5072/root/"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20090903220510/http://ja.doukaku.org/119/reply_to/5072/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment5073">
  <p class="banner"><a href="/web/20090903220510/http://ja.doukaku.org/user/177/" target="_top">ocean</a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5073/">#5073</a>(<script language="JavaScript">print_time(new Date("2007/12/31 09:47 GMT"));</script><noscript>2007/12/31 09:47 GMT</noscript>)
	
	
	
	[<a href="/web/20090903220510/http://ja.doukaku.org/lang/diff/">
	  diff
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>Tk.LabelFrameを使ってみた。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre></td><td class="code"><div class="highlight"><pre><span class="gd">--- 1.py    Mon Dec 31 18:42:39 2007</span>
<span class="gi">+++ 2.py    Mon Dec 31 18:44:14 2007</span>
<span class="gu">@@ -10,20 +10,14 @@</span>
     for row in xrange(row_count):
         frame.grid_rowconfigure(row, weight=1)
 
<span class="gd">-class MonthPanel(Tk.Frame):</span>
<span class="gi">+class MonthPanel(Tk.LabelFrame):</span>
     def __init__(self, master, year, month):
<span class="gd">-        Tk.Frame.__init__(self, master)</span>
<span class="gi">+        Tk.LabelFrame.__init__(self, master, text=u&quot;%dŒŽ&quot; % month)</span>
 
<span class="gd">-        label = Tk.Label(self, text=u&quot;%dŒŽ&quot; % month)</span>
<span class="gd">-        label.pack(side=Tk.TOP, fill=Tk.X)</span>
<span class="gd">-</span>
<span class="gd">-        frame = Tk.Frame(self)</span>
<span class="gd">-        frame.pack(side=Tk.TOP, fill=Tk.BOTH, expand=True)</span>
<span class="gd">-</span>
<span class="gd">-        grid_configure(frame, 7, 7)</span>
<span class="gi">+        grid_configure(self, 7, 7)</span>
 
         def create_label(row, col):
<span class="gd">-            label = Tk.Label(frame, bg=&quot;white&quot;)</span>
<span class="gi">+            label = Tk.Label(self, bg=&quot;white&quot;)</span>
             label.grid(row=row, column=col, sticky=&quot;news&quot;, padx=1, pady=1)
             return label
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5073/addtag/" class="addtag" id="addtag_5073">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090903220510/http://ja.doukaku.org/lang/diff/">
		diff
      </a>]
	  
      [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5073/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5073/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5073"
  >-</span><span
  class="button yellow"
  id="rating_z_5073"
  >0</span><span 
  class="button green"
  id="rating_p_5073"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20090903220510/http://ja.doukaku.org/comment/5054/"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20090903220510/http://ja.doukaku.org/comment/5073/root/"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20090903220510/http://ja.doukaku.org/119/reply_to/5073/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment5084">
  <p class="banner"><a href="/web/20090903220510/http://ja.doukaku.org/user/504/" target="_top">あにす</a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5084/">#5084</a>(<script language="JavaScript">print_time(new Date("2008/01/01 09:06 GMT"));</script><noscript>2008/01/01 09:06 GMT</noscript>)
	
	
	
	[<a href="/web/20090903220510/http://ja.doukaku.org/lang/csharp/">
	  C#
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>見た目修正。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></td><td class="code"><div class="highlight"><pre><span class="c">//http://ja.doukaku.org/119/　投稿用</span>
<span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Drawing</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Windows.Forms</span><span class="p">;</span>
<span class="k">namespace</span> <span class="err">どう書く</span><span class="nn">_org</span><span class="err">年間カレンダ</span><span class="n">ー</span> <span class="k">{</span>
    <span class="k">class</span> <span class="nc">Program</span> <span class="k">{</span>
<span class="na">        [STAThread]</span>
        <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span> <span class="k">{</span>
            <span class="n">Application</span><span class="p">.</span><span class="n">Run</span><span class="p">(</span><span class="k">new</span> <span class="n">Form1</span><span class="p">());</span>
        <span class="k">}</span>
    <span class="k">}</span>
    <span class="k">class</span> <span class="nc">Form1</span><span class="p">:</span><span class="n">Form</span> <span class="k">{</span>
        <span class="k">public</span> <span class="nf">Form1</span><span class="p">()</span> <span class="k">{</span>
            <span class="kt">int</span> <span class="n">year</span> <span class="p">=</span> <span class="kt">int</span><span class="p">.</span><span class="n">Parse</span><span class="p">(</span><span class="n">Environment</span><span class="p">.</span><span class="n">GetCommandLineArgs</span><span class="p">()[</span><span class="m">1</span><span class="p">]);</span>
            <span class="n">Text</span> <span class="p">=</span> <span class="n">year</span> <span class="p">+</span> <span class="s">&quot; Calender&quot;</span><span class="p">;</span>
            <span class="n">MonthCalendar</span> <span class="n">calendar</span> <span class="p">=</span> <span class="k">new</span> <span class="n">MonthCalendar</span><span class="p">();</span>
            <span class="n">calendar</span><span class="p">.</span><span class="n">Parent</span> <span class="p">=</span> <span class="k">this</span><span class="p">;</span>
            <span class="n">calendar</span><span class="p">.</span><span class="n">Dock</span> <span class="p">=</span> <span class="n">DockStyle</span><span class="p">.</span><span class="n">Fill</span><span class="p">;</span>
            <span class="n">calendar</span><span class="p">.</span><span class="n">SelectionStart</span> <span class="p">=</span> <span class="k">new</span> <span class="n">DateTime</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">1</span><span class="p">);</span>
            <span class="n">calendar</span><span class="p">.</span><span class="n">SelectionEnd</span> <span class="p">=</span> <span class="k">new</span> <span class="n">DateTime</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">1</span><span class="p">);</span>
            <span class="n">Size</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Size</span><span class="p">(</span><span class="n">calendar</span><span class="p">.</span><span class="n">SingleMonthSize</span><span class="p">.</span><span class="n">Width</span> <span class="p">*</span> <span class="m">4</span><span class="p">,</span> <span class="n">calendar</span><span class="p">.</span><span class="n">SingleMonthSize</span><span class="p">.</span><span class="n">Height</span> <span class="p">*</span> <span class="m">3</span><span class="p">);</span>
        <span class="k">}</span>
    <span class="k">}</span>
<span class="k">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5084/addtag/" class="addtag" id="addtag_5084">タグ</a>:
	
    
    <a href="/web/20090903220510/http://ja.doukaku.org/tag/System.Windows.Forms%E3%80%80C%232.0/">System.Windows.Forms　C#2.0</a>
    
	&nbsp;

	
      [<a href="/web/20090903220510/http://ja.doukaku.org/lang/csharp/">
		C#
      </a>]
	  
      [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5084/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5084/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5084"
  >-</span><span
  class="button yellow"
  id="rating_z_5084"
  >0</span><span 
  class="button green"
  id="rating_p_5084"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20090903220510/http://ja.doukaku.org/comment/5050/"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20090903220510/http://ja.doukaku.org/comment/5084/root/"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20090903220510/http://ja.doukaku.org/119/reply_to/5084/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment5102">
  <p class="banner"><a href="/web/20090903220510/http://ja.doukaku.org/user/26/" target="_top">dankogai</a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5102/">#5102</a>(<script language="JavaScript">print_time(new Date("2008/01/01 17:24 GMT"));</script><noscript>2008/01/01 17:24 GMT</noscript>)
	
	
	
	[<a href="/web/20090903220510/http://ja.doukaku.org/lang/javascript/">
	  JavaScript
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #dfffdf;">2/2=1.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  
<p><a href="/web/20090903220510/http://blog.livedoor.jp/dankogai/archives/50978399.html">404 Blog Not Found:javascript - カレンダーを作る</a>に実際に動くデモがありますので併せてご覧下さい。なるべく再利用しやすいよう書きました。
</p>
<p>Dan the JavaScripter
</p>



	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93</pre></td><td class="code"><div class="highlight"><pre><span class="k">function</span> <span class="nx">leap</span><span class="p">(</span><span class="nx">year</span><span class="p">){</span>
  <span class="k">return</span> <span class="nx">year</span> <span class="o">%</span> <span class="mi">4</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="nx">year</span> <span class="o">%</span> <span class="mi">100</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="nx">year</span> <span class="o">%</span> <span class="mi">400</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="mi">1</span><span class="o">;</span>
<span class="p">}</span>

<span class="k">function</span> <span class="nx">make_cal_array</span><span class="p">(</span><span class="nx">year</span><span class="p">){</span>
  <span class="k">var</span> <span class="nx">months</span> <span class="o">=</span> <span class="p">[</span><span class="mi">31</span><span class="o">,</span> <span class="mi">28</span> <span class="o">+</span> <span class="nx">leap</span><span class="p">(</span><span class="nx">year</span><span class="p">)</span><span class="o">,</span> <span class="mi">31</span><span class="o">,</span> <span class="mi">30</span><span class="o">,</span> <span class="mi">31</span><span class="o">,</span> <span class="mi">30</span><span class="o">,</span> <span class="mi">31</span><span class="o">,</span> <span class="mi">31</span><span class="o">,</span> <span class="mi">30</span><span class="o">,</span> <span class="mi">31</span><span class="o">,</span> <span class="mi">30</span><span class="o">,</span> <span class="mi">31</span><span class="p">];</span>
  <span class="k">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="k">for</span> <span class="p">(</span><span class="k">var</span> <span class="nx">m</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="nx">m</span> <span class="o">&lt;</span> <span class="mi">12</span><span class="o">;</span> <span class="nx">m</span><span class="o">++</span><span class="p">){</span>
    <span class="nx">result</span><span class="p">[</span><span class="nx">m</span><span class="p">]</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="k">var</span> <span class="nx">dofw1</span> <span class="o">=</span> <span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">year</span><span class="o">,</span> <span class="nx">m</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="p">)).</span><span class="nx">getDay</span><span class="p">();</span>
    <span class="k">for</span> <span class="p">(</span><span class="k">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="nx">d</span> <span class="o">&lt;=</span> <span class="nx">months</span><span class="p">[</span><span class="nx">m</span><span class="p">];</span> <span class="nx">d</span><span class="o">++</span><span class="p">){</span>
      <span class="nx">result</span><span class="p">[</span><span class="nx">m</span><span class="p">][</span><span class="nx">d</span> <span class="o">+</span> <span class="nx">dofw1</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nx">d</span><span class="o">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">result</span><span class="o">;</span>
<span class="p">}</span>

<span class="k">var</span> <span class="nx">daynames</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;sun&#39;</span><span class="o">,</span><span class="s1">&#39;mon&#39;</span><span class="o">,</span><span class="s1">&#39;tue&#39;</span><span class="o">,</span><span class="s1">&#39;wed&#39;</span><span class="o">,</span><span class="s1">&#39;thr&#39;</span><span class="o">,</span><span class="s1">&#39;fri&#39;</span><span class="o">,</span><span class="s1">&#39;sat&#39;</span><span class="p">];</span>

<span class="k">function</span> <span class="nx">make_cal_yearly</span><span class="p">(</span><span class="nx">year</span><span class="p">){</span>
  <span class="k">var</span> <span class="nx">cal</span> <span class="o">=</span> <span class="nx">make_cal_array</span><span class="p">(</span><span class="nx">year</span><span class="p">);</span>
  <span class="k">var</span> <span class="nx">tbody</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;tbody&#39;</span><span class="p">);</span>
  <span class="k">for</span> <span class="p">(</span><span class="k">var</span> <span class="nx">m</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="nx">m</span> <span class="o">&lt;</span> <span class="mi">12</span><span class="o">;</span> <span class="nx">m</span><span class="o">++</span><span class="p">){</span>
    <span class="k">var</span> <span class="nx">tr</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;tr&#39;</span><span class="p">);</span>
    <span class="k">var</span> <span class="nx">th</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;th&#39;</span><span class="p">);</span>
    <span class="nx">th</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">m</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
    <span class="nx">tr</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">th</span><span class="p">);</span>
    <span class="k">for</span> <span class="p">(</span><span class="k">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="mi">0</span><span class="o">,</span> <span class="nx">l</span> <span class="o">=</span> <span class="nx">cal</span><span class="p">[</span><span class="nx">m</span><span class="p">].</span><span class="nx">length</span><span class="o">;</span> <span class="nx">d</span> <span class="o">&lt;</span> <span class="nx">l</span><span class="o">;</span> <span class="nx">d</span><span class="o">++</span><span class="p">){</span>
      <span class="k">var</span> <span class="nx">td</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;td&#39;</span><span class="p">);</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">cal</span><span class="p">[</span><span class="nx">m</span><span class="p">][</span><span class="nx">d</span><span class="p">]){</span>
        <span class="nx">td</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">cal</span><span class="p">[</span><span class="nx">m</span><span class="p">][</span><span class="nx">d</span><span class="p">];</span>
        <span class="nx">td</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="nx">daynames</span><span class="p">[</span><span class="nx">d</span> <span class="o">%</span> <span class="mi">7</span><span class="p">];</span>
      <span class="p">}</span>
      <span class="nx">tr</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">td</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="nx">tbody</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">tr</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">var</span> <span class="nx">table</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;table&#39;</span><span class="p">);</span>
  <span class="nx">table</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="s1">&#39;ycal&#39;</span><span class="o">;</span>
  <span class="k">var</span> <span class="nx">caption</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;caption&#39;</span><span class="p">);</span>
  <span class="nx">caption</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">year</span><span class="o">;</span>
  <span class="nx">table</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">caption</span><span class="p">);</span>
  <span class="nx">table</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">tbody</span><span class="p">);</span>
  <span class="k">return</span> <span class="nx">table</span><span class="o">;</span>
<span class="p">}</span>

<span class="k">function</span> <span class="nx">make_cal_monthly</span><span class="p">(</span><span class="nx">year</span><span class="o">,</span> <span class="nx">m</span><span class="p">){</span>
  <span class="k">var</span> <span class="nx">cal</span> <span class="o">=</span> <span class="nx">make_cal_array</span><span class="p">(</span><span class="nx">year</span><span class="p">);</span>
  <span class="k">var</span> <span class="nx">table</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;table&#39;</span><span class="p">);</span>
  <span class="c">// header</span>
  <span class="k">var</span> <span class="nx">tr</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;tr&#39;</span><span class="p">);</span>
  <span class="k">for</span> <span class="p">(</span><span class="k">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="nx">d</span> <span class="o">&lt;</span> <span class="mi">7</span><span class="o">;</span> <span class="nx">d</span><span class="o">++</span><span class="p">){</span>
    <span class="k">var</span> <span class="nx">th</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;th&#39;</span><span class="p">);</span>
    <span class="nx">th</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">th</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="nx">daynames</span><span class="p">[</span><span class="nx">d</span><span class="p">];</span>
    <span class="nx">tr</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">th</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">var</span> <span class="nx">thead</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;thead&#39;</span><span class="p">);</span>
  <span class="nx">thead</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">tr</span><span class="p">);</span>
  <span class="nx">table</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">thead</span><span class="p">);</span>
  <span class="c">// body;</span>
  <span class="k">var</span> <span class="nx">tbody</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;tbody&#39;</span><span class="p">);</span>
  <span class="k">for</span> <span class="p">(</span><span class="k">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="mi">0</span><span class="o">,</span> <span class="nx">l</span> <span class="o">=</span> <span class="nx">cal</span><span class="p">[</span><span class="nx">m</span><span class="p">].</span><span class="nx">length</span><span class="o">;</span> <span class="nx">d</span> <span class="o">&lt;</span> <span class="nx">l</span><span class="o">;</span> <span class="nx">d</span><span class="o">++</span><span class="p">){</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">d</span> <span class="o">%</span> <span class="mi">7</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="nx">tr</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;tr&#39;</span><span class="p">);</span>
    <span class="k">var</span> <span class="nx">td</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;td&#39;</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">cal</span><span class="p">[</span><span class="nx">m</span><span class="p">][</span><span class="nx">d</span><span class="p">]){</span>
      <span class="nx">td</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">cal</span><span class="p">[</span><span class="nx">m</span><span class="p">][</span><span class="nx">d</span><span class="p">];</span>
      <span class="nx">td</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="nx">daynames</span><span class="p">[</span><span class="nx">d</span> <span class="o">%</span> <span class="mi">7</span><span class="p">];</span>
    <span class="p">}</span>
    <span class="nx">tr</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">td</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">d</span> <span class="o">%</span> <span class="mi">7</span> <span class="o">==</span> <span class="mi">6</span><span class="p">)</span> <span class="nx">tbody</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">tr</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="nx">tbody</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">tr</span><span class="p">);</span>
  <span class="nx">table</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="s1">&#39;mcal&#39;</span><span class="o">;</span>
  <span class="k">var</span> <span class="nx">caption</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;caption&#39;</span><span class="p">);</span>
  <span class="nx">caption</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">year</span> <span class="o">+</span> <span class="s1">&#39;.&#39;</span> <span class="o">+</span> <span class="p">(</span><span class="nx">m</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span>
  <span class="nx">table</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">caption</span><span class="p">);</span>
  <span class="nx">table</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">tbody</span><span class="p">);</span>
  <span class="k">return</span> <span class="nx">table</span><span class="o">;</span>
<span class="p">}</span>

<span class="k">function</span> <span class="nx">make_calendars</span><span class="p">(</span><span class="nx">year</span><span class="o">,</span> <span class="nx">p</span><span class="p">){</span>
  <span class="nx">p</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">;</span>
  <span class="nx">p</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">make_cal_yearly</span><span class="p">(</span><span class="nx">year</span><span class="p">));</span>
  <span class="k">for</span> <span class="p">(</span><span class="k">var</span> <span class="nx">m</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="nx">m</span> <span class="o">&lt;</span> <span class="mi">12</span><span class="o">;</span> <span class="nx">m</span><span class="o">++</span><span class="p">){</span>
   <span class="k">var</span> <span class="nx">mcal</span> <span class="o">=</span> <span class="nx">make_cal_monthly</span><span class="p">(</span><span class="nx">year</span><span class="o">,</span> <span class="nx">m</span><span class="p">);</span>
   <span class="nx">p</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">mcal</span><span class="p">);</span>
   <span class="k">if</span> <span class="p">(</span><span class="nx">m</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">==</span> <span class="mi">2</span><span class="p">){</span>
     <span class="k">var</span> <span class="nx">br</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;br&#39;</span><span class="p">);</span>
     <span class="nx">br</span><span class="p">.</span><span class="nx">clear</span> <span class="o">=</span> <span class="s1">&#39;all&#39;</span><span class="o">;</span>
     <span class="nx">p</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">br</span><span class="p">);</span>
   <span class="p">}</span>
  <span class="p">};</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5102/addtag/" class="addtag" id="addtag_5102">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090903220510/http://ja.doukaku.org/lang/javascript/">
		JavaScript
      </a>]
	  
      [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5102/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5102/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #dfffdf;"
  >2/2=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5102"
  >-</span><span
  class="button yellow"
  id="rating_z_5102"
  >0</span><span 
  class="button green"
  id="rating_p_5102"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090903220510/http://ja.doukaku.org/119/reply_to/5102/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment5112">
  <p class="banner"><a href="/web/20090903220510/http://ja.doukaku.org/user/606/" target="_top">pooq</a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/star_bronze.png" border=0/></a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5112/">#5112</a>(<script language="JavaScript">print_time(new Date("2008/01/02 04:45 GMT"));</script><noscript>2008/01/02 04:45 GMT</noscript>)
	
	
	
	[<a href="/web/20090903220510/http://ja.doukaku.org/lang/j/">
	  J
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>ひたすらコンパクトさ目指して、32進表記とか。
   cal 2008
uv12345 6789abc defghij klmnopq 
rstuv12 3456789 abcdefg hijklmn 
opqrst1 2345678 9abcdef ghijklm 
nopqrst uv12345 6789abc defghij 
klmnopq rstu123 456789a bcdefgh 
ijklmno pqrstuv 1234567 89abcde 
fghijkl mnopqrs tu12345 6789abc 
defghij klmnopq rstuv12 3456789 
abcdefg hijklmn opqrstu v123456 
789abcd efghijk lmnopqr stu1234 
56789ab cdefghi jklmnop qrstuv1 
2345678 9abcdef ghijklm nopqrst 
u123456 789abcd efghijk lmnopqr 
stuv123 456789a bcdefgh ijklmno 
</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3</pre></td><td class="code"><div class="highlight"><pre>load &#39;dates&#39;
n32=:{&amp;&#39; 123456789abcdefghijklmnopqrstuv&#39;
cal=:3 :&#39;14 32$,,.&amp;&#39;&#39; &#39;&#39;_7[\n32&quot;0[,2}.&quot;1 todate((todayno-weekday)y,1 1)+i.400&#39;
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5112/addtag/" class="addtag" id="addtag_5112">タグ</a>:
	
    
    <a href="/web/20090903220510/http://ja.doukaku.org/tag/%E3%81%8A%E3%82%82%E3%81%97%E3%82%8D%E3%81%8A%E3%81%8B%E3%81%97%E3%81%84/">おもしろおかしい</a>
    
	&nbsp;

	
      [<a href="/web/20090903220510/http://ja.doukaku.org/lang/j/">
		J
      </a>]
	  
      [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5112/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5112/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5112"
  >-</span><span
  class="button yellow"
  id="rating_z_5112"
  >0</span><span 
  class="button green"
  id="rating_p_5112"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20090903220510/http://ja.doukaku.org/comment/5112/">
    1
    reply
  </a>

  [<a href="/web/20090903220510/http://ja.doukaku.org/119/reply_to/5112/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment5114">
  <p class="banner"><a href="/web/20090903220510/http://ja.doukaku.org/user/380/" target="_top">vtwntmtn</a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/star_silver.png" border=0/></a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5114/">#5114</a>(<script language="JavaScript">print_time(new Date("2008/01/02 07:28 GMT"));</script><noscript>2008/01/02 07:28 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>全部で365日をこえてしまってまっているようですが…</p>

	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5114/addtag/" class="addtag" id="addtag_5114">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5114"
  >-</span><span
  class="button yellow"
  id="rating_z_5114"
  >0</span><span 
  class="button green"
  id="rating_p_5114"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20090903220510/http://ja.doukaku.org/comment/5112/"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20090903220510/http://ja.doukaku.org/comment/5114/root/"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  <a href="/web/20090903220510/http://ja.doukaku.org/comment/5114/">
    1
    reply
  </a>

  [<a href="/web/20090903220510/http://ja.doukaku.org/119/reply_to/5114/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment5118">
  <p class="banner"><a href="/web/20090903220510/http://ja.doukaku.org/user/380/" target="_top">vtwntmtn</a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/star_silver.png" border=0/></a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5118/">#5118</a>(<script language="JavaScript">print_time(new Date("2008/01/02 10:22 GMT"));</script><noscript>2008/01/02 10:22 GMT</noscript>)
	
	
	
	[<a href="/web/20090903220510/http://ja.doukaku.org/lang/erlang/">
	  Erlang
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>calコマンドっぽく表示します。

&gt; erlc year_cal.erl
&gt; erl -noshell -s year_cal main -s init stop

1月_2008
 日 月 火 水 木 金 土
        1  2  3  4  5
  6  7  8  9 10 11 12
 13 14 15 16 17 18 19
 20 21 22 23 24 25 26
 27 28 29 30 31

（中略）

12月_2008
 日 月 火 水 木 金 土
     1  2  3  4  5  6
  7  8  9 10 11 12 13
 14 15 16 17 18 19 20
 21 22 23 24 25 26 27
 28 29 30 31
</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29</pre></td><td class="code"><div class="highlight"><pre>-module(year_cal).
-export([main/0]).

main() -&gt; year_cal(2008).

year_cal(Year) -&gt; lists:foreach(fun manth/1, [{Year, X} || X &lt;- lists:seq(1, 12)]).

manth({Year, Manth}) -&gt;
    io:format(&quot;~B月_~B~n&quot;, [Manth, Year]),
    io:format(&quot;日 月 火 水 木 金 土~n&quot;, []),
    First = calendar:day_of_the_week(Year, Manth, 1),
    if
        7 == First -&gt; true;
        true -&gt; io:format(lists:duplicate(((First rem 7) * 3) - 1, &quot; &quot;), [])
    end,
    manth(Year, Manth, 1).

manth(Year, Manth, Day) -&gt;
    case calendar:valid_date(Year, Manth, Day) of
        false -&gt; io:nl();        % 一ヶ月の終わり
        true  -&gt;
            Dotw = calendar:day_of_the_week(Year, Manth, Day),
            if
                7 == Dotw -&gt; io:format(&quot;~2B&quot;, [Day]);        % 日曜日
                6 == Dotw -&gt; io:format(&quot;~3B~n&quot;, [Day]);        % 土曜日
                true      -&gt; io:format(&quot;~3B&quot;, [Day])        % その他平日
            end,
            manth(Year, Manth, Day + 1)
    end.
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5118/addtag/" class="addtag" id="addtag_5118">タグ</a>:
	
    
    <a href="/web/20090903220510/http://ja.doukaku.org/tag/ErlangOTP_R10B-10/">ErlangOTP_R10B-10</a>
    
	&nbsp;

	
      [<a href="/web/20090903220510/http://ja.doukaku.org/lang/erlang/">
		Erlang
      </a>]
	  
      [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5118/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5118/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5118"
  >-</span><span
  class="button yellow"
  id="rating_z_5118"
  >0</span><span 
  class="button green"
  id="rating_p_5118"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090903220510/http://ja.doukaku.org/119/reply_to/5118/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment5121">
  <p class="banner"><a href="/web/20090903220510/http://ja.doukaku.org/user/646/" target="_top">silverwire</a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/star_silver.png" border=0/></a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5121/">#5121</a>(<script language="JavaScript">print_time(new Date("2008/01/02 12:46 GMT"));</script><noscript>2008/01/02 12:46 GMT</noscript>)
	
	
	
	[<a href="/web/20090903220510/http://ja.doukaku.org/lang/bat/">
	  Batchfile
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  初めて投稿させていただきます。<br/><br/>出力形式はUnixの&nbsp;calコマンドを参考にしました。<br/><br/>バッチファイルですので、ファイル名を&nbsp;cal.batなどにして保存し、ダブルクリックして<br/>ください。Windows&nbsp;2000以降であれば動作すると思います。一瞬で終了しないようにする<br/>には、69行目のendlocalの下に以下の行を追加してください。<br/><br/>&nbsp;&nbsp;e.g.&nbsp;pause&nbsp;&gt;NUL<br/><br/>引数を指定しない場合はシステムの日時をもとに算出します。ただし、日本以外の地域の<br/>日時表記を使用している環境では正常に動作しません。<br/><br/>&nbsp;&nbsp;e.g.&nbsp;C:\&gt;cal&nbsp;1&nbsp;2008
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220</pre></td><td class="code"><div class="highlight"><pre>@echo off

::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
:: グローバル変数

  setlocal

  set Y4=%2
  set MM=%1
  set DOW=
  set EOM=
  set COUNT=
  set ERROR=
  set IS_LEAP_YEAR=0
  set MARGIN=
  set MONTH=
  set SPACE=
  set ARRAY_MONTH=

::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
:: メイン関数

  if &quot;%3&quot; NEQ &quot;&quot; echo usage: cal [month] [year] &amp; goto :EOF
  if &quot;%2&quot; EQU &quot;&quot; (
    if &quot;%1&quot; NEQ &quot;&quot; echo usage: cal [month] [year] &amp; goto :EOF
    call :GetDate Y4 MM
  )

  ::  8進数として解釈されないようにする。
  set /a Y4=%Y4%+0
  set /a MM=%MM%+0

  call :IsNumber %Y4% _ERROR
  if %_ERROR% NEQ 0 echo usage: cal [month] [year] &amp; goto :EOF

  call :IsNumber %MM% _ERROR
  if %_ERROR% NEQ 0 echo usage: cal [month] [year] &amp; goto :EOF

  if %Y4% LSS    1 echo cal: illegal year value: use 1-9999 &amp; goto :EOF
  if %Y4% GTR 9999 echo cal: illegal year value: use 1-9999 &amp; goto :EOF

  if %MM% LSS  1 echo cal: illegal month value: use 1-12 &amp; goto :EOF
  if %MM% GTR 12 echo cal: illegal month value: use 1-12 &amp; goto :EOF

  call :GetMonthName ARRAY_MONTH

  call :GetMargin %MM% MARGIN

  call :GetSpace %MARGIN% SPACE

  call :GetArrayValue ARRAY_MONTH_%MM% MONTH

  call :PrintHeader %Y4% %MONTH% &quot;%SPACE%&quot;

  call :GetDayOfWeek %Y4% %MM% DOW

  :: 2 : セルの幅, 1 : セルの余白
  set /a MARGIN=%DOW%*(2+1)

  call :GetSpace %MARGIN% SPACE

  call :GetEndOfMonth %MM% EOM

  call :IsLeapYear %Y4% %MM% IS_LEAP_YEAR
  if %IS_LEAP_YEAR% NEQ 0 set /a EOM+=1

  call :PrintCalendar %EOM% %DOW% &quot;%SPACE%&quot;

  endlocal
goto :EOF

::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
:: ユーザー定義関数

:SetArrayValue
  set %1_%COUNT%=%2
goto :EOF

:GetArrayValue
  for /f &quot;delims== tokens=1,2&quot; %%a in (&#39;set^|findstr /b &quot;%1=&quot;&#39;) do set %2=%%b
goto :EOF

:Increment
  set /a COUNT+=1
goto :EOF

:GetDate
  set _DATE=

  for /f &quot;tokens=1&quot; %%d in (&#39;date /t&#39;) do set _DATE=%%d

  set %1=%_DATE:~0,4%
  set %2=%_DATE:~5,2%
goto :EOF

:IsNumber
  set %2=0

  echo %1|findstr /r &quot;[^0-9]&quot; &gt;NUL 2&gt;NUL
  if %ERRORLEVEL% EQU 0 set %2=1
goto :EOF

:PrintHeader
  set _SPACE=%3
  set _SPACE=%_SPACE:&quot;=%

  echo %_SPACE% %2 %1
  echo Su Mo Tu We Th Fr Sa
goto :EOF

:GetMonthName
  set _PATH=_.txt

  echo January  &gt; %_PATH%
  echo February &gt;&gt;%_PATH%
  echo March    &gt;&gt;%_PATH%
  echo April    &gt;&gt;%_PATH%
  echo May      &gt;&gt;%_PATH%
  echo June     &gt;&gt;%_PATH%
  echo July     &gt;&gt;%_PATH%
  echo Augst    &gt;&gt;%_PATH%
  echo September&gt;&gt;%_PATH%
  echo October  &gt;&gt;%_PATH%
  echo November &gt;&gt;%_PATH%
  echo December &gt;&gt;%_PATH%

  set COUNT=1
  for /f &quot;delims=&quot; %%m in (%_PATH%) do (
    call :SetArrayValue %1 %%m
    call :Increment
  )
  del /q %_PATH% &gt;NUL 2&gt;NUL
goto :EOF

:GetMargin
  set _PATH=_.bat

  echo set _MARGIN= 334455542333&gt;%_PATH%
  echo set %2=%%_MARGIN:~%1,1%%&gt;&gt;%_PATH%

  call %_PATH%

  del %_PATH% &gt;NUL 2&gt;NUL
goto :EOF

:GetDayOfWeek
  set _Y4_PREV=%1
  set _MM_PREV=%2
  set _DOW=0

  if %2 LEQ 2 (
    set /a _Y4_PREV=%1-1
    set /a _MM_PREV=%2+12
  )

  set /a _DOW=_Y4_PREV+_Y4_PREV/4-_Y4_PREV/100+_Y4_PREV/400+(13*_MM_PREV+8)/5+1
  set /a %3=_DOW%%7
goto :EOF

:GetSpace
  set _PATH=_.bat

  echo set _SPACE=                   &gt;%_PATH%
  echo set %2=%%_SPACE:~0,%1%%&gt;&gt;%_PATH%

  call %_PATH%

  del %_PATH% &gt;NUL 2&gt;NUL
goto :EOF

:GetEndOfMonth
  set _PATH=_.bat

  echo set _DIFF=0030101001010&gt;%_PATH%
  echo set /a %2=31-%%_DIFF:~%1,1%%&gt;&gt;%_PATH%

  call %_PATH%

  del %_PATH% &gt;NUL 2&gt;NUL
goto :EOF

:PrintCalendar
  set _DOW=0
  set _SPACE=%3
  set _LINE=%_SPACE:&quot;=%
  set _DD=1

  :LOOP_BEGIN
    if %_DD% GTR %1 goto LOOP_END

    set /a _DOW=(%_DD%+%2)%%7

    if %_DD% LSS 10 set _DD= %_DD%
    set _LINE=%_LINE%%_DD% 

    if %_DOW% EQU 0 (
      echo %_LINE%
      set _LINE=
    )

    set /a _DD+=1
    goto LOOP_BEGIN
  :LOOP_END
  if &quot;%_LINE%&quot; NEQ &quot;&quot; echo %_LINE%
goto :EOF

:IsLeapYear
  set _VALUE=0

  if %2 NEQ 2 goto :EOF

  set /a _VALUE=%1%%4
  if %_VALUE% NEQ 0 goto :EOF

  set /a _VALUE=%1%%100
  if %_VALUE% NEQ 0 set %3=1 &amp;&amp; goto :EOF

  set /a _VALUE=%1%%400
  if %_VALUE% EQU 0 set %3=1 &amp;&amp; goto :EOF
goto :EOF
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5121/addtag/" class="addtag" id="addtag_5121">タグ</a>:
	
    
    <a href="/web/20090903220510/http://ja.doukaku.org/tag/%E5%8A%9B%E4%BD%9C/">力作</a>
    
	&nbsp;

	
      [<a href="/web/20090903220510/http://ja.doukaku.org/lang/bat/">
		Batchfile
      </a>]
	  
      [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5121/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5121/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5121"
  >-</span><span
  class="button yellow"
  id="rating_z_5121"
  >0</span><span 
  class="button green"
  id="rating_p_5121"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20090903220510/http://ja.doukaku.org/comment/5121/">
    2
    replies
  </a>

  [<a href="/web/20090903220510/http://ja.doukaku.org/119/reply_to/5121/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment5128">
  <p class="banner"><a href="/web/20090903220510/http://ja.doukaku.org/user/646/" target="_top">silverwire</a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/star_silver.png" border=0/></a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5128/">#5128</a>(<script language="JavaScript">print_time(new Date("2008/01/02 17:57 GMT"));</script><noscript>2008/01/02 17:57 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  一点訂正です。<br/><br/>47,&nbsp;48,&nbsp;50,&nbsp;51行目で_ERRORという名前の変数を使用していますが、正しくは&nbsp;ERRORでし<br/>た。(先頭のアンダースコアが不要。)<br/><br/>該当部分の処理を関数(擬似関数)内からメイン関数に移した際、変数名を変更するのを忘<br/>れていました。とはいえ、setlocalとendlocalでスコープを細かく分けることはしていな<br/>いので、投稿したものでも動作上問題はありません。
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5128/addtag/" class="addtag" id="addtag_5128">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5128"
  >-</span><span
  class="button yellow"
  id="rating_z_5128"
  >0</span><span 
  class="button green"
  id="rating_p_5128"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20090903220510/http://ja.doukaku.org/comment/5121/"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20090903220510/http://ja.doukaku.org/comment/5128/root/"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20090903220510/http://ja.doukaku.org/119/reply_to/5128/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment5132">
  <p class="banner"><a href="/web/20090903220510/http://ja.doukaku.org/user/26/" target="_top">dankogai</a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5132/">#5132</a>(<script language="JavaScript">print_time(new Date("2008/01/02 22:55 GMT"));</script><noscript>2008/01/02 22:55 GMT</noscript>)
	
	
	
	[<a href="/web/20090903220510/http://ja.doukaku.org/lang/perl/">
	  Perl
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>カレンダーをどう見せるかで一番迷いましたが、こんな見せ方もあってもいいかなあ、と。</p>
<p>ANSIカラーに対応した端末(まあ今時はたいていのがそうだけど)で実行してご確認ください。</p>
<p>Dan the Perl Monger</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52</pre></td><td class="code"><div class="highlight"><pre><span class="c1">#!/usr/local/bin/perl</span>
<span class="k">use</span> <span class="n">strict</span><span class="p">;</span>
<span class="k">use</span> <span class="n">warnings</span><span class="p">;</span>
<span class="k">use</span> <span class="n">POSIX</span> <span class="n">qw</span><span class="sr">/mktime/</span><span class="p">;</span>

<span class="k">sub </span><span class="nf">leap</span> <span class="p">{</span>
    <span class="nv">$_</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="nv">%</span> <span class="nv">4</span> <span class="p">?</span> <span class="mi">0</span> <span class="p">:</span> <span class="nv">$_</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="nv">%</span> <span class="nv">100</span> <span class="p">?</span> <span class="mi">1</span> <span class="p">:</span> <span class="nv">$_</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="nv">%</span> <span class="nv">400</span> <span class="p">?</span> <span class="mi">0</span> <span class="p">:</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">my</span> <span class="nv">@dayname</span> <span class="o">=</span> <span class="n">qw</span><span class="sr">/sun mon tue wed thu fri sat/</span><span class="p">;</span>

<span class="k">sub </span><span class="nf">make_cal_array</span> <span class="p">{</span>
    <span class="k">my</span> <span class="nv">$year</span> <span class="o">=</span> <span class="nb">shift</span><span class="p">;</span>
    <span class="k">my</span> <span class="nv">@months</span> <span class="o">=</span>
      <span class="p">(</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">28</span> <span class="o">+</span> <span class="n">leap</span><span class="p">(</span><span class="nv">$year</span><span class="p">),</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">31</span> <span class="p">);</span>
    <span class="k">my</span> <span class="nv">$result</span><span class="p">;</span>
    <span class="k">for</span> <span class="k">my</span> <span class="nv">$m</span> <span class="p">(</span> <span class="mi">0</span> <span class="o">..</span> <span class="mi">11</span> <span class="p">)</span> <span class="p">{</span>
        <span class="k">my</span> <span class="nv">$dofw1</span> <span class="o">=</span> <span class="p">(</span> <span class="nb">localtime</span><span class="p">(</span> <span class="n">mktime</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="nv">$m</span><span class="p">,</span> <span class="nv">$year</span> <span class="o">-</span> <span class="mi">1900</span> <span class="p">)</span> <span class="p">)</span> <span class="p">)[</span><span class="mi">6</span><span class="p">];</span>
        <span class="k">for</span> <span class="k">my</span> <span class="nv">$d</span> <span class="p">(</span> <span class="mi">1</span> <span class="o">..</span> <span class="nv">$months</span><span class="p">[</span><span class="nv">$m</span><span class="p">]</span> <span class="p">)</span> <span class="p">{</span>
            <span class="nv">$result</span><span class="o">-&gt;</span><span class="p">[</span><span class="nv">$m</span><span class="p">][</span> <span class="nv">$d</span> <span class="o">+</span> <span class="nv">$dofw1</span> <span class="o">-</span> <span class="mi">1</span> <span class="p">]</span> <span class="o">=</span> <span class="nv">$d</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nv">$result</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">sub </span><span class="nf">color</span> <span class="p">{</span>
    <span class="p">[</span>
        <span class="k">sub </span><span class="p">{</span> <span class="s">&quot;\e[7m\e[31m$_[0]\e[0m&quot;</span> <span class="p">},</span>    <span class="c1"># reverse red</span>
        <span class="k">sub </span><span class="p">{</span> <span class="s">&quot;\e[30m$_[0]\e[0m&quot;</span> <span class="p">},</span>         <span class="c1"># black</span>
        <span class="k">sub </span><span class="p">{</span> <span class="s">&quot;\e[35m$_[0]\e[0m&quot;</span> <span class="p">},</span>         <span class="c1"># purple</span>
        <span class="k">sub </span><span class="p">{</span> <span class="s">&quot;\e[32m$_[0]\e[0m&quot;</span> <span class="p">},</span>         <span class="c1"># green</span>
        <span class="k">sub </span><span class="p">{</span> <span class="s">&quot;\e[33m$_[0]\e[0m&quot;</span> <span class="p">},</span>         <span class="c1"># yellow</span>
        <span class="k">sub </span><span class="p">{</span> <span class="s">&quot;\e[36m$_[0]\e[0m&quot;</span> <span class="p">},</span>         <span class="c1"># skyblue</span>
        <span class="k">sub </span><span class="p">{</span> <span class="s">&quot;\e[7m\e[34m$_[0]\e[0m&quot;</span> <span class="p">},</span>    <span class="c1"># reverse blue</span>
    <span class="p">]</span><span class="o">-&gt;</span><span class="p">[</span> <span class="nv">$_</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="nv">%</span> <span class="nv">7</span> <span class="p">]</span><span class="o">-&gt;</span><span class="p">(</span> <span class="nv">$_</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">);</span>
<span class="p">}</span>

<span class="k">sub </span><span class="nf">print_cal</span> <span class="p">{</span>
    <span class="k">my</span> <span class="nv">$year</span> <span class="o">=</span> <span class="nb">shift</span><span class="p">;</span>
    <span class="k">my</span> <span class="nv">$cal</span>  <span class="o">=</span> <span class="n">make_cal_array</span><span class="p">(</span><span class="nv">$year</span><span class="p">);</span>
    <span class="k">print</span> <span class="s">&quot;$year\n&quot;</span><span class="p">;</span>
    <span class="k">for</span> <span class="k">my</span> <span class="nv">$m</span> <span class="p">(</span> <span class="mi">0</span> <span class="o">..</span> <span class="mi">11</span> <span class="p">)</span> <span class="p">{</span>
        <span class="nb">printf</span> <span class="s">&quot;%2d: &quot;</span><span class="p">,</span> <span class="nv">$m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
        <span class="k">my</span> <span class="nv">$c</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">for</span> <span class="k">my</span> <span class="nv">$d</span> <span class="p">(</span> <span class="nv">@</span><span class="p">{</span> <span class="nv">$cal</span><span class="o">-&gt;</span><span class="p">[</span><span class="nv">$m</span><span class="p">]</span> <span class="p">}</span> <span class="p">)</span> <span class="p">{</span>
            <span class="k">print</span> <span class="n">color</span><span class="p">(</span> <span class="nv">$d</span> <span class="p">?</span> <span class="nv">$d</span> <span class="o">&lt;</span> <span class="mi">10</span> <span class="p">?</span> <span class="s">&#39; &#39;</span> <span class="o">.</span> <span class="nv">$d</span> <span class="p">:</span> <span class="nv">$d</span> <span class="p">:</span> <span class="s">&#39;  &#39;</span><span class="p">,</span> <span class="nv">$c</span><span class="o">++</span> <span class="p">);</span>
        <span class="p">}</span>
        <span class="k">print</span> <span class="s">&quot;\n&quot;</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="n">print_cal</span><span class="p">(</span><span class="nb">shift</span> <span class="o">||</span> <span class="p">(</span><span class="nb">localtime</span><span class="p">)[</span><span class="mi">5</span><span class="p">]</span><span class="o">+</span><span class="mi">1900</span><span class="p">);</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5132/addtag/" class="addtag" id="addtag_5132">タグ</a>:
	
    
    <a href="/web/20090903220510/http://ja.doukaku.org/tag/ANSI%E3%82%AB%E3%83%A9%E3%83%BC/">ANSIカラー</a>
    
    <a href="/web/20090903220510/http://ja.doukaku.org/tag/%E5%8F%82%E8%80%83%E3%81%AB%E3%81%AA%E3%82%8B/">参考になる</a>
    
	&nbsp;

	
      [<a href="/web/20090903220510/http://ja.doukaku.org/lang/perl/">
		Perl
      </a>]
	  
      [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5132/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5132/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5132"
  >-</span><span
  class="button yellow"
  id="rating_z_5132"
  >0</span><span 
  class="button green"
  id="rating_p_5132"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090903220510/http://ja.doukaku.org/119/reply_to/5132/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment5137">
  <p class="banner"><a href="/web/20090903220510/http://ja.doukaku.org/user/606/" target="_top">pooq</a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/star_bronze.png" border=0/></a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5137/">#5137</a>(<script language="JavaScript">print_time(new Date("2008/01/03 07:59 GMT"));</script><noscript>2008/01/03 07:59 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>前にも後ろにもはみ出しています。「年間」カレンダーとはよべないかも
しれません。４クールカレンダーかな。
もうすこしカレンダーらしくなるように考えてみます。
</pre>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5137/addtag/" class="addtag" id="addtag_5137">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5137"
  >-</span><span
  class="button yellow"
  id="rating_z_5137"
  >0</span><span 
  class="button green"
  id="rating_p_5137"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20090903220510/http://ja.doukaku.org/comment/5114/"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20090903220510/http://ja.doukaku.org/comment/5137/root/"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20090903220510/http://ja.doukaku.org/119/reply_to/5137/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment5144">
  <p class="banner"><a href="/web/20090903220510/http://ja.doukaku.org/user/646/" target="_top">silverwire</a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/star_silver.png" border=0/></a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5144/">#5144</a>(<script language="JavaScript">print_time(new Date("2008/01/03 11:55 GMT"));</script><noscript>2008/01/03 11:55 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>現状を維持しながら cal -y のような表示形式にするのは難しかったので、以下のワンラ
イナーでもって「年間カレンダー」に対する回答とさせてください。

  e.g.
    C:\&gt;echo off &amp;&amp; (for /l %i in (1,1,12) do (echo. &amp; cal %i 2008)) &amp;&amp; echo on
    
        January 2008
    Su Mo Tu We Th Fr Sa
           1  2  3  4  5
     6  7  8  9 10 11 12
    13 14 15 16 17 18 19
    20 21 22 23 24 25 26
    27 28 29 30 31
    
    (中略)
    
        December 2008
    Su Mo Tu We Th Fr Sa
        1  2  3  4  5  6
     7  8  9 10 11 12 13
    14 15 16 17 18 19 20
    21 22 23 24 25 26 27
    28 29 30 31</pre>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5144/addtag/" class="addtag" id="addtag_5144">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5144"
  >-</span><span
  class="button yellow"
  id="rating_z_5144"
  >0</span><span 
  class="button green"
  id="rating_p_5144"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20090903220510/http://ja.doukaku.org/comment/5121/"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20090903220510/http://ja.doukaku.org/comment/5144/root/"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20090903220510/http://ja.doukaku.org/119/reply_to/5144/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment5154">
  <p class="banner"><a href="/web/20090903220510/http://ja.doukaku.org/user/646/" target="_top">silverwire</a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/star_silver.png" border=0/></a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5154/">#5154</a>(<script language="JavaScript">print_time(new Date("2008/01/03 19:11 GMT"));</script><noscript>2008/01/03 19:11 GMT</noscript>)
	
	
	
	[<a href="/web/20090903220510/http://ja.doukaku.org/lang/other/">
	  Other
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #dfffdf;">2/2=1.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>InstallShield Scriptで書いてみました。

InstallShield Scriptは Windowsアプリケーション用のインストーラーを作成するための
言語です。

インストーラーを実行すると、年を入力するダイアログが表示されます。西暦を入力して
[次へ]ボタンを押すと、ダイアログに以下の形式でカレンダーが表示されます。

  e.g.
    2008/ 1
    日 月 火 水 木 金 土
           1  2  3  4  5
     6  7  8  9 10 11 12
    13 14 15 16 17 18 19
    20 21 22 23 24 25 26
    27 28 29 30 31
    
    (中略)
    
    2008/12
    日 月 火 水 木 金 土
        1  2  3  4  5  6
     7  8  9 10 11 12 13
    14 15 16 17 18 19 20
    21 22 23 24 25 26 27
    28 29 30 31

# InstallShield Profesional 7.01でビルドし、動作することを確認。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75</pre></td><td class="code"><div class="highlight"><pre>#include &quot;ifx.h&quot;

prototype CreateCalendar(BYREF LIST, NUMBER, NUMBER);
prototype GetDayOfWeek(NUMBER, NUMBER, NUMBER);
prototype GetEndOfMonth(NUMBER, NUMBER);
prototype IsLeapYear(NUMBER);

LIST   l;
NUMBER m, y;
STRING s;

program
    AskText(&quot;年を入力してください。(1-9999)&quot;, &quot;&quot;, s);
    if (StrToNum(y, s) &lt; ISERR_SUCCESS) then abort; endif;
    if (y &lt; 1 || y &gt; 9999) then abort; endif;

    l = ListCreate(STRINGLIST);
    if (l = LIST_NULL) then abort; endif;
    for m = 1 to 12
        CreateCalendar(l, y, m);
    endfor;
    SdShowInfoList(&quot;&quot;, &quot;&quot;, l);
    ListDestroy(l);

    abort;
endprogram

function CreateCalendar(l, y, m)
    NUMBER d, i, w;
    STRING s, t;
begin
    w = GetDayOfWeek(y, m, 1);
    d = GetEndOfMonth(y, m);

    NumToStr(s, y); t = s;
    NumToStr(s, m); if (StrLength(s) = 1) then s = &quot; &quot; + s; endif;
    ListAddString(l, t + &quot;/&quot; + s, AFTER); t = &quot;&quot;;
    ListAddString(l, &quot;日 月 火 水 木 金 土&quot;, AFTER);
    for i = 1 to w
        t = t + &quot;   &quot;;
    endfor;
    for i = 1 to d
        NumToStr(s, i);
        if (StrLength(s) = 1) then t = t + &quot; &quot; + s; else t = t + s; endif;
        if (GetDayOfWeek(y, m, i) = 6 || i = d) then
            ListAddString(l, t, AFTER); t = &quot;&quot;;
        else
            t = t + &quot; &quot;;
        endif;
    endfor;
    ListAddString(l, &quot;&quot;, AFTER);
end;

function GetDayOfWeek(y, m, d)
begin
    if (m &lt;= 2) then y = y - 1; m = m + 12; endif;
    return (5 * y / 4 - y / 100 + y / 400 + (26 * m + 16) / 10 + d) % 7;
end;

function GetEndOfMonth(y, m)
begin
    switch (m)
        case 1, 3, 5, 7, 8, 10, 12 : return 31;
        case 2                     : if (IsLeapYear(y)) then return 29; else return 28; endif;
        case 4, 6, 9, 11           : return 30;
    endswitch;
end;

function IsLeapYear(y)
begin
    if (y % 400 = 0) then return 1; endif;
    if (y % 100 = 0) then return 0; endif;
    if (y %   4 = 0) then return 1; endif;
    return 0;
end;
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5154/addtag/" class="addtag" id="addtag_5154">タグ</a>:
	
    
    <a href="/web/20090903220510/http://ja.doukaku.org/tag/InstallShield/">InstallShield</a>
    
    <a href="/web/20090903220510/http://ja.doukaku.org/tag/Script/">Script</a>
    
	&nbsp;

	
      [<a href="/web/20090903220510/http://ja.doukaku.org/lang/other/">
		Other
      </a>]
	  
      [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5154/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5154/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #dfffdf;"
  >2/2=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5154"
  >-</span><span
  class="button yellow"
  id="rating_z_5154"
  >0</span><span 
  class="button green"
  id="rating_p_5154"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090903220510/http://ja.doukaku.org/119/reply_to/5154/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment5162">
  <p class="banner"><a href="/web/20090903220510/http://ja.doukaku.org/user/448/" target="_top">naranja</a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/star_bronze.png" border=0/></a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5162/">#5162</a>(<script language="JavaScript">print_time(new Date("2008/01/04 08:11 GMT"));</script><noscript>2008/01/04 08:11 GMT</noscript>)
	
	
	
	[<a href="/web/20090903220510/http://ja.doukaku.org/lang/d/">
	  D
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  出力例 1 と同じ形式。
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></td><td class="code"><div class="highlight"><pre><span class="k">import</span> <span class="n">std</span>.<span class="n">stdio</span>;
<span class="k">import</span> <span class="n">std</span>.<span class="n">date</span>;

<span class="kt">void</span> <span class="n">main</span>(<span class="n">string</span>[] <span class="n">args</span>){
    <span class="k">auto</span> <span class="n">year</span> = <span class="n">args</span>[<span class="mi">1</span>];
    <span class="k">auto</span> <span class="n">newYearsDay</span> = <span class="n">parse</span>(<span class="s">&quot;Jan 01 &quot;</span> ~ <span class="n">year</span> ~ <span class="s">&quot; 00:00:00 GMT+0000&quot;</span>);
    <span class="k">if</span>(<span class="n">newYearsDay</span> == <span class="n">d_time_nan</span>){
        <span class="k">return</span>;
    }
    <span class="k">auto</span> <span class="n">wdayOffset</span> = <span class="n">WeekDay</span>(<span class="n">newYearsDay</span>);
    <span class="kt">int</span> <span class="n">total</span>;
    <span class="n">writefln</span>(<span class="s">&quot;#=Saturday, @=Sunday&quot;</span>);
    <span class="k">foreach</span>(<span class="n">i</span>, <span class="n">n</span>; [<span class="mi">31</span>, <span class="mi">28</span> + !!<span class="n">inLeapYear</span>(<span class="n">newYearsDay</span>), <span class="mi">31</span>, <span class="mi">30</span>, <span class="mi">31</span>, <span class="mi">30</span>, <span class="mi">31</span>, <span class="mi">31</span>, <span class="mi">30</span>, <span class="mi">31</span>, <span class="mi">30</span>, <span class="mi">31</span>]){
        <span class="n">writef</span>(<span class="n">year</span>, <span class="s">&quot;/&quot;</span>, <span class="n">i</span> + <span class="mi">1</span>);
        <span class="k">for</span>(<span class="kt">int</span> <span class="n">j</span> = <span class="mi">1</span>; <span class="n">j</span> &lt;= <span class="n">n</span>; <span class="n">j</span>++, <span class="n">total</span>++){
            <span class="n">writef</span>(<span class="s">&quot; &quot;</span>, [<span class="s">&quot;@&quot;</span>, <span class="s">&quot;&quot;</span>, <span class="s">&quot;&quot;</span>, <span class="s">&quot;&quot;</span>, <span class="s">&quot;&quot;</span>, <span class="s">&quot;&quot;</span>, <span class="s">&quot;#&quot;</span>][(<span class="n">wdayOffset</span> + <span class="n">total</span>) % <span class="mi">7</span>], <span class="n">j</span>);
        }
        <span class="n">writefln</span>();
    }
}
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5162/addtag/" class="addtag" id="addtag_5162">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090903220510/http://ja.doukaku.org/lang/d/">
		D
      </a>]
	  
      [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5162/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5162/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5162"
  >-</span><span
  class="button yellow"
  id="rating_z_5162"
  >0</span><span 
  class="button green"
  id="rating_p_5162"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090903220510/http://ja.doukaku.org/119/reply_to/5162/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment5177">
  <p class="banner"><a href="/web/20090903220510/http://ja.doukaku.org/user/646/" target="_top">silverwire</a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/star_silver.png" border=0/></a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5177/">#5177</a>(<script language="JavaScript">print_time(new Date("2008/01/04 17:46 GMT"));</script><noscript>2008/01/04 17:46 GMT</noscript>)
	
	
	
	[<a href="/web/20090903220510/http://ja.doukaku.org/lang/bash/">
	  Bash
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>「車輪の再発明」の誹りは免れませんが、Shell Scriptで書いてみました。

Bourne Shellでも動作するように書いたので、Unix系OSなら大半で動作すると思います。
時間のある時に AIX, HP-UX, Linux, Solaris などで動作確認してみます。

# 手元のCygwinで動作することを確認しました。

以下のワンライナーを実行することで、「年間カレンダー」を表示することが可能です。

  e.g.
    $ for i in `seq 1 12`; do ./cal.sh $i 2008; done</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61</pre></td><td class="code"><div class="highlight"><pre><span class="c">#!/bin/sh</span>

<span class="k">case</span> <span class="s2">&quot;`echo -e`&quot;</span> in
  -e<span class="o">)</span> echo_<span class="o">()</span> <span class="o">{</span> <span class="nb">echo</span>    <span class="s2">&quot;$@&quot;</span>; <span class="o">}</span>;;
   *<span class="o">)</span> echo_<span class="o">()</span> <span class="o">{</span> <span class="nb">echo</span> -e <span class="s2">&quot;$@&quot;</span>; <span class="o">}</span>;;
esac

<span class="k">case</span> <span class="s2">&quot;`echo_ &#39;\r&#39;`&quot;</span> in
  <span class="s1">&#39;\r&#39;</span><span class="o">)</span> <span class="k">case</span> <span class="s2">&quot;`(print X) 2&gt;/dev/null`&quot;</span> in
          X<span class="o">)</span> echo_<span class="o">()</span> <span class="o">{</span> print <span class="s2">&quot;$@&quot;</span>; <span class="o">}</span>;;
          *<span class="o">)</span> <span class="nv">PATH</span><span class="o">=</span>/usr/5bin:<span class="nv">$PATH</span>; <span class="nb">export </span>PATH;;
        esac
        ;;
esac

is_numeric<span class="o">()</span> <span class="o">{</span> <span class="k">return</span> <span class="s">`echo_ $1 | grep -E &#39;^[0-9]+$&#39; &gt;/dev/null 2&gt;&amp;1`</span>; <span class="o">}</span>

dow<span class="o">()</span> <span class="o">{</span>
  <span class="nv">y</span><span class="o">=</span><span class="nv">$1</span>; <span class="nv">m</span><span class="o">=</span><span class="nv">$2</span>
  <span class="o">[</span> <span class="nv">$2</span> -le <span class="m">2</span> <span class="o">]</span> &amp;&amp; <span class="o">{</span> <span class="nv">y</span><span class="o">=</span><span class="s">`expr $y - 1`; m=`expr $m + 12`</span>; <span class="o">}</span>
  expr \<span class="o">(</span> <span class="m">5</span> \* <span class="nv">$y</span> / <span class="m">4</span> - <span class="nv">$y</span> / <span class="m">100</span> + <span class="nv">$y</span> / <span class="m">400</span> + \<span class="o">(</span> <span class="m">26</span> \* <span class="nv">$m</span> + <span class="m">16</span> \<span class="o">)</span> / <span class="m">10</span> + <span class="nv">$3</span> \<span class="o">)</span> % 7
<span class="o">}</span>

eom<span class="o">()</span> <span class="o">{</span>
  <span class="k">case</span> <span class="nv">$2</span> in
    1|3|5|7|8|10|12<span class="o">)</span> echo_ 31;;
           4|6|9|11<span class="o">)</span> echo_ 30;;
                  2<span class="o">)</span> is_leap_year <span class="nv">$1</span> &amp;&amp; echo_ <span class="m">29</span> || echo_ 28;;
  esac
<span class="o">}</span>

is_leap_year<span class="o">()</span> <span class="o">{</span>
  <span class="o">[</span> <span class="s">`expr $1 % 400`</span> -eq <span class="m">0</span> <span class="o">]</span> &amp;&amp; <span class="k">return </span>0
  <span class="o">[</span> <span class="s">`expr $1 % 100`</span> -eq <span class="m">0</span> <span class="o">]</span> &amp;&amp; <span class="k">return </span>1
  <span class="o">[</span> <span class="s">`expr $1 %   4`</span> -eq <span class="m">0</span> <span class="o">]</span> &amp;&amp; <span class="k">return </span>0
  <span class="k">return </span>1
<span class="o">}</span>

main<span class="o">()</span> <span class="o">{</span>
  <span class="o">[</span> <span class="nv">$# </span>-ne <span class="m">2</span> <span class="o">]</span> &amp;&amp; <span class="o">{</span> echo_ <span class="s2">&quot;usage: $0 [month] [year]&quot;</span>; <span class="k">return </span>1; <span class="o">}</span>

  is_numeric <span class="nv">$1</span> || <span class="k">return </span>1; <span class="o">[</span> <span class="nv">$1</span> -lt <span class="m">1</span> -o <span class="nv">$1</span> -gt   <span class="m">12</span> <span class="o">]</span> &amp;&amp; <span class="k">return </span>1
  is_numeric <span class="nv">$2</span> || <span class="k">return </span>1; <span class="o">[</span> <span class="nv">$2</span> -lt <span class="m">1</span> -o <span class="nv">$2</span> -gt <span class="m">9999</span> <span class="o">]</span> &amp;&amp; <span class="k">return </span>1

  <span class="nv">w</span><span class="o">=</span><span class="s">`dow $2 $1 1`</span>
  <span class="nv">d</span><span class="o">=</span><span class="s">`eom $2 $1`</span>

  echo_ <span class="s2">&quot;$2/\c&quot;</span>; <span class="o">[</span> <span class="s">`echo_ &quot;$1\c&quot; | wc -m`</span> -eq <span class="m">1</span> <span class="o">]</span> &amp;&amp; echo_ <span class="s1">&#39; \c&#39;</span>; echo_ <span class="s2">&quot;$1&quot;</span>
  echo_ <span class="s1">&#39;Su Mo Tu We Th Fr Sa&#39;</span>
  <span class="k">for </span>i in <span class="s">`seq 1 $w`</span>; <span class="k">do </span>echo_ <span class="s1">&#39;   \c&#39;</span>; <span class="k">done</span>
<span class="k">  for </span>i in <span class="s">`seq 1 $d`</span>; <span class="k">do</span>
    <span class="o">[</span> <span class="s">`echo_ &quot;$i\c&quot; | wc -m`</span> -eq <span class="m">1</span> <span class="o">]</span> &amp;&amp; echo_ <span class="s1">&#39; \c&#39;</span>
    echo_ <span class="s2">&quot;$i\c&quot;</span>
    <span class="o">[</span> <span class="s">`dow $2 $1 $i`</span> -eq <span class="m">6</span> <span class="o">]</span> &amp;&amp; echo_ <span class="s1">&#39;&#39;</span> || echo_ <span class="s1">&#39; \c&#39;</span>
  <span class="k">done</span>
<span class="k">  </span>echo_ <span class="s1">&#39;\n&#39;</span>

  <span class="k">return </span>0
<span class="o">}</span>

main <span class="nv">$*</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5177/addtag/" class="addtag" id="addtag_5177">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090903220510/http://ja.doukaku.org/lang/bash/">
		Bash
      </a>]
	  
      [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5177/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5177/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5177"
  >-</span><span
  class="button yellow"
  id="rating_z_5177"
  >0</span><span 
  class="button green"
  id="rating_p_5177"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20090903220510/http://ja.doukaku.org/comment/5177/">
    2
    replies
  </a>

  [<a href="/web/20090903220510/http://ja.doukaku.org/119/reply_to/5177/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment5189">
  <p class="banner"><a href="/web/20090903220510/http://ja.doukaku.org/user/646/" target="_top">silverwire</a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/star_silver.png" border=0/></a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5189/">#5189</a>(<script language="JavaScript">print_time(new Date("2008/01/05 09:05 GMT"));</script><noscript>2008/01/05 09:05 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>ANSIカラーに対応してみました。

# ダム端末ではエスケープシーケンスがそのまま表示されるため、レイアウトが崩れます。

  e.g.
    53,54c54,59
    &lt;     echo_ "$i\c"
    &lt;     [ `dow $2 $1 $i` -eq 6 ] &amp;&amp; echo_ '' || echo_ ' \c'
    ---
    &gt;     case "`dow $2 $1 $i`" in
    &gt;       0) echo_ "\033[31m$i\033[m \c";;
    &gt;       6) echo_ "\033[34m$i\033[m"   ;;
    &gt;       *) echo_ "$i \c"              ;;
    &gt;     esac</pre>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5189/addtag/" class="addtag" id="addtag_5189">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5189"
  >-</span><span
  class="button yellow"
  id="rating_z_5189"
  >0</span><span 
  class="button green"
  id="rating_p_5189"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20090903220510/http://ja.doukaku.org/comment/5177/"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20090903220510/http://ja.doukaku.org/comment/5189/root/"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20090903220510/http://ja.doukaku.org/119/reply_to/5189/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment5203">
  <p class="banner"><a href="/web/20090903220510/http://ja.doukaku.org/user/646/" target="_top">silverwire</a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/star_silver.png" border=0/></a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5203/">#5203</a>(<script language="JavaScript">print_time(new Date("2008/01/05 19:46 GMT"));</script><noscript>2008/01/05 19:46 GMT</noscript>)
	
	
	
	[<a href="/web/20090903220510/http://ja.doukaku.org/lang/javascript/">
	  JavaScript
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>すでに JavaScript + HTMLによる解が提出されていますが、 SVGで出力してみたかったの
で、 ECMA Script + SVGで書いてみました。

calendar.svgなどの名前でファイルを保存し、ブラウザにドラッグアンドドロップすれば、
以下の形式でカレンダーが表示されます。

  e.g.
    2008/ 1
    日 月 火 水 木 金 土
           1  2  3  4  5
     6  7  8  9 10 11 12
    13 14 15 16 17 18 19
    20 21 22 23 24 25 26
    27 28 29 30 31

Firefox 2.0.0.8, Internet Explorer 6, Opera 9.23で動作を確認しました。まだ試して
いませんが、Safari 3でも動作すると思います。

[注意]
  * IEで表示する場合は、プラグインとしてAdobe SVG Viewerがインストールされている
    必要があります。
  * IEで SVGファイルを実行するとスクロールバーが表示されないため、カレンダーを全
    て見ることができませんでした。スクロールバーを表示するには、別途HTMLファイル
    を用意し、 embed要素の src属性に SVGファイルを指定してあげる必要があるのかも
    しれません。
  * Calendarオブジェクトに何もかも詰め込んでいるので、ソースが汚い点はお許しを。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76</pre></td><td class="code"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">xml</span> <span class="nx">version</span><span class="o">=</span><span class="s2">&quot;1.0&quot;</span> <span class="nx">encoding</span><span class="o">=</span><span class="s2">&quot;UTF-8&quot;</span><span class="o">?&gt;</span>
<span class="o">&lt;!</span><span class="nx">DOCTYPE</span> <span class="nx">svg</span> <span class="nx">PUBLIC</span> <span class="s2">&quot;-//W3C//DTD SVG 20010904//EN&quot;</span> <span class="s2">&quot;http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd&quot;</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nx">svg</span> <span class="nx">xmlns</span><span class="o">=</span><span class="s2">&quot;http://www.w3.org/2000/svg&quot;</span> <span class="nx">xmlns</span><span class="o">:</span><span class="nx">xlink</span><span class="o">=</span><span class="s2">&quot;http://www.w3.org/1999/xlink&quot;</span> <span class="nx">onload</span><span class="o">=</span><span class="s2">&quot;new Calendar(2008).draw(10, 10)&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text/ecmascript&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;!</span><span class="p">[</span><span class="nx">CDATA</span><span class="p">[</span>
        <span class="k">function</span> <span class="nx">$</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span> <span class="p">}</span>

        <span class="k">function</span> <span class="nx">isNumber</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="k">typeof</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;number&#39;</span> <span class="o">&amp;&amp;</span> <span class="nb">isFinite</span><span class="p">(</span><span class="nx">v</span><span class="p">);</span> <span class="p">}</span>

        <span class="k">var</span> <span class="nx">Calendar</span> <span class="o">=</span> <span class="k">function</span> <span class="p">(</span><span class="nx">y</span> <span class="c">/* 年 */</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">isNumber</span><span class="p">(</span><span class="nx">y</span><span class="p">))</span> <span class="k">return</span><span class="o">;</span>

            <span class="k">this</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="nx">y</span><span class="o">;</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">f</span> <span class="o">=</span> <span class="mi">14</span><span class="o">;</span> <span class="c">// フォントサイズ</span>

            <span class="k">this</span><span class="p">.</span><span class="nx">isLeapYear</span> <span class="o">=</span> <span class="k">function</span> <span class="p">(</span><span class="nx">y</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">y</span> <span class="o">%</span> <span class="mi">4</span> <span class="o">?</span> <span class="kc">true</span> <span class="o">:</span> <span class="nx">y</span> <span class="o">%</span> <span class="mi">100</span> <span class="o">?</span> <span class="kc">false</span> <span class="o">:</span> <span class="nx">y</span> <span class="o">%</span> <span class="mi">400</span> <span class="o">?</span> <span class="kc">true</span> <span class="o">:</span> <span class="kc">false</span><span class="o">;</span> <span class="p">};</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">draw</span> <span class="o">=</span> <span class="k">function</span> <span class="p">(</span><span class="nx">l</span> <span class="c">/* 左部余白 */</span><span class="o">,</span> <span class="nx">t</span> <span class="c">/* 上部余白 */</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="p">[</span> <span class="mi">31</span><span class="o">,</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isLeapYear</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">y</span><span class="p">))</span> <span class="o">?</span> <span class="mi">28</span> <span class="o">:</span> <span class="mi">29</span><span class="o">,</span> <span class="mi">31</span><span class="o">,</span> <span class="mi">30</span><span class="o">,</span> <span class="mi">31</span><span class="o">,</span> <span class="mi">30</span><span class="o">,</span> <span class="mi">31</span><span class="o">,</span> <span class="mi">31</span><span class="o">,</span> <span class="mi">30</span><span class="o">,</span> <span class="mi">31</span><span class="o">,</span> <span class="mi">30</span><span class="o">,</span> <span class="mi">31</span> <span class="p">];</span>
                <span class="k">var</span> <span class="nx">w</span> <span class="o">=</span> <span class="p">[</span> <span class="s1">&#39;日&#39;</span><span class="o">,</span> <span class="s1">&#39;月&#39;</span><span class="o">,</span> <span class="s1">&#39;火&#39;</span><span class="o">,</span> <span class="s1">&#39;水&#39;</span><span class="o">,</span> <span class="s1">&#39;木&#39;</span><span class="o">,</span> <span class="s1">&#39;金&#39;</span><span class="o">,</span> <span class="s1">&#39;土&#39;</span> <span class="p">];</span>
                <span class="k">var</span> <span class="nx">i</span><span class="o">,</span> <span class="nx">m</span><span class="o">,</span> <span class="nx">o</span><span class="o">,</span> <span class="nx">s</span><span class="o">,</span> <span class="nx">x</span><span class="o">,</span> <span class="nx">y</span><span class="o">;</span>

                <span class="nx">s</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">f</span> <span class="sr">/ 2 /</span><span class="o">*</span> <span class="err">余白</span> <span class="o">*/;</span> <span class="nx">y</span> <span class="o">=</span> <span class="nx">t</span><span class="o">;</span>
                <span class="k">for</span> <span class="p">(</span><span class="nx">m</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="nx">m</span> <span class="o">&lt;</span> <span class="mi">12</span><span class="o">;</span> <span class="nx">m</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
                    <span class="c">// 年, 月</span>
                    <span class="nx">x</span> <span class="o">=</span> <span class="nx">l</span><span class="o">;</span> <span class="nx">y</span> <span class="o">+=</span> <span class="k">this</span><span class="p">.</span><span class="nx">f</span> <span class="o">+</span> <span class="nx">s</span><span class="o">;</span>
                    <span class="nx">o</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElementNS</span><span class="p">(</span><span class="s1">&#39;http://www.w3.org/2000/svg&#39;</span><span class="o">,</span> <span class="s1">&#39;text&#39;</span><span class="p">);</span>
                    <span class="nx">o</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="o">,</span> <span class="nx">x</span><span class="p">);</span>
                    <span class="nx">o</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="o">,</span> <span class="nx">y</span><span class="p">);</span>
                    <span class="nx">o</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s1">&#39;font-family&#39;</span><span class="o">,</span> <span class="s1">&#39;MS Gothic&#39;</span><span class="p">);</span>
                    <span class="nx">o</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s1">&#39;font-size&#39;</span><span class="o">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">f</span> <span class="o">+</span> <span class="s1">&#39;px&#39;</span><span class="p">);</span>
                    <span class="nx">o</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s1">&#39;text-rendering&#39;</span><span class="o">,</span> <span class="s1">&#39;optimizeLegibility&#39;</span><span class="p">);</span>
                    <span class="nx">o</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">createTextNode</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">y</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="p">((</span><span class="nx">m</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">)</span> <span class="o">?</span> <span class="s1">&#39; &#39;</span> <span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="nx">m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)));</span>
                    <span class="nb">document</span><span class="p">.</span><span class="nx">rootElement</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">o</span><span class="p">);</span>
                    <span class="c">// 曜日</span>
                    <span class="nx">x</span> <span class="o">=</span> <span class="nx">l</span><span class="o">;</span> <span class="nx">y</span> <span class="o">+=</span> <span class="k">this</span><span class="p">.</span><span class="nx">f</span> <span class="o">+</span> <span class="nx">s</span><span class="o">;</span>
                    <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">w</span><span class="p">.</span><span class="nx">length</span><span class="o">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
                        <span class="nx">o</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElementNS</span><span class="p">(</span><span class="s1">&#39;http://www.w3.org/2000/svg&#39;</span><span class="o">,</span> <span class="s1">&#39;text&#39;</span><span class="p">);</span>
                        <span class="nx">o</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="o">,</span> <span class="nx">x</span><span class="p">);</span>
                        <span class="nx">o</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="o">,</span> <span class="nx">y</span><span class="p">);</span>
                        <span class="nx">o</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s1">&#39;font-family&#39;</span><span class="o">,</span> <span class="s1">&#39;MS Gothic&#39;</span><span class="p">);</span>
                        <span class="nx">o</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s1">&#39;font-size&#39;</span><span class="o">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">f</span> <span class="o">+</span> <span class="s1">&#39;px&#39;</span><span class="p">);</span>
                        <span class="nx">o</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s1">&#39;text-rendering&#39;</span><span class="o">,</span> <span class="s1">&#39;optimizeLegibility&#39;</span><span class="p">);</span>
                        <span class="nx">o</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">createTextNode</span><span class="p">(</span><span class="nx">w</span><span class="p">[</span><span class="nx">i</span><span class="p">]));</span>
                        <span class="nb">document</span><span class="p">.</span><span class="nx">rootElement</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">o</span><span class="p">);</span>
                        <span class="nx">x</span> <span class="o">+=</span> <span class="k">this</span><span class="p">.</span><span class="nx">f</span> <span class="o">+</span> <span class="nx">s</span><span class="o">;</span>
                    <span class="p">}</span>
                    <span class="c">// 日</span>
                    <span class="nx">x</span> <span class="o">=</span> <span class="nx">l</span> <span class="o">+</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">f</span> <span class="o">+</span> <span class="nx">s</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">y</span><span class="o">,</span> <span class="nx">m</span><span class="o">,</span> <span class="mi">1</span><span class="p">).</span><span class="nx">getDay</span><span class="p">());</span> <span class="nx">y</span> <span class="o">+=</span> <span class="k">this</span><span class="p">.</span><span class="nx">f</span> <span class="o">+</span> <span class="nx">s</span><span class="o">;</span>
                    <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">d</span><span class="p">[</span><span class="nx">m</span><span class="p">]</span> <span class="o">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
                        <span class="nx">o</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElementNS</span><span class="p">(</span><span class="s1">&#39;http://www.w3.org/2000/svg&#39;</span><span class="o">,</span> <span class="s1">&#39;text&#39;</span><span class="p">);</span>
                        <span class="nx">o</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="o">,</span> <span class="p">(</span><span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">)</span> <span class="o">?</span> <span class="nx">x</span> <span class="o">+</span> <span class="nx">s</span> <span class="o">:</span> <span class="nx">x</span><span class="p">);</span>
                        <span class="nx">o</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="o">,</span> <span class="nx">y</span><span class="p">);</span>
                        <span class="nx">o</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s1">&#39;font-family&#39;</span><span class="o">,</span> <span class="s1">&#39;MS Gothic&#39;</span><span class="p">);</span>
                        <span class="nx">o</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s1">&#39;font-size&#39;</span><span class="o">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">f</span> <span class="o">+</span> <span class="s1">&#39;px&#39;</span><span class="p">);</span>
                        <span class="nx">o</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s1">&#39;text-rendering&#39;</span><span class="o">,</span> <span class="s1">&#39;optimizeLegibility&#39;</span><span class="p">);</span>
                        <span class="nx">o</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">createTextNode</span><span class="p">(</span><span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">));</span>
                        <span class="nb">document</span><span class="p">.</span><span class="nx">rootElement</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">o</span><span class="p">);</span>
                        <span class="k">if</span> <span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">y</span><span class="o">,</span> <span class="nx">m</span><span class="o">,</span> <span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">).</span><span class="nx">getDay</span><span class="p">()</span> <span class="o">==</span> <span class="mi">6</span><span class="p">)</span> <span class="p">{</span>
                            <span class="nx">x</span> <span class="o">=</span> <span class="nx">l</span><span class="o">;</span> <span class="nx">y</span> <span class="o">+=</span> <span class="k">this</span><span class="p">.</span><span class="nx">f</span> <span class="o">+</span> <span class="nx">s</span><span class="o">;</span>
                        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                            <span class="nx">x</span> <span class="o">+=</span> <span class="k">this</span><span class="p">.</span><span class="nx">f</span> <span class="o">+</span> <span class="nx">s</span><span class="o">;</span>
                        <span class="p">}</span>
                    <span class="p">}</span>
                    <span class="nx">y</span> <span class="o">+=</span> <span class="k">this</span><span class="p">.</span><span class="nx">f</span> <span class="o">+</span> <span class="nx">s</span><span class="o">;</span>
                <span class="p">}</span>
                <span class="c">// ビューポート</span>
                <span class="nb">document</span><span class="p">.</span><span class="nx">rootElement</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s1">&#39;width&#39;</span><span class="o">,</span> <span class="nx">l</span> <span class="o">+</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">f</span> <span class="o">+</span> <span class="nx">s</span><span class="p">)</span> <span class="o">*</span> <span class="nx">w</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>
                <span class="nb">document</span><span class="p">.</span><span class="nx">rootElement</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s1">&#39;height&#39;</span><span class="o">,</span> <span class="nx">y</span><span class="p">);</span>
                <span class="c">// ビューボックス</span>
                <span class="nb">document</span><span class="p">.</span><span class="nx">rootElement</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s1">&#39;viewBox&#39;</span><span class="o">,</span> <span class="s1">&#39;0 0 &#39;</span> <span class="o">+</span> <span class="p">(</span><span class="nx">l</span> <span class="o">+</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">f</span> <span class="o">+</span> <span class="nx">s</span><span class="p">)</span> <span class="o">*</span> <span class="nx">w</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="nx">y</span><span class="p">);</span>
                <span class="nb">document</span><span class="p">.</span><span class="nx">rootElement</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s1">&#39;preserveAspectRatio&#39;</span><span class="o">,</span> <span class="s1">&#39;xMinYMin slice&#39;</span><span class="p">);</span>
            <span class="p">};</span>
        <span class="p">};</span>
    <span class="p">]]</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="nx">script</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="nx">svg</span><span class="o">&gt;</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5203/addtag/" class="addtag" id="addtag_5203">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090903220510/http://ja.doukaku.org/lang/javascript/">
		JavaScript
      </a>]
	  
      [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5203/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5203/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5203"
  >-</span><span
  class="button yellow"
  id="rating_z_5203"
  >0</span><span 
  class="button green"
  id="rating_p_5203"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20090903220510/http://ja.doukaku.org/comment/5203/">
    1
    reply
  </a>

  [<a href="/web/20090903220510/http://ja.doukaku.org/119/reply_to/5203/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment5222">
  <p class="banner"><a href="/web/20090903220510/http://ja.doukaku.org/user/646/" target="_top">silverwire</a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/star_silver.png" border=0/></a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5222/">#5222</a>(<script language="JavaScript">print_time(new Date("2008/01/08 07:14 GMT"));</script><noscript>2008/01/08 07:14 GMT</noscript>)
	
	
	
	[<a href="/web/20090903220510/http://ja.doukaku.org/lang/bash/">
	  Bash
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>いくつかのUnix系OSでは正常に動作しなかったので、若干修正しました。

以下のOSで動作を確認。

  AIX     (5.2, 5.3)
  HP-UX   (11.00, 11.11, 11.23)
  Linux   (2.2, 2.4, 2.6)
  Solaris (5.5, 5.6, 5.7, 5.9, 5.10)</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68</pre></td><td class="code"><div class="highlight"><pre><span class="c">#!/bin/sh</span>

<span class="k">case</span> <span class="s2">&quot;`echo -e`&quot;</span> in
  -e<span class="o">)</span> echo_<span class="o">()</span> <span class="o">{</span> <span class="nb">echo</span>    <span class="s2">&quot;$@&quot;</span>; <span class="o">}</span>;;
   *<span class="o">)</span> echo_<span class="o">()</span> <span class="o">{</span> <span class="nb">echo</span> -e <span class="s2">&quot;$@&quot;</span>; <span class="o">}</span>;;
esac

<span class="k">case</span> <span class="s2">&quot;`echo_ &#39;\r&#39;`&quot;</span> in
  <span class="s1">&#39;\r&#39;</span><span class="o">)</span> <span class="k">case</span> <span class="s2">&quot;`(print X) 2&gt;/dev/null`&quot;</span> in
          X<span class="o">)</span> echo_<span class="o">()</span> <span class="o">{</span> print <span class="s2">&quot;$@&quot;</span>; <span class="o">}</span>;;
          *<span class="o">)</span> <span class="nv">PATH</span><span class="o">=</span>/usr/5bin:<span class="nv">$PATH</span>; <span class="nb">export </span>PATH;;
        esac
        ;;
esac

<span class="o">(</span><span class="nb">echo</span> <span class="s1">&#39;&#39;</span> | grep -E <span class="s1">&#39;&#39;</span> &gt;/dev/null 2&gt;&amp;1<span class="o">)</span> &amp;&amp; grep_<span class="o">()</span> <span class="o">{</span> grep <span class="s2">&quot;$@&quot;</span>; <span class="o">}</span> || grep_<span class="o">()</span> <span class="o">{</span> /usr/xpg4/bin/grep <span class="s2">&quot;$@&quot;</span>; <span class="o">}</span>

seq_<span class="o">()</span> <span class="o">{</span> <span class="nv">i</span><span class="o">=</span><span class="nv">$1</span>; <span class="k">while</span> <span class="o">[</span> <span class="nv">$i</span> -le <span class="nv">$2</span> <span class="o">]</span>; <span class="k">do </span>echo_ <span class="s2">&quot;$i \c&quot;</span>; <span class="nv">i</span><span class="o">=</span><span class="s">`expr $i + 1`</span>; <span class="k">done</span>; <span class="o">}</span>

is_numeric<span class="o">()</span> <span class="o">{</span> <span class="k">return</span> <span class="s">`echo_ $1 | grep_ -E &#39;^[0-9]+$&#39; &gt;/dev/null 2&gt;&amp;1`</span>; <span class="o">}</span>

dow<span class="o">()</span> <span class="o">{</span>
  <span class="nv">y</span><span class="o">=</span><span class="nv">$1</span>; <span class="nv">m</span><span class="o">=</span><span class="nv">$2</span>
  <span class="o">[</span> <span class="nv">$2</span> -le <span class="m">2</span> <span class="o">]</span> &amp;&amp; <span class="o">{</span> <span class="nv">y</span><span class="o">=</span><span class="s">`expr $y - 1`; m=`expr $m + 12`</span>; <span class="o">}</span>
  expr \<span class="o">(</span> <span class="m">5</span> \* <span class="nv">$y</span> / <span class="m">4</span> - <span class="nv">$y</span> / <span class="m">100</span> + <span class="nv">$y</span> / <span class="m">400</span> + \<span class="o">(</span> <span class="m">26</span> \* <span class="nv">$m</span> + <span class="m">16</span> \<span class="o">)</span> / <span class="m">10</span> + <span class="nv">$3</span> \<span class="o">)</span> % 7
<span class="o">}</span>

eom<span class="o">()</span> <span class="o">{</span>
  <span class="k">case</span> <span class="nv">$2</span> in
    1|3|5|7|8|10|12<span class="o">)</span> echo_ 31;;
           4|6|9|11<span class="o">)</span> echo_ 30;;
                  2<span class="o">)</span> is_leap_year <span class="nv">$1</span> &amp;&amp; echo_ <span class="m">29</span> || echo_ 28;;
  esac
<span class="o">}</span>

is_leap_year<span class="o">()</span> <span class="o">{</span>
  <span class="o">[</span> <span class="s">`expr $1 % 400`</span> -eq <span class="m">0</span> <span class="o">]</span> &amp;&amp; <span class="k">return </span>0
  <span class="o">[</span> <span class="s">`expr $1 % 100`</span> -eq <span class="m">0</span> <span class="o">]</span> &amp;&amp; <span class="k">return </span>1
  <span class="o">[</span> <span class="s">`expr $1 %   4`</span> -eq <span class="m">0</span> <span class="o">]</span> &amp;&amp; <span class="k">return </span>0
  <span class="k">return </span>1
<span class="o">}</span>

main<span class="o">()</span> <span class="o">{</span>
  <span class="o">[</span> <span class="nv">$# </span>-ne <span class="m">2</span> <span class="o">]</span> &amp;&amp; <span class="o">{</span> echo_ <span class="s2">&quot;usage: $0 [month] [year]&quot;</span>; <span class="k">return </span>1; <span class="o">}</span>

  is_numeric <span class="nv">$1</span> || <span class="k">return </span>1; <span class="o">[</span> <span class="nv">$1</span> -lt <span class="m">1</span> -o <span class="nv">$1</span> -gt   <span class="m">12</span> <span class="o">]</span> &amp;&amp; <span class="k">return </span>1
  is_numeric <span class="nv">$2</span> || <span class="k">return </span>1; <span class="o">[</span> <span class="nv">$2</span> -lt <span class="m">1</span> -o <span class="nv">$2</span> -gt <span class="m">9999</span> <span class="o">]</span> &amp;&amp; <span class="k">return </span>1

  <span class="nv">w</span><span class="o">=</span><span class="s">`dow $2 $1 1`</span>
  <span class="nv">d</span><span class="o">=</span><span class="s">`eom $2 $1`</span>

  echo_ <span class="s2">&quot;$2/\c&quot;</span>; <span class="o">[</span> <span class="s">`echo_ &quot;$1\c&quot; | wc -c`</span> -eq <span class="m">1</span> <span class="o">]</span> &amp;&amp; echo_ <span class="s1">&#39; \c&#39;</span>; echo_ <span class="s2">&quot;$1&quot;</span>
  echo_ <span class="s1">&#39;Su Mo Tu We Th Fr Sa&#39;</span>
  <span class="k">for </span>i in <span class="s">`seq_ 1 $w`</span>; <span class="k">do </span>echo_ <span class="s1">&#39;   \c&#39;</span>; <span class="k">done</span>
<span class="k">  for </span>i in <span class="s">`seq_ 1 $d`</span>; <span class="k">do</span>
    <span class="o">[</span> <span class="s">`echo_ &quot;$i\c&quot; | wc -c`</span> -eq <span class="m">1</span> <span class="o">]</span> &amp;&amp; echo_ <span class="s1">&#39; \c&#39;</span>
    <span class="k">case</span> <span class="s2">&quot;`dow $2 $1 $i`&quot;</span> in
      0<span class="o">)</span> echo_ <span class="s2">&quot;\033[31m$i\033[m \c&quot;</span>;;
      6<span class="o">)</span> echo_ <span class="s2">&quot;\033[34m$i\033[m&quot;</span>   ;;
      *<span class="o">)</span> echo_ <span class="s2">&quot;$i \c&quot;</span>              ;;
    esac
  <span class="k">done</span>
<span class="k">  </span>echo_ <span class="s1">&#39;\n&#39;</span>

  <span class="k">return </span>0
<span class="o">}</span>

main <span class="nv">$*</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5222/addtag/" class="addtag" id="addtag_5222">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090903220510/http://ja.doukaku.org/lang/bash/">
		Bash
      </a>]
	  
      [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5222/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5222/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5222"
  >-</span><span
  class="button yellow"
  id="rating_z_5222"
  >0</span><span 
  class="button green"
  id="rating_p_5222"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20090903220510/http://ja.doukaku.org/comment/5177/"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20090903220510/http://ja.doukaku.org/comment/5222/root/"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20090903220510/http://ja.doukaku.org/119/reply_to/5222/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment5223">
  <p class="banner"><a href="/web/20090903220510/http://ja.doukaku.org/user/646/" target="_top">silverwire</a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/star_silver.png" border=0/></a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5223/">#5223</a>(<script language="JavaScript">print_time(new Date("2008/01/08 07:16 GMT"));</script><noscript>2008/01/08 07:16 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>Safari 3.0.4 (Windows版)で試したところ文字化けが発生したので、フォント指定を以下
のように変更して表示を確認。

  e.g.
    29c29, 40c40, 53c53
    &lt; o.setAttribute('font-family', 'monospace');
    ---
    &gt; o.setAttribute('font-family', 'MS Gothic');</pre>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5223/addtag/" class="addtag" id="addtag_5223">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5223"
  >-</span><span
  class="button yellow"
  id="rating_z_5223"
  >0</span><span 
  class="button green"
  id="rating_p_5223"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20090903220510/http://ja.doukaku.org/comment/5203/"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20090903220510/http://ja.doukaku.org/comment/5223/root/"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20090903220510/http://ja.doukaku.org/119/reply_to/5223/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment5450">
  <p class="banner"><a href="/web/20090903220510/http://ja.doukaku.org/user/685/" target="_top">Nemo</a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5450/">#5450</a>(<script language="JavaScript">print_time(new Date("2008/01/24 17:07 GMT"));</script><noscript>2008/01/24 17:07 GMT</noscript>)
	
	
	
	[<a href="/web/20090903220510/http://ja.doukaku.org/lang/postscript/">
	  PostScript
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffefef;">-1/1=-1.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  PostScript 版です。A4一枚に出力します。
年号を変更するときには先頭部の書き換えが必要です。

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76</pre></td><td class="code"><div class="highlight"><pre>%!PS

/Year 2008 def

% Design Parameters 
/Columns 3 def
/FontSize 10 def
20 600  /Y0 exch def    /X0 exch def    % Top Left Position
200 150 /VMY exch def   /VMX exch def   % Size of 1 Month
20 13   /VY exch def    /VX exch def    % Size of 1 Day

% Color / Font Settings , Tables
% [ Sunday Monday ....  Saturday ]
/WColorR { [1 0 0 0 0 0 0] } def
/WColorG { [0 0 0 0 0 0 0] } def
/WColorB { [0 0 0 0 0 0 1] } def
/WFont { [ /Times-Bold /Times-Roman /Times-Roman /Times-Roman /Times-Roman
     /Times-Roman  /Times-Bold ] } def
/MonthName {[(January) (February) (March) (April) (May) (June)
 (July) (Augusut) (September) (October) (November) (December)]} def
/WeekdayName {[(Sun) (Mon) (Tue) (Wed) (Thu) (Fri) (Sat)]} def
/MDays { [31 28 31 30 31 30 31 31 30 31 30 31] } def

% -------------------------------------------------------------------------
/MonthFont {/Times-Roman findfont FontSize 2 mul scalefont setfont 0 setgray} \
def
/SetFont { dup WFont exch get findfont FontSize scalefont setfont
    dup WColorR exch get exch dup WColorG exch get exch
    WColorB exch get setrgbcolor
} def

/POS { VY mul YM0 exch sub exch VX mul XM0 add exch moveto } def
/POS2 { WOffset add dup 7 mod exch 7 idiv 2 add POS } def


/LeapYear {dup 400 mod 0 eq exch dup 100 mod 0 eq not
    exch 4 mod 0 eq and or } def
/MDay { dup MDays exch get exch 1 eq Year LeapYear and { 1 add } if } def
/ZellerFomula {
    dup 2 le { 12 add exch 1 sub exch } if
    13 mul 8 add 5 idiv exch dup 5 mul 4 idiv exch dup 100 idiv exch
    400 idiv exch sub add add 1 add 7 mod
} def

/DrawTitle {
    X0 150 add Y0 50 add moveto
    /Times-Italic findfont 100 scalefont setfont
    Year 4 string cvs show
} def

% -------------- Main Program -----------------
DrawTitle
0 1 11 {
    /Month exch def
    MonthFont
    /XM0 X0 Month Columns mod VMX mul add def
    /YM0 Y0 Month Columns idiv VMY mul sub def
    XM0 YM0 moveto
    Month 1 add 4 string cvs show
    MonthName Month get 10 0 rmoveto show
    0 1 6 {
    dup SetFont
    dup 1 POS
    WeekdayName exch get show
    } for
    /WOffset Year Month 1 add ZellerFomula def
    0 1 Month MDay 1 sub {
    dup POS2
    dup WOffset add 7 mod SetFont
    1 add 3 string cvs show
    } for
    grestore

} for

showpage
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5450/addtag/" class="addtag" id="addtag_5450">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090903220510/http://ja.doukaku.org/lang/postscript/">
		PostScript
      </a>]
	  
      [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5450/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5450/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffefef;"
  >-1/1=-1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5450"
  >-</span><span
  class="button yellow"
  id="rating_z_5450"
  >0</span><span 
  class="button green"
  id="rating_p_5450"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20090903220510/http://ja.doukaku.org/comment/5450/">
    1
    reply
  </a>

  [<a href="/web/20090903220510/http://ja.doukaku.org/119/reply_to/5450/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment5452">
  <p class="banner"><a href="/web/20090903220510/http://ja.doukaku.org/user/685/" target="_top">Nemo</a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5452/">#5452</a>(<script language="JavaScript">print_time(new Date("2008/01/24 17:55 GMT"));</script><noscript>2008/01/24 17:55 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>またも失敗。
72行は不要です。

月曜始まりにするには
4行目に
/StartMonday true def
を追加
33行目変更
/POS2 { WOffset StartMonday { 6 add 7 mod } if
    add dup 7 mod exch 7 idiv 2 add POS } def
63行目変更
        dup StartMonday { 6 add 7 mod } if 1 POS 
</pre>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5452/addtag/" class="addtag" id="addtag_5452">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5452"
  >-</span><span
  class="button yellow"
  id="rating_z_5452"
  >0</span><span 
  class="button green"
  id="rating_p_5452"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20090903220510/http://ja.doukaku.org/comment/5450/"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20090903220510/http://ja.doukaku.org/comment/5452/root/"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20090903220510/http://ja.doukaku.org/119/reply_to/5452/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment5582">
  <p class="banner"><a href="/web/20090903220510/http://ja.doukaku.org/user/655/" target="_top">sotarok</a>

	
	&nbsp;
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5582/">#5582</a>(<script language="JavaScript">print_time(new Date("2008/01/30 20:36 GMT"));</script><noscript>2008/01/30 20:36 GMT</noscript>)
	
	
	
	[<a href="/web/20090903220510/http://ja.doukaku.org/lang/c/">
	  C
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>C言語復習中です．　


% ./a.out 2008
Calendar 2008 : #=Sun @=Sat
Jan | 01 02 03 04 @05 #06 07 08 09 10 11 @12 #13 14 15 16 17 18 @19 #20 21 22 23 24 25 @26 #27 28 29 30 31 
Feb | 01 @02 #03 04 05 06 07 08 @09 #10 11 12 13 14 15 @16 #17 18 19 20 21 22 @23 #24 25 26 27 28 29 
Mar | @01 #02 03 04 05 06 07 @08 #09 10 11 12 13 14 @15 #16 17 18 19 20 21 @22 #23 24 25 26 27 28 @29 #30 31 
Apr | 01 02 03 04 @05 #06 07 08 09 10 11 @12 #13 14 15 16 17 18 @19 #20 21 22 23 24 25 @26 #27 28 29 30 
May | 01 02 @03 #04 05 06 07 08 09 @10 #11 12 13 14 15 16 @17 #18 19 20 21 22 23 @24 #25 26 27 28 29 30 @31 
Jun | #01 02 03 04 05 06 @07 #08 09 10 11 12 13 @14 #15 16 17 18 19 20 @21 #22 23 24 25 26 27 @28 #29 30 
Jul | 01 02 03 04 @05 #06 07 08 09 10 11 @12 #13 14 15 16 17 18 @19 #20 21 22 23 24 25 @26 #27 28 29 30 31 
Aug | 01 @02 #03 04 05 06 07 08 @09 #10 11 12 13 14 15 @16 #17 18 19 20 21 22 @23 #24 25 26 27 28 29 @30 #31 
Sep | 01 02 03 04 05 @06 #07 08 09 10 11 12 @13 #14 15 16 17 18 19 @20 #21 22 23 24 25 26 @27 #28 29 30 
Oct | 01 02 03 @04 #05 06 07 08 09 10 @11 #12 13 14 15 16 17 @18 #19 20 21 22 23 24 @25 #26 27 28 29 30 31 
Nov | @01 #02 03 04 05 06 07 @08 #09 10 11 12 13 14 @15 #16 17 18 19 20 21 @22 #23 24 25 26 27 28 @29 #30 
Dec | 01 02 03 04 05 @06 #07 08 09 10 11 12 @13 #14 15 16 17 18 19 @20 #21 22 23 24 25 26 @27 #28 29 30 31 </pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41</pre></td><td class="code"><div class="highlight"><pre><span class="cp">#include&lt;stdio.h&gt;</span>
<span class="cp">#include&lt;time.h&gt;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">d</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="kt">char</span> <span class="n">date</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span> <span class="n">date_m</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
    <span class="n">time_t</span> <span class="n">date_tmp</span><span class="p">;</span>
    <span class="k">struct</span> <span class="n">tm</span> <span class="o">*</span><span class="n">date_t</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">year</span> <span class="o">=</span> <span class="n">atoi</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
    
    <span class="n">time</span><span class="p">(</span><span class="o">&amp;</span><span class="n">date_tmp</span><span class="p">);</span>
    <span class="n">date_t</span> <span class="o">=</span> <span class="n">localtime</span><span class="p">(</span><span class="o">&amp;</span><span class="n">date_tmp</span><span class="p">);</span>
    
    <span class="n">date_t</span><span class="o">-&gt;</span><span class="n">tm_year</span> <span class="o">=</span> <span class="n">year</span> <span class="o">-</span> <span class="mi">1900</span><span class="p">;</span>
    <span class="n">date_t</span><span class="o">-&gt;</span><span class="n">tm_mon</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="n">date_t</span><span class="o">-&gt;</span><span class="n">tm_mday</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Calendar %d : #=Sun @=Sat&quot;</span><span class="p">,</span> <span class="n">year</span><span class="p">);</span>

    <span class="k">while</span> <span class="p">(</span><span class="n">year</span> <span class="o">==</span> <span class="n">date_t</span><span class="o">-&gt;</span><span class="n">tm_year</span> <span class="o">+</span> <span class="mi">1900</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">d</span> <span class="o">&lt;</span> <span class="n">date_t</span><span class="o">-&gt;</span><span class="n">tm_mon</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
            <span class="n">d</span> <span class="o">=</span> <span class="n">date_t</span><span class="o">-&gt;</span><span class="n">tm_mon</span><span class="p">;</span>
            <span class="n">strftime</span><span class="p">(</span><span class="n">date_m</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s">&quot;%b&quot;</span><span class="p">,</span> <span class="n">date_t</span><span class="p">);</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s | &quot;</span><span class="p">,</span>  <span class="n">date_m</span><span class="p">);</span>
        <span class="p">}</span>
        
        <span class="k">if</span> <span class="p">(</span><span class="n">date_t</span><span class="o">-&gt;</span><span class="n">tm_wday</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">&quot;#&quot;</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">date_t</span><span class="o">-&gt;</span><span class="n">tm_wday</span> <span class="o">==</span> <span class="mi">6</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">&quot;@&quot;</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="n">strftime</span><span class="p">(</span><span class="n">date</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s">&quot;%d&quot;</span><span class="p">,</span> <span class="n">date_t</span><span class="p">);</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s &quot;</span><span class="p">,</span>  <span class="n">date</span><span class="p">);</span>
        <span class="n">date_t</span><span class="o">-&gt;</span><span class="n">tm_mday</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="n">date_tmp</span> <span class="o">=</span> <span class="n">mktime</span><span class="p">(</span><span class="n">date_t</span><span class="p">);</span>
        <span class="n">date_t</span> <span class="o">=</span> <span class="n">localtime</span><span class="p">(</span><span class="o">&amp;</span><span class="n">date_tmp</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="n">putchar</span><span class="p">(</span><span class="sc">&#39;\n&#39;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5582/addtag/" class="addtag" id="addtag_5582">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090903220510/http://ja.doukaku.org/lang/c/">
		C
      </a>]
	  
      [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5582/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5582/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5582"
  >-</span><span
  class="button yellow"
  id="rating_z_5582"
  >0</span><span 
  class="button green"
  id="rating_p_5582"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090903220510/http://ja.doukaku.org/119/reply_to/5582/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment5852">
  <p class="banner"><a href="/web/20090903220510/http://ja.doukaku.org/user/376/" target="_top">カノエ</a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/star_silver.png" border=0/></a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5852/">#5852</a>(<script language="JavaScript">print_time(new Date("2008/02/26 15:01 GMT"));</script><noscript>2008/02/26 15:01 GMT</noscript>)
	
	
	
	[<a href="/web/20090903220510/http://ja.doukaku.org/lang/sql/">
	  SQL
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>365行(or 366行)をだらーっと出力しますが、年間のカレンダーには一応なっています。

+------------------------+
| date                   |
+------------------------+
| 2008/1/1 (Tuesday)     | 
| 2008/1/2 (Wednesday)   | 
| 2008/1/3 (Thursday)    | 
(略)
| 2008/12/29 (Monday)    | 
| 2008/12/30 (Tuesday)   | 
| 2008/12/31 (Wednesday) | 
+------------------------+
</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></td><td class="code"><div class="highlight"><pre><span class="c1">-- いつものように数字を用意しておく</span>
<span class="k">DROP</span> <span class="k">TABLE</span> <span class="n">if</span> <span class="k">exists</span> <span class="n">num_chars</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">num_chars</span><span class="p">(</span><span class="n">id</span> <span class="nb">int</span> <span class="k">not</span> <span class="k">null</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">num_chars</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">6</span><span class="p">),</span> <span class="p">(</span><span class="mi">7</span><span class="p">),</span> <span class="p">(</span><span class="mi">8</span><span class="p">),</span> <span class="p">(</span><span class="mi">9</span><span class="p">);</span>
<span class="k">DROP</span> <span class="k">TABLE</span> <span class="n">if</span> <span class="k">exists</span> <span class="n">nums</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">nums</span> <span class="k">as</span> <span class="p">(</span>
  <span class="k">SELECT</span> <span class="n">n1</span><span class="p">.</span><span class="n">id</span> <span class="o">+</span> <span class="p">(</span><span class="n">n2</span><span class="p">.</span><span class="n">id</span> <span class="o">*</span> <span class="mi">10</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">n3</span><span class="p">.</span><span class="n">id</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span> <span class="k">as</span> <span class="n">id</span>
    <span class="k">FROM</span> <span class="n">num_chars</span> <span class="n">n1</span><span class="p">,</span> <span class="n">num_chars</span> <span class="n">n2</span><span class="p">,</span> <span class="n">num_chars</span> <span class="n">n3</span><span class="p">);</span>

<span class="c1">-- 2008年を指定</span>
<span class="k">SET</span> <span class="o">@</span><span class="n">ycalendar</span> <span class="o">=</span> <span class="mi">2008</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="n">date_format</span><span class="p">(</span><span class="n">makedate</span><span class="p">(</span><span class="o">@</span><span class="n">ycalendar</span><span class="p">,</span> <span class="n">id</span><span class="p">),</span> <span class="s1">&#39;%Y/%c/%e (%W)&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="nb">date</span>
  <span class="k">FROM</span> <span class="n">nums</span>
 <span class="k">WHERE</span> <span class="n">nums</span><span class="p">.</span><span class="n">id</span> <span class="k">between</span> <span class="mi">1</span> <span class="k">and</span> <span class="p">(</span><span class="mi">365</span> <span class="o">+</span> <span class="k">day</span><span class="p">(</span><span class="n">last_day</span><span class="p">(</span><span class="n">concat</span><span class="p">(</span><span class="o">@</span><span class="n">ycalendar</span><span class="p">,</span> <span class="s1">&#39;-2-1&#39;</span><span class="p">)))</span> <span class="o">-</span> <span class="mi">28</span><span class="p">);</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/5852/addtag/" class="addtag" id="addtag_5852">タグ</a>:
	
    
    <a href="/web/20090903220510/http://ja.doukaku.org/tag/MySQL/">MySQL</a>
    
	&nbsp;

	
      [<a href="/web/20090903220510/http://ja.doukaku.org/lang/sql/">
		SQL
      </a>]
	  
      [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5852/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090903220510/http://ja.doukaku.org/comment/5852/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_5852"
  >-</span><span
  class="button yellow"
  id="rating_z_5852"
  >0</span><span 
  class="button green"
  id="rating_p_5852"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090903220510/http://ja.doukaku.org/119/reply_to/5852/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment6588">
  <p class="banner"><a href="/web/20090903220510/http://ja.doukaku.org/user/793/" target="_top">genzou</a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/6588/">#6588</a>(<script language="JavaScript">print_time(new Date("2008/06/25 11:22 GMT"));</script><noscript>2008/06/25 11:22 GMT</noscript>)
	
	
	
	[<a href="/web/20090903220510/http://ja.doukaku.org/lang/groovy/">
	  Groovy
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>Calendar.～
の文字があまりに多すぎるため、
static importで回避しています。

これって正しい使いかたですか？</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33</pre></td><td class="code"><div class="highlight"><pre>import java.text.*
import static java.util.Calendar.*

n = 2008

def firstDate = Calendar.getInstance()
def lastDate = Calendar.getInstance()

(0..11).each{ m -&gt;
    firstDate.set(n, m, 1)
    lastDate.set(n, m+1, 0)

    println &quot;&quot;&quot;&lt; ${new SimpleDateFormat(&quot;yyyy/MM/dd&quot;).format(firstDate.time)} &gt;&quot;&quot;&quot;
    [&quot;日&quot;, &quot;月&quot;, &quot;火&quot;, &quot;水&quot;, &quot;木&quot;, &quot;金&quot;, &quot;土&quot;].each {
        print it.padLeft(3)
    }
    println()

    (firstDate.get(DAY_OF_WEEK)-SUNDAY).times {
        print &quot;&quot;.padLeft(4)
    }
    
    (firstDate.get(DATE)..lastDate.get(DATE)).each { d -&gt;
        def eachday = Calendar.getInstance()
        eachday.set(n, m, d)
        print d.toString().padLeft(4)
        if( eachday.get(DAY_OF_WEEK) == SATURDAY ){
            println()
        }
    }
    println()
    println()
}
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/6588/addtag/" class="addtag" id="addtag_6588">タグ</a>:
	
    
    <a href="/web/20090903220510/http://ja.doukaku.org/tag/groovy/">groovy</a>
    
	&nbsp;

	
      [<a href="/web/20090903220510/http://ja.doukaku.org/lang/groovy/">
		Groovy
      </a>]
	  
      [<a href="/web/20090903220510/http://ja.doukaku.org/comment/6588/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090903220510/http://ja.doukaku.org/comment/6588/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_6588"
  >-</span><span
  class="button yellow"
  id="rating_z_6588"
  >0</span><span 
  class="button green"
  id="rating_p_6588"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090903220510/http://ja.doukaku.org/119/reply_to/6588/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment6603">
  <p class="banner"><a href="/web/20090903220510/http://ja.doukaku.org/user/760/" target="_top">turugina</a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/6603/">#6603</a>(<script language="JavaScript">print_time(new Date("2008/06/28 09:51 GMT"));</script><noscript>2008/06/28 09:51 GMT</noscript>)
	
	
	
	[<a href="/web/20090903220510/http://ja.doukaku.org/lang/xslt/">
	  XSLT
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>出力はシンプルなHTMLのtableで。
しかし、曜日を取得する関数を自作しなきゃいかんとわ...</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145</pre></td><td class="code"><div class="highlight"><pre>&lt;xsl:stylesheet version=&quot;2.0&quot;
  xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;
  xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;
  xmlns:fn=&quot;http://www.w3.org/2005/xpath-functions&quot;
  xmlns:my=&quot;uri:ja.doukaku.org:my-functions&quot;
  exclude-result-prefixes=&quot;xs fn my&quot;
  &gt;

  &lt;xsl:param name=&quot;n&quot; as=&quot;xs:integer&quot; &gt;2008&lt;/xsl:param&gt;

  &lt;xsl:output method=&quot;html&quot; /&gt;

  &lt;xsl:template match=&quot;/&quot; &gt;
    &lt;html&gt;
      &lt;head&gt;
        &lt;title&gt;&lt;xsl:value-of select=&quot;$n&quot; /&gt;年の年間カレンダー&lt;/title&gt;
      &lt;/head&gt;
      &lt;body&gt;
        &lt;h1&gt;&lt;xsl:value-of select=&quot;$n&quot; /&gt;年の年間カレンダー&lt;/h1&gt;
        &lt;xsl:for-each select=&quot;1 to 12&quot;&gt;
          &lt;hr /&gt;
          &lt;h2&gt;&lt;xsl:value-of select=&quot;.&quot; /&gt;月&lt;/h2&gt;
          &lt;xsl:call-template name=&quot;mcalender&quot;&gt;
            &lt;xsl:with-param name=&quot;year&quot; select=&quot;$n&quot; /&gt;
            &lt;xsl:with-param name=&quot;month&quot; select=&quot;.&quot; /&gt;
          &lt;/xsl:call-template&gt;
        &lt;/xsl:for-each&gt;
      &lt;/body&gt;
    &lt;/html&gt;
  &lt;/xsl:template&gt;

  &lt;xsl:template name=&quot;mcalender&quot;&gt;
    &lt;xsl:param name=&quot;year&quot; as=&quot;xs:integer&quot; /&gt;
    &lt;xsl:param name=&quot;month&quot; as=&quot;xs:integer&quot; /&gt;

    &lt;!-- 今月1日 --&gt;
    &lt;xsl:variable name=&quot;first-date&quot; as=&quot;xs:date&quot;
      select=&quot;xs:date(
        fn:string-join(
          (my:pad($year,4),my:pad($month,2),&#39;01&#39;),
          &#39;-&#39;))&quot; /&gt;
    &lt;!-- 次月1日 --&gt;
    &lt;xsl:variable name=&quot;next-first-date&quot; as=&quot;xs:date&quot;&gt;
      &lt;xsl:choose&gt;
        &lt;xsl:when test=&quot;$month=12&quot;&gt;
          &lt;xsl:value-of
            select=&quot;xs:date(
              fn:string-join(
                (my:pad($year+1,4),&#39;01&#39;,&#39;01&#39;),
                &#39;-&#39;))&quot; /&gt;
        &lt;/xsl:when&gt;
        &lt;xsl:otherwise&gt;
          &lt;xsl:value-of
            select=&quot;xs:date(
              fn:string-join(
                (my:pad($year,4),my:pad($month+1,2),&#39;01&#39;),
                &#39;-&#39;))&quot; /&gt;
        &lt;/xsl:otherwise&gt;
      &lt;/xsl:choose&gt;
    &lt;/xsl:variable&gt;
    &lt;!-- 今月の日数を求める --&gt;
    &lt;xsl:variable name=&quot;days&quot; as=&quot;xs:integer&quot;
      select=&quot;fn:days-from-duration($next-first-date - $first-date)&quot; /&gt;

    &lt;!-- 今月1日 の曜日を求める --&gt;
    &lt;xsl:variable name=&quot;start-day&quot; as=&quot;xs:integer&quot;
      select=&quot;my:get-day($first-date)&quot; /&gt;

    &lt;!-- カレンダーの左上の開始日 --&gt;
    &lt;xsl:variable name=&quot;rstart&quot; as=&quot;xs:integer&quot;
      select=&quot;1 - $start-day&quot; /&gt;
    &lt;!-- カレンダーの右下の終了日 --&gt;
    &lt;xsl:variable name=&quot;rend&quot; as=&quot;xs:integer&quot;&gt;
      &lt;xsl:choose&gt;
        &lt;xsl:when test=&quot;(($days - $rstart + 1) mod 7)=0&quot;&gt;
          &lt;xsl:value-of select=&quot;$days - $rstart + 1&quot; /&gt;
        &lt;/xsl:when&gt;
        &lt;xsl:otherwise&gt;
          &lt;xsl:value-of select=&quot;((($days - $rstart+1) idiv 7)+1)*7&quot; /&gt;
        &lt;/xsl:otherwise&gt;
      &lt;/xsl:choose&gt;
    &lt;/xsl:variable&gt;

    &lt;table border=&quot;1&quot;&gt;
      &lt;xsl:call-template name=&quot;calender-header&quot; /&gt;
      &lt;xsl:for-each select=&quot;1 to $rend idiv 7&quot;&gt;
        &lt;tr&gt;
          &lt;xsl:for-each select=&quot;$rstart+((.-1)*7) to $rstart+(.*7)-1&quot;&gt;
            &lt;td&gt;
              &lt;xsl:choose&gt;
                &lt;xsl:when test=&quot;1 &amp;lt;= . and . &amp;lt;= $days&quot;&gt;
                  &lt;xsl:value-of select=&quot;.&quot; /&gt;
                &lt;/xsl:when&gt;
                &lt;xsl:otherwise&gt;
                  &lt;xsl:text&gt;&amp;#160;&lt;/xsl:text&gt;
                &lt;/xsl:otherwise&gt;
              &lt;/xsl:choose&gt;
            &lt;/td&gt;
          &lt;/xsl:for-each&gt;
        &lt;/tr&gt;
      &lt;/xsl:for-each&gt;
    &lt;/table&gt;
  &lt;/xsl:template&gt;

  &lt;xsl:template name=&quot;calender-header&quot;&gt;
    &lt;tr&gt;
      &lt;xsl:for-each select=&quot;(&#39;日&#39;,&#39;月&#39;,&#39;火&#39;,&#39;水&#39;,&#39;木&#39;,&#39;金&#39;,&#39;土&#39;)&quot;&gt;
        &lt;th&gt;&lt;xsl:value-of select=&quot;.&quot; /&gt;&lt;/th&gt;
      &lt;/xsl:for-each&gt;
    &lt;/tr&gt;
  &lt;/xsl:template&gt;

  &lt;!-- 曜日を取得する --&gt;
  &lt;xsl:function name=&quot;my:get-day&quot; as=&quot;xs:integer&quot;&gt;
    &lt;xsl:param name=&quot;date&quot; as=&quot;xs:date&quot; /&gt;
    &lt;xsl:variable name=&quot;epoch&quot; as=&quot;xs:date&quot;
      select=&quot;xs:date(&#39;1970-01-01&#39;)&quot; /&gt;

    &lt;xsl:variable name=&quot;day&quot; as=&quot;xs:integer&quot;
      select=&quot;(fn:days-from-duration($date - $epoch) + 4) mod 7&quot; /&gt;
    &lt;xsl:choose&gt;
      &lt;xsl:when test=&quot;$day &amp;lt; 0&quot;&gt;
        &lt;xsl:value-of select=&quot;$day + 7&quot; /&gt;
      &lt;/xsl:when&gt;
      &lt;xsl:otherwise&gt;
        &lt;xsl:value-of select=&quot;$day&quot; /&gt;
      &lt;/xsl:otherwise&gt;
    &lt;/xsl:choose&gt;
  &lt;/xsl:function&gt;

  &lt;xsl:function name=&quot;my:pad&quot; as=&quot;xs:string&quot;&gt;
    &lt;xsl:param name=&quot;i&quot; as=&quot;xs:integer&quot; /&gt;
    &lt;xsl:param name=&quot;digit&quot; as=&quot;xs:integer&quot; /&gt;

    &lt;xsl:variable name=&quot;seq&quot; as=&quot;xs:string*&quot;&gt;
      &lt;xsl:for-each
        select=&quot;1 to $digit - fn:string-length(xs:string($i))&quot;&gt;
        &lt;xsl:sequence select=&quot;&#39;0&#39;&quot; /&gt;
      &lt;/xsl:for-each&gt;
      &lt;xsl:sequence select=&quot;xs:string($i)&quot; /&gt;
    &lt;/xsl:variable&gt;

    &lt;xsl:value-of select=&quot;fn:string-join($seq, &#39;&#39;)&quot; /&gt;
  &lt;/xsl:function&gt;
&lt;/xsl:stylesheet&gt;
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/6603/addtag/" class="addtag" id="addtag_6603">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090903220510/http://ja.doukaku.org/lang/xslt/">
		XSLT
      </a>]
	  
      [<a href="/web/20090903220510/http://ja.doukaku.org/comment/6603/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090903220510/http://ja.doukaku.org/comment/6603/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_6603"
  >-</span><span
  class="button yellow"
  id="rating_z_6603"
  >0</span><span 
  class="button green"
  id="rating_p_6603"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090903220510/http://ja.doukaku.org/119/reply_to/6603/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment6742">
  <p class="banner"><a href="/web/20090903220510/http://ja.doukaku.org/user/840/" target="_top">leque</a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/star_silver.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/6742/">#6742</a>(<script language="JavaScript">print_time(new Date("2008/07/16 00:39 GMT"));</script><noscript>2008/07/16 00:39 GMT</noscript>)
	
	
	
	[<a href="/web/20090903220510/http://ja.doukaku.org/lang/scheme/">
	  Scheme
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>Gauche で書いてみました。
出力部が意外と長くなってしまった。

出力例:
    &lt;&lt; 2007/1 &gt;&gt;
 Sun  Mon  Tue  Wed  Thu  Fri  Sat
        1    2    3    4    5  [ 6]
 &lt; 7&gt;   8    9   10   11   12  [13]
 &lt;14&gt;  15   16   17   18   19  [20]
 &lt;21&gt;  22   23   24   25   26  [27]
 &lt;28&gt;  29   30   31  </pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40</pre></td><td class="code"><div class="highlight"><pre><span class="p">(</span><span class="nf">use</span> <span class="nv">srfi-1</span><span class="p">)</span>
<span class="p">(</span><span class="nf">use</span> <span class="nv">srfi-19</span><span class="p">)</span>
<span class="p">(</span><span class="nf">use</span> <span class="nv">gauche</span><span class="o">.</span><span class="nv">collection</span><span class="p">)</span>
<span class="p">(</span><span class="nf">use</span> <span class="nv">gauche</span><span class="o">.</span><span class="nv">sequence</span><span class="p">)</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">show-calendar</span> <span class="nv">n</span><span class="p">)</span>
  <span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">leap-year?</span> <span class="nv">n</span><span class="p">)</span>
    <span class="p">(</span><span class="k">or </span><span class="p">(</span><span class="nb">zero? </span><span class="p">(</span><span class="nb">modulo </span><span class="nv">n</span> <span class="mi">400</span><span class="p">))</span>
        <span class="p">(</span><span class="k">and </span><span class="p">(</span><span class="nb">zero? </span><span class="p">(</span><span class="nb">modulo </span><span class="nv">n</span> <span class="mi">4</span><span class="p">))</span>
             <span class="p">(</span><span class="nb">not </span><span class="p">(</span><span class="nb">zero? </span><span class="p">(</span><span class="nb">modulo </span><span class="nv">n</span> <span class="mi">100</span><span class="p">))))))</span>
  <span class="p">(</span><span class="k">define </span><span class="nv">week-days</span>
    <span class="p">(</span><span class="nf">circular-list</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span> <span class="mi">5</span> <span class="mi">6</span><span class="p">))</span>
  <span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">make-calendar</span><span class="p">)</span>
    <span class="p">(</span><span class="nb">map </span><span class="p">(</span><span class="k">lambda </span><span class="p">(</span><span class="nf">month</span> <span class="nv">days</span><span class="p">)</span>
           <span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="nf">m</span> <span class="p">(</span><span class="nf">date-week-day</span> <span class="p">(</span><span class="nf">make-date</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span> <span class="nv">month</span> <span class="nv">n</span> <span class="mi">0</span><span class="p">))))</span>
             <span class="p">(</span><span class="nb">append </span><span class="p">(</span><span class="nf">make-list</span> <span class="nv">m</span> <span class="no">#f</span><span class="p">)</span> <span class="p">(</span><span class="nf">take</span> <span class="p">(</span><span class="nf">drop</span> <span class="nv">week-days</span> <span class="nv">m</span><span class="p">)</span> <span class="nv">days</span><span class="p">))))</span>
         <span class="p">(</span><span class="nf">iota</span> <span class="mi">12</span> <span class="mi">1</span><span class="p">)</span>
         <span class="o">`</span><span class="p">(</span><span class="mi">31</span> <span class="o">,</span><span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nf">leap-year?</span> <span class="nv">n</span><span class="p">)</span> <span class="mi">29</span> <span class="mi">28</span><span class="p">)</span> <span class="mi">31</span> <span class="mi">30</span> <span class="mi">31</span> <span class="mi">30</span> <span class="mi">31</span> <span class="mi">31</span> <span class="mi">30</span> <span class="mi">31</span> <span class="mi">30</span> <span class="mi">31</span><span class="p">)))</span>
  <span class="p">(</span><span class="nf">for-each-with-index</span>
   <span class="p">(</span><span class="k">lambda </span><span class="p">(</span><span class="nf">i</span> <span class="nv">ws</span><span class="p">)</span>
     <span class="p">(</span><span class="nf">format</span> <span class="no">#t</span> <span class="s">&quot;   &lt;&lt; ~A/~A &gt;&gt;~%&quot;</span> <span class="nv">n</span> <span class="p">(</span><span class="nb">+ </span><span class="nv">i</span> <span class="mi">1</span><span class="p">))</span>
     <span class="p">(</span><span class="nf">format</span> <span class="no">#t</span> <span class="s">&quot;Sun  Mon  Tue  Wed  Thu  Fri  Sat~%&quot;</span><span class="p">)</span>
     <span class="p">(</span><span class="k">let </span><span class="nv">loop</span> <span class="p">((</span><span class="nf">ws</span> <span class="nv">ws</span><span class="p">)</span> <span class="p">(</span><span class="nf">d</span> <span class="mi">1</span><span class="p">))</span>
       <span class="p">(</span><span class="nf">cond</span>
        <span class="p">((</span><span class="nb">null? </span><span class="nv">ws</span><span class="p">)</span>
         <span class="p">(</span><span class="nf">format</span> <span class="no">#t</span> <span class="s">&quot;~%~%&quot;</span><span class="p">))</span>
        <span class="p">((</span><span class="nb">not </span><span class="p">(</span><span class="nb">car </span><span class="nv">ws</span><span class="p">))</span>
         <span class="p">(</span><span class="nf">format</span> <span class="no">#t</span> <span class="s">&quot;     &quot;</span><span class="p">)</span>
         <span class="p">(</span><span class="nf">loop</span> <span class="p">(</span><span class="nb">cdr </span><span class="nv">ws</span><span class="p">)</span> <span class="nv">d</span><span class="p">))</span>
        <span class="p">(</span><span class="nf">else</span>
         <span class="p">(</span><span class="nf">format</span> <span class="no">#t</span> <span class="p">(</span><span class="k">case </span><span class="p">(</span><span class="nb">car </span><span class="nv">ws</span><span class="p">)</span>
                      <span class="p">((</span><span class="mi">0</span><span class="p">)</span> <span class="s">&quot;&lt;~2@A&gt; &quot;</span><span class="p">)</span>
                      <span class="p">((</span><span class="mi">6</span><span class="p">)</span> <span class="s">&quot;[~2@A]~%&quot;</span><span class="p">)</span>
                      <span class="p">(</span><span class="k">else </span><span class="s">&quot; ~2@A  &quot;</span><span class="p">))</span>
                 <span class="nv">d</span><span class="p">)</span>
         <span class="p">(</span><span class="nf">loop</span> <span class="p">(</span><span class="nb">cdr </span><span class="nv">ws</span><span class="p">)</span> <span class="p">(</span><span class="nb">+ </span><span class="nv">d</span> <span class="mi">1</span><span class="p">))))))</span>
   <span class="p">(</span><span class="nf">make-calendar</span><span class="p">)))</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">main</span> <span class="nv">args</span><span class="p">)</span>
  <span class="p">(</span><span class="nf">show-calendar</span> <span class="p">(</span><span class="nb">string-&gt;number </span><span class="p">(</span><span class="nb">cadr </span><span class="nv">args</span><span class="p">))))</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/6742/addtag/" class="addtag" id="addtag_6742">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090903220510/http://ja.doukaku.org/lang/scheme/">
		Scheme
      </a>]
	  
      [<a href="/web/20090903220510/http://ja.doukaku.org/comment/6742/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090903220510/http://ja.doukaku.org/comment/6742/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_6742"
  >-</span><span
  class="button yellow"
  id="rating_z_6742"
  >0</span><span 
  class="button green"
  id="rating_p_6742"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090903220510/http://ja.doukaku.org/119/reply_to/6742/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment7595">
  <p class="banner"><a href="/web/20090903220510/http://ja.doukaku.org/user/646/" target="_top">silverwire</a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/star_silver.png" border=0/></a><a href="/web/20090903220510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/7595/">#7595</a>(<script language="JavaScript">print_time(new Date("2008/09/08 12:16 GMT"));</script><noscript>2008/09/08 12:16 GMT</noscript>)
	
	
	
	[<a href="/web/20090903220510/http://ja.doukaku.org/lang/lua/">
	  Lua
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'> Lua始めました。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55</pre></td><td class="code"><div class="highlight"><pre><span class="c1">-- 閏年かどうか判定</span>
<span class="n">L</span> <span class="o">=</span> 
<span class="k">function</span> <span class="p">(</span><span class="n">y</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">y</span> <span class="o">%</span> <span class="mi">400</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">then</span> <span class="k">return</span> <span class="mi">1</span> <span class="k">end</span>
    <span class="k">if</span> <span class="n">y</span> <span class="o">%</span> <span class="mi">100</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">then</span> <span class="k">return</span> <span class="mi">0</span> <span class="k">end</span>
    <span class="k">if</span> <span class="n">y</span> <span class="o">%</span>   <span class="mi">4</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">then</span> <span class="k">return</span> <span class="mi">1</span> <span class="k">end</span>
    <span class="k">return</span> <span class="mi">0</span>
<span class="k">end</span>

<span class="c1">-- 指定された日の曜日を取得</span>
<span class="n">W</span> <span class="o">=</span> 
<span class="k">function</span> <span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
    <span class="k">return</span> <span class="nf">tonumber</span><span class="p">(</span><span class="nf">os.date</span><span class="p">(</span><span class="s1">&#39;</span><span class="s">%w&#39;</span><span class="p">,</span> <span class="nf">os.time</span><span class="p">({</span> <span class="n">year</span> <span class="o">=</span> <span class="n">y</span><span class="p">,</span> <span class="n">month</span> <span class="o">=</span> <span class="n">m</span><span class="p">,</span> <span class="n">day</span> <span class="o">=</span> <span class="n">d</span> <span class="p">})))</span>
<span class="k">end</span>

<span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="n">v</span><span class="p">)</span>
    <span class="kd">local</span> <span class="n">d</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">31</span> <span class="p">}</span>
    <span class="kd">local</span> <span class="n">w</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;</span><span class="s">Su&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="s">Mo&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="s">Tu&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="s">We&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="s">Th&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="s">Fr&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="s">Sa&#39;</span> <span class="p">}</span>
    <span class="kd">local</span> <span class="n">m</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">y</span>

    <span class="k">if</span> <span class="o">#</span><span class="n">v</span> <span class="o">~=</span> <span class="mi">2</span> <span class="k">then</span>
        <span class="n">io</span><span class="p">.</span><span class="n">stderr</span><span class="p">:</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;</span><span class="s">usage: &#39;</span> <span class="p">..</span> <span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">..</span> <span class="s1">&#39;</span><span class="s"> [month] [year]</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="mi">1</span>
    <span class="k">end</span>

    <span class="n">m</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="nf">tonumber</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="nf">tonumber</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

    <span class="k">if</span> <span class="n">m</span> <span class="o">==</span> <span class="kc">nil</span> <span class="ow">or</span> <span class="n">y</span> <span class="o">==</span> <span class="kc">nil</span> <span class="k">then</span>
        <span class="n">io</span><span class="p">.</span><span class="n">stderr</span><span class="p">:</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;</span><span class="s">usage: &#39;</span> <span class="p">..</span> <span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">..</span> <span class="s1">&#39;</span><span class="s"> [month] [year]</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="mi">1</span>
    <span class="k">end</span>

    <span class="k">if</span> <span class="n">m</span> <span class="o">&lt;</span> <span class="mi">1</span> <span class="ow">or</span> <span class="n">m</span> <span class="o">&gt;</span> <span class="mi">12</span> <span class="k">then</span>
        <span class="n">io</span><span class="p">.</span><span class="n">stderr</span><span class="p">:</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;</span><span class="s">cal: illegal month value: use 1-12</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="mi">1</span>
    <span class="k">end</span>
    <span class="k">if</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="mi">1</span> <span class="ow">or</span> <span class="n">y</span> <span class="o">&gt;</span> <span class="mi">9999</span> <span class="k">then</span>
        <span class="n">io</span><span class="p">.</span><span class="n">stderr</span><span class="p">:</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;</span><span class="s">cal: illegal year value: use 1-9999</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="mi">1</span>
    <span class="k">end</span>

    <span class="c1">-- 閏日を補正</span>
    <span class="n">d</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">L</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>

    <span class="n">t</span> <span class="o">=</span> <span class="nf">string.format</span><span class="p">(</span><span class="s1">&#39;</span><span class="s">%4d/%2d&#39;</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">m</span><span class="p">)</span> <span class="p">..</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s">&#39;</span>
     <span class="p">..</span> <span class="nf">table.concat</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="s1">&#39;</span><span class="s"> &#39;</span><span class="p">)</span> <span class="p">..</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s">&#39;</span>
     <span class="p">..</span> <span class="nf">string.rep</span><span class="p">(</span><span class="s1">&#39;</span><span class="s">   &#39;</span><span class="p">,</span> <span class="n">W</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">d</span><span class="p">[</span><span class="n">m</span><span class="p">]</span> <span class="k">do</span>
        <span class="n">t</span> <span class="o">=</span> <span class="n">t</span> <span class="p">..</span> <span class="nf">string.format</span><span class="p">(</span><span class="s1">&#39;</span><span class="s">%2d&#39;</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
        <span class="n">t</span> <span class="o">=</span> <span class="n">W</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">6</span> <span class="ow">and</span> <span class="n">t</span> <span class="p">..</span> <span class="s1">&#39;</span><span class="s"> &#39;</span> <span class="ow">or</span> <span class="n">t</span> <span class="p">..</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s">&#39;</span>
    <span class="k">end</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>

    <span class="k">return</span> <span class="mi">0</span>
<span class="k">end</span><span class="p">)(</span><span class="n">arg</span><span class="p">)</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090903220510/http://ja.doukaku.org/comment/7595/addtag/" class="addtag" id="addtag_7595">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090903220510/http://ja.doukaku.org/lang/lua/">
		Lua
      </a>]
	  
      [<a href="/web/20090903220510/http://ja.doukaku.org/comment/7595/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090903220510/http://ja.doukaku.org/comment/7595/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_7595"
  >-</span><span
  class="button yellow"
  id="rating_z_7595"
  >0</span><span 
  class="button green"
  id="rating_p_7595"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090903220510/http://ja.doukaku.org/119/reply_to/7595/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>







</div>

<div id="side_menu" class="compact">

<iframe src="/web/20090903220510if_/http://ja.doukaku.org/login_info/" frameborder=0 width=100% id="login_info">
iframe required
</iframe>

<h4 class="semi_compact">一覧</h4>

<ul>
<!--<li><a href="/web/20090903220510/http://ja.doukaku.org/user/">ユーザ</a>-->
<li><a href="/web/20090903220510/http://ja.doukaku.org/lang/">言語</a>
<li><a href="/web/20090903220510/http://ja.doukaku.org/challenge/">お題</a>
<li><a href="/web/20090903220510/http://ja.doukaku.org/topic/">トピック</a>
<li><a href="/web/20090903220510/http://ja.doukaku.org/comment/">投稿</a>
<li><a href="/web/20090903220510/http://ja.doukaku.org/good_comments/">評価の高い投稿</a>
<li><a href="/web/20090903220510/http://ja.doukaku.org/tag/">タグ</a>
</ul>

<h4 class="compact">フィード</h4>
<ul>
<li><a href="/web/20090903220510/http://ja.doukaku.org/feeds/challenges/">最新のお題</a><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/feed_icon.png">
<li><a href="/web/20090903220510/http://ja.doukaku.org/feeds/topics/">最新のトピック</a><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/feed_icon.png">
<li><a href="/web/20090903220510/http://ja.doukaku.org/feeds/comments/">新着投稿</a><img src="/web/20090903220510im_/http://ja.doukaku.org/static/image/feed_icon.png">
</ul>







<h4 class="compact">その他</h4>
<ul>
<li><a href="/web/20090903220510/http://ja.doukaku.org/qa/">Q&A</a>
<li><a href="/web/20090903220510/http://ja.doukaku.org/feedback/">フィードバック</a>
<!--<li><a href="/web/20090903220510/http://ja.doukaku.org/terms">用語集</a>-->
</ul>


<h4 class="compact">リンク</h4>
<ul>
<li><a href="/web/20090903220510/http://www.lingr.com/room/doukaku_ja">チャットルーム(Lingr)</a>
<li><a href="/web/20090903220510/http://labs.cybozu.co.jp/">サイボウズ・ラボ</a>
<li><a href="/web/20090903220510/http://www.djangoproject.com/">Django</a>
</ul>

<h4 id="pathtraq" class="compact"><a href="/web/20090903220510/http://pathtraq.com/analytics?url=http%3A%2F%2Fja.doukaku.org%2Fcomment%2F*%2F%20desc%3A%E3%81%A9%E3%81%86%E6%9B%B8%E3%81%8Forg&m=popular">Pathtraq</a></h4>
<div class="indent">
<span id="pathtraq_sentinel">loading...</span>
</div>


</div>
</div>


<div id="page_foot" class="bordered">

<a rel="license" href="/web/20090903220510/http://creativecommons.org/licenses/by/2.1/jp/">
<img alt="Creative Commons License" style="border-width:0" src="/web/20090903220510im_/http://i.creativecommons.org/l/by/2.1/jp/88x31.png" /></a>
このサイトの内容は、
<a rel="license" href="/web/20090903220510/http://creativecommons.org/licenses/by/2.1/jp/">クリエイティブ・コモンズ・ライセンス</a>の下でライセンスされています。
<a href="/web/20090903220510/http://ja.doukaku.org/qa/#licence">[詳細]</a>

</div>

</body>




<script type="text/javascript">
$(document).ready(function(){$("#doukaku_org").after("<script src='/web/20090903220510/http://api.pathtraq.com/pages?url=http%3A%2F%2Fja.doukaku.org%2Fcomment%2F*%2F%20desc%3A%E3%81%A9%E3%81%86%E6%9B%B8%E3%81%8Forg&api=json&callback=addPathtraq'><" + "/script>")});
</script>

<script src="/web/20090903220510js_/http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-2136157-1";
urchinTracker();
</script>




</html>





<!--
     FILE ARCHIVED ON 22:05:10 Sep 3, 2009 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 13:23:20 Nov 16, 2013.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
