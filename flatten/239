
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja"> 
  <head>

<script type="text/javascript" src="/static/js/analytics.js" ></script>
<link type="text/css" rel="stylesheet" href="/static/css/banner-styles.css"/>




    <meta http-equiv="Content-type" content="text/html; charset=UTF-8" />
    <title>
ローテートシフト
どう書く？org </title>

    <link rel="stylesheet" type="text/css"
	href="/web/20100630221510cs_/http://ja.doukaku.org/static/style/reset-fonts-grids.css" />
    <link rel="stylesheet" type="text/css"
	href="/web/20100630221510cs_/http://ja.doukaku.org/static/style/style.css?20071211?20071207" />
	
    <link rel="stylesheet" type="text/css"
	href="/web/20100630221510cs_/http://ja.doukaku.org/static/style/pygments.css" />


	
<meta name="robots" content="noindex,nofollow">

    <!--<script src="/web/20100630221510/http://ja.doukaku.org/static/js/ieerbug/ieerbug.js" type="text/javascript"></script>-->


<!--<script src="/web/20100630221510/http://ja.doukaku.org/static/js/ieerbug/ieerbug.js" type="text/javascript"></script>-->
<script src="/web/20100630221510js_/http://ja.doukaku.org/static/js/jquery-1.1.3.1.js" type="text/javascript"></script>
<script src="/web/20100630221510js_/http://ja.doukaku.org/static/js/rating.js" type="text/javascript"></script>
<script src="/web/20100630221510js_/http://ja.doukaku.org/static/js/addtag.js?20071129" type="text/javascript"></script>

<script type="text/javascript">
is_key_navigation_enable = true;
</script>
<script src="/web/20100630221510js_/http://ja.doukaku.org/static/js/utils.js?~~~" type="text/javascript"></script>

</head>


<body id="doukaku_org">
<!-- BEGIN WAYBACK TOOLBAR INSERT -->
<script> if (window.archive_analytics) { window.archive_analytics.values['server_name']="wwwb-app16.us.archive.org";}; </script>

<script type="text/javascript" src="/static/js/disclaim-element.js" ></script>
<script type="text/javascript" src="/static/js/graph-calc.js" ></script>
<script type="text/javascript" src="/static/jflot/jquery.min.js" ></script>
<script type="text/javascript">
//<![CDATA[
var firstDate = 820454400000;
var lastDate = 1388534399999;
var wbPrefix = "/web/";
var wbCurrentUrl = "http:\/\/ja.doukaku.org\/239\/flatten\/";

var curYear = -1;
var curMonth = -1;
var yearCount = 18;
var firstYear = 1996;
var imgWidth = 450;
var yearImgWidth = 25;
var monthImgWidth = 2;
var trackerVal = "none";
var displayDay = "30";
var displayMonth = "Jun";
var displayYear = "2010";
var prettyMonths = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];

function showTrackers(val) {
	if(val == trackerVal) {
		return;
	}
	if(val == "inline") {
		document.getElementById("displayYearEl").style.color = "#ec008c";
		document.getElementById("displayMonthEl").style.color = "#ec008c";
		document.getElementById("displayDayEl").style.color = "#ec008c";		
	} else {
		document.getElementById("displayYearEl").innerHTML = displayYear;
		document.getElementById("displayYearEl").style.color = "#ff0";
		document.getElementById("displayMonthEl").innerHTML = displayMonth;
		document.getElementById("displayMonthEl").style.color = "#ff0";
		document.getElementById("displayDayEl").innerHTML = displayDay;
		document.getElementById("displayDayEl").style.color = "#ff0";
	}
   document.getElementById("wbMouseTrackYearImg").style.display = val;
   document.getElementById("wbMouseTrackMonthImg").style.display = val;
   trackerVal = val;
}
function getElementX2(obj) {
	var thing = jQuery(obj);
	if((thing == undefined) 
			|| (typeof thing == "undefined") 
			|| (typeof thing.offset == "undefined")) {
		return getElementX(obj);
	}
	return Math.round(thing.offset().left);
}
function trackMouseMove(event,element) {

   var eventX = getEventX(event);
   var elementX = getElementX2(element);
   var xOff = eventX - elementX;
	if(xOff < 0) {
		xOff = 0;
	} else if(xOff > imgWidth) {
		xOff = imgWidth;
	}
   var monthOff = xOff % yearImgWidth;

   var year = Math.floor(xOff / yearImgWidth);
	var yearStart = year * yearImgWidth;
   var monthOfYear = Math.floor(monthOff / monthImgWidth);
   if(monthOfYear > 11) {
       monthOfYear = 11;
   }
   // 1 extra border pixel at the left edge of the year:
   var month = (year * 12) + monthOfYear;
   var day = 1;
	if(monthOff % 2 == 1) {
		day = 15;
	}
	var dateString = 
		zeroPad(year + firstYear) + 
		zeroPad(monthOfYear+1,2) +
		zeroPad(day,2) + "000000";

	var monthString = prettyMonths[monthOfYear];
	document.getElementById("displayYearEl").innerHTML = year + 1996;
	document.getElementById("displayMonthEl").innerHTML = monthString;
	// looks too jarring when it changes..
	//document.getElementById("displayDayEl").innerHTML = zeroPad(day,2);

	var url = wbPrefix + dateString + '/' +  wbCurrentUrl;
	document.getElementById('wm-graph-anchor').href = url;

   //document.getElementById("wmtbURL").value="evX("+eventX+") elX("+elementX+") xO("+xOff+") y("+year+") m("+month+") monthOff("+monthOff+") DS("+dateString+") Moy("+monthOfYear+") ms("+monthString+")";
   if(curYear != year) {
       var yrOff = year * yearImgWidth;
       document.getElementById("wbMouseTrackYearImg").style.left = yrOff + "px";
       curYear = year;
   }
   if(curMonth != month) {
       var mtOff = year + (month * monthImgWidth) + 1;
       document.getElementById("wbMouseTrackMonthImg").style.left = mtOff + "px";
       curMonth = month;
   }
}
//]]>
</script>

<style type="text/css">body{margin-top:0!important;padding-top:0!important;min-width:800px!important;}#wm-ipp a:hover{text-decoration:underline!important;}</style>
<div id="wm-ipp" lang="en" class="__wb_banner_div" style="display:none; position:relative;padding:0 5px;min-height:70px;min-width:800px">


<div id="wm-ipp-inside" class="__wb_banner_div" style="position:fixed;padding:0!important;margin:0!important;width:97%;min-width:780px;border:5px solid #000;border-top:none;background-image:url(/static/images/toolbar/wm_tb_bk_trns.png);text-align:center;-moz-box-shadow:1px 1px 3px #333;-webkit-box-shadow:1px 1px 3px #333;box-shadow:1px 1px 3px #333;font-size:11px!important;font-family:'Lucida Grande','Arial',sans-serif!important;">
   <table style="border-collapse:collapse;margin:0;padding:0;width:100%;"><tbody><tr>
   <td style="padding:10px;vertical-align:top;min-width:110px;">
   <a href="/web/" title="Wayback Machine home page" style="background-color:transparent;border:none;"><img src="/static/images/toolbar/wayback-toolbar-logo.png" alt="Wayback Machine" width="110" height="39" border="0"/></a>
   </td>
   <td style="padding:0!important;text-align:center;vertical-align:top;width:100%;">

       <table style="border-collapse:collapse;margin:0 auto;padding:0;width:570px;"><tbody><tr>
       <td style="padding:3px 0;" colspan="2">
       <form target="_top" method="get" action="/web/form-submit.jsp" name="wmtb" id="wmtb" style="margin:0!important;padding:0!important;"><input type="text" name="url" id="wmtbURL" value="http://ja.doukaku.org/239/flatten/" style="width:400px;font-size:11px;font-family:'Lucida Grande','Arial',sans-serif;" onfocus="javascript:this.focus();this.select();" /><input type="hidden" name="type" value="replay" /><input type="hidden" name="date" value="20100630221510" /><input type="submit" value="Go" style="font-size:11px;font-family:'Lucida Grande','Arial',sans-serif;margin-left:5px;width: inherit !important" /><span id="wm_tb_options" style="display:block;"></span></form>
       </td>
       <td style="vertical-align:bottom;padding:5px 0 0 0!important;" rowspan="2">
           <table style="border-collapse:collapse;width:110px;color:#99a;font-family:'Helvetica','Lucida Grande','Arial',sans-serif;"><tbody>
			
           <!-- NEXT/PREV MONTH NAV AND MONTH INDICATOR -->
           <tr style="width:110px;height:16px;font-size:10px!important;">
           	<td style="padding-right:9px;font-size:11px!important;font-weight:bold;text-transform:uppercase;text-align:right;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       May
                       
               </td>
               <td id="displayMonthEl" style="background:#000;color:#ff0;font-size:11px!important;font-weight:bold;text-transform:uppercase;width:34px;height:15px;padding-top:1px;text-align:center;" title="You are here: 22:15:10 Jun 30, 2010">JUN</td>
				<td style="padding-left:9px;font-size:11px!important;font-weight:bold;text-transform:uppercase;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       Jul
                       
               </td>
           </tr>

           <!-- NEXT/PREV CAPTURE NAV AND DAY OF MONTH INDICATOR -->
           <tr>
               <td style="padding-right:9px;white-space:nowrap;overflow:visible;text-align:right!important;vertical-align:middle!important;" nowrap="nowrap">
               
                       <img src="/static/images/toolbar/wm_tb_prv_off.png" alt="Previous capture" width="14" height="16" border="0" />
                       
               </td>
               <td id="displayDayEl" style="background:#000;color:#ff0;width:34px;height:24px;padding:2px 0 0 0;text-align:center;font-size:24px;font-weight: bold;" title="You are here: 22:15:10 Jun 30, 2010">30</td>
				<td style="padding-left:9px;white-space:nowrap;overflow:visible;text-align:left!important;vertical-align:middle!important;" nowrap="nowrap">
               
                       <img src="/static/images/toolbar/wm_tb_nxt_off.png" alt="Next capture" width="14" height="16" border="0"/>
                       
			    </td>
           </tr>

           <!-- NEXT/PREV YEAR NAV AND YEAR INDICATOR -->
           <tr style="width:110px;height:13px;font-size:9px!important;">
				<td style="padding-right:9px;font-size:11px!important;font-weight: bold;text-align:right;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       2009
                       
               </td>
               <td id="displayYearEl" style="background:#000;color:#ff0;font-size:11px!important;font-weight: bold;padding-top:1px;width:34px;height:13px;text-align:center;" title="You are here: 22:15:10 Jun 30, 2010">2010</td>
				<td style="padding-left:9px;font-size:11px!important;font-weight: bold;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       2011
                       
				</td>
           </tr>
           </tbody></table>
       </td>

       </tr>
       <tr>
       <td style="vertical-align:middle;padding:0!important;">
           <a href="/web/20100630221510*/http://ja.doukaku.org/239/flatten/" style="color:#33f;font-size:11px;font-weight:bold;background-color:transparent;border:none;" title="See a list of every capture for this URL"><strong>1 captures</strong></a>
           <div class="__wb_banner_div" style="margin:0!important;padding:0!important;color:#666;font-size:9px;padding-top:2px!important;white-space:nowrap;" title="Timespan for captures of this URL">30 Jun 10 - 30 Jun 10</div>
       </td>
       <td style="padding:0!important;">
       <a style="position:relative; white-space:nowrap; width:450px;height:27px;" href="" id="wm-graph-anchor">
       <div class="__wb_banner_div" id="wm-ipp-sparkline" style="position:relative; white-space:nowrap; width:450px;height:27px;background-color:#fff;cursor:pointer;border-right:1px solid #ccc;" title="Explore captures for this URL">
			<img id="sparklineImgId" style="position:absolute; z-index:9012; top:0px; left:0px;"
				onmouseover="showTrackers('inline');" 
				onmouseout="showTrackers('none');"
				onmousemove="trackMouseMove(event,this)"
				alt="sparklines"
				width="450"
				height="27"
				border="0"
				src="/web/jsp/graph.jsp?graphdata=450_27_1996:-1:000000000000_1997:-1:000000000000_1998:-1:000000000000_1999:-1:000000000000_2000:-1:000000000000_2001:-1:000000000000_2002:-1:000000000000_2003:-1:000000000000_2004:-1:000000000000_2005:-1:000000000000_2006:-1:000000000000_2007:-1:000000000000_2008:-1:000000000000_2009:-1:000000000000_2010:5:000001000000_2011:-1:000000000000_2012:-1:000000000000_2013:-1:000000000000"></img>
			<img id="wbMouseTrackYearImg" 
				style="display:none; position:absolute; z-index:9010;"
				width="25" 
				height="27"
				border="0"
				src="/static/images/toolbar/transp-yellow-pixel.png"></img>
			<img id="wbMouseTrackMonthImg"
				style="display:none; position:absolute; z-index:9011; " 
				width="2"
				height="27" 
				border="0"
				src="/static/images/toolbar/transp-red-pixel.png"></img>
       </div>
		</a>

       </td>
       </tr></tbody></table>
   </td>
   <td style="text-align:right;padding:5px;width:65px;font-size:11px!important;">
       <a href="javascript:;" onclick="document.getElementById('wm-ipp').style.display='none';" style="display:block;padding-right:18px;background:url(/static/images/toolbar/wm_tb_close.png) no-repeat 100% 0;color:#33f;font-family:'Lucida Grande','Arial',sans-serif;margin-bottom:23px;background-color:transparent;border:none;" title="Close the toolbar">Close</a>
       <a href="http://faq.web.archive.org/" style="display:block;padding-right:18px;background:url(/static/images/toolbar/wm_tb_help.png) no-repeat 100% 0;color:#33f;font-family:'Lucida Grande','Arial',sans-serif;background-color:transparent;border:none;" title="Get some help using the Wayback Machine">Help</a>
   </td>
   </tr></tbody></table>

</div>
</div>
<script type="text/javascript">
 var wmDisclaimBanner = document.getElementById("wm-ipp");
 if(wmDisclaimBanner != null) {
   disclaimElement(wmDisclaimBanner);
 }
</script>
<!-- END WAYBACK TOOLBAR INSERT -->


<div id="page_head" class="compact">
  <h1 class="compact">
    <a href="/web/20100630221510/http://ja.doukaku.org/">どう書く？org</a><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/beta.png" alt="beta">
  </h1>
</div>

<div id="page_body" class="compact">
<div id="content" class="compact">




<h2 class="compact">
<img src='/web/20100630221510im_/http://ja.doukaku.org/static/image/star_gold.png' alt=お題(出題済み)>
<a href="/web/20100630221510/http://ja.doukaku.org/239/">ローテートシフト</a>
</h2>

    





<div class="comment" id="comment8556">
  <p class="banner"><a href="/web/20100630221510/http://ja.doukaku.org/user/166/" target="_top">ところてん</a><a href="/web/20100630221510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100630221510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8556/">#8556</a>(<script language="JavaScript">print_time(new Date("2009/02/26 09:28 GMT"));</script><noscript>2009/02/26 09:28 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <pre class='compact'>ローテートシフトを実装してください。

例)
0010 0011 1110 1101
↓右に1ビットローテート
1001 0001 1111 0110

ローテートシフトがある言語がどれ位あるか知りたくなって投稿しました。</pre>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8556/addtag/" class="addtag" id="addtag_8556">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8556"
  >-</span><span
  class="button yellow"
  id="rating_z_8556"
  >0</span><span 
  class="button green"
  id="rating_p_8556"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100630221510/http://ja.doukaku.org/239/reply_to/8556/">
  返信
  </a>]
  </div>
</div>
</div>




  



<div class="indent">
<a href="/web/20100630221510/http://ja.doukaku.org/239/post_comment/">
投稿する
</a>
</div>


<h2>投稿されたコメント - フラット表示</h2>
<a href="/web/20100630221510/http://ja.doukaku.org/239/nested/">ネスト表示</a>
<a href="/web/20100630221510/http://ja.doukaku.org/239/">非表示</a> 


  
  <br/>

  
  




<div class="comment" id="comment8585">
  <p class="banner"><a href="/web/20100630221510/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20100630221510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100630221510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8585/">#8585</a>(<script language="JavaScript">print_time(new Date("2009/03/06 12:20 GMT"));</script><noscript>2009/03/06 12:20 GMT</noscript>)
	
	
	
	[<a href="/web/20100630221510/http://ja.doukaku.org/lang/javascript/">
	  JavaScript
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>rotate_r(parseInt("0010001111101101",2), 1).toString(2)</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre></td><td class="code"><div class="highlight"><pre><span class="c">//文字列を指定数倍する</span>
<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nb">String</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">x</span><span class="p">){</span>
    <span class="nb">String</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="k">function</span><span class="p">(</span><span class="nx">n</span><span class="p">){</span>
        <span class="k">var</span> <span class="nx">result</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="o">;</span>
        <span class="k">for</span><span class="p">(</span><span class="k">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">n</span><span class="o">;</span><span class="nx">i</span><span class="o">++</span><span class="p">){</span>
            <span class="nx">result</span> <span class="o">+=</span> <span class="k">this</span><span class="o">;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="nx">result</span><span class="o">;</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="c">//指定された桁数まで文字を補う</span>
<span class="k">function</span> <span class="nx">paddingLeft</span><span class="p">(</span><span class="nx">str</span><span class="o">,</span> <span class="nx">d</span><span class="o">,</span> <span class="nx">c</span><span class="p">){</span>
    <span class="k">var</span> <span class="nx">len</span>  <span class="o">=</span> <span class="nx">str</span><span class="p">.</span><span class="nx">toString</span><span class="p">().</span><span class="nx">length</span><span class="o">;</span>
    <span class="k">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">d</span> <span class="o">&gt;</span> <span class="nx">len</span> <span class="o">?</span> <span class="nx">d</span> <span class="o">-</span> <span class="nx">len</span> <span class="o">:</span> <span class="mi">0</span><span class="o">;</span>
    
    <span class="k">return</span> <span class="nx">c</span><span class="p">.</span><span class="nx">x</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="o">+</span> <span class="nx">str</span><span class="o">;</span>
<span class="p">}</span>

<span class="k">function</span> <span class="nx">rotate_r</span><span class="p">(</span><span class="nx">n</span><span class="o">,</span> <span class="nx">count</span><span class="o">,</span> <span class="nx">size</span><span class="p">){</span>
    <span class="nx">size</span> <span class="o">=</span> <span class="nx">size</span> <span class="o">|</span> <span class="mi">16</span><span class="o">;//</span><span class="err">デフォルトは、１６ビットで処理</span>
    <span class="k">var</span> <span class="nx">wk_bin</span> <span class="o">=</span> <span class="nx">paddingLeft</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">toString</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">,</span> <span class="nx">size</span><span class="o">,</span> <span class="s1">&#39;0&#39;</span><span class="p">);</span>
    <span class="k">var</span> <span class="nx">over</span> <span class="o">=</span> <span class="nx">wk_bin</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="o">-</span><span class="nx">count</span><span class="p">);</span>
    <span class="nx">wk_bin</span> <span class="o">=</span> <span class="nx">over</span> <span class="o">+</span> <span class="nx">wk_bin</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">0</span><span class="o">,</span> <span class="nx">wk_bin</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="nx">count</span><span class="p">);</span>
    <span class="k">return</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">wk_bin</span><span class="o">,</span> <span class="mi">2</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8585/addtag/" class="addtag" id="addtag_8585">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100630221510/http://ja.doukaku.org/lang/javascript/">
		JavaScript
      </a>]
	  
      [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8585/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8585/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8585"
  >-</span><span
  class="button yellow"
  id="rating_z_8585"
  >0</span><span 
  class="button green"
  id="rating_p_8585"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20100630221510/http://ja.doukaku.org/comment/8585/">
    2
    replies
  </a>

  [<a href="/web/20100630221510/http://ja.doukaku.org/239/reply_to/8585/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8588">
  <p class="banner"><a href="/web/20100630221510/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20100630221510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100630221510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8588/">#8588</a>(<script language="JavaScript">print_time(new Date("2009/03/06 12:40 GMT"));</script><noscript>2009/03/06 12:40 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  size = size | 16;
は、
size = size || 16;
の間違い
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8588/addtag/" class="addtag" id="addtag_8588">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8588"
  >-</span><span
  class="button yellow"
  id="rating_z_8588"
  >0</span><span 
  class="button green"
  id="rating_p_8588"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20100630221510/http://ja.doukaku.org/comment/8585/"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20100630221510/http://ja.doukaku.org/comment/8588/root/"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20100630221510/http://ja.doukaku.org/239/reply_to/8588/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8589">
  <p class="banner"><a href="/web/20100630221510/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20100630221510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100630221510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8589/">#8589</a>(<script language="JavaScript">print_time(new Date("2009/03/06 10:15 GMT"));</script><noscript>2009/03/06 10:15 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  substr(-count)
は、
slice(-count)
の間違い
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8589/addtag/" class="addtag" id="addtag_8589">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8589"
  >-</span><span
  class="button yellow"
  id="rating_z_8589"
  >0</span><span 
  class="button green"
  id="rating_p_8589"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20100630221510/http://ja.doukaku.org/comment/8585/"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20100630221510/http://ja.doukaku.org/comment/8589/root/"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20100630221510/http://ja.doukaku.org/239/reply_to/8589/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8590">
  <p class="banner"><a href="/web/20100630221510/http://ja.doukaku.org/user/840/" target="_top">leque</a><a href="/web/20100630221510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/star_silver.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8590/">#8590</a>(<script language="JavaScript">print_time(new Date("2009/03/06 22:04 GMT"));</script><noscript>2009/03/06 22:04 GMT</noscript>)
	
	
	
	[<a href="/web/20100630221510/http://ja.doukaku.org/lang/scheme/">
	  Scheme
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>そのまま</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3</pre></td><td class="code"><div class="highlight"><pre><span class="p">(</span><span class="nf">import</span> <span class="p">(</span><span class="nf">rnrs</span><span class="p">))</span>

<span class="p">(</span><span class="nf">bitwise-rotate-bit-field</span> <span class="o">#</span><span class="nv">b0010001111101101</span> <span class="mi">0</span> <span class="mi">16</span> <span class="mi">-1</span><span class="p">)</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8590/addtag/" class="addtag" id="addtag_8590">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100630221510/http://ja.doukaku.org/lang/scheme/">
		Scheme
      </a>]
	  
      [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8590/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8590/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8590"
  >-</span><span
  class="button yellow"
  id="rating_z_8590"
  >0</span><span 
  class="button green"
  id="rating_p_8590"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100630221510/http://ja.doukaku.org/239/reply_to/8590/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8591">
  <p class="banner"><a href="/web/20100630221510/http://ja.doukaku.org/user/88/" target="_top">sumim</a><a href="/web/20100630221510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100630221510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8591/">#8591</a>(<script language="JavaScript">print_time(new Date("2009/03/06 23:24 GMT"));</script><noscript>2009/03/06 23:24 GMT</noscript>)
	
	
	
	[<a href="/web/20100630221510/http://ja.doukaku.org/lang/smalltalk/">
	  Smalltalk
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>Squeak Smalltalk で。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5
6
7</pre></td><td class="code"><div class="highlight"><pre>| bitRotate16 |
bitRotate16 := [:val :shift |
    shift := shift \\ 16.
    (val &lt;&lt; (16 - shift) bitOr: val &gt;&gt; shift) bitAnd: 16rFFFF].

(bitRotate16 valueWithArguments: #(2r0010001111101101 1)) radix: 2
&quot;=&gt; &#39;1001000111110110&#39; &quot;
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8591/addtag/" class="addtag" id="addtag_8591">タグ</a>:
	
    
    <a href="/web/20100630221510/http://ja.doukaku.org/tag/Squeak_Smalltalk/">Squeak_Smalltalk</a>
    
	&nbsp;

	
      [<a href="/web/20100630221510/http://ja.doukaku.org/lang/smalltalk/">
		Smalltalk
      </a>]
	  
      [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8591/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8591/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8591"
  >-</span><span
  class="button yellow"
  id="rating_z_8591"
  >0</span><span 
  class="button green"
  id="rating_p_8591"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100630221510/http://ja.doukaku.org/239/reply_to/8591/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8592">
  <p class="banner"><a href="/web/20100630221510/http://ja.doukaku.org/user/856/" target="_top">fumokmm</a>

	
	&nbsp;
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8592/">#8592</a>(<script language="JavaScript">print_time(new Date("2009/03/07 00:40 GMT"));</script><noscript>2009/03/07 00:40 GMT</noscript>)
	
	
	
	[<a href="/web/20100630221510/http://ja.doukaku.org/lang/java/">
	  Java
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>Javaにはローテートシフトがないらしいので、こんな感じで実装。</p>

	</div>
	
	<p class="link">
	  参考: <a href="/web/20100630221510/http://mindprod.com/jgloss/rotate.html">rotate : Java Glossary</a>
	</p>  
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></td><td class="code"><div class="highlight"><pre><span class="c">/**</span>
<span class="c"> * 左ローテートシフト</span>
<span class="c"> * @param value 値</span>
<span class="c"> * @param n シフトさせるビット数</span>
<span class="c"> * @return 左ローテートシフト後の値</span>
<span class="c"> */</span>
<span class="k">public</span> <span class="k">static</span> <span class="kt">int</span> <span class="n">leftRotateShift</span><span class="o">(</span><span class="kt">int</span> <span class="n">value</span><span class="o">,</span> <span class="kt">int</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="o">(</span><span class="n">value</span> <span class="o">&lt;&lt;</span> <span class="n">n</span><span class="o">)</span> <span class="o">|</span> <span class="o">(</span><span class="n">value</span> <span class="o">&gt;&gt;&gt;</span> <span class="o">(</span><span class="mi">32</span> <span class="o">-</span> <span class="n">n</span><span class="o">));</span>
<span class="o">}</span>

<span class="c">/**</span>
<span class="c"> * 右ローテートシフト</span>
<span class="c"> * @param value 値</span>
<span class="c"> * @param n シフトさせるビット数</span>
<span class="c"> * @return 右ローテートシフト後の値</span>
<span class="c"> */</span>
<span class="k">public</span> <span class="k">static</span> <span class="kt">int</span> <span class="n">rightRotateShift</span><span class="o">(</span><span class="kt">int</span> <span class="n">value</span><span class="o">,</span> <span class="kt">int</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="o">(</span><span class="n">value</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">n</span><span class="o">)</span> <span class="o">|</span> <span class="o">(</span><span class="n">value</span> <span class="o">&lt;&lt;</span> <span class="o">(</span><span class="mi">32</span> <span class="o">-</span> <span class="n">n</span><span class="o">));</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8592/addtag/" class="addtag" id="addtag_8592">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100630221510/http://ja.doukaku.org/lang/java/">
		Java
      </a>]
	  
      [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8592/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8592/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8592"
  >-</span><span
  class="button yellow"
  id="rating_z_8592"
  >0</span><span 
  class="button green"
  id="rating_p_8592"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20100630221510/http://ja.doukaku.org/comment/8592/">
    1
    reply
  </a>

  [<a href="/web/20100630221510/http://ja.doukaku.org/239/reply_to/8592/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8593">
  <p class="banner"><a href="/web/20100630221510/http://ja.doukaku.org/user/322/" target="_top">sawat</a><a href="/web/20100630221510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100630221510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8593/">#8593</a>(<script language="JavaScript">print_time(new Date("2009/03/07 01:10 GMT"));</script><noscript>2009/03/07 01:10 GMT</noscript>)
	
	
	
	[<a href="/web/20100630221510/http://ja.doukaku.org/lang/java/">
	  Java
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>ローテートシフトありますよ！</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></td><td class="code"><div class="highlight"><pre><span class="k">public</span> <span class="k">class</span> <span class="nc">RotateShift</span> <span class="o">{</span>
   <span class="k">public</span> <span class="k">static</span> <span class="kt">void</span> <span class="n">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
      <span class="kt">int</span> <span class="n">input</span> <span class="o">=</span> <span class="n">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="s">&quot;0010001111101101&quot;</span><span class="o">,</span> <span class="mi">2</span><span class="o">);</span>

      <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">Integer</span><span class="o">.</span><span class="na">rotateRight</span><span class="o">(</span><span class="n">input</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span>
      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">&quot;%s%n&quot;</span><span class="o">,</span><span class="n">Integer</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="n">i</span><span class="o">,</span> <span class="mi">2</span><span class="o">));</span>
      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">&quot;%s%n&quot;</span><span class="o">,</span><span class="n">Integer</span><span class="o">.</span><span class="na">toString</span><span class="o">((</span><span class="kt">short</span><span class="o">)</span><span class="n">i</span><span class="o">,</span> <span class="mi">2</span><span class="o">));</span>

      <span class="kt">long</span> <span class="n">l</span> <span class="o">=</span> <span class="n">Long</span><span class="o">.</span><span class="na">rotateRight</span><span class="o">(</span><span class="n">input</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span>
      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">&quot;%s%n&quot;</span><span class="o">,</span><span class="n">Long</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="n">l</span><span class="o">,</span> <span class="mi">2</span><span class="o">));</span>
      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">&quot;%s%n&quot;</span><span class="o">,</span><span class="n">Long</span><span class="o">.</span><span class="na">toString</span><span class="o">((</span><span class="kt">short</span><span class="o">)</span><span class="n">l</span><span class="o">,</span> <span class="mi">2</span><span class="o">));</span>
   <span class="o">}</span>
<span class="o">}</span>


<span class="c">/* -- 実行結果 --</span>
<span class="c">-1111111111111111110111000001010</span>
<span class="c">1000111110110</span>
<span class="c">-111111111111111111111111111111111111111111111111110111000001010</span>
<span class="c">1000111110110</span>
<span class="c">*/</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8593/addtag/" class="addtag" id="addtag_8593">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100630221510/http://ja.doukaku.org/lang/java/">
		Java
      </a>]
	  
      [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8593/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8593/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8593"
  >-</span><span
  class="button yellow"
  id="rating_z_8593"
  >0</span><span 
  class="button green"
  id="rating_p_8593"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20100630221510/http://ja.doukaku.org/comment/8592/"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20100630221510/http://ja.doukaku.org/comment/8593/root/"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  <a href="/web/20100630221510/http://ja.doukaku.org/comment/8593/">
    1
    reply
  </a>

  [<a href="/web/20100630221510/http://ja.doukaku.org/239/reply_to/8593/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8594">
  <p class="banner"><a href="/web/20100630221510/http://ja.doukaku.org/user/852/" target="_top">emasaka</a>

	
	&nbsp;
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8594/">#8594</a>(<script language="JavaScript">print_time(new Date("2009/03/07 10:44 GMT"));</script><noscript>2009/03/07 10:44 GMT</noscript>)
	
	
	
	[<a href="/web/20100630221510/http://ja.doukaku.org/lang/bash/">
	  Bash
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>整数（Cのlong）が64bitである前提です。

$ rotR 300 2
75
$ rotR -2 4
-1152921504606846977
$ rotL 300 4
4800
$ rotL -2 4
-17
</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></td><td class="code"><div class="highlight"><pre><span class="k">function </span>rotR<span class="o">()</span> <span class="o">{</span>
    <span class="nb">local </span><span class="nv">i</span><span class="o">=</span><span class="nv">$1</span>
    <span class="nb">local </span><span class="nv">w</span><span class="o">=</span><span class="nv">$2</span>
    <span class="nb">echo</span> <span class="k">$(</span><span class="o">(</span>i &gt;&gt; w &amp; ~<span class="o">(</span>-1 &lt;&lt; <span class="m">64</span> - w<span class="k">)</span> | i &lt;&lt; <span class="m">64</span> - w<span class="o">))</span>
<span class="o">}</span>

<span class="k">function </span>rotL<span class="o">()</span> <span class="o">{</span>
    <span class="nb">local </span><span class="nv">i</span><span class="o">=</span><span class="nv">$1</span>
    <span class="nb">local </span><span class="nv">w</span><span class="o">=</span><span class="nv">$2</span>
    <span class="nb">echo</span> <span class="k">$(</span><span class="o">(</span>i &gt;&gt; <span class="m">64</span> - w &amp; ~<span class="o">(</span>-1 &lt;&lt; w<span class="k">)</span> | i &lt;&lt; w<span class="o">))</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8594/addtag/" class="addtag" id="addtag_8594">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100630221510/http://ja.doukaku.org/lang/bash/">
		Bash
      </a>]
	  
      [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8594/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8594/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8594"
  >-</span><span
  class="button yellow"
  id="rating_z_8594"
  >0</span><span 
  class="button green"
  id="rating_p_8594"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20100630221510/http://ja.doukaku.org/comment/8594/">
    1
    reply
  </a>

  [<a href="/web/20100630221510/http://ja.doukaku.org/239/reply_to/8594/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8595">
  <p class="banner"><a href="/web/20100630221510/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20100630221510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100630221510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8595/">#8595</a>(<script language="JavaScript">print_time(new Date("2009/03/07 05:16 GMT"));</script><noscript>2009/03/07 05:16 GMT</noscript>)
	
	
	
	[<a href="/web/20100630221510/http://ja.doukaku.org/lang/c/">
	  C
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>もう少しコードは短縮できるがコンパイラの最適化を阻害しそうなので止めた</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38</pre></td><td class="code"><div class="highlight"><pre><span class="cp">#include &lt;stdio.h&gt;</span>
<span class="cp">#include &lt;stdlib.h&gt;</span>
<span class="cp">#include &lt;string.h&gt;</span>
<span class="cp">#include &lt;math.h&gt;</span>
<span class="kt">void</span> <span class="n">rotate</span> <span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">str</span><span class="p">,</span><span class="kt">int</span> <span class="n">num</span><span class="p">);</span>
<span class="c">/*</span>
<span class="c"> *第一引数 rotateする文字列</span>
<span class="c"> *第二引数　rotateする回数(int型、正の場合、左、負の場合、右にrotateする)</span>
<span class="c"> *</span>
<span class="c"> * 引数が二個未満または第二引数がint型と解釈できない文字列ならば</span>
<span class="c"> * Segmentation fault が発生するので注意</span>
<span class="c"> */</span>
<span class="kt">int</span> <span class="n">main</span><span class="p">(</span> <span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">argv</span><span class="p">[]</span> <span class="p">){</span>
  <span class="n">rotate</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">atoi</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">]));</span>
<span class="p">}</span>
<span class="c">/*</span>
<span class="c"> * 引数str　 rotateする文字列</span>
<span class="c"> * 引数num　 正の場合、左にnum個シフトする</span>
<span class="c">　*　　　　　　　　負の場合、右にnum個シフトする</span>
<span class="c"> */</span>
<span class="kt">void</span> <span class="n">rotate</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">str</span><span class="p">,</span><span class="kt">int</span> <span class="n">num</span><span class="p">){</span>
  <span class="kt">int</span> <span class="n">str_length</span> <span class="o">=</span> <span class="n">strlen</span><span class="p">(</span><span class="n">str</span><span class="p">);</span>
  <span class="kt">int</span> <span class="n">rotate_num</span> <span class="o">=</span> <span class="n">num</span><span class="o">&gt;=</span><span class="mi">0</span><span class="o">?</span><span class="n">abs</span><span class="p">(</span><span class="n">num</span><span class="p">)</span><span class="o">%</span> <span class="nl">str_length:</span><span class="o">-</span><span class="n">abs</span><span class="p">(</span><span class="n">num</span><span class="p">)</span><span class="o">%</span> <span class="n">str_length</span><span class="p">;</span>
  <span class="kt">char</span> <span class="n">rotated_str</span><span class="p">[</span><span class="n">str_length</span><span class="p">];</span>
    <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
    <span class="k">if</span><span class="p">(</span><span class="n">num</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">){</span>
      <span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">str_length</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
    <span class="n">rotated_str</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="n">str</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="n">rotate_num</span><span class="o">&lt;</span><span class="n">str_length</span><span class="o">?</span><span class="n">i</span><span class="o">+</span><span class="nl">rotate_num:</span><span class="n">i</span><span class="o">+</span><span class="n">rotate_num</span><span class="o">-</span><span class="n">str_length</span><span class="p">];</span>
      <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">else</span><span class="p">{</span>
      <span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">str_length</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
    <span class="n">rotated_str</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="n">str</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="n">rotate_num</span><span class="o">&gt;=</span><span class="mi">0</span><span class="o">?</span><span class="n">i</span><span class="o">+</span><span class="nl">rotate_num:</span><span class="n">i</span><span class="o">+</span><span class="n">rotate_num</span><span class="o">+</span><span class="n">str_length</span><span class="p">];</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="n">rotated_str</span><span class="p">[</span><span class="n">str_length</span><span class="p">]</span><span class="o">=</span><span class="sc">&#39;\0&#39;</span><span class="p">;</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">rotated_str</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8595/addtag/" class="addtag" id="addtag_8595">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100630221510/http://ja.doukaku.org/lang/c/">
		C
      </a>]
	  
      [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8595/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8595/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8595"
  >-</span><span
  class="button yellow"
  id="rating_z_8595"
  >0</span><span 
  class="button green"
  id="rating_p_8595"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100630221510/http://ja.doukaku.org/239/reply_to/8595/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8596">
  <p class="banner"><a href="/web/20100630221510/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20100630221510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100630221510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8596/">#8596</a>(<script language="JavaScript">print_time(new Date("2009/03/07 11:34 GMT"));</script><noscript>2009/03/07 11:34 GMT</noscript>)
	
	
	
	[<a href="/web/20100630221510/http://ja.doukaku.org/lang/other/">
	  Other
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>VBAでIntegerの値をローテートシフトするコードを書いてみました。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221</pre></td><td class="code"><div class="highlight"><pre>Option Explicit

Sub main()
    Dim Value As Integer
    
    Value = 9197
    
    Debug.Print &quot;  &quot; &amp; Value &amp; &quot; : &quot; &amp; Bin(Value)
        
    Debug.Print &quot;↓右に1ビットローテート&quot;
    Value = RotateRight(Value)
    
    Debug.Print Value &amp; &quot; : &quot; &amp; Bin(Value)
    
    Debug.Print &quot;↓左に1ビットローテート&quot;
    Value = RotateLeft(Value)
    
    Debug.Print &quot;  &quot; &amp; Value &amp; &quot; : &quot; &amp; Bin(Value)
End Sub

&#39;// Integerの値を右ローテートシフトする。
Function RotateRight(Value As Integer) As Integer
    Dim Bak As Integer
    Dim BinStr As String
    
    &#39;// 指定されたIntegerの値を二進数文字列に変換する。
    BinStr = Bin(Value)
    &#39;// 二進数文字列を右ローテートシフトする。
    BinStr = Right(BinStr, 1) &amp; Left(BinStr, 15)
    &#39;// ローテートされた二進数文字列をIntegerの値に変換する。
    Bak = Dec(BinStr)
    
    RotateRight = Bak
End Function

&#39;// Integerの値を左ローテートシフトする。
Function RotateLeft(Value As Integer) As Integer
    Dim Bak As Integer
    Dim BinStr As String
    
    &#39;// 指定されたIntegerの値を二進数文字列に変換する。
    BinStr = Bin(Value)
    &#39;// 二進数文字列を左ローテートシフトする。
    BinStr = Right(BinStr, 15) &amp; Left(BinStr, 1)
    &#39;// ローテートされた二進数文字列をIntegerの値に変換する。
    Bak = Dec(BinStr)
    
    RotateLeft = Bak
End Function

&#39;// 指定されたIntegerの値を二進数文字列に変換する。
Function Bin(ByVal Value As Integer) As String
    Dim Bak As String
    Dim AbsValue As Long
    
    &#39;// 指定された値の絶対値を取得する。
    AbsValue = Abs(CLng(Value))
    &#39;// 絶対値を二進数文字列に変換する。
    Bak = PosValueToBin(AbsValue)
    &#39;// 二進数文字列の長さを16ビットにする。
    Bak = SetSize(Bak, 16)
    
    &#39;// 指定された値が負の数であることを確認する。
    If Value &lt; 0 Then
        &#39;// 二進数文字列の二の補数を求める。
        Bak = Complement(Bak)
    End If
    
    Bin = Bak
End Function

&#39;// 指定された二進数文字列をIntegerの値に変換する。
Function Dec(ByVal BinStr As String) As Integer
    Dim Bak As Long
    Dim Flag As Long

    &#39;// 二進数文字列が負の数であることを確認する。
    &#39;// 二進数文字列の先頭ビットが1の場合、負の数であることが確認できる。
    If Left(BinStr, 1) = &quot;1&quot; Then
        &#39;// 二進数文字列の二の補数を求める。
        BinStr = Complement(BinStr)
        &#39;// 符号をマイナスにする。
        Flag = -1
    Else
        &#39;// 符号をプラスにする。
        Flag = 1
    End If
    
    &#39;// 二進数文字列をLong値に変換する。
    Bak = PosBinToLong(BinStr)
    &#39;// Long値に符号を適用する。
    Bak = Flag * Bak
        
    Dec = CInt(Bak)
End Function

&#39;// 正の数を二進数文字列に変換する。
Function PosValueToBin(PosValue As Long) As String
    Dim Bak As String

    Bak = &quot;&quot;
    Do While PosValue &gt; 0
        Bak = PosValue Mod 2 &amp; Bak
        PosValue = PosValue \ 2
    Loop
    
    PosValueToBin = Bak
End Function

&#39;// 正の二進数文字列をLongに変換する。
Function PosBinToLong(BinStr As String) As Long
    Dim Bak As Long
    Dim i As Integer
    
    Bak = 0
    For i = 1 To Len(BinStr)
        Bak = Bak * 2
        Bak = Bak + Mid(BinStr, i, 1)
    Next
    
    PosBinToLong = Bak
End Function

&#39;// 二進数文字列を指定されたサイズにする。
Function SetSize(BinStr As String, NewSize As Integer) As String
    Dim Bak As String
    Dim i As Long
    Dim Lack As Long
    Dim OldSize As Long
    
    &#39;// 二進数文字列のサイズを指定されたサイズと比較する。
    OldSize = Len(BinStr)
    If NewSize &lt; OldSize Then
        &#39;// 二進数文字列のサイズが指定されたサイズより大きい:
        
        Bak = Right(BinStr, NewSize)
    
    ElseIf NewSize &gt; OldSize Then
        &#39;// 二進数文字列のサイズが指定されたサイズより小さい:
        
        &#39;足りないサイズを求める。
        Lack = NewSize - OldSize
        &#39;足りないサイズ分を0で埋める。
        Bak = BinStr
        For i = 1 To Lack
            Bak = &quot;0&quot; &amp; Bak
        Next
        
    Else
        &#39;// 二進数文字列のサイズと指定されたサイズが等しい:
        
        Bak = BinStr
        
    End If
        
    SetSize = Bak
End Function

&#39;// 二進数文字列の二の補数を求める。
Function Complement(BinStr As String) As String
    Dim Bak As String
    
    &#39;// 二進数文字列の符号を反転させる。
    Bak = Reverse(BinStr)
    &#39;// 二進数文字列に1を足す。
    Bak = PlusOne(Bak)
    
    Complement = Bak
End Function

&#39;// 二進数文字列の各ビットを反転させる。
Function Reverse(BinStr As String) As String
    Dim Bak As String
    Dim i As Integer

    Bak = &quot;&quot;
    For i = 1 To Len(BinStr)
        If Mid(BinStr, i, 1) = &quot;0&quot; Then
            Bak = Bak &amp; &quot;1&quot;
        Else
            Bak = Bak &amp; &quot;0&quot;
        End If
    Next
    
    Reverse = Bak
End Function

&#39;// 二進数文字列の1を足す。
Function PlusOne(BinStr As String) As String
    Dim Bak As String
    Dim i As Integer

    Bak = &quot;&quot;
    
    i = Len(BinStr)
    
    Do While i &gt;= 1
        If Mid(BinStr, i, 1) = &quot;0&quot; Then
            Bak = &quot;1&quot; &amp; Bak
            i = i - 1
            Exit Do
        Else
            Bak = &quot;0&quot; &amp; Bak
            i = i - 1
        End If
    Loop
    
    Do While i &gt;= 1
        Bak = Mid(BinStr, i, 1) &amp; Bak
        i = i - 1
    Loop
    
    PlusOne = Bak
End Function

&#39; -- 実行結果 --
&#39;  9197 : 0010001111101101
&#39;↓右に1ビットローテート
&#39;-28170 : 1001000111110110
&#39;↓左に1ビットローテート
&#39;  9197 : 0010001111101101
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8596/addtag/" class="addtag" id="addtag_8596">タグ</a>:
	
    
    <a href="/web/20100630221510/http://ja.doukaku.org/tag/VBA/">VBA</a>
    
	&nbsp;

	
      [<a href="/web/20100630221510/http://ja.doukaku.org/lang/other/">
		Other
      </a>]
	  
      [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8596/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8596/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8596"
  >-</span><span
  class="button yellow"
  id="rating_z_8596"
  >0</span><span 
  class="button green"
  id="rating_p_8596"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100630221510/http://ja.doukaku.org/239/reply_to/8596/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8597">
  <p class="banner"><a href="/web/20100630221510/http://ja.doukaku.org/user/705/" target="_top">doda</a><a href="/web/20100630221510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8597/">#8597</a>(<script language="JavaScript">print_time(new Date("2009/03/07 11:55 GMT"));</script><noscript>2009/03/07 11:55 GMT</noscript>)
	
	
	
	[<a href="/web/20100630221510/http://ja.doukaku.org/lang/other/">
	  Other
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>Tera Termのマクロです。
海外からの要望で実装されました。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5
6
7
8
9</pre></td><td class="code"><div class="highlight"><pre>a = $12345678

rotateright b a 4
sprintf &quot;%08x -&gt; %08x&quot; a b
messagebox inputstr &quot;4 bit right rotate&quot;

rotateleft b a 4
sprintf &quot;%08x -&gt; %08x&quot; a b
messagebox inputstr &quot;4 bit left rotate&quot;
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8597/addtag/" class="addtag" id="addtag_8597">タグ</a>:
	
    
    <a href="/web/20100630221510/http://ja.doukaku.org/tag/4.54%E4%BB%A5%E9%99%8D/">4.54以降</a>
    
    <a href="/web/20100630221510/http://ja.doukaku.org/tag/TeraTermMacro/">TeraTermMacro</a>
    
	&nbsp;

	
      [<a href="/web/20100630221510/http://ja.doukaku.org/lang/other/">
		Other
      </a>]
	  
      [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8597/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8597/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8597"
  >-</span><span
  class="button yellow"
  id="rating_z_8597"
  >0</span><span 
  class="button green"
  id="rating_p_8597"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100630221510/http://ja.doukaku.org/239/reply_to/8597/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8598">
  <p class="banner"><a href="/web/20100630221510/http://ja.doukaku.org/user/405/" target="_top">g000001</a><a href="/web/20100630221510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100630221510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8598/">#8598</a>(<script language="JavaScript">print_time(new Date("2009/03/07 07:53 GMT"));</script><noscript>2009/03/07 07:53 GMT</noscript>)
	
	
	
	[<a href="/web/20100630221510/http://ja.doukaku.org/lang/commonlisp/">
	  Common Lisp
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>ANSI CL標準には含まれていませんが、処理系の拡張として持っているものもあるようです(SBCL等)
ここではcl-utilitiesを使いました。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2</pre></td><td class="code"><div class="highlight"><pre>(cl-utilities:ROTATE-BYTE -1 (byte 16 0) #b0010001111101101)
;=&gt; 37366(#b1001000111110110)
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8598/addtag/" class="addtag" id="addtag_8598">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100630221510/http://ja.doukaku.org/lang/commonlisp/">
		Common Lisp
      </a>]
	  
      [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8598/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8598/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8598"
  >-</span><span
  class="button yellow"
  id="rating_z_8598"
  >0</span><span 
  class="button green"
  id="rating_p_8598"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100630221510/http://ja.doukaku.org/239/reply_to/8598/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8599">
  <p class="banner"><a href="/web/20100630221510/http://ja.doukaku.org/user/679/" target="_top">muscovyduck</a>

	
	&nbsp;
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8599/">#8599</a>(<script language="JavaScript">print_time(new Date("2009/03/07 11:06 GMT"));</script><noscript>2009/03/07 11:06 GMT</noscript>)
	
	
	
	[<a href="/web/20100630221510/http://ja.doukaku.org/lang/ruby/">
	  Ruby
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>引数に2進数と桁数を与えると、与えられた2進数を右に1ビットだけローテートシフトした2進数を文字列で返すメソッドrotate_rの実装です。実行結果は次のとおり:</p>
<pre class="literal-block">
irb(main):005:0&gt; rotate_r(0b0010001111101101, 16)
=&gt; &quot;1001000111110110&quot;
irb(main):006:0&gt;
</pre>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4</pre></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">rotate_r</span><span class="p">(</span><span class="n">bin_num</span><span class="p">,</span> <span class="n">digit</span><span class="p">)</span>
  <span class="n">bin_num</span><span class="o">.</span><span class="n">to_s</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">rjust</span><span class="p">(</span><span class="n">digit</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">)</span><span class="o">[-</span><span class="n">digit</span><span class="p">,</span> <span class="n">digit</span><span class="o">].</span><span class="n">each_char</span><span class="o">.</span>
    <span class="n">cycle</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="n">digit</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">[-</span><span class="n">digit</span><span class="p">,</span> <span class="n">digit</span><span class="o">].</span><span class="n">join</span>
<span class="k">end</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8599/addtag/" class="addtag" id="addtag_8599">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100630221510/http://ja.doukaku.org/lang/ruby/">
		Ruby
      </a>]
	  
      [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8599/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8599/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8599"
  >-</span><span
  class="button yellow"
  id="rating_z_8599"
  >0</span><span 
  class="button green"
  id="rating_p_8599"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100630221510/http://ja.doukaku.org/239/reply_to/8599/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8600">
  <p class="banner"><a href="/web/20100630221510/http://ja.doukaku.org/user/856/" target="_top">fumokmm</a>

	
	&nbsp;
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8600/">#8600</a>(<script language="JavaScript">print_time(new Date("2009/03/07 19:40 GMT"));</script><noscript>2009/03/07 19:40 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>ありゃ、ホントですね。
1.5から増えたんですね。勉強になりました。</pre>
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8600/addtag/" class="addtag" id="addtag_8600">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8600"
  >-</span><span
  class="button yellow"
  id="rating_z_8600"
  >0</span><span 
  class="button green"
  id="rating_p_8600"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20100630221510/http://ja.doukaku.org/comment/8593/"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20100630221510/http://ja.doukaku.org/comment/8600/root/"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20100630221510/http://ja.doukaku.org/239/reply_to/8600/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8601">
  <p class="banner"><a href="/web/20100630221510/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20100630221510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100630221510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8601/">#8601</a>(<script language="JavaScript">print_time(new Date("2009/03/07 19:44 GMT"));</script><noscript>2009/03/07 19:44 GMT</noscript>)
	
	
	
	[<a href="/web/20100630221510/http://ja.doukaku.org/lang/haskell/">
	  Haskell
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  
<p>Haskell にもローテートシフトありますよ。（仕様で入ってるかどうかはわかりませんが）ghc の base ライブラリの中の Data.Bits モジュールに入ってます。
</p>
<p>ありますよで終わってしまうのはさみしいので QuickCheck してみました。
</p>
<p>ローテートシフトなんだから、シフトした後逆方向に同じ幅だけシフトしたら元に戻るよね、というのをランダムな引数を与えて確かめています。シフトする幅に 0 が来たら、それはテストするまでもないので飛ばすことにします。実行ファイルの引数として verbose を渡すと、テストに渡された引数を出力させながらテストします。
</p>
<pre><code>~/work/2009/03/08 10:18 ghc --make rotateshift.hs
[1 of 1] Compiling Main             ( rotateshift.hs, rotateshift.o )
Linking rotateshift ...
~/work/2009/03/08 10:29 ./rotateshift
OK, passed 100 tests (18% trivial).
~/work/2009/03/08 10:29 ./rotateshift verbose
0:
2
3
1:
1
1
OK, passed 100 tests (11% trivial).
</code></pre>


	</div>
	
	<p class="link">
	  参考: <a href="/web/20100630221510/http://haskell.org/ghc/docs/latest/html/libraries/base/Data-Bits.html">Data.Bits</a>
	</p>  
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></td><td class="code"><div class="highlight"><pre><span class="kr">import</span> <span class="n">Data</span><span class="o">.</span><span class="n">Bits</span>
<span class="kr">import</span> <span class="n">Test</span><span class="o">.</span><span class="n">QuickCheck</span>
<span class="kr">import</span> <span class="n">System</span><span class="o">.</span><span class="n">Environment</span>

<span class="nv">prop_rotate</span> <span class="o">::</span> <span class="n">Int</span> <span class="o">-&gt;</span> <span class="n">Int</span> <span class="o">-&gt;</span> <span class="n">Property</span>
<span class="nv">prop_rotate</span> <span class="nv">bits</span> <span class="nv">n</span> <span class="o">=</span> <span class="nv">trivial</span> <span class="p">(</span><span class="nv">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="o">$</span> <span class="nv">bits</span> <span class="o">==</span> <span class="nv">rotate</span> <span class="p">(</span><span class="nv">rotate</span> <span class="nv">bits</span> <span class="nv">n</span><span class="p">)</span> <span class="p">(</span><span class="o">-</span><span class="nv">n</span><span class="p">)</span>

<span class="nv">main</span> <span class="o">=</span> <span class="kr">do</span>
  <span class="nv">is_verbose</span> <span class="o">&lt;-</span> <span class="nv">verbose</span>
  <span class="p">(</span><span class="kr">if</span> <span class="nv">is_verbose</span> <span class="kr">then</span> <span class="nv">verboseCheck</span> <span class="kr">else</span> <span class="nv">quickCheck</span><span class="p">)</span> <span class="nv">prop_rotate</span>

<span class="nv">verbose</span> <span class="o">=</span> <span class="kr">do</span>
  <span class="nv">args</span> <span class="o">&lt;-</span> <span class="nv">getArgs</span>
  <span class="nv">return</span> <span class="o">$</span> <span class="kr">if</span> <span class="nv">null</span> <span class="nv">args</span> <span class="kr">then</span> <span class="n">False</span> <span class="kr">else</span> <span class="nv">head</span> <span class="nv">args</span> <span class="o">==</span> <span class="s">&quot;verbose&quot;</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8601/addtag/" class="addtag" id="addtag_8601">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100630221510/http://ja.doukaku.org/lang/haskell/">
		Haskell
      </a>]
	  
      [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8601/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8601/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8601"
  >-</span><span
  class="button yellow"
  id="rating_z_8601"
  >0</span><span 
  class="button green"
  id="rating_p_8601"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20100630221510/http://ja.doukaku.org/comment/8601/">
    1
    reply
  </a>

  [<a href="/web/20100630221510/http://ja.doukaku.org/239/reply_to/8601/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8602">
  <p class="banner"><a href="/web/20100630221510/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20100630221510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100630221510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8602/">#8602</a>(<script language="JavaScript">print_time(new Date("2009/03/07 19:45 GMT"));</script><noscript>2009/03/07 19:45 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  
<p>verbose のほうの出力は省略してます。
</p>



	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8602/addtag/" class="addtag" id="addtag_8602">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8602"
  >-</span><span
  class="button yellow"
  id="rating_z_8602"
  >0</span><span 
  class="button green"
  id="rating_p_8602"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20100630221510/http://ja.doukaku.org/comment/8601/"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20100630221510/http://ja.doukaku.org/comment/8602/root/"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20100630221510/http://ja.doukaku.org/239/reply_to/8602/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8603">
  <p class="banner"><a href="/web/20100630221510/http://ja.doukaku.org/user/177/" target="_top">ocean</a><a href="/web/20100630221510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8603/">#8603</a>(<script language="JavaScript">print_time(new Date("2009/03/08 04:39 GMT"));</script><noscript>2009/03/08 04:39 GMT</noscript>)
	
	
	
	[<a href="/web/20100630221510/http://ja.doukaku.org/lang/python/">
	  Python
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>「ローテートシフトがある」とは言えませんが。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5
6
7</pre></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">rotate</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">16</span><span class="p">):</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">bin</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">s</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="s">&quot;0b&quot;</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span><span class="o">.</span><span class="n">zfill</span><span class="p">(</span><span class="n">width</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">s</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="mi">2</span><span class="p">)</span>

<span class="k">print</span> <span class="n">rotate</span><span class="p">(</span><span class="mi">9197</span><span class="p">)</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8603/addtag/" class="addtag" id="addtag_8603">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100630221510/http://ja.doukaku.org/lang/python/">
		Python
      </a>]
	  
      [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8603/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8603/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8603"
  >-</span><span
  class="button yellow"
  id="rating_z_8603"
  >0</span><span 
  class="button green"
  id="rating_p_8603"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100630221510/http://ja.doukaku.org/239/reply_to/8603/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8604">
  <p class="banner"><a href="/web/20100630221510/http://ja.doukaku.org/user/712/" target="_top">eagletmt</a>

	
	&nbsp;
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8604/">#8604</a>(<script language="JavaScript">print_time(new Date("2009/03/08 05:10 GMT"));</script><noscript>2009/03/08 05:10 GMT</noscript>)
	
	
	
	[<a href="/web/20100630221510/http://ja.doukaku.org/lang/c/">
	  C
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>文字列で右にローテート。
負の値を与えると左にローテート。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27</pre></td><td class="code"><div class="highlight"><pre><span class="cp">#include &lt;stdio.h&gt;</span>
<span class="cp">#include &lt;stdlib.h&gt;</span>
<span class="cp">#include &lt;string.h&gt;</span>
<span class="cp">#include &lt;assert.h&gt;</span>

<span class="kt">void</span> <span class="n">rotate</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">str</span><span class="p">,</span> <span class="kt">int</span> <span class="n">num</span><span class="p">);</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="n">assert</span><span class="p">(</span><span class="n">argc</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">);</span>
  <span class="n">rotate</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">atoi</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">]));</span>
  <span class="n">puts</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">rotate</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">str</span><span class="p">,</span> <span class="kt">int</span> <span class="n">num</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">size_t</span> <span class="n">len</span> <span class="o">=</span> <span class="n">strlen</span><span class="p">(</span><span class="n">str</span><span class="p">);</span>
  <span class="n">size_t</span> <span class="n">n</span> <span class="o">=</span> <span class="n">num</span> <span class="o">%</span> <span class="n">len</span><span class="p">;</span>
  <span class="kt">char</span> <span class="o">*</span><span class="n">tmp</span><span class="p">;</span>

  <span class="n">tmp</span> <span class="o">=</span> <span class="n">malloc</span><span class="p">(</span><span class="n">n</span><span class="p">);</span>
  <span class="n">memcpy</span><span class="p">(</span><span class="n">tmp</span><span class="p">,</span> <span class="n">str</span><span class="o">+</span><span class="n">len</span><span class="o">-</span><span class="n">n</span><span class="p">,</span> <span class="n">n</span><span class="p">);</span>
  <span class="n">memmove</span><span class="p">(</span><span class="n">str</span><span class="o">+</span><span class="n">n</span><span class="p">,</span> <span class="n">str</span><span class="p">,</span> <span class="n">len</span><span class="o">-</span><span class="n">n</span><span class="p">);</span>
  <span class="n">memcpy</span><span class="p">(</span><span class="n">str</span><span class="p">,</span> <span class="n">tmp</span><span class="p">,</span> <span class="n">n</span><span class="p">);</span>
  <span class="n">free</span><span class="p">(</span><span class="n">tmp</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8604/addtag/" class="addtag" id="addtag_8604">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100630221510/http://ja.doukaku.org/lang/c/">
		C
      </a>]
	  
      [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8604/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8604/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8604"
  >-</span><span
  class="button yellow"
  id="rating_z_8604"
  >0</span><span 
  class="button green"
  id="rating_p_8604"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100630221510/http://ja.doukaku.org/239/reply_to/8604/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8608">
  <p class="banner"><a href="/web/20100630221510/http://ja.doukaku.org/user/127/" target="_top">raynstard</a><a href="/web/20100630221510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8608/">#8608</a>(<script language="JavaScript">print_time(new Date("2009/03/09 11:35 GMT"));</script><noscript>2009/03/09 11:35 GMT</noscript>)
	
	
	
	[<a href="/web/20100630221510/http://ja.doukaku.org/lang/c/">
	  C
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>とりあえず、右ローテートシフト 1ビット固定で^^;
Cの場合、インラインアセンブラを使ってしまうのが一番手っ取り早い？

CPU依存してしまうから嫌われるかもしれませんが。。。
# 初めて使ったけど gccってasm{} 使えないことをしった今日この頃

// gcc -Wall doukaku239.c
// CPU は x86系限定です。
%  ./a.out 7
before: 00000000000000000000000000000111
after : 10000000000000000000000000000011</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34</pre></td><td class="code"><div class="highlight"><pre><span class="cp">#include &lt;stdio.h&gt;</span>
<span class="cp">#include &lt;stdlib.h&gt;</span>
<span class="cp">#include &lt;stdint.h&gt;</span>

<span class="kt">int</span> <span class="nf">print_bits</span><span class="p">(</span><span class="n">uint32_t</span> <span class="n">in</span><span class="p">)</span>
<span class="p">{</span>
        <span class="kt">char</span> <span class="n">bits</span><span class="p">[</span><span class="mi">33</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;00000000000000000000000000000000&quot;</span><span class="p">;</span>
        <span class="kt">char</span> <span class="o">*</span><span class="n">p</span> <span class="o">=</span> <span class="n">bits</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">carry</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>

        <span class="k">while</span><span class="p">(</span> <span class="n">in</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">)</span>
        <span class="p">{</span>
                <span class="n">__asm__</span><span class="p">(</span><span class="s">&quot;    shl $1,%2;</span><span class="se">\n</span><span class="s">&quot;</span>
                        <span class="s">&quot;    pushf;</span><span class="se">\n</span><span class="s">&quot;</span>
                        <span class="s">&quot;    pop %3;</span><span class="se">\n</span><span class="s">&quot;</span>
                        <span class="s">&quot;    andl $1,%3;</span><span class="se">\n</span><span class="s">&quot;</span>
                        <span class="o">:</span><span class="s">&quot;=c&quot;</span><span class="p">(</span><span class="n">in</span><span class="p">),</span> <span class="s">&quot;=a&quot;</span><span class="p">(</span><span class="n">carry</span><span class="p">)</span>
                        <span class="o">:</span> <span class="s">&quot;0&quot;</span><span class="p">(</span><span class="n">in</span><span class="p">),</span> <span class="s">&quot;1&quot;</span><span class="p">(</span><span class="n">carry</span><span class="p">)</span>
                <span class="p">);</span>
                <span class="o">*</span><span class="n">p</span> <span class="o">=</span> <span class="sc">&#39;0&#39;</span> <span class="o">+</span> <span class="n">carry</span><span class="p">;</span> <span class="n">p</span> <span class="o">++</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%.33s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">bits</span><span class="p">);</span>
        <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
        <span class="n">uint32_t</span> <span class="n">param</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="n">param</span> <span class="o">=</span> <span class="n">atoi</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;before: &quot;</span><span class="p">);</span> <span class="n">print_bits</span><span class="p">(</span> <span class="n">param</span> <span class="p">);</span>
        <span class="n">__asm__</span><span class="p">(</span><span class="s">&quot;    ror $1,%1&quot;</span> <span class="o">:</span> <span class="s">&quot;=r&quot;</span><span class="p">(</span><span class="n">param</span><span class="p">)</span> <span class="o">:</span> <span class="s">&quot;0&quot;</span><span class="p">(</span><span class="n">param</span><span class="p">)</span> <span class="p">);</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;after : &quot;</span><span class="p">);</span> <span class="n">print_bits</span><span class="p">(</span> <span class="n">param</span> <span class="p">);</span>
        <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8608/addtag/" class="addtag" id="addtag_8608">タグ</a>:
	
    
    <a href="/web/20100630221510/http://ja.doukaku.org/tag/8086/">8086</a>
    
    <a href="/web/20100630221510/http://ja.doukaku.org/tag/C99/">C99</a>
    
	&nbsp;

	
      [<a href="/web/20100630221510/http://ja.doukaku.org/lang/c/">
		C
      </a>]
	  
      [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8608/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8608/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8608"
  >-</span><span
  class="button yellow"
  id="rating_z_8608"
  >0</span><span 
  class="button green"
  id="rating_p_8608"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100630221510/http://ja.doukaku.org/239/reply_to/8608/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8609">
  <p class="banner"><a href="/web/20100630221510/http://ja.doukaku.org/user/766/" target="_top">syat</a><a href="/web/20100630221510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8609/">#8609</a>(<script language="JavaScript">print_time(new Date("2009/03/09 12:01 GMT"));</script><noscript>2009/03/09 12:01 GMT</noscript>)
	
	
	
	[<a href="/web/20100630221510/http://ja.doukaku.org/lang/c/">
	  C
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  Cで。<br/>64bit整数に２個つめてからシフトしています。<br/>マイナスシフト（左シフト）、32を超えるシフトにも対応。<br/>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43</pre></td><td class="code"><div class="highlight"><pre><span class="cp">#include &lt;stdio.h&gt;</span>
<span class="cp">#include &lt;stdlib.h&gt;</span>

<span class="cp">#ifdef _MSC_VER</span>
    <span class="k">typedef</span> <span class="n">_int32</span> <span class="n">int32_t</span><span class="p">;</span>
    <span class="k">typedef</span> <span class="n">_int64</span> <span class="n">int64_t</span><span class="p">;</span>
<span class="cp">#elif __GNUC__</span>
<span class="cp">    #include &lt;stdint.h&gt;</span>
<span class="cp">#endif</span>

<span class="c">/* rotate : numをshift回だけ右にローテートシフトする */</span>
<span class="n">int32_t</span> <span class="nf">rotate</span><span class="p">(</span><span class="n">int32_t</span> <span class="n">num</span><span class="p">,</span> <span class="kt">int</span> <span class="n">shift</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">int64_t</span> <span class="n">numnum</span><span class="p">;</span>
    <span class="c">/* シフト数の正規化（32以下の正数にする） */</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">shift</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="n">shift</span><span class="o">+=</span> <span class="mi">32</span><span class="p">;</span>
    <span class="n">shift</span> <span class="o">%=</span> <span class="mi">32</span><span class="p">;</span>
    <span class="c">/* シフト */</span>
    <span class="n">numnum</span> <span class="o">=</span> <span class="n">num</span><span class="p">;</span>
    <span class="n">numnum</span> <span class="o">=</span> <span class="p">(</span><span class="n">numnum</span><span class="o">&lt;&lt;</span><span class="mi">32</span><span class="p">)</span> <span class="o">|</span> <span class="n">num</span><span class="p">;</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">numnum</span><span class="o">&gt;&gt;</span><span class="n">shift</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">int32_t</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
    <span class="kt">char</span> <span class="n">buf</span><span class="p">[</span><span class="mi">32</span><span class="o">+</span><span class="mi">1</span><span class="p">];</span>
    <span class="n">int32_t</span> <span class="n">num</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="n">int32_t</span> <span class="n">num2</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">shift</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">argc</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Usage: %s &lt;bits&gt; &lt;shift&gt;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
        <span class="k">return</span> <span class="n">EXIT_FAILURE</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">argc</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">num</span> <span class="o">=</span> <span class="n">strtol</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="nb">NULL</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">argc</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">num</span> <span class="o">=</span> <span class="n">strtol</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="nb">NULL</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
        <span class="n">shift</span> <span class="o">=</span> <span class="n">strtol</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="nb">NULL</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="n">num2</span> <span class="o">=</span> <span class="n">rotate</span><span class="p">(</span><span class="n">num</span><span class="p">,</span> <span class="n">shift</span><span class="p">);</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%032s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">itoa</span><span class="p">(</span><span class="n">num2</span><span class="p">,</span> <span class="n">buf</span><span class="p">,</span> <span class="mi">2</span><span class="p">));</span>
    <span class="k">return</span> <span class="n">EXIT_SUCCESS</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8609/addtag/" class="addtag" id="addtag_8609">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100630221510/http://ja.doukaku.org/lang/c/">
		C
      </a>]
	  
      [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8609/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8609/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8609"
  >-</span><span
  class="button yellow"
  id="rating_z_8609"
  >0</span><span 
  class="button green"
  id="rating_p_8609"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100630221510/http://ja.doukaku.org/239/reply_to/8609/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8610">
  <p class="banner"><a href="/web/20100630221510/http://ja.doukaku.org/user/1013/" target="_top">selpo</a>

	
	&nbsp;
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8610/">#8610</a>(<script language="JavaScript">print_time(new Date("2009/03/09 12:16 GMT"));</script><noscript>2009/03/09 12:16 GMT</noscript>)
	
	
	
	[<a href="/web/20100630221510/http://ja.doukaku.org/lang/csharp/">
	  C#
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>右シフトで消える部分を左に持ってきて、後でそれをorでつなぎます。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28</pre></td><td class="code"><div class="highlight"><pre><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">class</span> <span class="nc">P</span>
<span class="k">{</span>
    <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">()</span>
    <span class="k">{</span>
        <span class="kt">ushort</span> <span class="n">value</span> <span class="p">=</span> <span class="m">0</span><span class="n">x23ed</span><span class="p">;</span>
        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">ToBinStr</span><span class="p">(</span><span class="n">value</span><span class="p">));</span>
        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">ToBinStr</span><span class="p">(</span><span class="n">Rotate</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="m">1</span><span class="p">)));</span>
    <span class="k">}</span>
    <span class="k">static</span> <span class="kt">ushort</span> <span class="nf">Rotate</span><span class="p">(</span><span class="kt">ushort</span> <span class="n">value</span><span class="p">,</span> <span class="kt">short</span> <span class="n">n</span><span class="p">)</span>
    <span class="k">{</span>
        <span class="k">return</span> <span class="p">(</span><span class="kt">ushort</span><span class="p">)((</span><span class="n">value</span> <span class="p">&gt;&gt;</span> <span class="n">n</span><span class="p">)</span>
               <span class="p">|</span> <span class="p">(</span><span class="n">value</span> <span class="p">&lt;&lt;</span> <span class="p">(</span><span class="m">16</span> <span class="p">-</span> <span class="n">n</span><span class="p">)));</span>
    <span class="k">}</span>
    <span class="k">static</span> <span class="kt">string</span> <span class="nf">ToBinStr</span><span class="p">(</span><span class="kt">ushort</span> <span class="n">value</span><span class="p">)</span>
    <span class="k">{</span>
        <span class="kt">ushort</span> <span class="n">end</span> <span class="p">=</span> <span class="m">0</span><span class="n">x1110</span><span class="p">;</span>
        <span class="kt">string</span> <span class="n">str</span> <span class="p">=</span> <span class="s">&quot;&quot;</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">ushort</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="n">x8000</span><span class="p">;</span> <span class="n">i</span> <span class="p">!=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&gt;&gt;=</span> <span class="m">1</span><span class="p">)</span>
        <span class="k">{</span>
            <span class="n">str</span> <span class="p">+=</span> <span class="p">(</span><span class="n">value</span> <span class="p">&amp;</span> <span class="n">i</span><span class="p">)</span> <span class="p">!=</span> <span class="m">0</span> <span class="p">?</span>
                        <span class="sc">&#39;1&#39;</span> <span class="p">:</span> <span class="sc">&#39;0&#39;</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">((</span><span class="n">i</span> <span class="p">&amp;</span> <span class="n">end</span><span class="p">)</span> <span class="p">!=</span> <span class="m">0</span><span class="p">)</span>
                <span class="n">str</span> <span class="p">+=</span> <span class="sc">&#39; &#39;</span><span class="p">;</span>
        <span class="k">}</span>
        <span class="k">return</span> <span class="n">str</span><span class="p">;</span>
    <span class="k">}</span>
<span class="k">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8610/addtag/" class="addtag" id="addtag_8610">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100630221510/http://ja.doukaku.org/lang/csharp/">
		C#
      </a>]
	  
      [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8610/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8610/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8610"
  >-</span><span
  class="button yellow"
  id="rating_z_8610"
  >0</span><span 
  class="button green"
  id="rating_p_8610"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100630221510/http://ja.doukaku.org/239/reply_to/8610/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8625">
  <p class="banner"><a href="/web/20100630221510/http://ja.doukaku.org/user/833/" target="_top">mattsan</a><a href="/web/20100630221510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/star_silver.png" border=0/></a><a href="/web/20100630221510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8625/">#8625</a>(<script language="JavaScript">print_time(new Date("2009/03/10 06:54 GMT"));</script><noscript>2009/03/10 06:54 GMT</noscript>)
	
	
	
	[<a href="/web/20100630221510/http://ja.doukaku.org/lang/cpp/">
	  C++
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></td><td class="code"><div class="highlight"><pre><span class="cp">#include &lt;bitset&gt;</span>

<span class="k">template</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">size_t</span> <span class="n">N</span><span class="o">&gt;</span>
<span class="n">std</span><span class="o">::</span><span class="n">bitset</span><span class="o">&lt;</span><span class="n">N</span><span class="o">&gt;</span> <span class="n">rotateRight</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">bitset</span><span class="o">&lt;</span><span class="n">N</span><span class="o">&gt;&amp;</span> <span class="n">bits</span><span class="p">,</span> <span class="kt">int</span> <span class="n">n</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">n</span> <span class="o">%=</span> <span class="n">N</span><span class="p">;</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">bits</span> <span class="o">&gt;&gt;</span> <span class="n">n</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">bits</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">N</span> <span class="o">-</span> <span class="n">n</span><span class="p">));</span>
<span class="p">}</span>

<span class="cp">#include &lt;iostream&gt;</span>

<span class="kt">int</span> <span class="n">main</span><span class="p">(</span><span class="kt">int</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="p">[])</span>
<span class="p">{</span>
    <span class="n">std</span><span class="o">::</span><span class="n">bitset</span><span class="o">&lt;</span><span class="mi">16</span><span class="o">&gt;</span> <span class="n">bits</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">(</span><span class="s">&quot;0010001111101101&quot;</span><span class="p">));</span>

    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">bits</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">rotateRight</span><span class="p">(</span><span class="n">bits</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8625/addtag/" class="addtag" id="addtag_8625">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100630221510/http://ja.doukaku.org/lang/cpp/">
		C++
      </a>]
	  
      [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8625/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8625/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8625"
  >-</span><span
  class="button yellow"
  id="rating_z_8625"
  >0</span><span 
  class="button green"
  id="rating_p_8625"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100630221510/http://ja.doukaku.org/239/reply_to/8625/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8626">
  <p class="banner"><a href="/web/20100630221510/http://ja.doukaku.org/user/1022/" target="_top">陽炎</a>

	
	&nbsp;
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8626/">#8626</a>(<script language="JavaScript">print_time(new Date("2009/03/10 07:12 GMT"));</script><noscript>2009/03/10 07:12 GMT</noscript>)
	
	
	
	[<a href="/web/20100630221510/http://ja.doukaku.org/lang/fortran/">
	  FORTRAN
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5
6</pre></td><td class="code"><div class="highlight"><pre>program doukaku239

  print *, ishftc(9197, 1)

  stop
end program doukaku239
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8626/addtag/" class="addtag" id="addtag_8626">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100630221510/http://ja.doukaku.org/lang/fortran/">
		FORTRAN
      </a>]
	  
      [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8626/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8626/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8626"
  >-</span><span
  class="button yellow"
  id="rating_z_8626"
  >0</span><span 
  class="button green"
  id="rating_p_8626"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100630221510/http://ja.doukaku.org/239/reply_to/8626/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8637">
  <p class="banner"><a href="/web/20100630221510/http://ja.doukaku.org/user/124/" target="_top">tsekine</a>

	
	&nbsp;
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8637/">#8637</a>(<script language="JavaScript">print_time(new Date("2009/03/10 22:50 GMT"));</script><noscript>2009/03/10 22:50 GMT</noscript>)
	
	
	
	[<a href="/web/20100630221510/http://ja.doukaku.org/lang/bash/">
	  Bash
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>long の bit 数は -1 の hex 表現から簡単に得られますよ。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2</pre></td><td class="code"><div class="highlight"><pre><span class="nb">local </span><span class="nv">minus_one_in_hex</span><span class="o">=</span><span class="k">$(</span><span class="nb">printf</span> %x -1<span class="k">)</span>
<span class="nb">local</span> -i <span class="nv">sizeof_long</span><span class="o">=</span><span class="s2">&quot;${#minus_one_in_hex} * 4&quot;</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8637/addtag/" class="addtag" id="addtag_8637">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100630221510/http://ja.doukaku.org/lang/bash/">
		Bash
      </a>]
	  
      [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8637/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8637/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8637"
  >-</span><span
  class="button yellow"
  id="rating_z_8637"
  >0</span><span 
  class="button green"
  id="rating_p_8637"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20100630221510/http://ja.doukaku.org/comment/8594/"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20100630221510/http://ja.doukaku.org/comment/8637/root/"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  <a href="/web/20100630221510/http://ja.doukaku.org/comment/8637/">
    1
    reply
  </a>

  [<a href="/web/20100630221510/http://ja.doukaku.org/239/reply_to/8637/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8638">
  <p class="banner"><a href="/web/20100630221510/http://ja.doukaku.org/user/468/" target="_top">だいら</a><a href="/web/20100630221510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100630221510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8638/">#8638</a>(<script language="JavaScript">print_time(new Date("2009/03/11 03:06 GMT"));</script><noscript>2009/03/11 03:06 GMT</noscript>)
	
	
	
	[<a href="/web/20100630221510/http://ja.doukaku.org/lang/php/">
	  PHP
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5
6
7
8
9</pre></td><td class="code"><div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="k">function</span> <span class="nf">rotateShift</span><span class="p">(</span><span class="nv">$value</span><span class="p">,</span> <span class="nv">$n</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="nf">substr</span><span class="p">(</span><span class="nf">str_repeat</span><span class="p">(</span><span class="nf">sprintf</span><span class="p">(</span><span class="s2">&quot;%016b&quot;</span><span class="p">,</span> <span class="nf">bindec</span><span class="p">(</span><span class="nv">$value</span><span class="p">)),</span> <span class="m">3</span><span class="p">),</span> <span class="m">16</span><span class="o">-</span><span class="nv">$n</span><span class="p">,</span> <span class="m">16</span><span class="p">);</span>
<span class="p">}</span>

<span class="nv">$value</span> <span class="o">=</span> <span class="s2">&quot;0010001111101101&quot;</span><span class="p">;</span>
<span class="nf">var_dump</span><span class="p">(</span><span class="nx">rotateShift</span><span class="p">(</span><span class="nv">$value</span><span class="p">,</span> <span class="m">1</span><span class="p">));</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8638/addtag/" class="addtag" id="addtag_8638">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100630221510/http://ja.doukaku.org/lang/php/">
		PHP
      </a>]
	  
      [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8638/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8638/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8638"
  >-</span><span
  class="button yellow"
  id="rating_z_8638"
  >0</span><span 
  class="button green"
  id="rating_p_8638"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100630221510/http://ja.doukaku.org/239/reply_to/8638/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8641">
  <p class="banner"><a href="/web/20100630221510/http://ja.doukaku.org/user/1024/" target="_top">rennos</a><a href="/web/20100630221510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8641/">#8641</a>(<script language="JavaScript">print_time(new Date("2009/03/11 08:44 GMT"));</script><noscript>2009/03/11 08:44 GMT</noscript>)
	
	
	
	[<a href="/web/20100630221510/http://ja.doukaku.org/lang/hsp/">
	  HSP
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5
6
7</pre></td><td class="code"><div class="highlight"><pre>#module
// ローテートシフト関数
#define global ctype \
 RotateShift(%1=0,%2=32) _RotateShift(%1,%2)
#defcfunc _RotateShift int value, int bits
    return ((value &amp; 1) &lt;&lt; (bits - 1)) | (value &gt;&gt; 1)
#global
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8641/addtag/" class="addtag" id="addtag_8641">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100630221510/http://ja.doukaku.org/lang/hsp/">
		HSP
      </a>]
	  
      [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8641/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8641/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8641"
  >-</span><span
  class="button yellow"
  id="rating_z_8641"
  >0</span><span 
  class="button green"
  id="rating_p_8641"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100630221510/http://ja.doukaku.org/239/reply_to/8641/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8659">
  <p class="banner"><a href="/web/20100630221510/http://ja.doukaku.org/user/852/" target="_top">emasaka</a>

	
	&nbsp;
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8659/">#8659</a>(<script language="JavaScript">print_time(new Date("2009/03/13 14:34 GMT"));</script><noscript>2009/03/13 14:34 GMT</noscript>)
	
	
	
	[<a href="/web/20100630221510/http://ja.doukaku.org/lang/bash/">
	  Bash
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>tsekineさん、ナイスです。</p>
<p>ということでマージしてみます。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></td><td class="code"><div class="highlight"><pre><span class="nb">printf</span> -v minus_one_in_hex %x -1
<span class="nb">typeset</span> -i <span class="nv">sizeof_long</span><span class="o">=</span><span class="s2">&quot;${#minus_one_in_hex} * 4&quot;</span>
<span class="nb">unset </span>minus_one_in_hex

<span class="k">function </span>rotR<span class="o">()</span> <span class="o">{</span>
    <span class="nb">local </span><span class="nv">i</span><span class="o">=</span><span class="nv">$1</span>
    <span class="nb">local </span><span class="nv">w</span><span class="o">=</span><span class="nv">$2</span>
    <span class="nb">echo</span> <span class="k">$(</span><span class="o">(</span>i &gt;&gt; w &amp; ~<span class="o">(</span>-1 &lt;&lt; sizeof_long - w<span class="k">)</span> | i &lt;&lt; <span class="m">64</span> - w<span class="o">))</span>
<span class="o">}</span>

<span class="k">function </span>rotL<span class="o">()</span> <span class="o">{</span>
    <span class="nb">local </span><span class="nv">i</span><span class="o">=</span><span class="nv">$1</span>
    <span class="nb">local </span><span class="nv">w</span><span class="o">=</span><span class="nv">$2</span>
    <span class="nb">echo</span> <span class="k">$(</span><span class="o">(</span>i &gt;&gt; sizeof_long - w &amp; ~<span class="o">(</span>-1 &lt;&lt; w<span class="k">)</span> | i &lt;&lt; w<span class="o">))</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8659/addtag/" class="addtag" id="addtag_8659">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100630221510/http://ja.doukaku.org/lang/bash/">
		Bash
      </a>]
	  
      [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8659/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8659/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8659"
  >-</span><span
  class="button yellow"
  id="rating_z_8659"
  >0</span><span 
  class="button green"
  id="rating_p_8659"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20100630221510/http://ja.doukaku.org/comment/8637/"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20100630221510/http://ja.doukaku.org/comment/8659/root/"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20100630221510/http://ja.doukaku.org/239/reply_to/8659/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8680">
  <p class="banner"><a href="/web/20100630221510/http://ja.doukaku.org/user/1010/" target="_top">N_</a>

	
	&nbsp;
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8680/">#8680</a>(<script language="JavaScript">print_time(new Date("2009/03/17 04:01 GMT"));</script><noscript>2009/03/17 04:01 GMT</noscript>)
	
	
	
	[<a href="/web/20100630221510/http://ja.doukaku.org/lang/cpp/">
	  C++
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  小細工してみたローテートシフト<br/>テンプレートとかオペレータ使ってみるのが自分の好み
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64</pre></td><td class="code"><div class="highlight"><pre><span class="cp">#include &lt;climits&gt;</span>

<span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="n">T_Type</span><span class="o">&gt;</span>
<span class="k">class</span> <span class="nc">RotateShift</span>
<span class="p">{</span>
<span class="c">// friend</span>
    <span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="n">T_FuncArgType</span><span class="o">&gt;</span>
    <span class="k">friend</span> <span class="n">RotateShift</span><span class="o">&lt;</span><span class="n">T_FuncArgType</span><span class="o">&gt;</span> <span class="n">Rotate</span><span class="p">(</span><span class="k">const</span> <span class="n">T_FuncArgType</span><span class="o">&amp;</span> <span class="n">rValue</span><span class="p">);</span>

<span class="c">// 定数</span>
<span class="k">private</span><span class="o">:</span>
    <span class="k">static</span> <span class="k">const</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">MEMBER_BIT_SIZE</span> <span class="o">=</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">T_Type</span><span class="p">)</span> <span class="o">*</span> <span class="n">CHAR_BIT</span><span class="p">;</span>

<span class="c">// コンストラクタ</span>
<span class="k">private</span><span class="o">:</span>
    <span class="n">RotateShift</span><span class="p">(</span><span class="k">const</span> <span class="n">T_Type</span><span class="o">&amp;</span> <span class="n">rValue</span><span class="p">)</span>
        <span class="o">:</span> <span class="n">mrValue</span><span class="p">(</span><span class="n">rValue</span><span class="p">)</span>
    <span class="p">{</span>
    <span class="p">}</span>

<span class="c">// メソッド</span>
<span class="k">public</span><span class="o">:</span>
    <span class="c">// 右シフト</span>
    <span class="n">T_Type</span> <span class="k">operator</span> <span class="o">&gt;&gt;</span><span class="p">(</span><span class="kt">int</span> <span class="n">ShiftNum</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">mrValue</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">MEMBER_BIT_SIZE</span> <span class="o">-</span> <span class="n">ShiftNum</span><span class="p">))</span> <span class="o">|</span> <span class="p">(</span><span class="n">mrValue</span> <span class="o">&gt;&gt;</span> <span class="n">ShiftNum</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="c">// 左シフト</span>
    <span class="n">T_Type</span> <span class="k">operator</span> <span class="o">&lt;&lt;</span><span class="p">(</span><span class="kt">int</span> <span class="n">ShiftNum</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">mrValue</span> <span class="o">&lt;&lt;</span> <span class="n">ShiftNum</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">mrValue</span> <span class="o">&gt;&gt;</span> <span class="p">(</span><span class="n">MEMBER_BIT_SIZE</span> <span class="o">-</span> <span class="n">ShiftNum</span><span class="p">));</span>
    <span class="p">}</span>

<span class="c">// メンバ変数</span>
<span class="k">private</span><span class="o">:</span>
    <span class="k">const</span> <span class="n">T_Type</span><span class="o">&amp;</span> <span class="n">mrValue</span><span class="p">;</span>
<span class="p">};</span>


<span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="n">T_Type</span><span class="o">&gt;</span>
<span class="n">RotateShift</span><span class="o">&lt;</span><span class="n">T_Type</span><span class="o">&gt;</span> <span class="n">Rotate</span><span class="p">(</span><span class="k">const</span> <span class="n">T_Type</span><span class="o">&amp;</span> <span class="n">rValue</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">rValue</span><span class="p">;</span>
<span class="p">}</span>

<span class="cp">#include &lt;bitset&gt;</span>
<span class="cp">#include &lt;iostream&gt;</span>

<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="kt">int</span> <span class="n">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c">// 初期値表示</span>
    <span class="n">bitset</span><span class="o">&lt;</span><span class="mi">16</span><span class="o">&gt;</span> <span class="n">Bit</span><span class="p">(</span><span class="n">string</span><span class="p">(</span><span class="s">&quot;0010001111101101&quot;</span><span class="p">));</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">Bit</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>

    <span class="c">// 右に1ビットシフト</span>
    <span class="n">Bit</span> <span class="o">=</span> <span class="n">Rotate</span><span class="p">(</span><span class="n">Bit</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span><span class="p">;</span>

    <span class="c">// 結果表示</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">Bit</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8680/addtag/" class="addtag" id="addtag_8680">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100630221510/http://ja.doukaku.org/lang/cpp/">
		C++
      </a>]
	  
      [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8680/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8680/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8680"
  >-</span><span
  class="button yellow"
  id="rating_z_8680"
  >0</span><span 
  class="button green"
  id="rating_p_8680"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100630221510/http://ja.doukaku.org/239/reply_to/8680/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8690">
  <p class="banner"><a href="/web/20100630221510/http://ja.doukaku.org/user/760/" target="_top">turugina</a><a href="/web/20100630221510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8690/">#8690</a>(<script language="JavaScript">print_time(new Date("2009/03/17 23:35 GMT"));</script><noscript>2009/03/17 23:35 GMT</noscript>)
	
	
	
	[<a href="/web/20100630221510/http://ja.doukaku.org/lang/perl/">
	  Perl
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>perlで。</p>
<p>CPANには Bit::ShiftReg なるモジュールがあって、そこでもローテートシフトは実装されています</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49</pre></td><td class="code"><div class="highlight"><pre><span class="k">use</span> <span class="n">strict</span><span class="p">;</span>
<span class="k">use</span> <span class="n">warnings</span><span class="p">;</span>

<span class="k">our</span> <span class="nv">%mask</span><span class="p">;</span>
<span class="k">sub </span><span class="nf">_mask</span>
<span class="p">{</span>
  <span class="k">my</span> <span class="nv">$bits</span> <span class="o">=</span> <span class="nb">shift</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span> <span class="nb">exists</span> <span class="nv">$mask</span><span class="p">{</span><span class="nv">$bits</span><span class="p">}</span> <span class="p">)</span> <span class="p">{</span>
    <span class="nv">$mask</span><span class="p">{</span><span class="nv">$bits</span><span class="p">};</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="k">my</span> <span class="nv">$mask</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="k">my</span> <span class="nv">$i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nv">$i</span> <span class="o">&lt;</span> <span class="nv">$bits</span><span class="p">;</span> <span class="o">++</span><span class="nv">$i</span><span class="p">)</span> <span class="p">{</span>
      <span class="nv">$mask</span> <span class="o">|=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="nv">$i</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="nv">$mask</span><span class="p">{</span><span class="nv">$bits</span><span class="p">}</span><span class="o">=</span><span class="nv">$mask</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1"># 右ローテート</span>
<span class="k">sub </span><span class="nf">rrotate</span>
<span class="p">{</span>
  <span class="k">my</span> <span class="p">(</span><span class="nv">$vec</span><span class="p">,</span> <span class="nv">$bits</span><span class="p">)</span> <span class="o">=</span> <span class="nv">@_</span><span class="p">;</span>

  <span class="k">my</span> <span class="nv">$lsb</span> <span class="o">=</span> <span class="nv">$vec</span> <span class="o">&amp;</span> <span class="mi">1</span><span class="p">;</span>
  <span class="k">my</span> <span class="nv">$mask</span> <span class="o">=</span> <span class="n">_mask</span><span class="p">(</span><span class="nv">$bits</span><span class="p">)</span> <span class="o">^</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="p">(</span><span class="nv">$bits</span><span class="o">-</span><span class="mi">1</span><span class="p">));</span>

  <span class="p">((</span><span class="nv">$vec</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&amp;</span> <span class="nv">$mask</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="nv">$lsb</span><span class="p">?(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="p">(</span><span class="nv">$bits</span><span class="o">-</span><span class="mi">1</span><span class="p">)):</span><span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1"># 左ローテート</span>
<span class="k">sub </span><span class="nf">lrotate</span>
<span class="p">{</span>
  <span class="k">my</span> <span class="p">(</span><span class="nv">$vec</span><span class="p">,</span> <span class="nv">$bits</span><span class="p">)</span> <span class="o">=</span> <span class="nv">@_</span><span class="p">;</span>

  <span class="k">my</span> <span class="nv">$msb</span> <span class="o">=</span> <span class="nv">$vec</span> <span class="o">&amp;</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="p">(</span><span class="nv">$bits</span><span class="o">-</span><span class="mi">1</span><span class="p">));</span>
  <span class="k">my</span> <span class="nv">$mask</span> <span class="o">=</span> <span class="n">_mask</span><span class="p">(</span><span class="nv">$bits</span><span class="p">);</span>

  <span class="p">((</span><span class="nv">$vec</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&amp;</span> <span class="nv">$mask</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="nv">$msb</span><span class="p">?</span><span class="mi">1</span><span class="p">:</span><span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">print</span> <span class="n">rrotate</span><span class="p">(</span><span class="mi">0</span><span class="n">xdb</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="n">xed</span><span class="p">,</span> <span class="s">&quot;\n&quot;</span><span class="p">;</span>
<span class="k">print</span> <span class="n">lrotate</span><span class="p">(</span><span class="mi">0</span><span class="n">xdb</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="n">xb7</span><span class="p">,</span> <span class="s">&quot;\n&quot;</span><span class="p">;</span>
<span class="k">print</span> <span class="n">rrotate</span><span class="p">(</span><span class="mi">0</span><span class="n">xcafe</span><span class="p">,</span> <span class="mi">16</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="n">x657f</span><span class="p">,</span> <span class="s">&quot;\n&quot;</span><span class="p">;</span>
<span class="k">print</span> <span class="n">lrotate</span><span class="p">(</span><span class="mi">0</span><span class="n">xcafe</span><span class="p">,</span> <span class="mi">16</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="n">x95fd</span><span class="p">,</span> <span class="s">&quot;\n&quot;</span><span class="p">;</span>
<span class="k">print</span> <span class="n">rrotate</span><span class="p">(</span><span class="mi">0</span><span class="n">xcafe_babe</span><span class="p">,</span> <span class="mi">16</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="n">x5d5f</span><span class="p">,</span> <span class="s">&quot;\n&quot;</span><span class="p">;</span> <span class="c1"># ignore 0xcafe</span>
<span class="k">print</span> <span class="n">lrotate</span><span class="p">(</span><span class="mi">0</span><span class="n">xcafe_babe</span><span class="p">,</span> <span class="mi">16</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="n">x757d</span><span class="p">,</span> <span class="s">&quot;\n&quot;</span><span class="p">;</span> <span class="c1"># ditto</span>
<span class="k">print</span> <span class="n">rrotate</span><span class="p">(</span><span class="mi">0</span><span class="n">xcafe_babe</span><span class="p">,</span> <span class="mi">32</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="n">x657f_5d5f</span><span class="p">,</span> <span class="s">&quot;\n&quot;</span><span class="p">;</span>
<span class="k">print</span> <span class="n">lrotate</span><span class="p">(</span><span class="mi">0</span><span class="n">xcafe_babe</span><span class="p">,</span> <span class="mi">32</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="n">x95fd_757d</span><span class="p">,</span> <span class="s">&quot;\n&quot;</span><span class="p">;</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8690/addtag/" class="addtag" id="addtag_8690">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100630221510/http://ja.doukaku.org/lang/perl/">
		Perl
      </a>]
	  
      [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8690/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8690/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8690"
  >-</span><span
  class="button yellow"
  id="rating_z_8690"
  >0</span><span 
  class="button green"
  id="rating_p_8690"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100630221510/http://ja.doukaku.org/239/reply_to/8690/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8778">
  <p class="banner"><a href="/web/20100630221510/http://ja.doukaku.org/user/759/" target="_top">egtra</a><a href="/web/20100630221510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20100630221510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8778/">#8778</a>(<script language="JavaScript">print_time(new Date("2009/04/05 06:48 GMT"));</script><noscript>2009/04/05 06:48 GMT</noscript>)
	
	
	
	[<a href="/web/20100630221510/http://ja.doukaku.org/lang/c/">
	  C
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  Visual C++には、ローテートが関数として用意されています。8/16/32/64ビットの左ローテートが_rotl8/_rotl16/_rotl/_rotl64、右ローテートは_rotr〜という名前です。なぜか、8/16ビットは&lt;intrin.h&gt;、32/64ビットは&lt;stdlib.h&gt;となっています。
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5
6
7
8
9</pre></td><td class="code"><div class="highlight"><pre><span class="cp">#include &lt;stdio.h&gt;</span>
<span class="cp">#include &lt;stdlib.h&gt;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">unsigned</span> <span class="n">x</span> <span class="o">=</span> <span class="mh">0x84442211</span><span class="p">;</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%08x</span><span class="se">\n</span><span class="s">%08x</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">_rotl</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">1</span><span class="p">));</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8778/addtag/" class="addtag" id="addtag_8778">タグ</a>:
	
    
    <a href="/web/20100630221510/http://ja.doukaku.org/tag/VisualC%2B%2B/">VisualC++</a>
    
	&nbsp;

	
      [<a href="/web/20100630221510/http://ja.doukaku.org/lang/c/">
		C
      </a>]
	  
      [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8778/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8778/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8778"
  >-</span><span
  class="button yellow"
  id="rating_z_8778"
  >0</span><span 
  class="button green"
  id="rating_p_8778"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100630221510/http://ja.doukaku.org/239/reply_to/8778/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8836">
  <p class="banner"><a href="/web/20100630221510/http://ja.doukaku.org/user/813/" target="_top">lunlumo</a>

	
	&nbsp;
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8836/">#8836</a>(<script language="JavaScript">print_time(new Date("2009/04/23 08:37 GMT"));</script><noscript>2009/04/23 08:37 GMT</noscript>)
	
	
	
	[<a href="/web/20100630221510/http://ja.doukaku.org/lang/scala/">
	  Scala
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>　Javaと同様IntegerのroteteRight/Leftメソッドを使って書いてみました。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></td><td class="code"><div class="highlight"><pre>object RotateShift {
    def main(args:Array[String]):Unit =
        if (args.size != 3)
            println(&quot;usage: RotateShift VALUE (R|L) SHIFT&quot;)
        else {
            try {
                val    v:Int = Integer.parseInt(args(0), 2)
                val    s:Int = args(2).toInt
                println(
                    (args(1) match {
                        case &quot;R&quot; =&gt; Integer.rotateRight(v, s)
                        case &quot;L&quot; =&gt; Integer.rotateLeft(v, s)
                    }).toBinaryString
                )
            } catch {
                case _:IllegalArgumentException | _:scala.MatchError =&gt;
                    println(&quot;引数の指定が不正です。&quot;)
                case e =&gt; e.printStackTrace
            }
        }
}
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8836/addtag/" class="addtag" id="addtag_8836">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100630221510/http://ja.doukaku.org/lang/scala/">
		Scala
      </a>]
	  
      [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8836/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8836/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8836"
  >-</span><span
  class="button yellow"
  id="rating_z_8836"
  >0</span><span 
  class="button green"
  id="rating_p_8836"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100630221510/http://ja.doukaku.org/239/reply_to/8836/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8959">
  <p class="banner"><a href="/web/20100630221510/http://ja.doukaku.org/user/1052/" target="_top">sawa</a><a href="/web/20100630221510/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/star_silver.png" border=0/></a><a href="/web/20100630221510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8959/">#8959</a>(<script language="JavaScript">print_time(new Date("2009/05/20 00:44 GMT"));</script><noscript>2009/05/20 00:44 GMT</noscript>)
	
	
	
	[<a href="/web/20100630221510/http://ja.doukaku.org/lang/ruby/">
	  Ruby
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></td><td class="code"><div class="highlight"><pre><span class="c1">#! /usr/bin/ruby</span>

<span class="k">class</span> <span class="nc">String</span>
    <span class="k">def</span> <span class="nf">rot_shift</span>
        <span class="n">result</span> <span class="o">=</span> <span class="nb">split</span><span class="p">(</span><span class="sr">//</span><span class="p">)</span>
        <span class="n">result</span><span class="o">.</span><span class="n">unshift</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">pop</span><span class="p">)</span><span class="o">.</span><span class="n">join</span>
    <span class="k">end</span>
<span class="k">end</span>

<span class="nb">p</span> <span class="s1">&#39;0010001111101101&#39;</span><span class="o">.</span><span class="n">rot_shift</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/8959/addtag/" class="addtag" id="addtag_8959">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100630221510/http://ja.doukaku.org/lang/ruby/">
		Ruby
      </a>]
	  
      [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8959/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100630221510/http://ja.doukaku.org/comment/8959/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8959"
  >-</span><span
  class="button yellow"
  id="rating_z_8959"
  >0</span><span 
  class="button green"
  id="rating_p_8959"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100630221510/http://ja.doukaku.org/239/reply_to/8959/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment9071">
  <p class="banner"><a href="/web/20100630221510/http://ja.doukaku.org/user/732/" target="_top">bleis-tift</a><a href="/web/20100630221510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/9071/">#9071</a>(<script language="JavaScript">print_time(new Date("2009/06/08 09:58 GMT"));</script><noscript>2009/06/08 09:58 GMT</noscript>)
	
	
	
	[<a href="/web/20100630221510/http://ja.doukaku.org/lang/sql/">
	  SQL
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffefef;">-1/1=-1.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>SQL Server 2008 で確認しました。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5
6
7
8
9</pre></td><td class="code"><div class="highlight"><pre><span class="k">WITH</span>
  <span class="k">Input</span><span class="p">(</span><span class="n">bits</span><span class="p">)</span> <span class="k">AS</span> <span class="p">(</span>
    <span class="k">SELECT</span> <span class="s1">&#39;0010001111101101&#39;</span>
  <span class="p">)</span>
<span class="k">SELECT</span>
    <span class="k">RIGHT</span><span class="p">(</span><span class="n">bits</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
      <span class="o">+</span> <span class="k">SUBSTRING</span><span class="p">(</span><span class="n">bits</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">LEN</span><span class="p">(</span><span class="n">bits</span><span class="p">))</span>
<span class="k">FROM</span>
    <span class="k">Input</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/9071/addtag/" class="addtag" id="addtag_9071">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100630221510/http://ja.doukaku.org/lang/sql/">
		SQL
      </a>]
	  
      [<a href="/web/20100630221510/http://ja.doukaku.org/comment/9071/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100630221510/http://ja.doukaku.org/comment/9071/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffefef;"
  >-1/1=-1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_9071"
  >-</span><span
  class="button yellow"
  id="rating_z_9071"
  >0</span><span 
  class="button green"
  id="rating_p_9071"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20100630221510/http://ja.doukaku.org/comment/9071/">
    1
    reply
  </a>

  [<a href="/web/20100630221510/http://ja.doukaku.org/239/reply_to/9071/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment9072">
  <p class="banner"><a href="/web/20100630221510/http://ja.doukaku.org/user/732/" target="_top">bleis-tift</a><a href="/web/20100630221510/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/9072/">#9072</a>(<script language="JavaScript">print_time(new Date("2009/06/08 10:00 GMT"));</script><noscript>2009/06/08 10:00 GMT</noscript>)
	
	
	
	[<a href="/web/20100630221510/http://ja.doukaku.org/lang/sql/">
	  SQL
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>ミスった・・・</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5
6
7
8
9</pre></td><td class="code"><div class="highlight"><pre><span class="k">WITH</span>
  <span class="k">Input</span><span class="p">(</span><span class="n">bits</span><span class="p">)</span> <span class="k">AS</span> <span class="p">(</span>
    <span class="k">SELECT</span> <span class="s1">&#39;0010001111101101&#39;</span>
  <span class="p">)</span>
<span class="k">SELECT</span>
    <span class="k">RIGHT</span><span class="p">(</span><span class="n">bits</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
      <span class="o">+</span> <span class="k">SUBSTRING</span><span class="p">(</span><span class="n">bits</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">LEN</span><span class="p">(</span><span class="n">bits</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
<span class="k">FROM</span>
    <span class="k">Input</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/9072/addtag/" class="addtag" id="addtag_9072">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100630221510/http://ja.doukaku.org/lang/sql/">
		SQL
      </a>]
	  
      [<a href="/web/20100630221510/http://ja.doukaku.org/comment/9072/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100630221510/http://ja.doukaku.org/comment/9072/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_9072"
  >-</span><span
  class="button yellow"
  id="rating_z_9072"
  >0</span><span 
  class="button green"
  id="rating_p_9072"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20100630221510/http://ja.doukaku.org/comment/9071/"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20100630221510/http://ja.doukaku.org/comment/9072/root/"><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20100630221510/http://ja.doukaku.org/239/reply_to/9072/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment9498">
  <p class="banner"><a href="/web/20100630221510/http://ja.doukaku.org/user/1093/" target="_top">YONYON</a>

	
	&nbsp;
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/9498/">#9498</a>(<script language="JavaScript">print_time(new Date("2009/08/20 09:25 GMT"));</script><noscript>2009/08/20 09:25 GMT</noscript>)
	
	
	
	[<a href="/web/20100630221510/http://ja.doukaku.org/lang/cpp/">
	  C++
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>テンプレートで。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37</pre></td><td class="code"><div class="highlight"><pre><span class="cp">#include &lt;stdio.h&gt;</span>
<span class="cp">#include &lt;string.h&gt;</span>
<span class="cp">#include &lt;limits.h&gt;</span>

<span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="n">T</span><span class="o">&gt;</span>
<span class="kt">void</span> <span class="n">print2</span><span class="p">(</span> <span class="n">T</span> <span class="n">val</span> <span class="p">)</span>
<span class="p">{</span>
  <span class="c">// 2進で表示するコード(省略)</span>
<span class="p">}</span>

<span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="n">T</span><span class="o">&gt;</span>
<span class="kr">inline</span>
<span class="n">T</span> <span class="n">rotateShift</span><span class="p">(</span> <span class="n">T</span> <span class="n">val</span> <span class="p">)</span>
<span class="p">{</span>
  <span class="k">static</span> <span class="k">const</span> <span class="kt">char</span> <span class="n">shift</span> <span class="o">=</span> <span class="k">sizeof</span><span class="p">(</span> <span class="n">T</span> <span class="p">)</span> <span class="o">*</span> <span class="mi">8</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
  <span class="k">static</span> <span class="k">const</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="kt">long</span> <span class="n">rotate</span> <span class="o">=</span> <span class="mi">1</span><span class="n">ULL</span> <span class="o">&lt;&lt;</span> <span class="n">shift</span><span class="p">;</span>
  <span class="k">return</span> <span class="k">static_cast</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">(</span>
    <span class="p">(</span> <span class="n">val</span> <span class="o">&amp;</span> <span class="mi">1</span> <span class="p">)</span> <span class="o">?</span>  <span class="p">(</span> <span class="n">rotate</span> <span class="o">|</span> <span class="n">val</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span> <span class="p">)</span> <span class="o">:</span> <span class="p">(</span> <span class="n">val</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">);</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="n">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">print2</span><span class="p">(</span> <span class="mi">1</span> <span class="p">);</span>
  <span class="n">print2</span><span class="p">(</span> <span class="n">rotateShift</span><span class="p">(</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">);</span>
  <span class="n">print2</span><span class="p">(</span> <span class="mh">0x7fffffff</span> <span class="p">);</span>
  <span class="n">print2</span><span class="p">(</span> <span class="n">rotateShift</span><span class="p">(</span> <span class="mh">0x7fffffff</span> <span class="p">)</span> <span class="p">);</span>
  <span class="n">print2</span><span class="p">(</span> <span class="mh">0x80000000</span> <span class="p">);</span>
  <span class="n">print2</span><span class="p">(</span> <span class="n">rotateShift</span><span class="p">(</span> <span class="mh">0x80000000</span> <span class="p">)</span> <span class="p">);</span>
  <span class="n">print2</span><span class="p">(</span> <span class="mi">1L</span><span class="n">L</span> <span class="p">);</span>
  <span class="n">print2</span><span class="p">(</span> <span class="n">rotateShift</span><span class="p">(</span> <span class="mi">1L</span><span class="n">L</span> <span class="p">)</span> <span class="p">);</span>
  <span class="n">print2</span><span class="p">(</span> <span class="mh">0x7fffffffffffffff</span> <span class="p">);</span>
  <span class="n">print2</span><span class="p">(</span> <span class="n">rotateShift</span><span class="p">(</span> <span class="mh">0x7fffffffffffffff</span> <span class="p">)</span> <span class="p">);</span>
  <span class="n">print2</span><span class="p">(</span> <span class="mh">0x8000000000000000</span> <span class="p">);</span>
  <span class="n">print2</span><span class="p">(</span> <span class="n">rotateShift</span><span class="p">(</span> <span class="mh">0x8000000000000000</span> <span class="p">)</span> <span class="p">);</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/9498/addtag/" class="addtag" id="addtag_9498">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100630221510/http://ja.doukaku.org/lang/cpp/">
		C++
      </a>]
	  
      [<a href="/web/20100630221510/http://ja.doukaku.org/comment/9498/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100630221510/http://ja.doukaku.org/comment/9498/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_9498"
  >-</span><span
  class="button yellow"
  id="rating_z_9498"
  >0</span><span 
  class="button green"
  id="rating_p_9498"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100630221510/http://ja.doukaku.org/239/reply_to/9498/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment9543">
  <p class="banner"><a href="/web/20100630221510/http://ja.doukaku.org/user/959/" target="_top">uehaj</a>

	
	&nbsp;
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/9543/">#9543</a>(<script language="JavaScript">print_time(new Date("2009/09/01 07:59 GMT"));</script><noscript>2009/09/01 07:59 GMT</noscript>)
	
	
	
	[<a href="/web/20100630221510/http://ja.doukaku.org/lang/groovy/">
	  Groovy
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>32ビット幅整数で実装しました。

 $ groovy rotateshift.groovy
 10000000000000000000000000000000
  1000000000000000000000000000000
   100000000000000000000000000000
                   10001111101101
 10000000000000000001000111110110
  1000000000000000000100011111011
 10100000000000000000010001111101
 10000000000000000000000000000000
                                1
                               10
                   10001111101101
                  100011111011010
                 1000111110110100
                10001111101101000
</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31</pre></td><td class="code"><div class="highlight"><pre>Integer.metaClass.rotateRight = { n -&gt;
  n = (n + 32) % 32
  (delegate &lt;&lt; (32-n)) | (delegate &gt;&gt;&gt; n)
}
Integer.metaClass.rotateLeft = { n -&gt;
  delegate.rotateRight(32-n)
}

def testR(String data, int shift){
  println Integer.toBinaryString(((int)Long.parseLong(data,2)).rotateRight(shift)).padLeft(32)
}
def testL(String data, int shift){
  println Integer.toBinaryString(((int)Long.parseLong(data,2)).rotateLeft(shift)).padLeft(32)
}


testR(&quot;10000000000000000000000000000000&quot;, 0)
testR(&quot;10000000000000000000000000000000&quot;, 1)
testR(&quot;10000000000000000000000000000000&quot;, 2)
testR(&quot;00000000000000000010001111101101&quot;, 0)
testR(&quot;00000000000000000010001111101101&quot;, 1)
testR(&quot;00000000000000000010001111101101&quot;, 2)
testR(&quot;00000000000000000010001111101101&quot;, 3)

testL(&quot;10000000000000000000000000000000&quot;, 0)
testL(&quot;10000000000000000000000000000000&quot;, 1)
testL(&quot;10000000000000000000000000000000&quot;, 2)
testL(&quot;00000000000000000010001111101101&quot;, 0)
testL(&quot;00000000000000000010001111101101&quot;, 1)
testL(&quot;00000000000000000010001111101101&quot;, 2)
testL(&quot;00000000000000000010001111101101&quot;, 3)
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/9543/addtag/" class="addtag" id="addtag_9543">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100630221510/http://ja.doukaku.org/lang/groovy/">
		Groovy
      </a>]
	  
      [<a href="/web/20100630221510/http://ja.doukaku.org/comment/9543/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100630221510/http://ja.doukaku.org/comment/9543/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_9543"
  >-</span><span
  class="button yellow"
  id="rating_z_9543"
  >0</span><span 
  class="button green"
  id="rating_p_9543"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100630221510/http://ja.doukaku.org/239/reply_to/9543/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment9544">
  <p class="banner"><a href="/web/20100630221510/http://ja.doukaku.org/user/959/" target="_top">uehaj</a>

	
	&nbsp;
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/9544/">#9544</a>(<script language="JavaScript">print_time(new Date("2009/09/01 02:59 GMT"));</script><noscript>2009/09/01 02:59 GMT</noscript>)
	
	
	
	[<a href="/web/20100630221510/http://ja.doukaku.org/lang/groovy/">
	  Groovy
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>32ビット幅整数で実装しました。

 $ groovy rotateshift.groovy
 10000000000000000000000000000000
  1000000000000000000000000000000
   100000000000000000000000000000
                   10001111101101
 10000000000000000001000111110110
  1000000000000000000100011111011
 10100000000000000000010001111101
 10000000000000000000000000000000
                                1
                               10
                   10001111101101
                  100011111011010
                 1000111110110100
                10001111101101000
</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31</pre></td><td class="code"><div class="highlight"><pre>Integer.metaClass.rotateRight = { n -&gt;
  n = (n + 32) % 32
  (delegate &lt;&lt; (32-n)) | (delegate &gt;&gt;&gt; n)
}
Integer.metaClass.rotateLeft = { n -&gt;
  delegate.rotateRight(32-n)
}

def testR(String data, int shift){
  println Integer.toBinaryString(((int)Long.parseLong(data,2)).rotateRight(shift)).padLeft(32)
}
def testL(String data, int shift){
  println Integer.toBinaryString(((int)Long.parseLong(data,2)).rotateLeft(shift)).padLeft(32)
}


testR(&quot;10000000000000000000000000000000&quot;, 0)
testR(&quot;10000000000000000000000000000000&quot;, 1)
testR(&quot;10000000000000000000000000000000&quot;, 2)
testR(&quot;00000000000000000010001111101101&quot;, 0)
testR(&quot;00000000000000000010001111101101&quot;, 1)
testR(&quot;00000000000000000010001111101101&quot;, 2)
testR(&quot;00000000000000000010001111101101&quot;, 3)

testL(&quot;10000000000000000000000000000000&quot;, 0)
testL(&quot;10000000000000000000000000000000&quot;, 1)
testL(&quot;10000000000000000000000000000000&quot;, 2)
testL(&quot;00000000000000000010001111101101&quot;, 0)
testL(&quot;00000000000000000010001111101101&quot;, 1)
testL(&quot;00000000000000000010001111101101&quot;, 2)
testL(&quot;00000000000000000010001111101101&quot;, 3)
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20100630221510/http://ja.doukaku.org/comment/9544/addtag/" class="addtag" id="addtag_9544">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20100630221510/http://ja.doukaku.org/lang/groovy/">
		Groovy
      </a>]
	  
      [<a href="/web/20100630221510/http://ja.doukaku.org/comment/9544/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20100630221510/http://ja.doukaku.org/comment/9544/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_9544"
  >-</span><span
  class="button yellow"
  id="rating_z_9544"
  >0</span><span 
  class="button green"
  id="rating_p_9544"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20100630221510/http://ja.doukaku.org/239/reply_to/9544/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>







</div>

<div id="side_menu" class="compact">

<iframe src="/web/20100630221510if_/http://ja.doukaku.org/login_info/" frameborder=0 width=100% id="login_info">
iframe required
</iframe>

<h4 class="semi_compact">一覧</h4>

<ul>
<!--<li><a href="/web/20100630221510/http://ja.doukaku.org/user/">ユーザ</a>-->
<li><a href="/web/20100630221510/http://ja.doukaku.org/lang/">言語</a>
<li><a href="/web/20100630221510/http://ja.doukaku.org/challenge/">お題</a>
<li><a href="/web/20100630221510/http://ja.doukaku.org/topic/">トピック</a>
<li><a href="/web/20100630221510/http://ja.doukaku.org/comment/">投稿</a>
<li><a href="/web/20100630221510/http://ja.doukaku.org/good_comments/">評価の高い投稿</a>
<li><a href="/web/20100630221510/http://ja.doukaku.org/tag/">タグ</a>
</ul>

<h4 class="compact">フィード</h4>
<ul>
<li><a href="/web/20100630221510/http://ja.doukaku.org/feeds/challenges/">最新のお題</a><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/feed_icon.png">
<li><a href="/web/20100630221510/http://ja.doukaku.org/feeds/topics/">最新のトピック</a><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/feed_icon.png">
<li><a href="/web/20100630221510/http://ja.doukaku.org/feeds/comments/">新着投稿</a><img src="/web/20100630221510im_/http://ja.doukaku.org/static/image/feed_icon.png">
</ul>







<h4 class="compact">その他</h4>
<ul>
<li><a href="/web/20100630221510/http://ja.doukaku.org/qa/">Q&A</a>
<li><a href="/web/20100630221510/http://ja.doukaku.org/feedback/">フィードバック</a>
<!--<li><a href="/web/20100630221510/http://ja.doukaku.org/terms">用語集</a>-->
</ul>


<h4 class="compact">リンク</h4>
<ul>
<li><a href="/web/20100630221510/http://www.lingr.com/room/doukaku_ja">チャットルーム(Lingr)</a>
<li><a href="/web/20100630221510/http://labs.cybozu.co.jp/">サイボウズ・ラボ</a>
<li><a href="/web/20100630221510/http://www.djangoproject.com/">Django</a>
</ul>

<h4 id="pathtraq" class="compact"><a href="/web/20100630221510/http://pathtraq.com/analytics?url=http%3A%2F%2Fja.doukaku.org%2Fcomment%2F*%2F%20desc%3A%E3%81%A9%E3%81%86%E6%9B%B8%E3%81%8Forg&m=popular">Pathtraq</a></h4>
<div class="indent">
<span id="pathtraq_sentinel">loading...</span>
</div>


</div>
</div>


<div id="page_foot" class="bordered">

<a rel="license" href="/web/20100630221510/http://creativecommons.org/licenses/by/2.1/jp/">
<img alt="Creative Commons License" style="border-width:0" src="/web/20100630221510im_/http://i.creativecommons.org/l/by/2.1/jp/88x31.png" /></a>
このサイトの内容は、
<a rel="license" href="/web/20100630221510/http://creativecommons.org/licenses/by/2.1/jp/">クリエイティブ・コモンズ・ライセンス</a>の下でライセンスされています。
<a href="/web/20100630221510/http://ja.doukaku.org/qa/#licence">[詳細]</a>

</div>

</body>




<script type="text/javascript">
$(document).ready(function(){$("#doukaku_org").after("<script src='/web/20100630221510/http://api.pathtraq.com/pages?url=http%3A%2F%2Fja.doukaku.org%2Fcomment%2F*%2F%20desc%3A%E3%81%A9%E3%81%86%E6%9B%B8%E3%81%8Forg&api=json&callback=addPathtraq'><" + "/script>")});
</script>

<script src="/web/20100630221510js_/http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-2136157-1";
urchinTracker();
</script>




</html>





<!--
     FILE ARCHIVED ON 22:15:10 Jun 30, 2010 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 12:47:26 Nov 16, 2013.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
