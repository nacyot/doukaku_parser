
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja"> 
  <head>

<script type="text/javascript" src="/static/js/analytics.js" ></script>
<link type="text/css" rel="stylesheet" href="/static/css/banner-styles.css"/>




    <meta http-equiv="Content-type" content="text/html; charset=UTF-8" />
    <title>
ケブンッリジ関数
どう書く？org </title>

    <link rel="stylesheet" type="text/css"
	href="/web/20090524020410cs_/http://ja.doukaku.org/static/style/reset-fonts-grids.css" />
    <link rel="stylesheet" type="text/css"
	href="/web/20090524020410cs_/http://ja.doukaku.org/static/style/style.css?20071211?20071207" />
	
    <link rel="stylesheet" type="text/css"
	href="/web/20090524020410cs_/http://ja.doukaku.org/static/style/pygments.css" />


	
<meta name="robots" content="noindex,nofollow">

    <!--<script src="/web/20090524020410/http://ja.doukaku.org/static/js/ieerbug/ieerbug.js" type="text/javascript"></script>-->


<!--<script src="/web/20090524020410/http://ja.doukaku.org/static/js/ieerbug/ieerbug.js" type="text/javascript"></script>-->
<script src="/web/20090524020410js_/http://ja.doukaku.org/static/js/jquery-1.1.3.1.js" type="text/javascript"></script>
<script src="/web/20090524020410js_/http://ja.doukaku.org/static/js/rating.js" type="text/javascript"></script>
<script src="/web/20090524020410js_/http://ja.doukaku.org/static/js/addtag.js?20071129" type="text/javascript"></script>

<script type="text/javascript">
is_key_navigation_enable = true;
</script>
<script src="/web/20090524020410js_/http://ja.doukaku.org/static/js/utils.js?~~~" type="text/javascript"></script>

</head>


<body id="doukaku_org">
<!-- BEGIN WAYBACK TOOLBAR INSERT -->
<script> if (window.archive_analytics) { window.archive_analytics.values['server_name']="wwwb-app19.us.archive.org";}; </script>

<script type="text/javascript" src="/static/js/disclaim-element.js" ></script>
<script type="text/javascript" src="/static/js/graph-calc.js" ></script>
<script type="text/javascript" src="/static/jflot/jquery.min.js" ></script>
<script type="text/javascript">
//<![CDATA[
var firstDate = 820454400000;
var lastDate = 1388534399999;
var wbPrefix = "/web/";
var wbCurrentUrl = "http:\/\/ja.doukaku.org\/249\/flatten\/";

var curYear = -1;
var curMonth = -1;
var yearCount = 18;
var firstYear = 1996;
var imgWidth = 450;
var yearImgWidth = 25;
var monthImgWidth = 2;
var trackerVal = "none";
var displayDay = "24";
var displayMonth = "May";
var displayYear = "2009";
var prettyMonths = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];

function showTrackers(val) {
	if(val == trackerVal) {
		return;
	}
	if(val == "inline") {
		document.getElementById("displayYearEl").style.color = "#ec008c";
		document.getElementById("displayMonthEl").style.color = "#ec008c";
		document.getElementById("displayDayEl").style.color = "#ec008c";		
	} else {
		document.getElementById("displayYearEl").innerHTML = displayYear;
		document.getElementById("displayYearEl").style.color = "#ff0";
		document.getElementById("displayMonthEl").innerHTML = displayMonth;
		document.getElementById("displayMonthEl").style.color = "#ff0";
		document.getElementById("displayDayEl").innerHTML = displayDay;
		document.getElementById("displayDayEl").style.color = "#ff0";
	}
   document.getElementById("wbMouseTrackYearImg").style.display = val;
   document.getElementById("wbMouseTrackMonthImg").style.display = val;
   trackerVal = val;
}
function getElementX2(obj) {
	var thing = jQuery(obj);
	if((thing == undefined) 
			|| (typeof thing == "undefined") 
			|| (typeof thing.offset == "undefined")) {
		return getElementX(obj);
	}
	return Math.round(thing.offset().left);
}
function trackMouseMove(event,element) {

   var eventX = getEventX(event);
   var elementX = getElementX2(element);
   var xOff = eventX - elementX;
	if(xOff < 0) {
		xOff = 0;
	} else if(xOff > imgWidth) {
		xOff = imgWidth;
	}
   var monthOff = xOff % yearImgWidth;

   var year = Math.floor(xOff / yearImgWidth);
	var yearStart = year * yearImgWidth;
   var monthOfYear = Math.floor(monthOff / monthImgWidth);
   if(monthOfYear > 11) {
       monthOfYear = 11;
   }
   // 1 extra border pixel at the left edge of the year:
   var month = (year * 12) + monthOfYear;
   var day = 1;
	if(monthOff % 2 == 1) {
		day = 15;
	}
	var dateString = 
		zeroPad(year + firstYear) + 
		zeroPad(monthOfYear+1,2) +
		zeroPad(day,2) + "000000";

	var monthString = prettyMonths[monthOfYear];
	document.getElementById("displayYearEl").innerHTML = year + 1996;
	document.getElementById("displayMonthEl").innerHTML = monthString;
	// looks too jarring when it changes..
	//document.getElementById("displayDayEl").innerHTML = zeroPad(day,2);

	var url = wbPrefix + dateString + '/' +  wbCurrentUrl;
	document.getElementById('wm-graph-anchor').href = url;

   //document.getElementById("wmtbURL").value="evX("+eventX+") elX("+elementX+") xO("+xOff+") y("+year+") m("+month+") monthOff("+monthOff+") DS("+dateString+") Moy("+monthOfYear+") ms("+monthString+")";
   if(curYear != year) {
       var yrOff = year * yearImgWidth;
       document.getElementById("wbMouseTrackYearImg").style.left = yrOff + "px";
       curYear = year;
   }
   if(curMonth != month) {
       var mtOff = year + (month * monthImgWidth) + 1;
       document.getElementById("wbMouseTrackMonthImg").style.left = mtOff + "px";
       curMonth = month;
   }
}
//]]>
</script>

<style type="text/css">body{margin-top:0!important;padding-top:0!important;min-width:800px!important;}#wm-ipp a:hover{text-decoration:underline!important;}</style>
<div id="wm-ipp" lang="en" class="__wb_banner_div" style="display:none; position:relative;padding:0 5px;min-height:70px;min-width:800px">


<div id="wm-ipp-inside" class="__wb_banner_div" style="position:fixed;padding:0!important;margin:0!important;width:97%;min-width:780px;border:5px solid #000;border-top:none;background-image:url(/static/images/toolbar/wm_tb_bk_trns.png);text-align:center;-moz-box-shadow:1px 1px 3px #333;-webkit-box-shadow:1px 1px 3px #333;box-shadow:1px 1px 3px #333;font-size:11px!important;font-family:'Lucida Grande','Arial',sans-serif!important;">
   <table style="border-collapse:collapse;margin:0;padding:0;width:100%;"><tbody><tr>
   <td style="padding:10px;vertical-align:top;min-width:110px;">
   <a href="/web/" title="Wayback Machine home page" style="background-color:transparent;border:none;"><img src="/static/images/toolbar/wayback-toolbar-logo.png" alt="Wayback Machine" width="110" height="39" border="0"/></a>
   </td>
   <td style="padding:0!important;text-align:center;vertical-align:top;width:100%;">

       <table style="border-collapse:collapse;margin:0 auto;padding:0;width:570px;"><tbody><tr>
       <td style="padding:3px 0;" colspan="2">
       <form target="_top" method="get" action="/web/form-submit.jsp" name="wmtb" id="wmtb" style="margin:0!important;padding:0!important;"><input type="text" name="url" id="wmtbURL" value="http://ja.doukaku.org/249/flatten/" style="width:400px;font-size:11px;font-family:'Lucida Grande','Arial',sans-serif;" onfocus="javascript:this.focus();this.select();" /><input type="hidden" name="type" value="replay" /><input type="hidden" name="date" value="20090524020410" /><input type="submit" value="Go" style="font-size:11px;font-family:'Lucida Grande','Arial',sans-serif;margin-left:5px;width: inherit !important" /><span id="wm_tb_options" style="display:block;"></span></form>
       </td>
       <td style="vertical-align:bottom;padding:5px 0 0 0!important;" rowspan="2">
           <table style="border-collapse:collapse;width:110px;color:#99a;font-family:'Helvetica','Lucida Grande','Arial',sans-serif;"><tbody>
			
           <!-- NEXT/PREV MONTH NAV AND MONTH INDICATOR -->
           <tr style="width:110px;height:16px;font-size:10px!important;">
           	<td style="padding-right:9px;font-size:11px!important;font-weight:bold;text-transform:uppercase;text-align:right;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       Apr
                       
               </td>
               <td id="displayMonthEl" style="background:#000;color:#ff0;font-size:11px!important;font-weight:bold;text-transform:uppercase;width:34px;height:15px;padding-top:1px;text-align:center;" title="You are here: 2:04:10 May 24, 2009">MAY</td>
				<td style="padding-left:9px;font-size:11px!important;font-weight:bold;text-transform:uppercase;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       Jun
                       
               </td>
           </tr>

           <!-- NEXT/PREV CAPTURE NAV AND DAY OF MONTH INDICATOR -->
           <tr>
               <td style="padding-right:9px;white-space:nowrap;overflow:visible;text-align:right!important;vertical-align:middle!important;" nowrap="nowrap">
               
                       <img src="/static/images/toolbar/wm_tb_prv_off.png" alt="Previous capture" width="14" height="16" border="0" />
                       
               </td>
               <td id="displayDayEl" style="background:#000;color:#ff0;width:34px;height:24px;padding:2px 0 0 0;text-align:center;font-size:24px;font-weight: bold;" title="You are here: 2:04:10 May 24, 2009">24</td>
				<td style="padding-left:9px;white-space:nowrap;overflow:visible;text-align:left!important;vertical-align:middle!important;" nowrap="nowrap">
               
                       <img src="/static/images/toolbar/wm_tb_nxt_off.png" alt="Next capture" width="14" height="16" border="0"/>
                       
			    </td>
           </tr>

           <!-- NEXT/PREV YEAR NAV AND YEAR INDICATOR -->
           <tr style="width:110px;height:13px;font-size:9px!important;">
				<td style="padding-right:9px;font-size:11px!important;font-weight: bold;text-align:right;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       2008
                       
               </td>
               <td id="displayYearEl" style="background:#000;color:#ff0;font-size:11px!important;font-weight: bold;padding-top:1px;width:34px;height:13px;text-align:center;" title="You are here: 2:04:10 May 24, 2009">2009</td>
				<td style="padding-left:9px;font-size:11px!important;font-weight: bold;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       2010
                       
				</td>
           </tr>
           </tbody></table>
       </td>

       </tr>
       <tr>
       <td style="vertical-align:middle;padding:0!important;">
           <a href="/web/20090524020410*/http://ja.doukaku.org/249/flatten/" style="color:#33f;font-size:11px;font-weight:bold;background-color:transparent;border:none;" title="See a list of every capture for this URL"><strong>1 captures</strong></a>
           <div class="__wb_banner_div" style="margin:0!important;padding:0!important;color:#666;font-size:9px;padding-top:2px!important;white-space:nowrap;" title="Timespan for captures of this URL">24 May 09 - 24 May 09</div>
       </td>
       <td style="padding:0!important;">
       <a style="position:relative; white-space:nowrap; width:450px;height:27px;" href="" id="wm-graph-anchor">
       <div class="__wb_banner_div" id="wm-ipp-sparkline" style="position:relative; white-space:nowrap; width:450px;height:27px;background-color:#fff;cursor:pointer;border-right:1px solid #ccc;" title="Explore captures for this URL">
			<img id="sparklineImgId" style="position:absolute; z-index:9012; top:0px; left:0px;"
				onmouseover="showTrackers('inline');" 
				onmouseout="showTrackers('none');"
				onmousemove="trackMouseMove(event,this)"
				alt="sparklines"
				width="450"
				height="27"
				border="0"
				src="/web/jsp/graph.jsp?graphdata=450_27_1996:-1:000000000000_1997:-1:000000000000_1998:-1:000000000000_1999:-1:000000000000_2000:-1:000000000000_2001:-1:000000000000_2002:-1:000000000000_2003:-1:000000000000_2004:-1:000000000000_2005:-1:000000000000_2006:-1:000000000000_2007:-1:000000000000_2008:-1:000000000000_2009:4:000010000000_2010:-1:000000000000_2011:-1:000000000000_2012:-1:000000000000_2013:-1:000000000000"></img>
			<img id="wbMouseTrackYearImg" 
				style="display:none; position:absolute; z-index:9010;"
				width="25" 
				height="27"
				border="0"
				src="/static/images/toolbar/transp-yellow-pixel.png"></img>
			<img id="wbMouseTrackMonthImg"
				style="display:none; position:absolute; z-index:9011; " 
				width="2"
				height="27" 
				border="0"
				src="/static/images/toolbar/transp-red-pixel.png"></img>
       </div>
		</a>

       </td>
       </tr></tbody></table>
   </td>
   <td style="text-align:right;padding:5px;width:65px;font-size:11px!important;">
       <a href="javascript:;" onclick="document.getElementById('wm-ipp').style.display='none';" style="display:block;padding-right:18px;background:url(/static/images/toolbar/wm_tb_close.png) no-repeat 100% 0;color:#33f;font-family:'Lucida Grande','Arial',sans-serif;margin-bottom:23px;background-color:transparent;border:none;" title="Close the toolbar">Close</a>
       <a href="http://faq.web.archive.org/" style="display:block;padding-right:18px;background:url(/static/images/toolbar/wm_tb_help.png) no-repeat 100% 0;color:#33f;font-family:'Lucida Grande','Arial',sans-serif;background-color:transparent;border:none;" title="Get some help using the Wayback Machine">Help</a>
   </td>
   </tr></tbody></table>

</div>
</div>
<script type="text/javascript">
 var wmDisclaimBanner = document.getElementById("wm-ipp");
 if(wmDisclaimBanner != null) {
   disclaimElement(wmDisclaimBanner);
 }
</script>
<!-- END WAYBACK TOOLBAR INSERT -->


<div id="page_head" class="compact">
  <h1 class="compact">
    <a href="/web/20090524020410/http://ja.doukaku.org/">どう書く？org</a><img src="/web/20090524020410im_/http://ja.doukaku.org/static/image/beta.png" alt="beta">
  </h1>
</div>

<div id="page_body" class="compact">
<div id="content" class="compact">




<h2 class="compact">
<img src='/web/20090524020410im_/http://ja.doukaku.org/static/image/star_gold.png' alt=お題(出題済み)>
<a href="/web/20090524020410/http://ja.doukaku.org/249/">ケブンッリジ関数</a>
</h2>

    





<div class="comment" id="comment8920">
  <p class="banner"><a href="/web/20090524020410/http://ja.doukaku.org/user/813/" target="_top">lunlumo</a>

	
	&nbsp;
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8920/">#8920</a>(<script language="JavaScript">print_time(new Date("2009/05/08 13:03 GMT"));</script><noscript>2009/05/08 13:03 GMT</noscript>)
	
	
	
	[<a href="/web/20090524020410/http://ja.doukaku.org/lang/ruby/">
	  Ruby
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content" >
	<div class="comment_body">
	  <p>　与えた文章の各単語の最初と最後の文字以外の文字を入れ替えた文章を出力する処理を実装して下さい。元の文章の与え方は特に問いません。</p>

	</div>
	
	<p class="link">
	  参考: <a href="/web/20090524020410/http://www.itmedia.co.jp/news/articles/0905/08/news021.html">確かに"読めてしまう"コピペ</a>
	</p>  
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></td><td class="code"><div class="highlight"><pre><span class="c1">#! c:\ruby\bin\ruby.exe -Ks</span>

<span class="k">class</span> <span class="nc">Cmabrigde</span>
    <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">convert</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
        <span class="n">cs</span> <span class="o">=</span> <span class="n">word</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="p">(</span><span class="n">cs</span><span class="o">.</span><span class="n">size</span> <span class="o">&lt;=</span> <span class="mi">3</span><span class="p">)</span> <span class="p">?</span> <span class="n">word</span> <span class="p">:</span> <span class="n">cs</span><span class="o">.</span><span class="n">first</span> <span class="o">+</span> <span class="n">cs</span><span class="o">[</span><span class="mi">1</span><span class="o">.</span><span class="n">.</span><span class="o">-</span><span class="mi">2</span><span class="o">].</span><span class="n">sort_by</span> <span class="p">{</span> <span class="o">|</span><span class="n">c</span><span class="o">|</span> <span class="nb">rand</span> <span class="p">}</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="n">cs</span><span class="o">.</span><span class="n">last</span>
    <span class="k">end</span>
<span class="k">end</span>

<span class="n">source</span> <span class="o">=</span> <span class="o">&lt;&lt;</span><span class="no">EOS</span>
<span class="sh">こんにちは みなさん おげんき ですか？ わたしは げんき です。</span>
<span class="sh">この ぶんしょう は いぎりす の ケンブリッジ だいがく の けんきゅう の けっか</span>
<span class="sh">にんげん は もじ を にんしき する とき その さしいょ と さいご の もじさえ あっていれば</span>
<span class="sh">じゅんばん は めちゃくちゃ でも ちゃんと よめる という けんきゅう に もとづいて</span>
<span class="sh">わざと もじの じゅんばん を いれかえて あります。</span>
<span class="sh">どうです？ ちゃんと よめちゃう でしょ？</span>
<span class="sh">ちゃんと よめたら はんのう よろしく</span>
<span class="no">EOS</span>
<span class="n">source</span><span class="o">.</span><span class="n">each_line</span> <span class="k">do</span> <span class="o">|</span><span class="n">line</span><span class="o">|</span>
    <span class="nb">puts</span> <span class="n">line</span><span class="o">.</span><span class="n">chomp</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sr">/\s+/</span><span class="p">)</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="o">|</span><span class="n">word</span><span class="o">|</span> <span class="no">Cmabrigde</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="p">}</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
<span class="k">end</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8920/addtag/" class="addtag" id="addtag_8920">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090524020410/http://ja.doukaku.org/lang/ruby/">
		Ruby
      </a>]
	  
      [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8920/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8920/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8920"
  >-</span><span
  class="button yellow"
  id="rating_z_8920"
  >0</span><span 
  class="button green"
  id="rating_p_8920"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090524020410/http://ja.doukaku.org/249/reply_to/8920/">
  返信
  </a>]
  </div>
</div>
</div>




  



<div class="indent">
<a href="/web/20090524020410/http://ja.doukaku.org/249/post_comment/">
投稿する
</a>
</div>


<h2>投稿されたコメント - フラット表示</h2>
<a href="/web/20090524020410/http://ja.doukaku.org/249/nested/">ネスト表示</a>
<a href="/web/20090524020410/http://ja.doukaku.org/249/">非表示</a> 


  
  <br/>

  
  




<div class="comment" id="comment8931">
  <p class="banner"><a href="/web/20090524020410/http://ja.doukaku.org/user/760/" target="_top">turugina</a><a href="/web/20090524020410/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090524020410im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8931/">#8931</a>(<script language="JavaScript">print_time(new Date("2009/05/14 09:28 GMT"));</script><noscript>2009/05/14 09:28 GMT</noscript>)
	
	
	
	[<a href="/web/20090524020410/http://ja.doukaku.org/lang/perl/">
	  Perl
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>単語ごとにs///による置換一行でやってみました。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30</pre></td><td class="code"><div class="highlight"><pre><span class="k">use</span> <span class="n">strict</span><span class="p">;</span>
<span class="k">use</span> <span class="n">warnings</span><span class="p">;</span>
<span class="k">use</span> <span class="n">utf8</span><span class="p">;</span>
<span class="k">use</span> <span class="n">encoding</span> <span class="s">&quot;utf8&quot;</span><span class="p">,</span> <span class="bp">STDOUT</span> <span class="o">=&gt;</span> <span class="s">&quot;cp932&quot;</span><span class="p">;</span>

<span class="k">use</span> <span class="nn">List::</span><span class="n">Util</span> <span class="n">qw</span><span class="sr">/shuffle/</span><span class="p">;</span>

<span class="k">sub </span><span class="nf">cmabrigde</span>
<span class="p">{</span>
  <span class="k">my</span> <span class="nv">$word</span> <span class="o">=</span> <span class="nb">shift</span><span class="p">;</span>
  <span class="nv">$word</span> <span class="o">=~</span> <span class="n">s</span><span class="p">{</span>
    <span class="o">^</span><span class="p">(</span><span class="o">.</span><span class="p">)(</span><span class="o">.+</span><span class="p">)(</span><span class="o">.</span><span class="p">)</span><span class="nv">$</span>
  <span class="err">}</span><span class="p">{</span>
    <span class="nb">join</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="nv">$1</span><span class="p">,</span> <span class="p">(</span><span class="nb">split</span><span class="p">(</span><span class="sr">//</span><span class="p">,</span><span class="nv">$2</span><span class="p">))[</span><span class="n">shuffle</span> <span class="mi">0</span> <span class="o">..</span> <span class="nb">length</span><span class="p">(</span><span class="nv">$2</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="nv">$3</span><span class="p">)</span>
  <span class="p">}</span><span class="n">ex</span><span class="p">;</span>
  <span class="nv">$word</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">for</span> <span class="k">my</span> <span class="nv">$line</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">DATA</span><span class="o">&gt;</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">print</span> <span class="nb">join</span><span class="p">(</span><span class="s">&quot; &quot;</span><span class="p">,</span> <span class="nb">map</span> <span class="p">{</span> <span class="n">cmabrigde</span><span class="p">(</span><span class="nv">$_</span><span class="p">)</span> <span class="p">}</span> <span class="nb">split</span><span class="p">(</span><span class="s">&quot; &quot;</span><span class="p">,</span> <span class="nv">$line</span><span class="p">)),</span> <span class="s">&quot;\n&quot;</span><span class="p">;</span>
<span class="p">}</span>

<span class="bp">__DATA__</span>
<span class="err">こんにちは</span> <span class="err">みなさん</span> <span class="err">おげんき</span> <span class="err">ですか？</span> <span class="err">わたしは</span> <span class="err">げんき</span> <span class="err">です。</span>
<span class="err">この</span> <span class="err">ぶんしょう</span> <span class="err">は</span> <span class="err">いぎりす</span> <span class="err">の</span> <span class="err">ケンブリッジ</span> <span class="err">だいがく</span> <span class="err">の</span> <span class="err">けんきゅう</span> <span class="err">の</span> <span class="err">けっか</span>
<span class="err">にんげん</span> <span class="err">は</span> <span class="err">もじ</span> <span class="err">を</span> <span class="err">にんしき</span> <span class="err">する</span> <span class="err">とき</span> <span class="err">その</span> <span class="err">さしいょ</span> <span class="err">と</span> <span class="err">さいご</span> <span class="err">の</span> <span class="err">もじさえ</span> <span class="err">あっていれば</span>
<span class="err">じゅんばん</span> <span class="err">は</span> <span class="err">めちゃくちゃ</span> <span class="err">でも</span> <span class="err">ちゃんと</span> <span class="err">よめる</span> <span class="err">という</span> <span class="err">けんきゅう</span> <span class="err">に</span> <span class="err">もとづいて</span>
<span class="err">わざと</span> <span class="err">もじの</span> <span class="err">じゅんばん</span> <span class="err">を</span> <span class="err">いれかえて</span> <span class="err">あります。</span>
<span class="err">どうです？</span> <span class="err">ちゃんと</span> <span class="err">よめちゃう</span> <span class="err">でしょ？</span>
<span class="err">ちゃんと</span> <span class="err">よめたら</span> <span class="err">はんのう</span> <span class="err">よろしく</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8931/addtag/" class="addtag" id="addtag_8931">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090524020410/http://ja.doukaku.org/lang/perl/">
		Perl
      </a>]
	  
      [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8931/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8931/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8931"
  >-</span><span
  class="button yellow"
  id="rating_z_8931"
  >0</span><span 
  class="button green"
  id="rating_p_8931"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090524020410/http://ja.doukaku.org/249/reply_to/8931/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8932">
  <p class="banner"><a href="/web/20090524020410/http://ja.doukaku.org/user/1006/" target="_top">teppey</a><a href="/web/20090524020410/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090524020410im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8932/">#8932</a>(<script language="JavaScript">print_time(new Date("2009/05/14 10:20 GMT"));</script><noscript>2009/05/14 10:20 GMT</noscript>)
	
	
	
	[<a href="/web/20090524020410/http://ja.doukaku.org/lang/scheme/">
	  Scheme
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></td><td class="code"><div class="highlight"><pre><span class="p">(</span><span class="k">define </span><span class="nv">*source*</span>
  <span class="s">&quot;こんにちは みなさん おげんき ですか？ わたしは げんき です。</span>
<span class="s">  この ぶんしょう は いぎりす の ケンブリッジ だいがく の けんきゅう の けっか</span>
<span class="s">  にんげん は もじ を にんしき する とき その さしいょ と さいご の もじさえ あっていれば</span>
<span class="s">  じゅんばん は めちゃくちゃ でも ちゃんと よめる という けんきゅう に もとづいて</span>
<span class="s">  わざと もじの じゅんばん を いれかえて あります。</span>
<span class="s">  どうです？ ちゃんと よめちゃう でしょ？</span>
<span class="s">  ちゃんと よめたら はんのう よろしく&quot;</span><span class="p">)</span>

<span class="p">(</span><span class="nf">use</span> <span class="nv">text</span><span class="o">.</span><span class="nv">tree</span><span class="p">)</span>
<span class="p">(</span><span class="nf">use</span> <span class="nv">gauche</span><span class="o">.</span><span class="nv">sequence</span><span class="p">)</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">cmabrigde</span> <span class="nv">word</span><span class="p">)</span>
  <span class="p">(</span><span class="nf">let1</span> <span class="nv">len</span> <span class="p">(</span><span class="nb">string-length </span><span class="nv">word</span><span class="p">)</span>
    <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nb">&lt;= </span><span class="nv">len</span> <span class="mi">3</span><span class="p">)</span>
      <span class="nv">word</span>
      <span class="p">(</span><span class="nf">tree-&gt;string</span>
        <span class="p">(</span><span class="nb">list </span><span class="p">(</span><span class="nb">string-ref </span><span class="nv">word</span> <span class="mi">0</span><span class="p">)</span>
              <span class="p">(</span><span class="nf">shuffle</span> <span class="p">(</span><span class="nb">substring </span><span class="nv">word</span> <span class="mi">1</span> <span class="p">(</span><span class="nb">- </span><span class="nv">len</span> <span class="mi">1</span><span class="p">)))</span>
              <span class="p">(</span><span class="nb">string-ref </span><span class="nv">word</span> <span class="p">(</span><span class="nb">- </span><span class="nv">len</span> <span class="mi">1</span><span class="p">)))))))</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">cmabrigde-test</span><span class="p">)</span>
  <span class="p">(</span><span class="nf">print</span> <span class="p">(</span><span class="nf">string-join</span> <span class="p">(</span><span class="nb">map </span><span class="nv">cmabrigde</span> <span class="p">(</span><span class="nf">string-split</span> <span class="nv">*source*</span> <span class="o">#</span><span class="nv">/</span><span class="err">\</span><span class="nv">s+/</span><span class="p">))</span> <span class="s">&quot; &quot;</span><span class="p">)))</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8932/addtag/" class="addtag" id="addtag_8932">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090524020410/http://ja.doukaku.org/lang/scheme/">
		Scheme
      </a>]
	  
      [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8932/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8932/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8932"
  >-</span><span
  class="button yellow"
  id="rating_z_8932"
  >0</span><span 
  class="button green"
  id="rating_p_8932"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090524020410/http://ja.doukaku.org/249/reply_to/8932/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8933">
  <p class="banner"><a href="/web/20090524020410/http://ja.doukaku.org/user/755/" target="_top">athos</a><a href="/web/20090524020410/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090524020410im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8933/">#8933</a>(<script language="JavaScript">print_time(new Date("2009/05/14 10:42 GMT"));</script><noscript>2009/05/14 10:42 GMT</noscript>)
	
	
	
	[<a href="/web/20090524020410/http://ja.doukaku.org/lang/scheme/">
	  Scheme
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>データは標準入力から受けとります。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></td><td class="code"><div class="highlight"><pre><span class="p">(</span><span class="nf">use</span> <span class="nv">gauche</span><span class="o">.</span><span class="nv">sequence</span><span class="p">)</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">cmabrigde</span> <span class="nv">word</span><span class="p">)</span>
  <span class="p">(</span><span class="nf">rxmatch-if</span> <span class="p">(</span><span class="o">#</span><span class="nv">/^</span><span class="p">(</span><span class="o">.</span><span class="p">)(</span><span class="o">.</span><span class="nv">+</span><span class="p">)(</span><span class="o">.</span><span class="p">)</span><span class="nv">$/</span> <span class="nv">word</span><span class="p">)</span> <span class="p">(</span><span class="nf">_</span> <span class="nv">h</span> <span class="nv">m</span> <span class="nv">t</span><span class="p">)</span>
    <span class="o">#`</span><span class="s">&quot;,h,(shuffle m),t&quot;</span>
    <span class="nv">word</span><span class="p">))</span>

<span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">main</span> <span class="nv">args</span><span class="p">)</span>
  <span class="p">(</span><span class="nf">dolist</span> <span class="p">(</span><span class="nf">line</span> <span class="p">(</span><span class="nf">port-&gt;list</span> <span class="nv">read-line</span> <span class="p">(</span><span class="nf">current-input-port</span><span class="p">)))</span>
    <span class="p">(</span><span class="nf">print</span> <span class="p">(</span><span class="nf">string-join</span> <span class="p">(</span><span class="nb">map </span><span class="nv">cmabrigde</span> <span class="p">(</span><span class="nf">string-split</span> <span class="nv">line</span> <span class="s">&quot; &quot;</span><span class="p">))))))</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8933/addtag/" class="addtag" id="addtag_8933">タグ</a>:
	
    
    <a href="/web/20090524020410/http://ja.doukaku.org/tag/Gauche/">Gauche</a>
    
	&nbsp;

	
      [<a href="/web/20090524020410/http://ja.doukaku.org/lang/scheme/">
		Scheme
      </a>]
	  
      [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8933/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8933/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8933"
  >-</span><span
  class="button yellow"
  id="rating_z_8933"
  >0</span><span 
  class="button green"
  id="rating_p_8933"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090524020410/http://ja.doukaku.org/249/reply_to/8933/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8934">
  <p class="banner"><a href="/web/20090524020410/http://ja.doukaku.org/user/232/" target="_top">kkobayashi</a><a href="/web/20090524020410/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090524020410im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8934/">#8934</a>(<script language="JavaScript">print_time(new Date("2009/05/14 11:54 GMT"));</script><noscript>2009/05/14 11:54 GMT</noscript>)
	
	
	
	[<a href="/web/20090524020410/http://ja.doukaku.org/lang/r/">
	  R
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></td><td class="code"><div class="highlight"><pre>source.text &lt;- &quot;こんにちは みなさん おげんき ですか？ わたしは げんき です。
この ぶんしょう は いぎりす の ケンブリッジ だいがく の けんきゅう の けっか
にんげん は もじ を にんしき する とき その さしいょ と さいご の もじさえ あっていれば
じゅんばん は めちゃくちゃ でも ちゃんと よめる という けんきゅう に もとづいて
わざと もじの じゅんばん を いれかえて あります。
どうです？ ちゃんと よめちゃう でしょ？
ちゃんと よめたら はんのう よろしく&quot;

writeLines(sapply(readLines(textConnection(source.text)), function(x){
  paste(sapply(strsplit(x, &quot; &quot;)[[1]], function(word){
    lt  &lt;- strsplit(word, &quot;&quot;)[[1]]
    len &lt;- length(lt)
    ifelse(len&lt;=3, word, paste(lt[c(1,sample(len-2)+1,len)], collapse=&quot;&quot;))
  }), collapse=&quot; &quot;)}))
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8934/addtag/" class="addtag" id="addtag_8934">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090524020410/http://ja.doukaku.org/lang/r/">
		R
      </a>]
	  
      [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8934/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8934/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8934"
  >-</span><span
  class="button yellow"
  id="rating_z_8934"
  >0</span><span 
  class="button green"
  id="rating_p_8934"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090524020410/http://ja.doukaku.org/249/reply_to/8934/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8935">
  <p class="banner"><a href="/web/20090524020410/http://ja.doukaku.org/user/1045/" target="_top">ワサビ</a>

	
	&nbsp;
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8935/">#8935</a>(<script language="JavaScript">print_time(new Date("2009/05/14 12:36 GMT"));</script><noscript>2009/05/14 12:36 GMT</noscript>)
	
	
	
	[<a href="/web/20090524020410/http://ja.doukaku.org/lang/ocaml/">
	  OCaml
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></td><td class="code"><div class="highlight"><pre><span class="k">#</span><span class="n">light</span>

<span class="kr">open</span> <span class="n">System</span><span class="k">.</span><span class="n">Text</span><span class="k">.</span><span class="n">RegularExpressions</span>

<span class="kr">let</span> <span class="n">cmabrigde</span> <span class="n">text</span> <span class="k">=</span>
    <span class="kr">let</span> <span class="n">rand</span> <span class="k">=</span> <span class="kr">new</span> <span class="n">System</span><span class="k">.</span><span class="n">Random</span><span class="k">()</span>
    <span class="n">Regex</span><span class="k">.</span><span class="n">Replace</span><span class="k">(</span><span class="n">text</span><span class="k">,</span> <span class="o">@</span><span class="s2">&quot;(?&lt;=</span><span class="err">\</span><span class="s2">w)</span><span class="err">\</span><span class="s2">w{2,}(?=</span><span class="err">\</span><span class="s2">w)&quot;</span><span class="k">,</span> <span class="kr">fun</span> <span class="k">(</span><span class="n">m</span> <span class="k">:</span> <span class="n">Match</span><span class="k">)</span> <span class="k">-&gt;</span>
        <span class="kr">new</span> <span class="n">string</span><span class="k">(</span><span class="n">m</span><span class="k">.</span><span class="n">Value</span> <span class="k">|&gt;</span> <span class="n">Seq</span><span class="k">.</span><span class="n">sort_by</span> <span class="k">(</span><span class="n">ignore</span> <span class="k">&gt;&gt;</span> <span class="n">rand</span><span class="k">.</span><span class="n">Next</span><span class="k">)</span> <span class="k">|&gt;</span> <span class="n">Seq</span><span class="k">.</span><span class="n">to_array</span><span class="k">))</span>

<span class="o">@</span><span class="s2">&quot;こんにちは みなさん おげんき ですか？ わたしは げんき です。</span>
<span class="s2">この ぶんしょう は いぎりす の ケンブリッジ だいがく の けんきゅう の けっか</span>
<span class="s2">にんげん は もじ を にんしき する とき その さしいょ と さいご の もじさえ あっていれば</span>
<span class="s2">じゅんばん は めちゃくちゃ でも ちゃんと よめる という けんきゅう に もとづいて</span>
<span class="s2">わざと もじの じゅんばん を いれかえて あります。</span>
<span class="s2">どうです？ ちゃんと よめちゃう でしょ？</span>
<span class="s2">ちゃんと よめたら はんのう よろしく&quot;</span>
<span class="k">|&gt;</span> <span class="n">cmabrigde</span> <span class="k">|&gt;</span> <span class="n">printfn</span> <span class="s2">&quot;%s&quot;</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8935/addtag/" class="addtag" id="addtag_8935">タグ</a>:
	
    
    <a href="/web/20090524020410/http://ja.doukaku.org/tag/F%23/">F#</a>
    
	&nbsp;

	
      [<a href="/web/20090524020410/http://ja.doukaku.org/lang/ocaml/">
		OCaml
      </a>]
	  
      [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8935/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8935/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8935"
  >-</span><span
  class="button yellow"
  id="rating_z_8935"
  >0</span><span 
  class="button green"
  id="rating_p_8935"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090524020410/http://ja.doukaku.org/249/reply_to/8935/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8936">
  <p class="banner"><a href="/web/20090524020410/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20090524020410/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090524020410im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20090524020410/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090524020410im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8936/">#8936</a>(<script language="JavaScript">print_time(new Date("2009/05/14 14:37 GMT"));</script><noscript>2009/05/14 14:37 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  乱数を使っていますけど、入れ替わらない場合があってもＯＫなのですか？
	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8936/addtag/" class="addtag" id="addtag_8936">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8936"
  >-</span><span
  class="button yellow"
  id="rating_z_8936"
  >0</span><span 
  class="button green"
  id="rating_p_8936"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090524020410/http://ja.doukaku.org/249/reply_to/8936/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8937">
  <p class="banner"><a href="/web/20090524020410/http://ja.doukaku.org/user/88/" target="_top">sumim</a><a href="/web/20090524020410/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090524020410im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20090524020410/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090524020410im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8937/">#8937</a>(<script language="JavaScript">print_time(new Date("2009/05/15 03:53 GMT"));</script><noscript>2009/05/15 03:53 GMT</noscript>)
	
	
	
	[<a href="/web/20090524020410/http://ja.doukaku.org/lang/smalltalk/">
	  Smalltalk
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>Squeak Smalltalk で。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42</pre></td><td class="code"><div class="highlight"><pre>| source convert stream separators buffer next |

source := &#39;こんにちは みなさん おげんき ですか？ わたしは げんき です。
この ぶんしょう は イギリス の ケンブリッジ だいがく の けんきゅう の けっか
にんげん は もじ を にんしき する とき その さいしょ と さいご の もじさえ あっていれば
じゅんばん は めちゃくちゃ でも ちゃんと よめる という けんきゅう に もとづいて
わざと もじの じゅんばん を いれかえて あります。
どうです？ ちゃんと よめちゃう でしょ？
ちゃんと よめたら はんのう よろしく。&#39;.

convert := [:word |
    | specialChars chars |
    specialChars := &#39;ゃゅょっャュョッー&#39;.
    chars := word inject: OrderedCollection new into: [:out :char |
        (specialChars includes: char)
            ifFalse: [out add: (OrderedCollection with: char)]
            ifTrue: [out last add: char].
        out].
    chars size &lt;= 3 ifTrue: [chars concatenation as: String] ifFalse: [
        | shuffled middle |
        shuffled := (middle := chars copyFrom: 2 to: chars size - 1) shuffled.
        [shuffled = middle] whileTrue: [shuffled := middle shuffled].
        ((chars first: 1), shuffled, (chars last: 1)) concatenation as: String]].

World findATranscript: nil. Transcript clear.
stream := source readStream.
separators := Character separators, &#39;。？&#39;.
buffer := WriteStream on: String new.

[(next := stream next) notNil] whileTrue: [
    (separators includes: next) ifFalse: [buffer nextPut: next] ifTrue: [
        Transcript show: (convert value: buffer contents); nextPut: next.
        buffer reset]].
Transcript show: (convert value: buffer contents)

&quot;=&gt; こにちんは みさなん おんげき ですか？ わしたは げんき です。
この ぶしょんう は イリギス の ケブンリッジ だがいく の けきゅんう の けっか
にげんん は もじ を にしんき する とき その さいしょ と さいご の もさじえ あっいてれば
じゅばんん は めくちゃちゃ でも ちゃんと よめる という けきゅんう に もづいとて
わざと もじの じゅばんん を いかれえて あまりす。
どでうす？ ちゃんと よちゃめう でしょ？
ちゃんと よためら はのんう よしろく。 &quot;
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8937/addtag/" class="addtag" id="addtag_8937">タグ</a>:
	
    
    <a href="/web/20090524020410/http://ja.doukaku.org/tag/Squeak_Smalltalk/">Squeak_Smalltalk</a>
    
	&nbsp;

	
      [<a href="/web/20090524020410/http://ja.doukaku.org/lang/smalltalk/">
		Smalltalk
      </a>]
	  
      [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8937/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8937/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8937"
  >-</span><span
  class="button yellow"
  id="rating_z_8937"
  >0</span><span 
  class="button green"
  id="rating_p_8937"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090524020410/http://ja.doukaku.org/249/reply_to/8937/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8938">
  <p class="banner"><a href="/web/20090524020410/http://ja.doukaku.org/user/1013/" target="_top">selpo</a>

	
	&nbsp;
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8938/">#8938</a>(<script language="JavaScript">print_time(new Date("2009/05/15 05:37 GMT"));</script><noscript>2009/05/15 05:37 GMT</noscript>)
	
	
	
	[<a href="/web/20090524020410/http://ja.doukaku.org/lang/csharp/">
	  C#
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>並び変えないことも並び替えることの一つと判断しました。</p>
<p>並び変えたり、並び替えなかったりします。</p>
<p>（本音を言うと、必ず違う配列になる確認がめんどかっただけ）</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80</pre></td><td class="code"><div class="highlight"><pre><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Text</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Pair</span><span class="p">&lt;</span><span class="n">S</span><span class="p">,</span> <span class="n">T</span><span class="p">&gt;</span>
<span class="k">{</span>
    <span class="k">public</span> <span class="n">S</span> <span class="n">s</span> <span class="k">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="k">}</span>
    <span class="k">public</span> <span class="n">T</span> <span class="n">t</span> <span class="k">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="k">}</span>
    <span class="k">public</span> <span class="nf">Pair</span><span class="p">(</span><span class="n">S</span> <span class="n">s</span><span class="p">,</span> <span class="n">T</span> <span class="n">t</span><span class="p">)</span> <span class="k">{</span> <span class="k">this</span><span class="p">.</span><span class="n">s</span> <span class="p">=</span> <span class="n">s</span><span class="p">;</span> <span class="k">this</span><span class="p">.</span><span class="n">t</span> <span class="p">=</span> <span class="n">t</span><span class="p">;</span> <span class="k">}</span>
    <span class="k">public</span> <span class="nf">Pair</span><span class="p">()</span> <span class="k">{</span> <span class="n">s</span> <span class="p">=</span> <span class="k">default</span><span class="p">(</span><span class="n">S</span><span class="p">);</span> <span class="n">t</span> <span class="p">=</span> <span class="k">default</span><span class="p">(</span><span class="n">T</span><span class="p">);</span> <span class="k">}</span>
<span class="k">}</span>
<span class="k">static</span> <span class="k">class</span> <span class="nc">Program</span>
<span class="k">{</span>
    <span class="k">static</span> <span class="n">Random</span> <span class="n">rand</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Random</span><span class="p">();</span>
    <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
    <span class="k">{</span>
        <span class="n">var</span> <span class="n">str</span> <span class="p">=</span> <span class="s">&quot;こんにちは みなさん おげんき ですか？ わたしは げんき です。\n&quot;</span>
                    <span class="p">+</span> <span class="s">&quot;この ぶんしょう は いぎりす の ケンブリッジ だいがく の けんきゅう の けっか\n&quot;</span>
                    <span class="p">+</span> <span class="s">&quot;にんげん は もじ を にんしき する とき その さいしょ と さいご の もじさえ あっていれば\n&quot;</span>
                    <span class="p">+</span> <span class="s">&quot;じゅんばん は めちゃくちゃ でも ちゃんと よめる という けんきゅう に もとづいて\n&quot;</span>
                    <span class="p">+</span> <span class="s">&quot;わざと もじの じゅんばん を いれかえて あります。\n&quot;</span>
                    <span class="p">+</span> <span class="s">&quot;どうです？ ちゃんと よめちゃう でしょ？\n&quot;</span>
                    <span class="p">+</span> <span class="s">&quot;ちゃんと よめたら はんのう よろしく\n&quot;</span><span class="p">;</span>
        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">CmabridgeConvert</span><span class="p">(</span><span class="n">str</span><span class="p">));</span>
    <span class="k">}</span>
    <span class="k">static</span> <span class="kt">string</span> <span class="nf">CmabridgeConvert</span><span class="p">(</span><span class="kt">string</span> <span class="n">str</span><span class="p">)</span>
    <span class="k">{</span>
        <span class="kt">int</span> <span class="n">from</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">to</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
        <span class="n">var</span> <span class="n">words</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Pair</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">bool</span><span class="p">&gt;&gt;();</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">str</span><span class="p">.</span><span class="n">Length</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
        <span class="k">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">str</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">!=</span> <span class="sc">&#39; &#39;</span> <span class="p">&amp;&amp;</span> <span class="n">str</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">!=</span> <span class="sc">&#39;　&#39;</span> <span class="p">&amp;&amp;</span> <span class="n">str</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">!=</span> <span class="sc">&#39;\n&#39;</span>
                <span class="p">&amp;&amp;</span> <span class="p">!</span><span class="kt">char</span><span class="p">.</span><span class="n">IsSymbol</span><span class="p">(</span><span class="n">str</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="p">&amp;&amp;</span> <span class="n">str</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">!=</span> <span class="sc">&#39;？&#39;</span> <span class="p">&amp;&amp;</span> <span class="n">str</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">!=</span> <span class="sc">&#39;。&#39;</span>
                <span class="p">&amp;&amp;</span> <span class="n">str</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">!=</span> <span class="sc">&#39;、&#39;</span> <span class="p">&amp;&amp;</span> <span class="n">str</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">!=</span> <span class="sc">&#39;！&#39;</span> <span class="p">&amp;&amp;</span> <span class="n">str</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">!=</span> <span class="sc">&#39; &#39;</span> <span class="p">&amp;&amp;</span> <span class="p">!</span><span class="kt">char</span><span class="p">.</span><span class="n">IsSeparator</span><span class="p">(</span><span class="n">str</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
                <span class="n">to</span><span class="p">++;</span>
            <span class="k">else</span>
            <span class="k">{</span>
                <span class="n">words</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="k">new</span> <span class="n">Pair</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">bool</span><span class="p">&gt;(</span><span class="n">str</span><span class="p">.</span><span class="n">Substring</span><span class="p">(</span><span class="n">from</span><span class="p">,</span> <span class="n">to</span> <span class="p">-</span> <span class="n">from</span><span class="p">),</span> <span class="k">true</span><span class="p">));</span>
                <span class="n">words</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="k">new</span> <span class="n">Pair</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">bool</span><span class="p">&gt;(</span><span class="n">str</span><span class="p">.</span><span class="n">Substring</span><span class="p">(</span><span class="n">to</span><span class="p">,</span> <span class="m">1</span><span class="p">),</span> <span class="k">false</span><span class="p">));</span>
                <span class="n">from</span> <span class="p">=</span> <span class="n">i</span> <span class="p">+</span> <span class="m">1</span><span class="p">;</span>
                <span class="n">to</span> <span class="p">=</span> <span class="n">i</span> <span class="p">+</span> <span class="m">1</span><span class="p">;</span>
            <span class="k">}</span>
        <span class="k">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">from</span> <span class="p">!=</span> <span class="n">str</span><span class="p">.</span><span class="n">Length</span><span class="p">)</span>
            <span class="n">words</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="k">new</span> <span class="n">Pair</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">bool</span><span class="p">&gt;(</span><span class="n">str</span><span class="p">.</span><span class="n">Substring</span><span class="p">(</span><span class="n">from</span><span class="p">,</span> <span class="n">to</span> <span class="p">-</span> <span class="n">from</span><span class="p">),</span> <span class="k">true</span><span class="p">));</span>
        <span class="n">var</span> <span class="n">sb</span> <span class="p">=</span> <span class="k">new</span> <span class="n">StringBuilder</span><span class="p">(</span><span class="n">str</span><span class="p">.</span><span class="n">Length</span><span class="p">);</span>
        <span class="k">foreach</span> <span class="p">(</span><span class="n">var</span> <span class="n">word</span> <span class="k">in</span> <span class="n">words</span><span class="p">)</span>
        <span class="k">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">word</span><span class="p">.</span><span class="n">t</span> <span class="p">&amp;&amp;</span> <span class="n">word</span><span class="p">.</span><span class="n">s</span><span class="p">.</span><span class="n">Length</span> <span class="p">&gt;</span> <span class="m">3</span><span class="p">)</span>
                <span class="n">sb</span><span class="p">.</span><span class="n">Append</span><span class="p">(</span><span class="n">Shuffle</span><span class="p">(</span><span class="k">new</span> <span class="n">StringBuilder</span><span class="p">(</span><span class="n">word</span><span class="p">.</span><span class="n">s</span><span class="p">)));</span>
            <span class="k">else</span>
                <span class="n">sb</span><span class="p">.</span><span class="n">Append</span><span class="p">(</span><span class="n">word</span><span class="p">.</span><span class="n">s</span><span class="p">);</span>
        <span class="k">}</span>
        <span class="k">return</span> <span class="n">sb</span><span class="p">.</span><span class="n">ToString</span><span class="p">();</span>
    <span class="k">}</span>
    <span class="k">static</span> <span class="kt">string</span> <span class="nf">Shuffle</span><span class="p">(</span><span class="n">StringBuilder</span> <span class="n">word</span><span class="p">)</span>
    <span class="k">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">word</span><span class="p">.</span><span class="n">Length</span> <span class="p">==</span> <span class="m">4</span><span class="p">)</span>
        <span class="k">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">rand</span><span class="p">.</span><span class="n">Next</span><span class="p">(</span><span class="m">2</span><span class="p">)</span> <span class="p">==</span> <span class="m">0</span><span class="p">)</span>
            <span class="k">{</span>
                <span class="kt">char</span> <span class="n">tmp</span> <span class="p">=</span> <span class="n">word</span><span class="p">[</span><span class="m">1</span><span class="p">];</span>
                <span class="n">word</span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="p">=</span> <span class="n">word</span><span class="p">[</span><span class="m">2</span><span class="p">];</span>
                <span class="n">word</span><span class="p">[</span><span class="m">2</span><span class="p">]</span> <span class="p">=</span> <span class="n">tmp</span><span class="p">;</span>
            <span class="k">}</span>
        <span class="k">}</span>
        <span class="k">else</span>
        <span class="k">{</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">word</span><span class="p">.</span><span class="n">Length</span> <span class="p">-</span> <span class="m">1</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
            <span class="k">{</span>
                <span class="kt">int</span> <span class="n">j</span> <span class="p">=</span> <span class="n">rand</span><span class="p">.</span><span class="n">Next</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="n">i</span> <span class="p">+</span> <span class="m">1</span><span class="p">);</span>
                <span class="kt">char</span> <span class="n">tmp</span> <span class="p">=</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
                <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="n">word</span><span class="p">[</span><span class="n">j</span><span class="p">];</span>
                <span class="n">word</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="p">=</span> <span class="n">tmp</span><span class="p">;</span>
            <span class="k">}</span>
        <span class="k">}</span>
        <span class="k">return</span> <span class="n">word</span><span class="p">.</span><span class="n">ToString</span><span class="p">();</span>
    <span class="k">}</span>
<span class="k">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8938/addtag/" class="addtag" id="addtag_8938">タグ</a>:
	
    
    <a href="/web/20090524020410/http://ja.doukaku.org/tag/C%233.0/">C#3.0</a>
    
	&nbsp;

	
      [<a href="/web/20090524020410/http://ja.doukaku.org/lang/csharp/">
		C#
      </a>]
	  
      [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8938/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8938/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8938"
  >-</span><span
  class="button yellow"
  id="rating_z_8938"
  >0</span><span 
  class="button green"
  id="rating_p_8938"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090524020410/http://ja.doukaku.org/249/reply_to/8938/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8940">
  <p class="banner"><a href="/web/20090524020410/http://ja.doukaku.org/user/606/" target="_top">pooq</a><a href="/web/20090524020410/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090524020410im_/http://ja.doukaku.org/static/image/star_silver.png" border=0/></a><a href="/web/20090524020410/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090524020410im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8940/">#8940</a>(<script language="JavaScript">print_time(new Date("2009/05/16 16:45 GMT"));</script><noscript>2009/05/16 16:45 GMT</noscript>)
	
	
	
	[<a href="/web/20090524020410/http://ja.doukaku.org/lang/j/">
	  J
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>   convert ucp data
こにちんは みなさん おんげき でかす？ わしたは げんき です。
この ぶんょしう は いぎりす の ケリブッンジ だいがく の けゅんきう の けっか
にげんん は もじ を にしんき する とき その さしいょ と さいご の もさじえ あっれいてば
じんばゅん は めちちゃくゃ でも ちゃんと よめる という けきんゅう に もといづて
わざと もじの じんばゅん を いれかえて あすまり。
どうです？ ちゃんと よゃちめう でしょ？
ちんゃと よめたら はんのう よろしく
</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></td><td class="code"><div class="highlight"><pre>Cagrdibme=:3 :&#39;;(3&lt;#y){y;((0,(&gt;:?~#}:}.y),_1){y)&#39;   
convert=:3 :&#39;;&gt;,&amp;(&lt;LF)@((,&#39;&#39; &#39;&#39;&amp;;)/)(L:1)Cagrdibme(L:0)cutopen&amp;.&gt;cutopen y&#39;

data=:0 :0
こんにちは みなさん おげんき ですか？ わたしは げんき です。
この ぶんしょう は いぎりす の ケンブリッジ だいがく の けんきゅう の けっか
にんげん は もじ を にんしき する とき その さしいょ と さいご の もじさえ あっていれば
じゅんばん は めちゃくちゃ でも ちゃんと よめる という けんきゅう に もとづいて
わざと もじの じゅんばん を いれかえて あります。
どうです？ ちゃんと よめちゃう でしょ？
ちゃんと よめたら はんのう よろしく
)
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8940/addtag/" class="addtag" id="addtag_8940">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090524020410/http://ja.doukaku.org/lang/j/">
		J
      </a>]
	  
      [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8940/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8940/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8940"
  >-</span><span
  class="button yellow"
  id="rating_z_8940"
  >0</span><span 
  class="button green"
  id="rating_p_8940"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090524020410/http://ja.doukaku.org/249/reply_to/8940/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8941">
  <p class="banner"><a href="/web/20090524020410/http://ja.doukaku.org/user/766/" target="_top">syat</a><a href="/web/20090524020410/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090524020410im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8941/">#8941</a>(<script language="JavaScript">print_time(new Date("2009/05/17 02:45 GMT"));</script><noscript>2009/05/17 02:45 GMT</noscript>)
	
	
	
	[<a href="/web/20090524020410/http://ja.doukaku.org/lang/c/">
	  C
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  qsortにランダム関数をつっこんで大丈夫なのだろうか（無限ループになったりしないかな？）
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47</pre></td><td class="code"><div class="highlight"><pre><span class="cp">#include &lt;stdio.h&gt;</span>
<span class="cp">#include &lt;stdlib.h&gt;</span>

<span class="cp">#define IS_SPACE(c) ( (c) == &#39; &#39; || (c) == &#39;\n&#39; )</span>
<span class="cp">#define MBCLEN 2</span>

<span class="c">/* ランダム比較関数 */</span>
<span class="kt">int</span> <span class="nf">compare_random</span><span class="p">(</span><span class="k">const</span> <span class="kt">void</span> <span class="o">*</span><span class="n">a</span><span class="p">,</span> <span class="k">const</span> <span class="kt">void</span> <span class="o">*</span><span class="n">b</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">rand</span><span class="p">()</span> <span class="o">-</span> <span class="n">RAND_MAX</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* ケブンリッジ関数 */</span>
<span class="kt">void</span> <span class="nf">ciambrgde</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">buf</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">char</span> <span class="o">*</span><span class="n">p</span> <span class="o">=</span> <span class="n">buf</span><span class="p">;</span>

    <span class="k">while</span> <span class="p">(</span><span class="o">*</span><span class="n">p</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">char</span> <span class="o">*</span><span class="n">word_head</span><span class="p">;</span>

        <span class="c">/* 空白を読み飛ばす */</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">IS_SPACE</span><span class="p">(</span><span class="o">*</span><span class="n">p</span><span class="p">))</span> <span class="p">{</span> <span class="n">p</span><span class="o">++</span><span class="p">;</span> <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span> <span class="o">*</span><span class="n">p</span><span class="p">)</span> <span class="p">{</span> <span class="k">break</span><span class="p">;</span> <span class="p">}</span>
        <span class="c">/* 単語の末尾を探す */</span>
        <span class="n">word_head</span> <span class="o">=</span> <span class="n">p</span><span class="p">;</span>
        <span class="k">while</span> <span class="p">(</span><span class="o">*</span><span class="n">p</span> <span class="o">&amp;&amp;</span> <span class="o">!</span> <span class="n">IS_SPACE</span><span class="p">(</span><span class="o">*</span><span class="n">p</span><span class="p">))</span> <span class="p">{</span> <span class="n">p</span> <span class="o">+=</span> <span class="n">MBCLEN</span><span class="p">;</span> <span class="p">}</span>
        <span class="c">/* ４文字以上の単語なら入れ替えを行う */</span>
        <span class="k">if</span> <span class="p">(</span> <span class="p">(</span><span class="n">p</span> <span class="o">-</span> <span class="n">word_head</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">MBCLEN</span> <span class="o">*</span> <span class="mi">4</span> <span class="p">)</span> <span class="p">{</span>
            <span class="n">qsort</span><span class="p">(</span><span class="n">word_head</span> <span class="o">+</span> <span class="n">MBCLEN</span><span class="p">,</span> <span class="p">(</span><span class="n">p</span> <span class="o">-</span> <span class="n">word_head</span><span class="p">)</span><span class="o">/</span><span class="n">MBCLEN</span> <span class="o">-</span> <span class="mi">2</span><span class="p">,</span> <span class="n">MBCLEN</span><span class="p">,</span> <span class="n">compare_random</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
    
    <span class="k">return</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="kt">char</span> <span class="n">buf</span><span class="p">[]</span> <span class="o">=</span> <span class="s">&quot;こんにちは みなさん おげんき ですか？ わたしは げんき です。</span><span class="se">\n</span><span class="s">\</span>
<span class="s">この ぶんしょう は いぎりす の ケンブリッジ だいがく の けんきゅう の けっか</span><span class="se">\n</span><span class="s">\</span>
<span class="s">にんげん は もじ を にんしき する とき その さしいょ と さいご の もじさえ あっていれば</span><span class="se">\n</span><span class="s">\</span>
<span class="s">じゅんばん は めちゃくちゃ でも ちゃんと よめる という けんきゅう に もとづいて</span><span class="se">\n</span><span class="s">\</span>
<span class="s">わざと もじの じゅんばん を いれかえて あります。</span><span class="se">\n</span><span class="s">\</span>
<span class="s">どうです？ ちゃんと よめちゃう でしょ？</span><span class="se">\n</span><span class="s">\</span>
<span class="s">ちゃんと よめたら はんのう よろしく&quot;</span><span class="p">;</span>
    
    <span class="n">ciambrgde</span><span class="p">(</span><span class="n">buf</span><span class="p">);</span>
    <span class="n">printf</span><span class="p">(</span><span class="n">buf</span><span class="p">);</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8941/addtag/" class="addtag" id="addtag_8941">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090524020410/http://ja.doukaku.org/lang/c/">
		C
      </a>]
	  
      [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8941/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8941/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8941"
  >-</span><span
  class="button yellow"
  id="rating_z_8941"
  >0</span><span 
  class="button green"
  id="rating_p_8941"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090524020410/http://ja.doukaku.org/249/reply_to/8941/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8942">
  <p class="banner"><a href="/web/20090524020410/http://ja.doukaku.org/user/793/" target="_top">genzou</a><a href="/web/20090524020410/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090524020410im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8942/">#8942</a>(<script language="JavaScript">print_time(new Date("2009/05/18 08:12 GMT"));</script><noscript>2009/05/18 08:12 GMT</noscript>)
	
	
	
	[<a href="/web/20090524020410/http://ja.doukaku.org/lang/groovy/">
	  Groovy
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>結構短くできた！</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></td><td class="code"><div class="highlight"><pre>source = &quot;&quot;&quot;\
こんにちは みなさん おげんき ですか？ わたしは げんき です。
この ぶんしょう は いぎりす の ケンブリッジ だいがく の けんきゅう の けっか
にんげん は もじ を にんしき する とき その さしいょ と さいご の もじさえ あっていれば
じゅんばん は めちゃくちゃ でも ちゃんと よめる という けんきゅう に もとづいて
わざと もじの じゅんばん を いれかえて あります。
どうです？ ちゃんと よめちゃう でしょ？
ちゃんと よめたら はんのう よろしく
&quot;&quot;&quot;

println source.replaceAll(/\S\S{4,}/){
    it[0] + it[1..-2].toList().sort{ Math.random() }.join() + it[-1]
}

println source.replaceAll(/(?&lt;=\S)\S{2,}(?=\S)/){
    it.toList().sort{ Math.random() }.join()
}
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8942/addtag/" class="addtag" id="addtag_8942">タグ</a>:
	
    
    <a href="/web/20090524020410/http://ja.doukaku.org/tag/groovy/">groovy</a>
    
	&nbsp;

	
      [<a href="/web/20090524020410/http://ja.doukaku.org/lang/groovy/">
		Groovy
      </a>]
	  
      [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8942/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8942/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8942"
  >-</span><span
  class="button yellow"
  id="rating_z_8942"
  >0</span><span 
  class="button green"
  id="rating_p_8942"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20090524020410/http://ja.doukaku.org/comment/8942/">
    1
    reply
  </a>

  [<a href="/web/20090524020410/http://ja.doukaku.org/249/reply_to/8942/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8943">
  <p class="banner"><a href="/web/20090524020410/http://ja.doukaku.org/user/793/" target="_top">genzou</a><a href="/web/20090524020410/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090524020410im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8943/">#8943</a>(<script language="JavaScript">print_time(new Date("2009/05/18 08:17 GMT"));</script><noscript>2009/05/18 08:17 GMT</noscript>)
	
	
	
	[<a href="/web/20090524020410/http://ja.doukaku.org/lang/groovy/">
	  Groovy
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>し、しまた！！コピペミスです・・・

\S\S{4,}になってる・・・</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></td><td class="code"><div class="highlight"><pre>source = &quot;&quot;&quot;\
こんにちは みなさん おげんき ですか？ わたしは げんき です。
この ぶんしょう は いぎりす の ケンブリッジ だいがく の けんきゅう の けっか
にんげん は もじ を にんしき する とき その さしいょ と さいご の もじさえ あっていれば
じゅんばん は めちゃくちゃ でも ちゃんと よめる という けんきゅう に もとづいて
わざと もじの じゅんばん を いれかえて あります。
どうです？ ちゃんと よめちゃう でしょ？
ちゃんと よめたら はんのう よろしく
&quot;&quot;&quot;

println source.replaceAll(/\S{4,}/){
    it[0] + it[1..-2].toList().sort{ Math.random() }.join() + it[-1]
}

println source.replaceAll(/(?&lt;=\S)\S{2,}(?=\S)/){
    it.toList().sort{ Math.random() }.join()
}
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8943/addtag/" class="addtag" id="addtag_8943">タグ</a>:
	
    
    <a href="/web/20090524020410/http://ja.doukaku.org/tag/groovy/">groovy</a>
    
	&nbsp;

	
      [<a href="/web/20090524020410/http://ja.doukaku.org/lang/groovy/">
		Groovy
      </a>]
	  
      [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8943/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8943/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8943"
  >-</span><span
  class="button yellow"
  id="rating_z_8943"
  >0</span><span 
  class="button green"
  id="rating_p_8943"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20090524020410/http://ja.doukaku.org/comment/8942/"><img src="/web/20090524020410im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20090524020410/http://ja.doukaku.org/comment/8943/root/"><img src="/web/20090524020410im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20090524020410/http://ja.doukaku.org/249/reply_to/8943/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8945">
  <p class="banner"><a href="/web/20090524020410/http://ja.doukaku.org/user/591/" target="_top">99yen</a><a href="/web/20090524020410/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090524020410im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8945/">#8945</a>(<script language="JavaScript">print_time(new Date("2009/05/18 08:40 GMT"));</script><noscript>2009/05/18 08:40 GMT</noscript>)
	
	
	
	[<a href="/web/20090524020410/http://ja.doukaku.org/lang/nadesico/">
	  なでしこ
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></td><td class="code"><div class="highlight"><pre>文章=「こんにちは みなさん おげんき ですか？ わたしは げんき です。
この ぶんしょう は イギリス の ケンブリッジ だいがく の けんきゅう の けっか
にんげん は もじ を にんしき する とき その さいしょ と さいご の もじさえ あっていれば
じゅんばん は めちゃくちゃ でも ちゃんと よめる という けんきゅう に もとづいて
わざと もじの じゅんばん を いれかえて あります。
どうです？ ちゃんと よめちゃう でしょ？
ちゃんと よめたら はんのう よろしく。」
文章を反復
    KEBUNNRIDI=&quot;&quot;
    対象を「 」で区切って反復    
        もし、対象の文字数&gt;3ならば
            TMP=対象を文字列分解
            START=TMP[0]
            END=TMP[TMPの配列要素数-1]
            TMPの0を配列削除
            TMPの(TMPの配列要素数-1)を配列削除
            SHUFFLE=TMP
            (SHUFFLE=TMP)の間
                TMPを配列シャッフル
            KEBUNNRIDIにSTART&amp;(TMPを空で配列結合)&amp;ENDを配列追加
        違えば
            KEBUNNRIDIに対象を配列追加
    KEBUNNRIDIを「 」で配列結合して表示
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8945/addtag/" class="addtag" id="addtag_8945">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090524020410/http://ja.doukaku.org/lang/nadesico/">
		なでしこ
      </a>]
	  
      [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8945/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8945/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8945"
  >-</span><span
  class="button yellow"
  id="rating_z_8945"
  >0</span><span 
  class="button green"
  id="rating_p_8945"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090524020410/http://ja.doukaku.org/249/reply_to/8945/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8948">
  <p class="banner"><a href="/web/20090524020410/http://ja.doukaku.org/user/1048/" target="_top">kotas</a><a href="/web/20090524020410/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090524020410im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8948/">#8948</a>(<script language="JavaScript">print_time(new Date("2009/05/18 11:01 GMT"));</script><noscript>2009/05/18 11:01 GMT</noscript>)
	
	
	
	[<a href="/web/20090524020410/http://ja.doukaku.org/lang/python/">
	  Python
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  random.shuffle&nbsp;なのです
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></td><td class="code"><div class="highlight"><pre><span class="c"># -*- coding: utf-8 -*-</span>

<span class="k">import</span> <span class="nn">re</span>
<span class="k">import</span> <span class="nn">random</span>

<span class="n">source</span> <span class="o">=</span> <span class="s">u&quot;&quot;&quot;</span>
<span class="s">こんにちは みなさん おげんき ですか？ わたしは げんき です。</span>
<span class="s">この ぶんしょう は いぎりす の ケンブリッジ だいがく の けんきゅう の けっか</span>
<span class="s">にんげん は もじ を にんしき する とき その さしいょ と さいご の もじさえ あっていれば</span>
<span class="s">じゅんばん は めちゃくちゃ でも ちゃんと よめる という けんきゅう に もとづいて</span>
<span class="s">わざと もじの じゅんばん を いれかえて あります。</span>
<span class="s">どうです？ ちゃんと よめちゃう でしょ？</span>
<span class="s">ちゃんと よめたら はんのう よろしく</span>
<span class="s">&quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">cmabridge</span><span class="p">(</span><span class="n">source</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">shuffle_word</span><span class="p">(</span><span class="n">matched</span><span class="p">):</span>
        <span class="n">word</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">matched</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
        <span class="n">middle</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">middle</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">word</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s">u&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">middle</span><span class="p">)</span> <span class="o">+</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s">r&quot;\S{3,}&quot;</span><span class="p">,</span> <span class="n">shuffle_word</span><span class="p">,</span> <span class="n">source</span><span class="p">)</span>

<span class="k">print</span> <span class="n">cmabridge</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8948/addtag/" class="addtag" id="addtag_8948">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090524020410/http://ja.doukaku.org/lang/python/">
		Python
      </a>]
	  
      [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8948/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8948/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8948"
  >-</span><span
  class="button yellow"
  id="rating_z_8948"
  >0</span><span 
  class="button green"
  id="rating_p_8948"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090524020410/http://ja.doukaku.org/249/reply_to/8948/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8949">
  <p class="banner"><a href="/web/20090524020410/http://ja.doukaku.org/user/573/" target="_top">greentea</a>

	
	&nbsp;
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8949/">#8949</a>(<script language="JavaScript">print_time(new Date("2009/05/18 12:19 GMT"));</script><noscript>2009/05/18 12:19 GMT</noscript>)
	
	
	
	[<a href="/web/20090524020410/http://ja.doukaku.org/lang/python/">
	  Python
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <div class="section">
<p>以前http://slashdot.jp/~greentea/journal/475228で作ったものを、今回の問題に適したように改造+句読点や疑問符、改行などがちゃんと特別扱いされるようデバッグ</p>
</div>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31</pre></td><td class="code"><div class="highlight"><pre><span class="c">#!/usr/bin/python</span>
<span class="c"># coding: utf-8</span>

<span class="k">import</span> <span class="nn">sys</span>
<span class="k">import</span> <span class="nn">random</span>

<span class="k">def</span> <span class="nf">kambridge</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
        <span class="n">strlist</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\n</span><span class="s"> &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39; &#39;</span><span class="p">)</span>
        <span class="n">li</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">strlist</span><span class="p">]:</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
                        <span class="n">li</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
                        <span class="k">continue</span>
                <span class="n">endindex</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
                <span class="k">while</span> <span class="s">u&#39;,.!?、。！？</span><span class="se">\n</span><span class="s">&#39;</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">word</span><span class="p">[</span><span class="n">endindex</span><span class="p">])</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                        <span class="n">endindex</span> <span class="o">-=</span> <span class="mi">1</span>
                <span class="n">chars</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">word</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="n">endindex</span><span class="p">])</span>
                <span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">chars</span><span class="p">)</span>
                <span class="n">li</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">word</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">+</span> <span class="n">chars</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="n">word</span><span class="p">[</span><span class="n">endindex</span><span class="p">:])))</span>
        <span class="k">return</span> <span class="s">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">li</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\n</span><span class="s"> &#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
        <span class="n">s</span> <span class="o">=</span> <span class="s">u&quot;&quot;&quot;こんにちは みなさん おげんき ですか？ わたしは げんき です。</span>
<span class="s">この ぶんしょう は いぎりす の ケンブリッジ だいがく の けんきゅう の けっか</span>
<span class="s">にんげん は もじ を にんしき する とき その さしいょ と さいご の もじさえ あっていれば</span>
<span class="s">じゅんばん は めちゃくちゃ でも ちゃんと よめる という けんきゅう に もとづいて</span>
<span class="s">わざと もじの じゅんばん を いれかえて あります。</span>
<span class="s">どうです？ ちゃんと よめちゃう でしょ？</span>
<span class="s">ちゃんと よめたら はんのう よろしく&quot;&quot;&quot;</span>

        <span class="k">print</span> <span class="n">kambridge</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8949/addtag/" class="addtag" id="addtag_8949">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090524020410/http://ja.doukaku.org/lang/python/">
		Python
      </a>]
	  
      [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8949/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8949/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8949"
  >-</span><span
  class="button yellow"
  id="rating_z_8949"
  >0</span><span 
  class="button green"
  id="rating_p_8949"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090524020410/http://ja.doukaku.org/249/reply_to/8949/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8954">
  <p class="banner"><a href="/web/20090524020410/http://ja.doukaku.org/user/4/" target="_top">匿名</a><a href="/web/20090524020410/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090524020410im_/http://ja.doukaku.org/static/image/star_gold.png" border=0/></a><a href="/web/20090524020410/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090524020410im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8954/">#8954</a>(<script language="JavaScript">print_time(new Date("2009/05/19 09:18 GMT"));</script><noscript>2009/05/19 09:18 GMT</noscript>)
	
	
	
	[<a href="/web/20090524020410/http://ja.doukaku.org/lang/java/">
	  Java
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>正規表現で「文字」の連続を単語として切り出しています（記号は1文字単位で別単語の扱いとしています）。単語が4文字以上からなる場合に最初と最後以外の文字を並び替え（順番を入替）ます。並び替えた結果、偶然、同じ単語になってしまった場合は再度並び替えるようにしています。</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40</pre></td><td class="code"><div class="highlight"><pre><span class="k">import</span> <span class="nn">java.util.regex.*</span><span class="o">;</span>
<span class="k">import</span> <span class="nn">java.util.*</span><span class="o">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">Sample</span> <span class="o">{</span>
    <span class="k">private</span> <span class="k">static</span> <span class="k">final</span> <span class="n">Pattern</span> <span class="n">SEP</span> <span class="o">=</span> <span class="n">Pattern</span><span class="o">.</span><span class="na">compile</span><span class="o">(</span><span class="s">&quot;(?&lt;!\\p{L})|(?!\\p{L})&quot;</span><span class="o">);</span>
    <span class="k">private</span> <span class="k">static</span> <span class="n">Random</span> <span class="n">random</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Random</span><span class="o">();</span>
    
    <span class="k">public</span> <span class="k">static</span> <span class="n">String</span> <span class="n">shuffle</span><span class="o">(</span><span class="n">String</span> <span class="n">word</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">StringBuilder</span> <span class="n">sb</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuilder</span><span class="o">(</span><span class="n">word</span><span class="o">);</span>
        <span class="k">while</span> <span class="o">(</span><span class="n">sb</span><span class="o">.</span><span class="na">toString</span><span class="o">().</span><span class="na">equals</span><span class="o">(</span><span class="n">word</span><span class="o">))</span> <span class="o">{</span>
            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">word</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">-</span> <span class="mi">2</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
                <span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="n">word</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">-</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="o">)</span> <span class="o">+</span> <span class="n">i</span><span class="o">;</span>
                <span class="kt">char</span> <span class="n">ci</span> <span class="o">=</span> <span class="n">sb</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
                <span class="n">sb</span><span class="o">.</span><span class="na">setCharAt</span><span class="o">(</span><span class="n">i</span><span class="o">,</span> <span class="n">sb</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">j</span><span class="o">));</span>
                <span class="n">sb</span><span class="o">.</span><span class="na">setCharAt</span><span class="o">(</span><span class="n">j</span><span class="o">,</span> <span class="n">ci</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">sb</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="k">public</span> <span class="k">static</span> <span class="n">String</span> <span class="n">cmabrigde</span><span class="o">(</span><span class="n">String</span> <span class="n">source</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">StringBuilder</span> <span class="n">sb</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuilder</span><span class="o">();</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">String</span> <span class="n">word</span> <span class="o">:</span> <span class="n">SEP</span><span class="o">.</span><span class="na">split</span><span class="o">(</span><span class="n">source</span><span class="o">))</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">word</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="o">)</span>
                <span class="n">sb</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">word</span><span class="o">);</span>
            <span class="k">else</span>
                <span class="n">sb</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">shuffle</span><span class="o">(</span><span class="n">word</span><span class="o">));</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">sb</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
    <span class="o">}</span>
    <span class="k">public</span> <span class="k">static</span> <span class="kt">void</span> <span class="n">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">cmabrigde</span><span class="o">(</span><span class="s">&quot;こんにちは みなさん おげんき ですか？ わたしは げんき です。 &quot;</span> <span class="o">+</span>
                <span class="s">&quot;この ぶんしょう は いぎりす の ケンブリッジ だいがく の けんきゅう の けっか &quot;</span> <span class="o">+</span>
                <span class="s">&quot;にんげん は もじ を にんしき する とき その さいしょ と さいご の もじさえ あっていれば &quot;</span> <span class="o">+</span>
                <span class="s">&quot;じゅんばん は めちゃくちゃ でも ちゃんと よめる という けんきゅう に もとづいて &quot;</span> <span class="o">+</span>
                <span class="s">&quot;わざと もじの じゅんばん を いれかえて あります。 &quot;</span> <span class="o">+</span>
                <span class="s">&quot;どうです？ ちゃんと よめちゃう でしょ？ &quot;</span><span class="o">+</span>
                <span class="s">&quot;ちゃんと よめたら はんのう よろしく&quot;</span><span class="o">));</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8954/addtag/" class="addtag" id="addtag_8954">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090524020410/http://ja.doukaku.org/lang/java/">
		Java
      </a>]
	  
      [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8954/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8954/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8954"
  >-</span><span
  class="button yellow"
  id="rating_z_8954"
  >0</span><span 
  class="button green"
  id="rating_p_8954"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090524020410/http://ja.doukaku.org/249/reply_to/8954/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8956">
  <p class="banner"><a href="/web/20090524020410/http://ja.doukaku.org/user/912/" target="_top">kiris</a><a href="/web/20090524020410/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090524020410im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8956/">#8956</a>(<script language="JavaScript">print_time(new Date("2009/05/20 03:05 GMT"));</script><noscript>2009/05/20 03:05 GMT</noscript>)
	
	
	
	[<a href="/web/20090524020410/http://ja.doukaku.org/lang/scala/">
	  Scala
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></td><td class="code"><div class="highlight"><pre>import scala.util.Sorting.stableSort

object Q249 {
  def cmabrigde(str :String) = str match {
    case _ if str.length &gt;= 4 =&gt; str.first + suffle(str.slice(1, str.length-1)).mkString + str.last
    case _ =&gt; str
  }
  def suffle[E](seq :Seq[E]) = stableSort[E, double] (seq, {x =&gt; Math.random})
}

&quot;&quot;&quot;こんにちは みなさん おげんき ですか？ わたしは げんき です。
   この ぶんしょう は いぎりす の ケンブリッジ だいがく の けんきゅう の けっか
   にんげん は もじ を にんしき する とき その さしいょ と さいご の もじさえ あっていれば
   じゅんばん は めちゃくちゃ でも ちゃんと よめる という けんきゅう に もとづいて
   わざと もじの じゅんばん を いれかえて あります。
   どうです？ ちゃんと よめちゃう でしょ？
   ちゃんと よめたら はんのう よろしく&quot;&quot;&quot;.split(&quot;\\s+&quot;) map(Q249.cmabrigde) mkString(&quot; &quot;)
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8956/addtag/" class="addtag" id="addtag_8956">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090524020410/http://ja.doukaku.org/lang/scala/">
		Scala
      </a>]
	  
      [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8956/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8956/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8956"
  >-</span><span
  class="button yellow"
  id="rating_z_8956"
  >0</span><span 
  class="button green"
  id="rating_p_8956"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090524020410/http://ja.doukaku.org/249/reply_to/8956/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8957">
  <p class="banner"><a href="/web/20090524020410/http://ja.doukaku.org/user/1052/" target="_top">sawa</a>

	
	&nbsp;
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8957/">#8957</a>(<script language="JavaScript">print_time(new Date("2009/05/20 05:00 GMT"));</script><noscript>2009/05/20 05:00 GMT</noscript>)
	
	
	
	[<a href="/web/20090524020410/http://ja.doukaku.org/lang/ruby/">
	  Ruby
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>1
2
3
4
5
6
7
8
9</pre></td><td class="code"><div class="highlight"><pre><span class="c1">#! /usr/bin/ruby</span>

<span class="k">class</span> <span class="nc">String</span>
    <span class="k">def</span> <span class="nf">cambridge</span>
        <span class="nb">gsub</span> <span class="p">(</span><span class="sr">/(\b\w)(\w+)(?=\w\b)/</span><span class="p">)</span> <span class="p">{</span><span class="vg">$1</span><span class="o">+</span><span class="vg">$2</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sr">//</span><span class="p">)</span><span class="o">.</span><span class="n">sort_by</span><span class="p">{</span><span class="nb">rand</span><span class="p">}</span><span class="o">.</span><span class="n">join</span><span class="p">}</span>
    <span class="k">end</span>
<span class="k">end</span>

<span class="nb">p</span> <span class="s1">&#39;Hello everyone, how are you doing? I am fine. This text has the had the characters permutated intentionally based on a study conducted at Cambridge University in UK, according to which a human can read documents with characters randomly permutated within each word as long as the first and the last are retained. How is it? Aren\&#39;t you able to read this?&#39;</span><span class="o">.</span><span class="n">cambridge</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8957/addtag/" class="addtag" id="addtag_8957">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090524020410/http://ja.doukaku.org/lang/ruby/">
		Ruby
      </a>]
	  
      [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8957/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8957/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8957"
  >-</span><span
  class="button yellow"
  id="rating_z_8957"
  >0</span><span 
  class="button green"
  id="rating_p_8957"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090524020410/http://ja.doukaku.org/249/reply_to/8957/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8964">
  <p class="banner"><a href="/web/20090524020410/http://ja.doukaku.org/user/497/" target="_top">Otter</a>

	
	&nbsp;
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8964/">#8964</a>(<script language="JavaScript">print_time(new Date("2009/05/21 06:44 GMT"));</script><noscript>2009/05/21 06:44 GMT</noscript>)
	
	
	
	[<a href="/web/20090524020410/http://ja.doukaku.org/lang/haskell/">
	  Haskell
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>Win32版です。
Unicodeのサポートが甘いのでメモリマップドファイルで読み込んでごにょごにょやってます…入力ファイルは&quot;wstr.txt&quot;というUnicodeテキストファイルにあると仮定して、そのファイルの中身を処理結果で書き換えます。</p>
<p>順番の変え方は単純にreverse何ですが、時々順番が変わっているのに築いちゃうところもありました…「にんげん」→「にげんん」とか…英語のほうが気づきやすいかも…</p>
<p>出力はこちら:
「こちにんは みさなん おんげき ですか？ わしたは げんき です。 この ぶょしんう は いりぎす の ケッリブンジ だがいく の けゅきんう の けっか にげんん は もじ を にしんき する とき その さいしょ と さいご の もさじえ あれいてっば じばんゅん は めちくゃちゃ でも ちんゃと よめる という けゅきんう に もいづとて わざと もじの じばんゅん を いえかれて あすまり。 どでうす？ ちんゃと よゃちめう でしょ？ ちんゃと よためら はのんう よしろく」</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43</pre></td><td class="code"><div class="highlight"><pre><span class="kr">module</span> <span class="n">Main</span> <span class="kr">where</span>

<span class="kr">import</span> <span class="n">System</span><span class="o">.</span><span class="n">Win32</span><span class="o">.</span><span class="n">FileMapping</span>
<span class="kr">import</span> <span class="n">Foreign</span><span class="o">.</span><span class="n">C</span><span class="o">.</span><span class="n">Types</span>
<span class="kr">import</span> <span class="n">Foreign</span><span class="o">.</span><span class="n">C</span><span class="o">.</span><span class="n">String</span>
<span class="kr">import</span> <span class="n">Foreign</span><span class="o">.</span><span class="n">Ptr</span>
<span class="kr">import</span> <span class="n">Foreign</span><span class="o">.</span><span class="n">Marshal</span><span class="o">.</span><span class="n">Utils</span>

<span class="nv">cambridgeStr</span> <span class="o">::</span> <span class="n">String</span> <span class="o">-&gt;</span> <span class="n">String</span>
<span class="nv">cambridgeStr</span> <span class="o">=</span> <span class="nv">unwords</span> <span class="o">.</span> <span class="nv">map</span> <span class="nv">cambridge</span> <span class="o">.</span> <span class="nv">words</span>
<span class="nv">cambridge</span> <span class="o">::</span> <span class="n">String</span> <span class="o">-&gt;</span> <span class="n">String</span>
<span class="nv">cambridge</span> <span class="nv">str</span>
    <span class="o">|</span> <span class="nv">null</span> <span class="o">$</span> <span class="nv">drop</span> <span class="mi">3</span> <span class="nv">str</span> <span class="o">=</span> <span class="nv">str</span>
    <span class="o">|</span> <span class="nv">otherwise</span> <span class="o">=</span> <span class="p">(</span><span class="nv">head</span> <span class="nv">str</span><span class="p">)</span> <span class="o">:</span> <span class="p">(</span><span class="nv">cambridge&#39;</span> <span class="o">$</span> <span class="nv">tail</span> <span class="nv">str</span><span class="p">)</span>

<span class="nv">isPunct</span> <span class="o">::</span> <span class="n">Char</span> <span class="o">-&gt;</span> <span class="n">Bool</span>
<span class="nv">isPunct</span> <span class="nv">ch</span>
    <span class="o">|</span> <span class="p">(</span><span class="nv">fromEnum</span> <span class="nv">ch</span><span class="p">)</span> <span class="o">==</span> <span class="mh">0xff1f</span> <span class="o">=</span> <span class="n">True</span>
    <span class="o">|</span> <span class="p">(</span><span class="nv">fromEnum</span> <span class="nv">ch</span><span class="p">)</span> <span class="o">==</span> <span class="mh">0x3020</span> <span class="o">=</span> <span class="n">True</span>
    <span class="o">|</span> <span class="nv">otherwise</span> <span class="o">=</span> <span class="n">False</span>

<span class="nv">cambridge&#39;</span> <span class="nv">as</span> <span class="o">=</span> <span class="nv">fixPunct</span> <span class="o">$</span> <span class="nv">reverse</span> <span class="nv">as</span>

<span class="nv">fixPunct</span> <span class="p">[]</span> <span class="o">=</span> <span class="p">[]</span>
<span class="nv">fixPunct</span> <span class="p">(</span><span class="nv">a</span><span class="o">:</span><span class="nv">as</span><span class="p">)</span>
    <span class="o">|</span> <span class="nv">isPunct</span> <span class="nv">a</span> <span class="o">=</span> <span class="p">(</span><span class="nv">fixPunct</span> <span class="nv">as</span><span class="p">)</span> <span class="o">++</span> <span class="p">[</span><span class="nv">a</span><span class="p">]</span>
    <span class="o">|</span> <span class="nv">otherwise</span> <span class="o">=</span> <span class="nv">as</span> <span class="o">++</span> <span class="p">[</span><span class="nv">a</span><span class="p">]</span>

<span class="nv">cmbrInPlaceW</span> <span class="o">::</span> <span class="n">Int</span> <span class="o">-&gt;</span> <span class="n">Ptr</span> <span class="n">CWchar</span> <span class="o">-&gt;</span> <span class="n">IO</span> <span class="p">()</span>
<span class="nv">cmbrInPlaceW</span> <span class="nv">c</span> <span class="nv">pwzInOut</span> <span class="o">=</span> <span class="kr">do</span>
    <span class="p">(</span><span class="nv">ch</span><span class="o">:</span><span class="nv">str</span><span class="p">)</span> <span class="o">&lt;-</span> <span class="nv">peekCWStringLen</span> <span class="p">(</span><span class="nv">pwzInOut</span><span class="p">,</span> <span class="nv">c</span> <span class="p">`</span><span class="nv">div</span><span class="p">`</span> <span class="mi">2</span><span class="p">)</span>
    <span class="nv">withCWString</span> <span class="p">(</span><span class="nv">ch</span><span class="o">:</span><span class="p">(</span><span class="nv">cambridgeStr</span> <span class="nv">str</span><span class="p">))</span> <span class="p">(</span><span class="o">\</span><span class="nv">pwzResult</span> <span class="o">-&gt;</span> <span class="kr">do</span>
        <span class="nv">copyBytes</span> <span class="nv">pwzInOut</span> <span class="nv">pwzResult</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="nv">length</span> <span class="nv">str</span><span class="p">))</span>    <span class="p">)</span>


<span class="nv">withMappedArea&#39;</span> <span class="o">::</span> <span class="p">(</span><span class="n">Int</span> <span class="o">-&gt;</span> <span class="n">Ptr</span> <span class="nv">a</span> <span class="o">-&gt;</span> <span class="n">IO</span> <span class="nv">b</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Integer</span> <span class="o">-&gt;</span> <span class="n">Integer</span> <span class="o">-&gt;</span> <span class="n">MappedObject</span> <span class="o">-&gt;</span> <span class="n">IO</span> <span class="nv">b</span>
<span class="nv">withMappedArea&#39;</span> <span class="nv">f</span> <span class="nv">off</span> <span class="nv">c</span> <span class="nv">o</span> <span class="o">=</span> <span class="nv">withMappedArea</span> <span class="nv">o</span> <span class="nv">off</span> <span class="p">(</span><span class="nv">fromIntegral</span> <span class="nv">c</span><span class="p">)</span> <span class="p">(</span><span class="nv">f</span> <span class="o">$</span> <span class="nv">fromIntegral</span> <span class="nv">c</span><span class="p">)</span>

<span class="nv">cambrFileInPlace</span> <span class="o">::</span> <span class="n">String</span> <span class="o">-&gt;</span> <span class="n">IO</span> <span class="p">()</span>
<span class="nv">cambrFileInPlace</span> <span class="nv">fnm</span> <span class="o">=</span>
    <span class="nv">withMappedFile</span> <span class="nv">fnm</span> <span class="n">True</span> <span class="cm">{-Write-}</span> <span class="n">Nothing</span> <span class="cm">{- Share None-}</span> <span class="o">$</span> <span class="nv">withMappedArea&#39;</span> <span class="nv">cmbrInPlaceW</span> <span class="mi">0</span>

<span class="nv">main</span> <span class="o">=</span> <span class="nv">cambrFileInPlace</span> <span class="s">&quot;wstr.txt&quot;</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8964/addtag/" class="addtag" id="addtag_8964">タグ</a>:
	
    
    <a href="/web/20090524020410/http://ja.doukaku.org/tag/Win32/">Win32</a>
    
	&nbsp;

	
      [<a href="/web/20090524020410/http://ja.doukaku.org/lang/haskell/">
		Haskell
      </a>]
	  
      [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8964/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8964/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8964"
  >-</span><span
  class="button yellow"
  id="rating_z_8964"
  >0</span><span 
  class="button green"
  id="rating_p_8964"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090524020410/http://ja.doukaku.org/249/reply_to/8964/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8965">
  <p class="banner"><a href="/web/20090524020410/http://ja.doukaku.org/user/646/" target="_top">silverwire</a><a href="/web/20090524020410/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090524020410im_/http://ja.doukaku.org/static/image/star_silver.png" border=0/></a><a href="/web/20090524020410/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090524020410im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8965/">#8965</a>(<script language="JavaScript">print_time(new Date("2009/05/21 10:35 GMT"));</script><noscript>2009/05/21 10:35 GMT</noscript>)
	
	
	
	[<a href="/web/20090524020410/http://ja.doukaku.org/lang/bat/">
	  Batchfile
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <pre class='compact'>バッチで。</pre>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75</pre></td><td class="code"><div class="highlight"><pre>@echo off
  setlocal enabledelayedexpansion
    set n=0
    set s=
    set t=
    set w=
    
    if &quot;%~1&quot; == &quot;&quot; (echo usage: %~n0 FILE &gt;&amp;2 &amp; exit /b 1)
    
    for /f &quot;tokens=*&quot; %%l in (%~1) do (
      set t=
      
      for %%w in (%%l) do (
        set w=%%w
        
        call :length !w! n
        
        if !n! gtr 3 (
          call :shuffle !w:~1,-1! s
          set t=!t!!w:~0,1!!s!!w:~-1! 
        ) else (
          set t=!t!!w! 
        )
      )
      
      echo !t!
    )
  endlocal
goto :EOF

:shuffle
  setlocal enabledelayedexpansion
    set i=0
    set j=0
    set m=0
    set n=0
    set t=
    set w=%~1
    set v=0
    
    call :length %w% n
    
    for /l %%i in (0,1,%n%) do set v[%%i]=%%i
    
    set i=0
    :L1
      set /a j=%RANDOM%%%%n%
      set v=!v[%i%]!
      set v[%i%]=!v[%j%]!
      set v[%j%]=%v%
      set /a i+=1
    if %i% lss %n% goto L1
    
    set i=0
    :L2
      set m=!v[%i%]!
      set t=%t%!w:~%m%,1!
      set /a i+=1
    if %i% lss %n% goto L2
  endlocal &amp; set %~2=%t%
goto :EOF

:length
  setlocal enabledelayedexpansion
    set i=0
    set t=%~1
    
    if not &quot;%t%&quot; == &quot;&quot; (
      :_
        set t=!t:~1!
        set /a i+=1
      if not &quot;!t!&quot; == &quot;&quot; goto _
    )
  endlocal &amp; set %~2=%i%
goto :EOF
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8965/addtag/" class="addtag" id="addtag_8965">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090524020410/http://ja.doukaku.org/lang/bat/">
		Batchfile
      </a>]
	  
      [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8965/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8965/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8965"
  >-</span><span
  class="button yellow"
  id="rating_z_8965"
  >0</span><span 
  class="button green"
  id="rating_p_8965"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090524020410/http://ja.doukaku.org/249/reply_to/8965/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8967">
  <p class="banner"><a href="/web/20090524020410/http://ja.doukaku.org/user/856/" target="_top">fumokmm</a>

	
	&nbsp;
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8967/">#8967</a>(<script language="JavaScript">print_time(new Date("2009/05/21 14:33 GMT"));</script><noscript>2009/05/21 14:33 GMT</noscript>)
	
	
	
	[<a href="/web/20090524020410/http://ja.doukaku.org/lang/groovy/">
	  Groovy
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <div class="section">
<p>メソッドを駆使してやってみました。</p>
<p>Collections#shuffle()が使いたかったので</p>
<p>#withでごちょごちょやっています。</p>
</div>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></td><td class="code"><div class="highlight"><pre>source = &quot;&quot;&quot;\
こんにちは みなさん おげんき ですか？ わたしは げんき です。
この ぶんしょう は いぎりす の ケンブリッジ だいがく の けんきゅう の けっか
にんげん は もじ を にんしき する とき その さしいょ と さいご の もじさえ あっていれば
じゅんばん は めちゃくちゃ でも ちゃんと よめる という けんきゅう に もとづいて
わざと もじの じゅんばん を いれかえて あります。
どうです？ ちゃんと よめちゃう でしょ？
ちゃんと よめたら はんのう よろしく
&quot;&quot;&quot;

println source.readLines()*.split(/\s+/).collect{
    it.collect{ it.size() &lt;= 3 ? it : it.toList().with{
        it.first() +                                            // 最初
        it[1..-2].with{ Collections.shuffle(it); it.join() } + // 真ん中
        it.last()                                               // 最後
    } }.join(&#39; &#39;)
}.join(&#39;\n&#39;)
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8967/addtag/" class="addtag" id="addtag_8967">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090524020410/http://ja.doukaku.org/lang/groovy/">
		Groovy
      </a>]
	  
      [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8967/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8967/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8967"
  >-</span><span
  class="button yellow"
  id="rating_z_8967"
  >0</span><span 
  class="button green"
  id="rating_p_8967"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090524020410/http://ja.doukaku.org/249/reply_to/8967/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8968">
  <p class="banner"><a href="/web/20090524020410/http://ja.doukaku.org/user/581/" target="_top">割と普通</a><a href="/web/20090524020410/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090524020410im_/http://ja.doukaku.org/static/image/star_bronze.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8968/">#8968</a>(<script language="JavaScript">print_time(new Date("2009/05/22 02:41 GMT"));</script><noscript>2009/05/22 02:41 GMT</noscript>)
	
	
	
	[<a href="/web/20090524020410/http://ja.doukaku.org/lang/csharp/">
	  C#
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <div class="section">
<p>LINQ使って素直に書くとこんなものでしょうか。</p>
<p>しかしLL系はさすがだなぁ・・・。この手のコード、短いこと短いこと・・・。</p>
</div>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34</pre></td><td class="code"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Program</span>
<span class="k">{</span>
    <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
    <span class="k">{</span>
        <span class="n">var</span> <span class="n">list</span> <span class="p">=</span> <span class="err">ケンブリッジ関数</span><span class="p">(</span><span class="s">@&quot;こんにちは みなさん おげんき ですか？ わたしは げんき です。</span>
<span class="s">この ぶんしょう は いぎりす の ケンブリッジ だいがく の けんきゅう の けっか</span>
<span class="s">にんげん は もじ を にんしき する とき その さしいょ と さいご の もじさえ あっていれば</span>
<span class="s">じゅんばん は めちゃくちゃ でも ちゃんと よめる という けんきゅう に もとづいて</span>
<span class="s">わざと もじの じゅんばん を いれかえて あります。</span>
<span class="s">どうです？ ちゃんと よめちゃう でしょ？</span>
<span class="s">ちゃんと よめたら はんのう よろしく</span>
<span class="s">&quot;</span><span class="p">);</span>
        <span class="k">foreach</span> <span class="p">(</span><span class="n">var</span> <span class="n">str</span> <span class="k">in</span> <span class="n">list</span><span class="p">)</span>
            <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">str</span><span class="p">);</span>
        <span class="n">Console</span><span class="p">.</span><span class="n">ReadLine</span><span class="p">();</span>
    <span class="k">}</span>

    <span class="k">static</span> <span class="k">public</span> <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="err">ケンブリッジ関数</span><span class="p">(</span><span class="kt">string</span> <span class="n">str</span><span class="p">)</span>
    <span class="k">{</span>
        <span class="k">return</span> <span class="n">str</span><span class="p">.</span><span class="n">Split</span><span class="p">(</span><span class="k">new</span> <span class="kt">string</span><span class="p">[]</span> <span class="k">{</span> <span class="n">Environment</span><span class="p">.</span><span class="n">NewLine</span> <span class="k">}</span><span class="p">,</span> <span class="n">StringSplitOptions</span><span class="p">.</span><span class="n">RemoveEmptyEntries</span><span class="p">).</span>
            <span class="n">Select</span><span class="p">(</span><span class="n">elem</span> <span class="p">=&gt;</span> <span class="err">ケンブリッジ関数を一つづつ</span><span class="p">(</span><span class="n">elem</span><span class="p">));</span>
    <span class="k">}</span>

    <span class="k">static</span> <span class="k">public</span> <span class="kt">string</span> <span class="err">ケンブリッジ関数を一つづつ</span><span class="p">(</span><span class="kt">string</span> <span class="n">str</span><span class="p">)</span>
    <span class="k">{</span>
        <span class="n">Random</span> <span class="n">rand</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Random</span><span class="p">();</span>
        <span class="n">var</span> <span class="n">elements</span> <span class="p">=</span> <span class="n">str</span><span class="p">.</span><span class="n">Split</span><span class="p">(</span><span class="k">new</span> <span class="kt">char</span><span class="p">[]</span> <span class="k">{</span> <span class="sc">&#39; &#39;</span><span class="p">,</span> <span class="sc">&#39;　&#39;</span> <span class="k">}</span><span class="p">);</span>
        <span class="n">var</span> <span class="n">first</span> <span class="p">=</span> <span class="n">elements</span><span class="p">.</span><span class="n">First</span><span class="p">();</span>
        <span class="n">var</span> <span class="n">last</span> <span class="p">=</span> <span class="n">elements</span><span class="p">.</span><span class="n">Last</span><span class="p">();</span>
        <span class="n">var</span> <span class="n">middle</span> <span class="p">=</span> <span class="kt">string</span><span class="p">.</span><span class="n">Join</span><span class="p">(</span><span class="s">&quot; &quot;</span><span class="p">,</span> <span class="n">elements</span><span class="p">.</span><span class="n">Except</span><span class="p">(</span><span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;()</span> <span class="k">{</span> <span class="n">first</span><span class="p">,</span> <span class="n">last</span> <span class="k">}</span><span class="p">).</span>
            <span class="n">OrderBy</span><span class="p">(</span><span class="n">element</span> <span class="p">=&gt;</span> <span class="n">rand</span><span class="p">.</span><span class="n">NextDouble</span><span class="p">()).</span><span class="n">ToArray</span><span class="p">());</span>
        <span class="k">return</span> <span class="kt">string</span><span class="p">.</span><span class="n">Join</span><span class="p">(</span><span class="s">&quot; &quot;</span><span class="p">,</span> <span class="k">new</span> <span class="kt">string</span><span class="p">[]</span> <span class="k">{</span> <span class="n">first</span><span class="p">,</span> <span class="n">middle</span><span class="p">,</span> <span class="n">last</span> <span class="k">}</span><span class="p">);</span>
    <span class="k">}</span>
<span class="k">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8968/addtag/" class="addtag" id="addtag_8968">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090524020410/http://ja.doukaku.org/lang/csharp/">
		C#
      </a>]
	  
      [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8968/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8968/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8968"
  >-</span><span
  class="button yellow"
  id="rating_z_8968"
  >0</span><span 
  class="button green"
  id="rating_p_8968"
  >+</span></span></span>
  

<p>

  

  <a href="/web/20090524020410/http://ja.doukaku.org/comment/8968/">
    2
    replies
  </a>

  [<a href="/web/20090524020410/http://ja.doukaku.org/249/reply_to/8968/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8969">
  <p class="banner"><a href="/web/20090524020410/http://ja.doukaku.org/user/581/" target="_top">割と普通</a><a href="/web/20090524020410/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090524020410im_/http://ja.doukaku.org/static/image/star_bronze.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8969/">#8969</a>(<script language="JavaScript">print_time(new Date("2009/05/22 02:48 GMT"));</script><noscript>2009/05/22 02:48 GMT</noscript>)
	
	
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>やばい、題意を取り違えた、出直してきます・・・。</p>

	</div>
	
	
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8969/addtag/" class="addtag" id="addtag_8969">タグ</a>:
	
	タグなし
	&nbsp;

	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8969"
  >-</span><span
  class="button yellow"
  id="rating_z_8969"
  >0</span><span 
  class="button green"
  id="rating_p_8969"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20090524020410/http://ja.doukaku.org/comment/8968/"><img src="/web/20090524020410im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20090524020410/http://ja.doukaku.org/comment/8969/root/"><img src="/web/20090524020410im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20090524020410/http://ja.doukaku.org/249/reply_to/8969/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8970">
  <p class="banner"><a href="/web/20090524020410/http://ja.doukaku.org/user/1053/" target="_top">discus</a><a href="/web/20090524020410/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090524020410im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8970/">#8970</a>(<script language="JavaScript">print_time(new Date("2009/05/22 04:39 GMT"));</script><noscript>2009/05/22 04:39 GMT</noscript>)
	
	
	
	[<a href="/web/20090524020410/http://ja.doukaku.org/lang/other/">
	  Other
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #efffef;">1/1=1.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  おもしろそうなので、つい、つい。

アウェイ感たっぷりのOracle PL/SQLで書いてみました。

Oracle10g R2 10.2.0.4.0 for MacOSX(Intel x86-64)、データベースキャラクタセット:AL32UTF8


	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107</pre></td><td class="code"><div class="highlight"><pre>CREATE OR REPLACE FUNCTION Cambridge( iWords IN CLOB )
RETURN CLOB
IS
  words           CLOB := EMPTY_CLOB();
  word            CLOB := EMPTY_CLOB();
  nonwords        CLOB := EMPTY_CLOB();
  TYPE            t_char_table_type IS TABLE OF CHAR(1 CHAR);
  chars           t_char_table_type := t_char_table_type();
  charsInit       t_char_table_type := t_char_table_type();
  startpos        PLS_INTEGER := 1;
  endpos          PLS_INTEGER;
  l               PLS_INTEGER;
  endpos_nonwords PLS_INTEGER;
  tempwords       CLOB := EMPTY_CLOB();
  done            BOOLEAN;
  --
  FUNCTION getShuffledWord RETURN CLOB
  IS
    workCLOB CLOB := EMPTY_CLOB();
  BEGIN
    IF chars.COUNT &gt; 0 THEN
      FOR j IN chars.FIRST..chars.LAST LOOP
        workCLOB := workCLOB || chars(j);
      END LOOP;
    END IF;
    RETURN workCLOB;
  END;
--
BEGIN
  words := iWords;
  LOOP
    endpos := REGEXP_INSTR(words, &#39;(\s+|[[:punct:]]+|$)&#39;, startpos);
    EXIT WHEN endpos = 0;
    --
    word := DBMS_LOB.SUBSTR(words, endpos - startpos, startpos);
    chars := charsInit;
    --
    IF DBMS_LOB.getLength(word) &gt; 3 THEN
      FOR i IN 1..DBMS_LOB.getLength(word) LOOP
        chars.EXTEND();
      END LOOP;
      chars(chars.FIRST) := DBMS_LOB.SUBSTR(word, 1, 1);
      chars(chars.LAST)  := DBMS_LOB.SUBSTR(word, 1, DBMS_LOB.getLength(word));
      --
      FOR k IN 2..DBMS_LOB.getLength(word) - 1 LOOP
          done := FALSE;
          WHILE NOT done LOOP
            l := ROUND(DBMS_RANDOM.VALUE(2, DBMS_LOB.getLength(word) - 1));
            IF chars(l) IS NULL THEN
              chars(l) := DBMS_LOB.SUBSTR(word, 1, k);
              done := TRUE;
            END IF;
          END LOOP;
      END LOOP;
      word := getShuffledWord();
    END IF;
    --
    endpos_nonwords := REGEXP_INSTR(words, &#39;(\s+|[[:punct:]]+|$)&#39;, startpos, 1, 1);
    nonwords := DBMS_LOB.SUBSTR(words, endpos_nonwords - endpos, endpos);
    startpos := endpos + 1;
    tempwords := tempwords || word || nonwords;
  END LOOP;
  RETURN tempwords;
END;
/


SCOTT&gt; /

ファンクションが作成されました。
SCOTT&gt; 
SCOTT&gt; set linesize 80
SCOTT&gt; desc wordstable
 名前                                    NULL?    型
 ----------------------------------------- -------- ----------------------------
 ID                       NOT NULL NUMBER
 WORDS                            CLOB

SCOTT&gt; set long 4000
SCOTT&gt; set longchunk 400
SCOTT&gt; select words from wordstable where id = 1;

WORDS
---------------------------------------------------------------------------
こんにちは みなさん おげんき ですか？ わたしは げんき です。
この ぶんしょう は いぎりす の ケンブリッジ だいがく の けんきゅう の けっか
にんげん は もじ を にんしき する とき その さしいょ と さいご の もじさえ あっていれば
じゅんばん は めちゃくちゃ でも ちゃんと よめる という けんきゅう に もとづいて
わざと もじの じゅんばん を いれかえて あります。
どうです？ ちゃんと よめちゃう でしょ？
ちゃんと よめたら はんのう よろしく


SCOTT&gt; select cambridge(words) from wordstable where id = 1;

CAMBRIDGE(WORDS)
---------------------------------------------------------------------------
こちにんは みさなん おんげき ですか？ わたしは げんき です。
この ぶょんしう は いりぎす の ケブンリッジ だいがく の けゅんきう の けっか
にげんん は もじ を にしんき する とき その さしいょ と さいご の もさじえ あてっいれば
じゅんばん は めゃくちちゃ でも ちんゃと よめる という けゅんきう に もとづいて
わざと もじの じばんゅん を いかれえて あまりす。
どうです？ ちゃんと よめちゃう でしょ？
ちゃんと よためら はのんう よろしく

経過: 00:00:00.07
SCOTT&gt;
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8970/addtag/" class="addtag" id="addtag_8970">タグ</a>:
	
    
    <a href="/web/20090524020410/http://ja.doukaku.org/tag/PL/SQL/">PL/SQL</a>
    
	&nbsp;

	
      [<a href="/web/20090524020410/http://ja.doukaku.org/lang/other/">
		Other
      </a>]
	  
      [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8970/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8970/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #efffef;"
  >1/1=1.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8970"
  >-</span><span
  class="button yellow"
  id="rating_z_8970"
  >0</span><span 
  class="button green"
  id="rating_p_8970"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090524020410/http://ja.doukaku.org/249/reply_to/8970/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8971">
  <p class="banner"><a href="/web/20090524020410/http://ja.doukaku.org/user/647/" target="_top">ivoryworks</a><a href="/web/20090524020410/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090524020410im_/http://ja.doukaku.org/static/image/star_bronze.png" border=0/></a><a href="/web/20090524020410/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090524020410im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8971/">#8971</a>(<script language="JavaScript">print_time(new Date("2009/05/22 00:21 GMT"));</script><noscript>2009/05/22 00:21 GMT</noscript>)
	
	
	
	[<a href="/web/20090524020410/http://ja.doukaku.org/lang/php/">
	  PHP
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>ホントは&quot;。&quot;や&quot;？&quot;を除外して考えるべきですよね？</p>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42</pre></td><td class="code"><div class="highlight"><pre><span class="x">$utf8_str = &lt;&lt;&lt;HERE</span>
<span class="x">こんにちは みなさん おげんき ですか？ わたしは げんき です。</span>
<span class="x">この ぶんしょう は いぎりす の ケンブリッジ だいがく の けんきゅう の けっか</span>
<span class="x">にんげん は もじ を にんしき する とき その さしいょ と さいご の もじさえ あっていれば</span>
<span class="x">じゅんばん は めちゃくちゃ でも ちゃんと よめる という けんきゅう に もとづいて</span>
<span class="x">わざと もじの じゅんばん を いれかえて あります。</span>
<span class="x">どうです？ ちゃんと よめちゃう でしょ？</span>
<span class="x">ちゃんと よめたら はんのう よろしく</span>
<span class="x">HERE;</span>
<span class="x">echo Cmabrigde( $utf8_str, &#39;UTF-8&#39; );</span>

<span class="x">function Cmabrigde( $text, $enc )</span>
<span class="x">{</span>
<span class="x">    $ret = &#39;&#39;;</span>
<span class="x">    $lines = explode( &quot;\n&quot;, $text );</span>
<span class="x">    foreach ( $lines as $line ) {</span>
<span class="x">        $words = explode( &#39; &#39;, trim($line) );</span>
<span class="x">        foreach ( $words as $word ) {</span>
<span class="x">            $len = mb_strlen( $word, $enc );</span>
<span class="x">            if ( 3 &lt;  $len ) {</span>
<span class="x">                $head = mb_substr( $word, 0, 1, $enc );</span>
<span class="x">                $body = mb_str_shuffle( mb_substr( $word, 1, $len-2, $enc ), $enc );</span>
<span class="x">                $foot = mb_substr( $word, $len-1, 1, $enc );</span>
<span class="x">                $word = $head.$body.$foot;</span>
<span class="x">            }</span>
<span class="x">            $ret .= $word.&#39; &#39;;</span>
<span class="x">        }</span>
<span class="x">        $ret = rtrim( $ret ).&quot;\n&quot;;</span>
<span class="x">    }</span>
<span class="x">    return $ret;</span>
<span class="x">}</span>

<span class="x">function mb_str_shuffle( $str, $enc )</span>
<span class="x">{</span>
<span class="x">    $buff = array();</span>
<span class="x">    while ( $len = mb_strlen( $str, $enc ) ) {</span>
<span class="x">        $buff[] = mb_substr( $str, 0, 1, $enc );</span>
<span class="x">        $str = mb_substr( $str, 1, $len, $enc);</span>
<span class="x">    }</span>
<span class="x">    shuffle( $buff );</span>
<span class="x">    return implode( &#39;&#39;, $buff );</span>
<span class="x">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8971/addtag/" class="addtag" id="addtag_8971">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090524020410/http://ja.doukaku.org/lang/php/">
		PHP
      </a>]
	  
      [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8971/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8971/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8971"
  >-</span><span
  class="button yellow"
  id="rating_z_8971"
  >0</span><span 
  class="button green"
  id="rating_p_8971"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090524020410/http://ja.doukaku.org/249/reply_to/8971/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8977">
  <p class="banner"><a href="/web/20090524020410/http://ja.doukaku.org/user/581/" target="_top">割と普通</a><a href="/web/20090524020410/http://ja.doukaku.org/qa/#medal" target="_top"><img src="/web/20090524020410im_/http://ja.doukaku.org/static/image/star_bronze.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8977/">#8977</a>(<script language="JavaScript">print_time(new Date("2009/05/22 04:36 GMT"));</script><noscript>2009/05/22 04:36 GMT</noscript>)
	
	
	
	[<a href="/web/20090524020410/http://ja.doukaku.org/lang/csharp/">
	  C#
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <div class="section">
<p>でなおしました・・・orz</p>
</div>
	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42</pre></td><td class="code"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Program</span>
<span class="k">{</span>
    <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
    <span class="k">{</span>
        <span class="n">var</span> <span class="n">str</span> <span class="p">=</span> <span class="err">ケンブリッジ関数</span><span class="p">(</span><span class="s">@&quot;こんにちは みなさん おげんき ですか？ わたしは げんき です。</span>
<span class="s">この ぶんしょう は いぎりす の ケンブリッジ だいがく の けんきゅう の けっか</span>
<span class="s">にんげん は もじ を にんしき する とき その さしいょ と さいご の もじさえ あっていれば</span>
<span class="s">じゅんばん は めちゃくちゃ でも ちゃんと よめる という けんきゅう に もとづいて</span>
<span class="s">わざと もじの じゅんばん を いれかえて あります。</span>
<span class="s">どうです？ ちゃんと よめちゃう でしょ？</span>
<span class="s">ちゃんと よめたら はんのう よろしく</span>
<span class="s">&quot;</span><span class="p">);</span>
        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">str</span><span class="p">);</span>
        <span class="n">Console</span><span class="p">.</span><span class="n">ReadLine</span><span class="p">();</span>
    <span class="k">}</span>

    <span class="k">static</span> <span class="k">public</span> <span class="kt">string</span> <span class="err">ケンブリッジ関数</span><span class="p">(</span><span class="kt">string</span> <span class="n">lines</span><span class="p">)</span>
    <span class="k">{</span>
        <span class="n">var</span> <span class="n">tokenLines</span> <span class="p">=</span> <span class="n">lines</span><span class="p">.</span><span class="n">Split</span><span class="p">(</span><span class="k">new</span> <span class="kt">string</span><span class="p">[]</span> <span class="k">{</span> <span class="n">Environment</span><span class="p">.</span><span class="n">NewLine</span> <span class="k">}</span><span class="p">,</span> <span class="n">StringSplitOptions</span><span class="p">.</span><span class="n">RemoveEmptyEntries</span><span class="p">).</span>
            <span class="n">Select</span><span class="p">(</span><span class="n">line</span> <span class="p">=&gt;</span> <span class="err">ケンブリッジ関数を一行</span><span class="p">(</span><span class="n">line</span><span class="p">));</span>
        <span class="k">return</span> <span class="kt">string</span><span class="p">.</span><span class="n">Join</span><span class="p">(</span><span class="n">Environment</span><span class="p">.</span><span class="n">NewLine</span><span class="p">,</span> <span class="n">tokenLines</span><span class="p">.</span><span class="n">ToArray</span><span class="p">());</span>
    <span class="k">}</span>

    <span class="k">static</span> <span class="k">public</span> <span class="kt">string</span> <span class="err">ケンブリッジ関数を一行</span><span class="p">(</span><span class="kt">string</span> <span class="n">line</span><span class="p">)</span>
    <span class="k">{</span>
        <span class="n">var</span> <span class="n">tokens</span> <span class="p">=</span> <span class="n">line</span><span class="p">.</span><span class="n">Split</span><span class="p">(</span><span class="k">new</span> <span class="kt">char</span><span class="p">[]</span> <span class="k">{</span> <span class="sc">&#39; &#39;</span> <span class="k">}</span><span class="p">).</span>
            <span class="n">Select</span><span class="p">(</span><span class="n">token</span> <span class="p">=&gt;</span> <span class="err">ケンブリッジ関数を一単語</span><span class="p">(</span><span class="n">token</span><span class="p">));</span>
        <span class="k">return</span> <span class="kt">string</span><span class="p">.</span><span class="n">Join</span><span class="p">(</span><span class="s">&quot; &quot;</span><span class="p">,</span> <span class="n">tokens</span><span class="p">.</span><span class="n">ToArray</span><span class="p">());</span>
    <span class="k">}</span>

    <span class="k">static</span> <span class="k">public</span> <span class="kt">string</span> <span class="err">ケンブリッジ関数を一単語</span><span class="p">(</span><span class="kt">string</span> <span class="n">str</span><span class="p">)</span>
    <span class="k">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">str</span><span class="p">.</span><span class="n">Length</span> <span class="p">&lt;=</span> <span class="m">3</span><span class="p">)</span> <span class="k">return</span> <span class="n">str</span><span class="p">;</span>
        <span class="n">Random</span> <span class="n">rand</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Random</span><span class="p">();</span>
        <span class="n">var</span> <span class="n">elements</span> <span class="p">=</span> <span class="n">str</span><span class="p">.</span><span class="n">ToCharArray</span><span class="p">();</span>
        <span class="n">var</span> <span class="n">first</span> <span class="p">=</span> <span class="n">elements</span><span class="p">.</span><span class="n">First</span><span class="p">();</span>
        <span class="n">var</span> <span class="n">last</span> <span class="p">=</span> <span class="n">elements</span><span class="p">.</span><span class="n">Last</span><span class="p">();</span>
        <span class="n">var</span> <span class="n">middle</span> <span class="p">=</span> <span class="k">new</span> <span class="kt">string</span><span class="p">(</span><span class="n">elements</span><span class="p">.</span><span class="n">Except</span><span class="p">(</span><span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">char</span><span class="p">&gt;()</span> <span class="k">{</span> <span class="n">first</span><span class="p">,</span> <span class="n">last</span> <span class="k">}</span><span class="p">).</span>
            <span class="n">OrderBy</span><span class="p">(</span><span class="n">element</span> <span class="p">=&gt;</span> <span class="n">rand</span><span class="p">.</span><span class="n">NextDouble</span><span class="p">()).</span><span class="n">ToArray</span><span class="p">());</span>
        <span class="k">return</span> <span class="k">new</span> <span class="n">StringBuilder</span><span class="p">().</span><span class="n">Append</span><span class="p">(</span><span class="n">first</span><span class="p">).</span><span class="n">Append</span><span class="p">(</span><span class="n">middle</span><span class="p">).</span><span class="n">Append</span><span class="p">(</span><span class="n">last</span><span class="p">).</span><span class="n">ToString</span><span class="p">();</span>
    <span class="k">}</span>
<span class="k">}</span>
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8977/addtag/" class="addtag" id="addtag_8977">タグ</a>:
	
	タグなし
	&nbsp;

	
      [<a href="/web/20090524020410/http://ja.doukaku.org/lang/csharp/">
		C#
      </a>]
	  
      [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8977/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8977/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8977"
  >-</span><span
  class="button yellow"
  id="rating_z_8977"
  >0</span><span 
  class="button green"
  id="rating_p_8977"
  >+</span></span></span>
  

<p>

  
    <a href="/web/20090524020410/http://ja.doukaku.org/comment/8968/"><img src="/web/20090524020410im_/http://ja.doukaku.org/static/image/gotoparent.png" alt="parent"></a>
    <a href="/web/20090524020410/http://ja.doukaku.org/comment/8977/root/"><img src="/web/20090524020410im_/http://ja.doukaku.org/static/image/gotoroot.png" alt="thread root"></a>
  

  

  [<a href="/web/20090524020410/http://ja.doukaku.org/249/reply_to/8977/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>

  
  




<div class="comment" id="comment8990">
  <p class="banner"><a href="/web/20090524020410/http://ja.doukaku.org/user/242/" target="_top">lufia</a><a href="/web/20090524020410/http://ja.doukaku.org/qa/#anomark" target="_top"><img src="/web/20090524020410im_/http://ja.doukaku.org/static/image/anomark.png" border=0/></a>

	
	&nbsp;
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8990/">#8990</a>(<script language="JavaScript">print_time(new Date("2009/05/22 22:33 GMT"));</script><noscript>2009/05/22 22:33 GMT</noscript>)
	
	
	
	[<a href="/web/20090524020410/http://ja.doukaku.org/lang/other/">
	  Other
	</a>]
	
	
	
	&nbsp;

<span class="rating">評価<span style="background-color: #ffffff;">0/0=0.00</span></span>
  </p>
  <div class="comment_content">
	<div class="comment_body">
	  <p>標準入力から読みます。</p>
<blockquote>
% cmbr &lt;cmbr.data</blockquote>
<p>考慮した点</p>
<ul class="simple">
<li>シャッフルした後は必ず元の語と異なるように</li>
<li>句読点は除いてシャッフルするように</li>
</ul>

	</div>
	
	
	
    <div class="compact">
      <table><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65</pre></td><td class="code"><div class="highlight"><pre>implement Cmabrigde;

include &quot;sys.m&quot;;
    sys: Sys;
    print, sprint: import sys;
include &quot;draw.m&quot;;
include &quot;bufio.m&quot;;
    bufio: Bufio;
    Iobuf: import bufio;
include &quot;rand.m&quot;;
    rand: Rand;
include &quot;daytime.m&quot;;

Cmabrigde: module
{
    init: fn(ctxt: ref Draw-&gt;Context, argv: list of string);
};

MAXRUNE: con 16rffff;
ispunct := array[MAXRUNE] of {
    &#39;。&#39; =&gt; 1,
    &#39;？&#39; =&gt; 1,
};

init(nil: ref Draw-&gt;Context, nil: list of string)
{
    sys = load Sys Sys-&gt;PATH;
    bufio = load Bufio Bufio-&gt;PATH;
    rand = load Rand Rand-&gt;PATH;

    daytime := load Daytime Daytime-&gt;PATH;
    rand-&gt;init(daytime-&gt;now());
    task(sys-&gt;fildes(0));
}

task(fd: ref Sys-&gt;FD)
{
    fin := bufio-&gt;fopen(fd, bufio-&gt;OREAD);
    while((line := fin.gets(&#39;\n&#39;)) != nil){
        (nil, l) := sys-&gt;tokenize(line, &quot; \t\n&quot;);
        for(p := l; p != nil; p = tl p){
            s := hd p;
            ns := len s;
            while(ispunct[s[ns-1]])
                ns--;
            if(ns &gt;= 2)
                s = sprint(&quot;%c%s%s&quot;, s[0], shuffle(s[1:ns-1]), s[ns-1:len s]);
            print(&quot;%s &quot;, s);
        }
        print(&quot;\n&quot;);
    }
}

shuffle(s: string): string
{
    t := s[0:];
    while(len t &gt; 1 &amp;&amp; t == s)
        for(i := 0; i &lt; len t; i++){
            n := rand-&gt;rand(len t);
            c := t[i];
            t[i] = t[n];
            t[n] = c;
        }
    return t;
}
</pre></div>
</td></tr></table>
    </div>
	

  
  <div align = "right" class="banner">
	
	<a href="/web/20090524020410/http://ja.doukaku.org/comment/8990/addtag/" class="addtag" id="addtag_8990">タグ</a>:
	
    
    <a href="/web/20090524020410/http://ja.doukaku.org/tag/Limbo/">Limbo</a>
    
	&nbsp;

	
      [<a href="/web/20090524020410/http://ja.doukaku.org/lang/other/">
		Other
      </a>]
	  
      [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8990/download/">
		ダウンロード
      </a>]
	  [<a href="/web/20090524020410/http://ja.doukaku.org/comment/8990/download_html/">
		HTML
      </a>]<p>
	

  
  <span class="rating">
  評価<span style="background-color: #ffffff;"
  >0/0=0.00</span
  ><span class="buttons"><span 
  class="button red"
  id="rating_n_8990"
  >-</span><span
  class="button yellow"
  id="rating_z_8990"
  >0</span><span 
  class="button green"
  id="rating_p_8990"
  >+</span></span></span>
  

<p>

  

  

  [<a href="/web/20090524020410/http://ja.doukaku.org/249/reply_to/8990/">
  返信
  </a>]
  </div>
</div>
</div>

  
  <br/>







</div>

<div id="side_menu" class="compact">

<iframe src="/web/20090524020410if_/http://ja.doukaku.org/login_info/" frameborder=0 width=100% id="login_info">
iframe required
</iframe>

<h4 class="semi_compact">一覧</h4>

<ul>
<!--<li><a href="/web/20090524020410/http://ja.doukaku.org/user/">ユーザ</a>-->
<li><a href="/web/20090524020410/http://ja.doukaku.org/lang/">言語</a>
<li><a href="/web/20090524020410/http://ja.doukaku.org/challenge/">お題</a>
<li><a href="/web/20090524020410/http://ja.doukaku.org/topic/">トピック</a>
<li><a href="/web/20090524020410/http://ja.doukaku.org/comment/">投稿</a>
<li><a href="/web/20090524020410/http://ja.doukaku.org/good_comments/">評価の高い投稿</a>
<li><a href="/web/20090524020410/http://ja.doukaku.org/tag/">タグ</a>
</ul>

<h4 class="compact">フィード</h4>
<ul>
<li><a href="/web/20090524020410/http://ja.doukaku.org/feeds/challenges/">最新のお題</a><img src="/web/20090524020410im_/http://ja.doukaku.org/static/image/feed_icon.png">
<li><a href="/web/20090524020410/http://ja.doukaku.org/feeds/topics/">最新のトピック</a><img src="/web/20090524020410im_/http://ja.doukaku.org/static/image/feed_icon.png">
<li><a href="/web/20090524020410/http://ja.doukaku.org/feeds/comments/">新着投稿</a><img src="/web/20090524020410im_/http://ja.doukaku.org/static/image/feed_icon.png">
</ul>







<h4 class="compact">その他</h4>
<ul>
<li><a href="/web/20090524020410/http://ja.doukaku.org/qa/">Q&A</a>
<li><a href="/web/20090524020410/http://ja.doukaku.org/feedback/">フィードバック</a>
<!--<li><a href="/web/20090524020410/http://ja.doukaku.org/terms">用語集</a>-->
</ul>


<h4 class="compact">リンク</h4>
<ul>
<li><a href="/web/20090524020410/http://www.lingr.com/room/doukaku_ja">チャットルーム(Lingr)</a>
<li><a href="/web/20090524020410/http://labs.cybozu.co.jp/">サイボウズ・ラボ</a>
<li><a href="/web/20090524020410/http://www.djangoproject.com/">Django</a>
</ul>

<h4 id="pathtraq" class="compact"><a href="/web/20090524020410/http://pathtraq.com/analytics?url=http%3A%2F%2Fja.doukaku.org%2Fcomment%2F*%2F%20desc%3A%E3%81%A9%E3%81%86%E6%9B%B8%E3%81%8Forg&m=popular">Pathtraq</a></h4>
<div class="indent">
<span id="pathtraq_sentinel">loading...</span>
</div>


</div>
</div>


<div id="page_foot" class="bordered">

<a rel="license" href="/web/20090524020410/http://creativecommons.org/licenses/by/2.1/jp/">
<img alt="Creative Commons License" style="border-width:0" src="/web/20090524020410im_/http://i.creativecommons.org/l/by/2.1/jp/88x31.png" /></a>
このサイトの内容は、
<a rel="license" href="/web/20090524020410/http://creativecommons.org/licenses/by/2.1/jp/">クリエイティブ・コモンズ・ライセンス</a>の下でライセンスされています。
<a href="/web/20090524020410/http://ja.doukaku.org/qa/#licence">[詳細]</a>

</div>

</body>




<script type="text/javascript">
$(document).ready(function(){$("#doukaku_org").after("<script src='/web/20090524020410/http://api.pathtraq.com/pages?url=http%3A%2F%2Fja.doukaku.org%2Fcomment%2F*%2F%20desc%3A%E3%81%A9%E3%81%86%E6%9B%B8%E3%81%8Forg&api=json&callback=addPathtraq'><" + "/script>")});
</script>

<script src="/web/20090524020410js_/http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-2136157-1";
urchinTracker();
</script>




</html>





<!--
     FILE ARCHIVED ON 2:04:10 May 24, 2009 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 12:43:38 Nov 16, 2013.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
